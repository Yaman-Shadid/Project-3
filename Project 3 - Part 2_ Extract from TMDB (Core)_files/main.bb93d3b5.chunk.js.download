(this["webpackJsonpweb-frontend"]=this["webpackJsonpweb-frontend"]||[]).push([[0],{1:function(e,t,a){"use strict";a.d(t,"f",(function(){return l})),a.d(t,"Nb",(function(){return d})),a.d(t,"Fb",(function(){return u})),a.d(t,"B",(function(){return p})),a.d(t,"u",(function(){return m})),a.d(t,"O",(function(){return h})),a.d(t,"Q",(function(){return E})),a.d(t,"Mb",(function(){return f})),a.d(t,"Qb",(function(){return g})),a.d(t,"Ob",(function(){return v})),a.d(t,"D",(function(){return b})),a.d(t,"C",(function(){return S})),a.d(t,"Pb",(function(){return A})),a.d(t,"n",(function(){return k})),a.d(t,"N",(function(){return O})),a.d(t,"m",(function(){return T})),a.d(t,"Ub",(function(){return C})),a.d(t,"pb",(function(){return w})),a.d(t,"S",(function(){return y})),a.d(t,"hb",(function(){return R})),a.d(t,"Sb",(function(){return D})),a.d(t,"d",(function(){return U})),a.d(t,"gb",(function(){return N})),a.d(t,"Db",(function(){return I})),a.d(t,"P",(function(){return P})),a.d(t,"Zb",(function(){return j})),a.d(t,"fb",(function(){return L})),a.d(t,"eb",(function(){return M})),a.d(t,"Eb",(function(){return F})),a.d(t,"t",(function(){return B})),a.d(t,"hc",(function(){return W})),a.d(t,"fc",(function(){return H})),a.d(t,"Gb",(function(){return K})),a.d(t,"xb",(function(){return G})),a.d(t,"zb",(function(){return V})),a.d(t,"W",(function(){return q})),a.d(t,"e",(function(){return Y})),a.d(t,"Hb",(function(){return Q})),a.d(t,"F",(function(){return $})),a.d(t,"bb",(function(){return z})),a.d(t,"y",(function(){return J})),a.d(t,"K",(function(){return X})),a.d(t,"kb",(function(){return Z})),a.d(t,"Tb",(function(){return ee})),a.d(t,"nb",(function(){return te})),a.d(t,"cb",(function(){return ae})),a.d(t,"jb",(function(){return ne})),a.d(t,"ib",(function(){return se})),a.d(t,"mb",(function(){return re})),a.d(t,"Ib",(function(){return oe})),a.d(t,"w",(function(){return ie})),a.d(t,"A",(function(){return ce})),a.d(t,"vb",(function(){return _e})),a.d(t,"H",(function(){return le})),a.d(t,"X",(function(){return de})),a.d(t,"Z",(function(){return ue})),a.d(t,"I",(function(){return pe})),a.d(t,"o",(function(){return me})),a.d(t,"p",(function(){return he})),a.d(t,"q",(function(){return Ee})),a.d(t,"r",(function(){return fe})),a.d(t,"Wb",(function(){return ge})),a.d(t,"ab",(function(){return ve})),a.d(t,"db",(function(){return be})),a.d(t,"T",(function(){return Se})),a.d(t,"U",(function(){return Ae})),a.d(t,"dc",(function(){return ke})),a.d(t,"b",(function(){return Oe})),a.d(t,"Xb",(function(){return Te})),a.d(t,"V",(function(){return Ce})),a.d(t,"J",(function(){return we})),a.d(t,"bc",(function(){return ye})),a.d(t,"Bb",(function(){return Re})),a.d(t,"Kb",(function(){return Ne})),a.d(t,"Rb",(function(){return Ie})),a.d(t,"a",(function(){return Pe})),a.d(t,"x",(function(){return je})),a.d(t,"l",(function(){return Le})),a.d(t,"s",(function(){return Me})),a.d(t,"ac",(function(){return Fe})),a.d(t,"Vb",(function(){return xe})),a.d(t,"Y",(function(){return Be})),a.d(t,"h",(function(){return We})),a.d(t,"k",(function(){return He})),a.d(t,"j",(function(){return Ke})),a.d(t,"sb",(function(){return Ge})),a.d(t,"i",(function(){return Ve})),a.d(t,"tb",(function(){return qe})),a.d(t,"Yb",(function(){return Ye})),a.d(t,"G",(function(){return Qe})),a.d(t,"g",(function(){return $e})),a.d(t,"yb",(function(){return ze})),a.d(t,"wb",(function(){return Je})),a.d(t,"v",(function(){return Xe})),a.d(t,"L",(function(){return Ze})),a.d(t,"c",(function(){return et})),a.d(t,"R",(function(){return tt})),a.d(t,"cc",(function(){return at})),a.d(t,"Ab",(function(){return nt})),a.d(t,"ob",(function(){return st})),a.d(t,"z",(function(){return rt})),a.d(t,"Lb",(function(){return ot})),a.d(t,"Jb",(function(){return it})),a.d(t,"ub",(function(){return ct})),a.d(t,"M",(function(){return _t})),a.d(t,"lb",(function(){return lt})),a.d(t,"ec",(function(){return dt})),a.d(t,"E",(function(){return ut})),a.d(t,"Cb",(function(){return pt})),a.d(t,"qb",(function(){return mt})),a.d(t,"rb",(function(){return ht}));var n,s=a(29),r={};for(var o in Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_SENTRY_ENV:"production",REACT_APP_RELEASE_VERSION:"3.6.22.7",REACT_APP_LP3_BACKEND_URL:"https://belearn.codingdojo.com/api",REACT_APP_LP3_FRONTEND_URL:"https://login.codingdojo.com/",REACT_APP_LEARN_V2_URL:"https://learn.codingdojo.com"})){if(o.includes("REACT_APP_"))r[o.split("REACT_APP_").pop()]=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_SENTRY_ENV:"production",REACT_APP_RELEASE_VERSION:"3.6.22.7",REACT_APP_LP3_BACKEND_URL:"https://belearn.codingdojo.com/api",REACT_APP_LP3_FRONTEND_URL:"https://login.codingdojo.com/",REACT_APP_LEARN_V2_URL:"https://learn.codingdojo.com"})[o]}var i=r.LP3_BACKEND_URL,c=r.LP3_FRONTEND_URL,_=r.LEARN_V2_URL,l={URL:i,LEARNV2_URL:_,GATEWAY_URL:r.GATEWAY_URL,LP3_FRONTEND_URL:c},d={LOGIN_REQUEST:"USERS_LOGIN_REQUEST",LOGIN_SUCCESS:"USERS_LOGIN_SUCCESS",LOGIN_FAILURE:"USERS_LOGIN_FAILURE",FORGOT_PASSWORD_REQUEST:"USERS_FORGOT_PASSWORD_REQUEST",FORGOT_PASSWORD_SUCCESS:"USERS_FORGOT_PASSWORD_SUCCESS",FORGOT_PASSWORD_FAILURE:"USERS_FORGOT_PASSWORD_FAILURE",RESET_PASSWORD_REQUEST:"USERS_RESET_PASSWORD_REQUEST",RESET_PASSWORD_SUCCESS:"USERS_RESET_PASSWORD_SUCCESS",RESET_PASSWORD_FAILURE:"USERS_RESET_PASSWORD_FAILURE",REPORT_ISSUE_REQUEST:"REPORT_ISSUE_REQUEST",REPORT_ISSUE_SUCCESS:"REPORT_ISSUE_SUCCESS",REPORT_ISSUE_FAILURE:"REPORT_ISSUE_FAILURE",LOGOUT:"USERS_LOGOUT",VERIFY_USER_REQUEST:"VERIFY_USER_REQUEST",VERIFY_USER_SUCCESS:"VERIFY_USER_SUCCESS",VERIFY_USER_FAILURE:"VERIFY_USER_FAILURE",USER_VIEW_WALKTHROUGH_REQUEST:"USER_VIEW_WALKTHROUGH_REQUEST",USER_VIEW_WALKTHROUGH_SUCCESS:"USER_VIEW_WALKTHROUGH_SUCCESS",USER_VIEW_WALKTHROUGH_FAILURE:"USER_VIEW_WALKTHROUGH_FAILURE",USER_UPLOAD_PROFILE_PIC_REQUEST:"USER_UPLOAD_PROFILE_PIC_REQUEST",USER_UPLOAD_PROFILE_PIC_SUCCESS:"USER_UPLOAD_PROFILE_PIC_SUCCESS",USER_UPLOAD_PROFILE_PIC_FAILURE:"USER_UPLOAD_PROFILE_PIC_FAILURE",SWITCH_PROGRAM_REQUEST:"SWITCH_PROGRAM_REQUEST",SWITCH_PROGRAM_SUCCESS:"SWITCH_PROGRAM_SUCCESS",SWITCH_PROGRAM_FAILURE:"SWITCH_PROGRAM_FAILURE",FETCH_PRIVATE_FILES_REQUEST:"FETCH_PRIVATE_FILES_REQUEST",FETCH_PRIVATE_FILES_SUCCESS:"FETCH_PRIVATE_FILES_SUCCESS",FETCH_PRIVATE_FILES_FAILURE:"FETCH_PRIVATE_FILES_FAILURE",STOP_SENCE_SESSION_REQUEST:"STOP_SENCE_SESSION_REQUEST",STOP_SENCE_SESSION_SUCCESS:"STOP_SENCE_SESSION_SUCCESS",STOP_SENCE_SESSION_FAILURE:"STOP_SENCE_SESSION_FAILURE",REGISTER_TRIAL_ACCOUNT_REQUEST:"REGISTER_TRIAL_ACCOUNT_REQUEST",REGISTER_TRIAL_ACCOUNT_SUCCESS:"REGISTER_TRIAL_ACCOUNT_SUCCESS",REGISTER_TRIAL_ACCOUNT_FAILURE:"REGISTER_TRIAL_ACCOUNT_FAILURE",SIGNIN_TRIAL_ACCOUNT_REQUEST:"SIGNIN_TRIAL_ACCOUNT_REQUEST",SIGNIN_TRIAL_ACCOUNT_SUCCESS:"SIGNIN_TRIAL_ACCOUNT_SUCCESS",SIGNIN_TRIAL_ACCOUNT_FAILURE:"SIGNIN_TRIAL_ACCOUNT_FAILURE",RESET_ERROR_MESSAGE_SUCCESS:"RESET_ERROR_MESSAGE_SUCCESS"},u={GET_TRACKS_PROGRESS:"DASHBOARD_TRACKS_REQUEST",GET_TRACKS_SUCCESS:"DASHBOARD_TRACKS_SUCCESS",GET_TRACKS_FAILURE:"DASHBOARD_TRACKS_FAILURE",USER_SEARCH_LEARNING_CONTENT_REQUEST:"USER_SEARCH_LEARNING_CONTENT_REQUEST",USER_SEARCH_LEARNING_CONTENT_SUCCESS:"USER_SEARCH_LEARNING_CONTENT_SUCCESS",USER_SEARCH_LEARNING_CONTENT_FAILURE:"USER_SEARCH_LEARNING_CONTENT_FAILURE"},p={holiday_open_dojo_with_instruction_support:1,holiday_open_dojo_with_no_instruction_support:2,holiday_closed_dojo:3,not_holiday_open_dojo_with_no_instruction_support:4,program_holiday_scheduled_training:5,course_non_instructional_days:6},m={GET_BOOKMARKS_REQUEST:"GET_BOOKMARKS_REQUEST",GET_BOOKMARKS_SUCCESS:"GET_BOOKMARKS_SUCCESS",GET_BOOKMARKS_FAILURE:"GET_BOOKMARKS_FAILURE",SAVE_NEW_BOOKMARK_REQUEST:"SAVE_NEW_BOOKMARK_REQUEST",SAVE_NEW_BOOKMARK_SUCCESS:"SAVE_NEW_BOOKMARK_SUCCESS",SAVE_NEW_BOOKMARK_FAILURE:"SAVE_NEW_BOOKMARK_FAILURE",REMOVE_BOOKMARK_REQUEST:"REMOVE_BOOKMARK_REQUEST",REMOVE_BOOKMARK_SUCCESS:"REMOVE_BOOKMARK_SUCCESS",REMOVE_BOOKMARK_FAILURE:"REMOVE_BOOKMARK_FAILURE"},h={GET_ENROLLED_TRACKS_REQUEST:"GET_ENROLLED_TRACKS_REQUEST",GET_ENROLLED_TRACKS_SUCCESS:"GET_ENROLLED_TRACKS_SUCCESS",GET_ENROLLED_TRACKS_FAILURE:"GET_ENROLLED_TRACKS_FAILURE"},E={GET_CHAPTER_MODULE_FAQ_REQUEST:"GET_CHAPTER_MODULE_FAQ_REQUEST",GET_CHAPTER_MODULE_FAQ_SUCCESS:"GET_CHAPTER_MODULE_FAQ_SUCCESS",GET_CHAPTER_MODULE_FAQ_FAILURE:"GET_CHAPTER_MODULE_FAQ_FAILURE"},f={GET_USER_CHECKLISTS_REQUEST:"GET_USER_CHECKLISTS_REQUEST",GET_USER_CHECKLISTS_SUCCESS:"GET_USER_CHECKLISTS_SUCCESS",GET_USER_CHECKLISTS_FAILURE:"GET_USER_CHECKLISTS_FAILURE",GET_USER_CHECKLISTS_COURSE_REQUEST:"GET_USER_CHECKLISTS_COURSE_REQUEST",GET_USER_CHECKLISTS_COURSE_SUCCESS:"GET_USER_CHECKLISTS_COURSE_SUCCESS",GET_USER_CHECKLISTS_COURSE_FAILURE:"GET_USER_CHECKLISTS_COURSE_FAILURE",GET_USER_ASSIGNMENTS_REQUEST:"GET_USER_ASSIGNMENTS_REQUEST",GET_USER_ASSIGNMENTS_SUCCESS:"GET_USER_ASSIGNMENTS_SUCCESS",GET_USER_ASSIGNMENTS_FAILURE:"GET_USER_ASSIGNMENTS_FAILURE",SET_FEEDBACK_AS_READ_REQUEST:"SET_FEEDBACK_AS_READ_REQUEST",SET_FEEDBACK_AS_READ_SUCCESS:"SET_FEEDBACK_AS_READ_SUCCESS",SET_FEEDBACK_AS_READ_FAILURE:"SET_FEEDBACK_AS_READ_FAILURE",TRIGGER_SHOW_ASSIGNMENT_FEEDBACK:"TRIGGER_SHOW_ASSIGNMENT_FEEDBACK"},g={SET_FEEDBACK_AS_READ_REQUEST:"SET_FEEDBACK_AS_READ_REQUEST",SET_FEEDBACK_AS_READ_SUCCESS:"SET_FEEDBACK_AS_READ_SUCCESS",SET_FEEDBACK_AS_READ_FAILURE:"SET_FEEDBACK_AS_READ_FAILURE"},v={GET_USER_DASHBOARD_REQUEST:"USER_GET_DASHBOARD_REQUEST",GET_USER_DASHBOARD_SUCCESS:"USER_GET_DASHBOARD_SUCCESS",GET_USER_DASHBOARD_FAILURE:"USER_GET_DASHBOARD_FAILURE",GET_DASHBOARD_TRACK_COURSES_REQUEST:"USER_GET_DASHBOARD_TRACK_COURSES_REQUEST",GET_DASHBOARD_TRACK_COURSES_SUCCESS:"USER_GET_DASHBOARD_TRACK_COURSES_SUCCESS",GET_DASHBOARD_TRACK_COURSES_FAILURE:"USER_GET_DASHBOARD_TRACK_COURSES_FAILURE",GET_DASHBOARD_TRACK_PROGRESS_REQUEST:"GET_DASHBOARD_TRACK_PROGRESS_REQUEST",GET_DASHBOARD_TRACK_PROGRESS_SUCCESS:"GET_DASHBOARD_TRACK_PROGRESS_SUCCESS",GET_DASHBOARD_TRACK_PROGRESS_FAILURE:"GET_DASHBOARD_TRACK_PROGRESS_FAILURE",HIDE_DUE_REMINDER_REQUEST:"HIDE_DUE_REMINDER_REQUEST",SUBMIT_REVIEW_REQUEST:"SUBMIT_REVIEW_REQUEST",SUBMIT_REVIEW_SUCCESS:"SUBMIT_REVIEW_SUCCESS",SUBMIT_REVIEW_FAILURE:"SUBMIT_REVIEW_FAILURE",SWITCH_WORKSPACE_REQUEST:"SWITCH_WORKSPACE_REQUEST",SWITCH_WORKSPACE_SUCCESS:"SWITCH_WORKSPACE_SUCCESS",SWITCH_WORKSPACE_FAILURE:"SWITCH_WORKSPACE_FAILURE",UPLOAD_GET_PRESIGNED_URL_REQUEST:"UPLOAD_GET_PRESIGNED_URL_REQUEST",UPLOAD_GET_PRESIGNED_URL_SUCCESS:"UPLOAD_GET_PRESIGNED_URL_SUCCESS",UPLOAD_GET_PRESIGNED_URL_FAILURE:"UPLOAD_GET_PRESIGNED_URL_FAILURE",SKIP_DISCUSSION_REMINDER_MODAL_REQUEST:"SKIP_DISCUSSION_REMINDER_MODAL_REQUEST",SKIP_DISCUSSION_REMINDER_MODAL_SUCCESS:"SKIP_DISCUSSION_REMINDER_MODAL_SUCCESS",SKIP_DISCUSSION_REMINDER_MODAL_FAILURE:"SKIP_DISCUSSION_REMINDER_MODAL_FAILURE"},b={FETCH_COURSE_PAGE_DATA_REQUEST:"FETCH_COURSE_PAGE_DATA_REQUEST",FETCH_COURSE_PAGE_DATA_SUCCESS:"FETCH_COURSE_PAGE_DATA_SUCCESS",FETCH_COURSE_PAGE_DATA_FAILURE:"FETCH_COURSE_PAGE_DATA_FAILURE",UPLOAD_TODO_FILE_REQUEST:"UPLOAD_TODO_FILE_REQUEST",UPLOAD_TODO_FILE_SUCCESS:"UPLOAD_TODO_FILE_SUCCESS",UPLOAD_TODO_FILE_FAILURE:"UPLOAD_TODO_FILE_FAILURE",UPLOAD_TODO_GITHUB_REQUEST:"UPLOAD_TODO_GITHUB_REQUEST",UPLOAD_TODO_GITHUB_SUCCESS:"UPLOAD_TODO_GITHUB_SUCCESS",UPLOAD_TODO_GITHUB_FAILURE:"UPLOAD_TODO_GITHUB_FAILURE",DELETE_USER_TODO_FILE_REQUEST:"DELETE_USER_TODO_FILE_REQUEST",DELETE_USER_TODO_FILE_SUCCESS:"DELETE_USER_TODO_FILE_SUCCESS",DELETE_USER_TODO_FILE_FAILURE:"DELETE_USER_TODO_FILE_FAILURE",COMPLETE_LESSON_MODULE_DATA_REQUEST:"COMPLETE_LESSON_MODULE_DATA_REQUEST",COMPLETE_LESSON_MODULE_DATA_SUCCESS:"COMPLETE_LESSON_MODULE_DATA_SUCCESS",COMPLETE_LESSON_MODULE_DATA_FAILURE:"COMPLETE_LESSON_MODULE_DATA_FAILURE",SUBMIT_ASSIGNMENT_TASK_REQUEST:"SUBMIT_ASSIGNMENT_TASK_REQUEST",SUBMIT_ASSIGNMENT_TASK_SUCCESS:"SUBMIT_ASSIGNMENT_TASK_SUCCESS",SUBMIT_ASSIGNMENT_TASK_FAILURE:"SUBMIT_ASSIGNMENT_TASK_FAILURE",START_TASK_REQUEST:"START_TASK_REQUEST",START_TASK_SUCCESS:"START_TASK_SUCCESS",START_TASK_FAILURE:"START_TASK_FAILURE",FETCH_USER_TODO_SOLUTION_REQUEST:"FETCH_USER_TODO_SOLUTION_REQUEST",FETCH_USER_TODO_SOLUTION_SUCCESS:"FETCH_USER_TODO_SOLUTION_SUCCESS",FETCH_USER_TODO_SOLUTION_FAILURE:"FETCH_USER_TODO_SOLUTION_FAILURE",CHANGE_ACTIVE_TAB_CONTENT_REQUEST:"CHANGE_ACTIVE_TAB_CONTENT_REQUEST",FETCH_USER_TODO_SOLUTION_FILE_REQUEST:"FETCH_USER_TODO_SOLUTION_FILE_REQUEST",FETCH_USER_TODO_SOLUTION_FILE_SUCCESS:"FETCH_USER_TODO_SOLUTION_FILE_SUCCESS",FETCH_USER_TODO_SOLUTION_FILE_FAILURE:"FETCH_USER_TODO_SOLUTION_FILE_FAILURE",START_QUIZ_REQUEST:"START_QUIZ_REQUEST",START_QUIZ_SUCCESS:"START_QUIZ_SUCCESS",START_QUIZ_FAILURE:"START_QUIZ_FAILURE",NAVIGATE_QUIZ_SUCCESS:"NAVIGATE_QUIZ_SUCCESS",NAVIGATE_QUIZ_FAILURE:"NAVIGATE_QUIZ_FAILURE",CHANGE_PROPS_VALUE_REQUEST:"CHANGE_PROPS_VALUE_REQUEST",CHANGE_ACTIVE_FILE_CONTENT_REQUEST:"CHANGE_ACTIVE_FILE_CONTENT_REQUEST",COURSE_DETAILS_REQUEST:"COURSE_DETAILS_REQUEST",COURSE_DETAILS_SUCCESS:"COURSE_DETAILS_SUCCESS",COURSE_DETAILS_FAILURE:"COURSE_DETAILS_FAILURE",UPDATE_COURSE_DESCRIPTION_REQUEST:"UPDATE_COURSE_DESCRIPTION_REQUEST",UPDATE_COURSE_DESCRIPTION_SUCCESS:"UPDATE_COURSE_DESCRIPTION_SUCCESS",UPDATE_COURSE_DESCRIPTION_FAILURE:"UPDATE_COURSE_DESCRIPTION_FAILURE"},S={SAVE_CHAPTER_SURVEY_DATA_REQUEST:"SAVE_CHAPTER_SURVEY_DATA_REQUEST",SAVE_CHAPTER_SURVEY_DATA_SUCCESS:"SAVE_CHAPTER_SURVEY_DATA_SUCCESS",SAVE_CHAPTER_SURVEY_DATA_FAILURE:"SAVE_CHAPTER_SURVEY_DATA_FAILURE"},A={GET_USER_LP2_EXAM_LINK_REQUEST:"USER_GET_LP2_EXAM_LINK_REQUEST",GET_USER_LP2_EXAM_LINK_SUCCESS:"USER_GET_LP2_EXAM_LINK_SUCCESS",GET_USER_LP2_EXAM_LINK_FAILURE:"USER_GET_LP2_EXAM_LINK_FAILURE",GET_USER_EXAM_HISTORY_REQUEST:"GET_USER_EXAM_HISTORY_REQUEST",GET_USER_EXAM_HISTORY_SUCCESS:"GET_USER_EXAM_HISTORY_SUCCESS",GET_USER_EXAM_HISTORY_FAILURE:"GET_USER_EXAM_HISTORY_FAILURE",GET_USER_BELTS_REQUEST:"GET_USER_BELTS_REQUEST",GET_USER_BELTS_SUCCESS:"GET_USER_BELTS_SUCCESS",GET_USER_BELTS_FAILURE:"GET_USER_BELTS_FAILURE",GET_EXAM_FEEDBACK_REQUEST:"GET_EXAM_FEEDBACK_REQUEST",GET_EXAM_FEEDBACK_SUCCESS:"GET_EXAM_FEEDBACK_SUCCESS",GET_EXAM_FEEDBACK_FAILURE:"GET_EXAM_FEEDBACK_FAILURE",TRIGGER_SHOW_EXAM_FEEDBACK:"TRIGGER_SHOW_EXAM_FEEDBACK"},k=(n={FETCH_ADMIN_EXAM_DATA_REQUEST:"FETCH_ADMIN_EXAM_DATA_REQUEST",FETCH_ADMIN_EXAM_DATA_SUCCESS:"FETCH_ADMIN_EXAM_DATA_SUCCESS",FETCH_ADMIN_EXAM_DATA_FAILURE:"FETCH_ADMIN_EXAM_DATA_FAILURE",UPDATE_STUDENT_GRADE_REQUEST:"UPDATE_STUDENT_GRADE_REQUEST",UPDATE_STUDENT_GRADE_SUCCESS:"UPDATE_STUDENT_GRADE_SUCCESS",UPDATE_STUDENT_GRADE_FAILURE:"UPDATE_STUDENT_GRADE_FAILURE",ADD_EXAM_RECORD_REQUEST:"ADD_EXAM_RECORD_REQUEST",ADD_EXAM_RECORD_SUCCESS:"ADD_EXAM_RECORD_SUCCESS",ADD_EXAM_RECORD_FAILURE:"ADD_EXAM_RECORD_FAILURE",FETCH_ADMIN_EXAM_CODE_REQUEST:"FETCH_ADMIN_EXAM_CODE_REQUEST",FETCH_ADMIN_EXAM_CODE_SUCCESS:"FETCH_ADMIN_EXAM_CODE_SUCCESS",FETCH_ADMIN_EXAM_CODE_FAILURE:"FETCH_ADMIN_EXAM_CODE_FAILURE",FETCH_EXAM_CODE_DROPDOWN_REQUEST:"FETCH_EXAM_CODE_DROPDOWN_REQUEST",FETCH_EXAM_CODE_DROPDOWN_SUCCESS:"FETCH_EXAM_CODE_DROPDOWN_SUCCESS",FETCH_EXAM_CODE_DROPDOWN_FAILURE:"FETCH_EXAM_CODE_DROPDOWN_FAILURE",UPDATE_EXAM_CODE_DROPDOWN_REQUEST:"UPDATE_EXAM_CODE_DROPDOWN_REQUEST",UPDATE_EXAM_CODE_DROPDOWN_SUCCESS:"UPDATE_EXAM_CODE_DROPDOWN_SUCCESS",UPDATE_EXAM_CODE_DROPDOWN_FAILURE:"UPDATE_EXAM_CODE_DROPDOWN_FAILURE",SAVE_EXAM_CODE_REQUEST:"SAVE_EXAM_CODE_REQUEST",SAVE_EXAM_CODE_SUCCESS:"SAVE_EXAM_CODE_SUCCESS",SAVE_EXAM_CODE_FAILURE:"SAVE_EXAM_CODE_FAILURE",SEARCH_STUDENTS_REQUEST:"SEARCH_STUDENTS_REQUEST",SEARCH_STUDENTS_SUCCESS:"SEARCH_STUDENTS_SUCCESS",SEARCH_STUDENTS_FAILURE:"SEARCH_STUDENTS_FAILURE",FETCH_STUDENT_EXAM_FILTER_OPTIONS_REQUEST:"FETCH_STUDENT_EXAM_FILTER_OPTIONS_REQUEST",FETCH_STUDENT_EXAM_FILTER_OPTIONS_SUCCESS:"FETCH_STUDENT_EXAM_FILTER_OPTIONS_SUCCESS",FETCH_STUDENT_EXAM_FILTER_OPTIONS_FAILURE:"FETCH_STUDENT_EXAM_FILTER_OPTIONS_FAILURE",FETCH_STUDENT_EXAM_FILTER_DATA_REQUEST:"FETCH_STUDENT_EXAM_FILTER_DATA_REQUEST",FETCH_STUDENT_EXAM_FILTER_DATA_SUCCESS:"FETCH_STUDENT_EXAM_FILTER_DATA_SUCCESS",FETCH_STUDENT_EXAM_FILTER_DATA_FAILURE:"FETCH_STUDENT_EXAM_FILTER_DATA_FAILURE",ADMIN_UPDATE_EXAM_FILTER_OPTIONS_REQUEST:"ADMIN_UPDATE_EXAM_FILTER_OPTIONS_REQUEST",ADMIN_UPDATE_EXAM_FILTER_OPTIONS_SUCCESS:"ADMIN_UPDATE_EXAM_FILTER_OPTIONS_SUCCESS",ADMIN_UPDATE_EXAM_FILTER_OPTIONS_FAILURE:"ADMIN_UPDATE_EXAM_FILTER_OPTIONS_FAILURE"},Object(s.a)(n,"FETCH_STUDENT_EXAM_FILTER_OPTIONS_REQUEST","FETCH_STUDENT_EXAM_FILTER_OPTIONS_REQUEST"),Object(s.a)(n,"FETCH_STUDENT_EXAM_FILTER_OPTIONS_SUCCESS","FETCH_STUDENT_EXAM_FILTER_OPTIONS_SUCCESS"),Object(s.a)(n,"FETCH_STUDENT_EXAM_FILTER_OPTIONS_FAILURE","FETCH_STUDENT_EXAM_FILTER_OPTIONS_FAILURE"),Object(s.a)(n,"SET_EXAM_FEEDBACK_REQUEST","SET_EXAM_FEEDBACK_REQUEST"),Object(s.a)(n,"SET_EXAM_FEEDBACK_SUCCESS","SET_EXAM_FEEDBACK_SUCCESS"),Object(s.a)(n,"SET_EXAM_FEEDBACK_FAILURE","SET_EXAM_FEEDBACK_FAILURE"),Object(s.a)(n,"FETCH_STUDENT_EXAM_DATA_REQUEST","FETCH_STUDENT_EXAM_DATA_REQUEST"),Object(s.a)(n,"FETCH_STUDENT_EXAM_DATA_SUCCESS","FETCH_STUDENT_EXAM_DATA_SUCCESS"),Object(s.a)(n,"FETCH_STUDENT_EXAM_DATA_FAILURE","FETCH_STUDENT_EXAM_DATA_FAILURE"),Object(s.a)(n,"ADMIN_GET_STUDENT_PROFILE_DATA_REQUEST","ADMIN_GET_STUDENT_PROFILE_DATA_REQUEST"),Object(s.a)(n,"ADMIN_GET_STUDENT_PROFILE_DATA_SUCCESS","ADMIN_GET_STUDENT_PROFILE_DATA_SUCCESS"),Object(s.a)(n,"ADMIN_GET_STUDENT_PROFILE_DATA_FAILURE","ADMIN_GET_STUDENT_PROFILE_DATA_FAILURE"),Object(s.a)(n,"EXAM_UNLOCK_TYPES",{manual_by_student:1,unlock_via_code:2,manual_by_instructor:3}),n),O={GET_ENROLLAPP_LINK_REQUEST:"GET_ENROLLAPP_LINK_REQUEST",GET_ENROLLAPP_LINK_SUCCESS:"GET_ENROLLAPP_LINK_SUCCESS",GET_ENROLLAPP_LINK_FAILURE:"GET_ENROLLAPP_LINK_FAILURE"},T={FETCH_ADMIN_COURSE_PAGE_DATA_REQUEST:"FETCH_COURSE_PAGE_DATA_REQUEST",FETCH_ADMIN_COURSE_PAGE_DATA_SUCCESS:"FETCH_COURSE_PAGE_DATA_SUCCESS",FETCH_ADMIN_COURSE_PAGE_DATA_FAILURE:"FETCH_COURSE_PAGE_DATA_FAILURE",ADMIN_SAVE_MODULE_REQUEST:"ADMIN_SAVE_MODULE_REQUEST",ADMIN_SAVE_MODULE_SUCCESS:"ADMIN_SAVE_MODULE_SUCCESS",ADMIN_SAVE_MODULE_FAILURE:"ADMIN_SAVE_MODULE_FAILURE",ADMIN_UPDATE_ORDER_SUCCESS:"ADMIN_UPDATE_ORDER_SUCCESS",ADMIN_REMOVE_MODULE_REQUEST:"ADMIN_REMOVE_MODULE_REQUEST",ADMIN_REMOVE_MODULE_SUCCESS:"ADMIN_REMOVE_MODULE_SUCCESS",ADMIN_REMOVE_MODULE_FAILURE:"ADMIN_REMOVE_MODULE_FAILURE",ADMIN_COPY_MODULE_REQUEST:"ADMIN_COPY_MODULE_REQUEST",ADMIN_COPY_MODULE_SUCCESS:"ADMIN_COPY_MODULE_SUCCESS",ADMIN_COPY_MODULE_FAILURE:"ADMIN_COPY_MODULE_FAILURE",SWITCH_WORKSPACE:"SWITCH_WORKSPACE"},C={GET_STATS_REQUEST:"GET_STATS_REQUEST",GET_STATS_SUCCESS:"GET_STATS_SUCCESS",GET_STATS_FAILURE:"GET_STATS_FAILURE",GET_STATS_CORE_BREAKDOWN_REQUEST:"GET_STATS_CORE_BREAKDOWN_REQUEST",GET_STATS_CORE_BREAKDOWN_SUCCESS:"GET_STATS_CORE_BREAKDOWN_SUCCESS",GET_STATS_CORE_BREAKDOWN_FAILURE:"GET_STATS_CORE_BREAKDOWN_FAILURE",GET_STATS_ATTENDANCE_BREAKDOWN_REQUEST:"GET_STATS_ATTENDANCE_BREAKDOWN_REQUEST",GET_STATS_ATTENDANCE_BREAKDOWN_SUCCESS:"GET_STATS_ATTENDANCE_BREAKDOWN_SUCCESS",GET_STATS_ATTENDANCE_BREAKDOWN_FAILURE:"GET_STATS_ATTENDANCE_BREAKDOWN_FAILURE",GET_STATS_EXAM_HISTORY_REQUEST:"GET_STATS_EXAM_HISTORY_REQUEST",GET_STATS_EXAM_HISTORY_SUCCESS:"GET_STATS_EXAM_HISTORY_SUCCESS",GET_STATS_EXAM_HISTORY_FAILURE:"GET_STATS_EXAM_HISTORY_FAILURE"},w={ADMIN_GET_STUDENT_ROSTER_FILTERS_REQUEST:"ADMIN_GET_STUDENT_ROSTER_FILTERS_REQUEST",ADMIN_GET_STUDENT_ROSTER_FILTERS_SUCCESS:"ADMIN_GET_STUDENT_ROSTER_FILTERS_SUCCESS",ADMIN_GET_STUDENT_ROSTER_FILTERS_FAILURE:"ADMIN_GET_STUDENT_ROSTER_FILTERS_FAILURE",ADMIN_UPDATE_ROSTERING_FILTER_OPTIONS_REQUEST:"ADMIN_UPDATE_ROSTERING_FILTER_OPTIONS_REQUEST",ADMIN_UPDATE_ROSTERING_FILTER_OPTIONS_SUCCESS:"ADMIN_UPDATE_ROSTERING_FILTER_OPTIONS_SUCCESS",ADMIN_UPDATE_ROSTERING_FILTER_OPTIONS_FAILURE:"ADMIN_UPDATE_ROSTERING_FILTER_OPTIONS_FAILURE",ADMIN_GET_FILTERED_STUDENT_ROSTER_DATA_REQUEST:"ADMIN_GET_FILTERED_STUDENT_ROSTER_DATA_REQUEST",ADMIN_GET_FILTERED_STUDENT_ROSTER_DATA_SUCCESS:"ADMIN_GET_FILTERED_STUDENT_ROSTER_DATA_SUCCESS",ADMIN_GET_FILTERED_STUDENT_ROSTER_DATA_FAILURE:"ADMIN_GET_FILTERED_STUDENT_ROSTER_DATA_FAILURE",ADMIN_GET_NEXT_STACK_OPTIONS_REQUEST:"ADMIN_GET_NEXT_STACK_OPTIONS_REQUEST",ADMIN_GET_NEXT_STACK_OPTIONS_SUCCESS:"ADMIN_GET_NEXT_STACK_OPTIONS_SUCCESS",ADMIN_GET_NEXT_STACK_OPTIONS_FAILURE:"ADMIN_GET_NEXT_STACK_OPTIONS_FAILURE",ADMIN_PROCESS_STUDENTS_NEXT_STACK_REQUEST:"ADMIN_PROCESS_STUDENTS_NEXT_STACK_REQUEST",ADMIN_PROCESS_STUDENTS_NEXT_STACK_SUCCESS:"ADMIN_PROCESS_STUDENTS_NEXT_STACK_SUCCESS",ADMIN_PROCESS_STUDENTS_NEXT_STACK_FAILURE:"ADMIN_PROCESS_STUDENTS_NEXT_STACK_FAILURE",ADMIN_GET_STUDENT_PROFILE_DATA_REQUEST:"ADMIN_GET_STUDENT_PROFILE_DATA_REQUEST",ADMIN_GET_STUDENT_PROFILE_DATA_SUCCESS:"ADMIN_GET_STUDENT_PROFILE_DATA_SUCCESS",ADMIN_GET_STUDENT_PROFILE_DATA_FAILURE:"ADMIN_GET_STUDENT_PROFILE_DATA_FAILURE",ADMIN_DELETE_STUDENT_STACK_SCHEDULE_REQUEST:"ADMIN_DELETE_STUDENT_STACK_SCHEDULE_REQUEST",ADMIN_DELETE_STUDENT_STACK_SCHEDULE_SUCCESS:"ADMIN_DELETE_STUDENT_STACK_SCHEDULE_SUCCESS",ADMIN_DELETE_STUDENT_STACK_SCHEDULE_FAILURE:"ADMIN_DELETE_STUDENT_STACK_SCHEDULE_FAILURE",ADMIN_UPDATE_STUDENT_STACK_SCHEDULE_REQUEST:"ADMIN_UPDATE_STUDENT_STACK_SCHEDULE_REQUEST",ADMIN_UPDATE_STUDENT_STACK_SCHEDULE_SUCCESS:"ADMIN_UPDATE_STUDENT_STACK_SCHEDULE_SUCCESS",ADMIN_UPDATE_STUDENT_STACK_SCHEDULE_FAILURE:"ADMIN_UPDATE_STUDENT_STACK_SCHEDULE_FAILURE",ADMIN_UNLOCK_STUDENT_NEXT_STACK_REQUEST:"ADMIN_UNLOCK_STUDENT_NEXT_STACK_REQUEST",ADMIN_UNLOCK_STUDENT_NEXT_STACK_SUCCESS:"ADMIN_UNLOCK_STUDENT_NEXT_STACK_SUCCESS",ADMIN_UNLOCK_STUDENT_NEXT_STACK_FAILURE:"ADMIN_UNLOCK_STUDENT_NEXT_STACK_FAILURE",ADMIN_UPDATE_STUDENT_AP_STATUS_REQUEST:"ADMIN_UPDATE_STUDENT_AP_STATUS_REQUEST",ADMIN_UPDATE_STUDENT_AP_STATUS_SUCCESS:"ADMIN_UPDATE_STUDENT_AP_STATUS_SUCCESS",ADMIN_UPDATE_STUDENT_AP_STATUS_FAILURE:"ADMIN_UPDATE_STUDENT_AP_STATUS_FAILURE",ADMIN_UPDATE_STUDENT_REGION_REQUEST:"ADMIN_UPDATE_STUDENT_REGION_REQUEST",ADMIN_UPDATE_STUDENT_REGION_SUCCESS:"ADMIN_UPDATE_STUDENT_REGION_SUCCESS",ADMIN_UPDATE_STUDENT_REGION_FAILURE:"ADMIN_UPDATE_STUDENT_REGION_FAILURE",ADMIN_FETCH_INSTRUCTOR_OPTION_REQUEST:"ADMIN_FETCH_INSTRUCTOR_OPTION_REQUEST",ADMIN_FETCH_INSTRUCTOR_OPTION_SUCCESS:"ADMIN_FETCH_INSTRUCTOR_OPTION_SUCCESS",ADMIN_FETCH_INSTRUCTOR_OPTION_FAILURE:"ADMIN_FETCH_INSTRUCTOR_OPTION_FAILURE",CHANGE_PROPS_VALUE_REQUEST:"CHANGE_PROPS_VALUE_REQUEST",CHANGE_PROPS_VALUE_SUCCESS:"CHANGE_PROPS_VALUE_SUCCESS",CHANGE_PROPS_VALUE_FAILURE:"CHANGE_PROPS_VALUE_FAILURE",ADMIN_ASSIGN_STUDENT_VIA_EMAIL_REQUEST:"ADMIN_ASSIGN_STUDENT_VIA_EMAIL_REQUEST",ADMIN_ASSIGN_STUDENT_VIA_EMAIL_SUCCESS:"ADMIN_ASSIGN_STUDENT_VIA_EMAIL_SUCCESS",ADMIN_ASSIGN_STUDENT_VIA_EMAIL_FAILURE:"ADMIN_ASSIGN_STUDENT_VIA_EMAIL_FAILURE"},y={FETCH_ASSIGNMENT_FORUM_REQUEST:"FETCH_ASSIGNMENT_FORUM_REQUEST",FETCH_ASSIGNMENT_FORUM_SUCCESS:"FETCH_ASSIGNMENT_FORUM_SUCCESS",FETCH_ASSIGNMENT_FORUM_FAILURE:"FETCH_ASSIGNMENT_FORUM_FAILURE",FETCH_ANSWER_COMMENTS_REQUEST:"FETCH_ANSWER_COMMENTS_REQUEST",FETCH_ANSWER_COMMENTS_SUCCESS:"FETCH_ANSWER_COMMENTS_SUCCESS",FETCH_ANSWER_COMMENTS_FAILURE:"FETCH_ANSWER_COMMENTS_FAILURE",SUBMIT_QUESTION_REQUEST:"SUBMIT_QUESTION_REQUEST",SUBMIT_QUESTION_SUCCESS:"SUBMIT_QUESTION_SUCCESS",SUBMIT_QUESTION_FAILURE:"SUBMIT_QUESTION_FAILURE",SUBMIT_COMMENT_REQUEST:"SUBMIT_COMMENT_REQUEST",SUBMIT_COMMENT_SUCCESS:"SUBMIT_COMMENT_SUCCESS",SUBMIT_COMMENT_FAILURE:"SUBMIT_COMMENT_FAILURE",VOTE_REQUEST:"VOTE_REQUEST",VOTE_SUCCESS:"VOTE_SUCCESS",VOTE_FAILURE:"VOTE_FAILURE",SET_COMMENT_TO_ARCHIVE_REQUEST:"SET_COMMENT_TO_ARCHIVE_REQUEST",SET_COMMENT_TO_ARCHIVE_SUCCESS:"SET_COMMENT_TO_ARCHIVE_SUCCESS",SET_COMMENT_TO_ARCHIVE_FAILURE:"SET_COMMENT_TO_ARCHIVE_FAILURE",UPDATE_COMMENT_REQUEST:"UPDATE_COMMENT_REQUEST",UPDATE_COMMENT_SUCCESS:"UPDATE_COMMENT_SUCCESS",UPDATE_COMMENT_FAILURE:"UPDATE_COMMENT_FAILURE",UPLOAD_COMMENT_IMAGE_REQUEST:"UPLOAD_COMMENT_IMAGE_REQUEST",UPLOAD_COMMENT_IMAGE_SUCCESS:"UPLOAD_COMMENT_IMAGE_SUCCESS",UPLOAD_COMMENT_IMAGE_FAILURE:"UPLOAD_COMMENT_IMAGE_FAILURE",DELETE_COMMENT_IMAGE_REQUEST:"DELETE_COMMENT_IMAGE_REQUEST",DELETE_COMMENT_IMAGE_SUCCESS:"DELETE_COMMENT_IMAGE_SUCCESS",DELETE_COMMENT_IMAGE_FAILURE:"DELETE_COMMENT_IMAGE_FAILURE",ENDORSEMENT_REQUEST:"ENDORSEMENT_REQUEST",ENDORSEMENT_SUCCESS:"ENDORSEMENT_SUCCESS",ENDORSEMENT_FAILURE:"ENDORSEMENT_FAILURE",RESET_FORUM_ANSWER_COMMENTS:"RESET_FORUM_ANSWER_COMMENTS"},R={ANSWER:1,QUESTION:2,UPVOTE:3,DOWNVOTE:4,PINNED:5,FEEDBACK_EXAM:6,ASSIGNMENT_FEEDBACK:7,DISCUSSION_DUE_48HRS_PRIOR:9,DISCUSSION_DUE_24HRS_PRIOR:10,DISCUSSION_DUE_12HRS_PRIOR:11,NOTE_FEEDBACK:12,SURVEY:13,DISCUSSION_DUE_72HRS_PRIOR:14,FETCH_NOTIFICATIONS_REQUEST:"FETCH_NOTIFICATIONS_REQUEST",FETCH_NOTIFICATIONS_SUCCESS:"FETCH_NOTIFICATIONS_SUCCESS",FETCH_NOTIFICATIONS_FAILURE:"FETCH_NOTIFICATIONS_FAILURE",MARK_NOTIFICATIONS_AS_READ_REQUEST:"MARK_NOTIFICATIONS_AS_READ_REQUEST",MARK_NOTIFICATIONS_AS_READ_SUCCESS:"MARK_NOTIFICATIONS_AS_READ_SUCCESS",MARK_NOTIFICATIONS_AS_READ_FAILURE:"MARK_NOTIFICATIONS_AS_READ_FAILURE",SET_NOTIFICATIONS_AS_ARCHIVED_REQUEST:"SET_NOTIFICATIONS_AS_ARCHIVED_REQUEST",SET_NOTIFICATIONS_AS_ARCHIVED_SUCCESS:"SET_NOTIFICATIONS_AS_ARCHIVED_SUCCESS",SET_NOTIFICATIONS_AS_ARCHIVED_FAILURE:"SET_NOTIFICATIONS_AS_ARCHIVED_FAILURE"},D={STUDENT:1,FREE_SEAT:2,GRADUATE:3,ALUMNI_PASS_USER:4,CORPORATE_USER:5,CORPORATE_DEMO:6,INSTRUCTOR:7,COURSE_EDITOR:8,ADMIN_USER:9,SUPER_ADMIN_USER:10,TEACHING_ASSISTANT:13,NEW_SUPER_ADMIN_USER:99},U=[D.TEACHING_ASSISTANT,D.INSTRUCTOR,D.COURSE_EDITOR,D.ADMIN_USER,D.SUPER_ADMIN_USER,D.NEW_SUPER_ADMIN_USER],N=[D.STUDENT,D.FREE_SEAT,D.GRADUATE,D.ALUMNI_PASS_USER,D.CORPORATE_USER,D.CORPORATE_DEMO],I=1,P=0,j=5,L={LESSON_MODULE:0,QUIZ_MODULE:1,TASK_MODULE:2,ADMIN_MODULE:3,END_CHAPTER_SURVEY_MODULE:4},M={0:"lesson",1:"quiz",2:"assignment",3:"admin_lesson",4:"chapter_survey"},F="https://form.typeform.com/to/",x={DAILY_SURVEY_SCHEDULE_ID:1,NEW_STUDENT_SURVEY_SCHEDULE_ID:6,CAREER_SERVICES_SURVEY_SCHEDULE_ID:7,SDA_DAILY_SURVEY_SCHEDULE_ID:20,SDA_NEW_STUDENT_SURVEY_SCHEDULE_ID:21,INTL_SATISFACTION_SURVEY:22,BRI_UI_UX:23,BRI_CYBERSECURITY:24,BRI_DATASCIENCE:25,BRI_FULL_TIME_SOFTWARE_DEVT:26,BRI_PART_TIME_SOFTWARE_DEVT:27},B=[x.BRI_UI_UX,x.BRI_CYBERSECURITY,x.BRI_DATASCIENCE,x.BRI_FULL_TIME_SOFTWARE_DEVT,x.BRI_PART_TIME_SOFTWARE_DEVT],W=[x.NEW_STUDENT_SURVEY_SCHEDULE_ID,x.CAREER_SERVICES_SURVEY_SCHEDULE_ID,x.SDA_NEW_STUDENT_SURVEY_SCHEDULE_ID].concat(B),H=[x.DAILY_SURVEY_SCHEDULE_ID,x.SDA_DAILY_SURVEY_SCHEDULE_ID,x.INTL_SATISFACTION_SURVEY],K={mid_final_stack_survey_code:"QLypVTE6"},G={SKIP_SURVEY_REQUEST:"SKIP_SURVEY_REQUEST",SKIP_SURVEY_SUCCESS:"SKIP_SURVEY_SUCCESS",SKIP_SURVEY_FAILURE:"SKIP_SURVEY_FAILURE",TAKE_SURVEY_REQUEST:"TAKE_SURVEY_REQUEST",TAKE_SURVEY_SUCCESS:"TAKE_SURVEY_SUCCESS",TAKE_SURVEY_FAILURE:"TAKE_SURVEY_FAILURE"},V={all:["stack-survey","mid-stack-survey","end-stack-survey","web-fun-survey"],default:"stack-survey",mid_stack:"mid-stack-survey",end_stack:"end-stack-survey",web_fun:"web-fun-survey"},q={spanish:"SPA",english:"ES"},Y=68,Q=[1,2,3,4,5,6],$=1,z=2,J=3,X=4,Z=99,ee={SAVE_SESSION_PAGE_REQUEST:"SAVE_SESSION_PAGE_REQUEST",SAVE_SESSION_PAGE_SUCCESS:"SAVE_SESSION_PAGE_SUCCESS",SAVE_SESSION_PAGE_FAILURE:"SAVE_SESSION_PAGE_FAILURE",UPDATE_SESSION_PAGE_REQUEST:"UPDATE_SESSION_PAGE_REQUEST",UPDATE_SESSION_PAGE_SUCCESS:"UPDATE_SESSION_PAGE_SUCCESS",UPDATE_SESSION_PAGE_FAILURE:"UPDATE_SESSION_PAGE_FAILURE",SAVE_TEMP_ACTIVITY_LOGS:"SAVE_TEMP_ACTIVITY_LOGS",SAVE_SESSION_ACTIVITY_LOGS_REQUEST:"SAVE_SESSION_ACTIVITY_LOGS_REQUEST",SAVE_SESSION_ACTIVITY_LOGS_SUCCESS:"SAVE_SESSION_ACTIVITY_LOGS_SUCCESS",SAVE_SESSION_ACTIVITY_LOGS_FAILURE:"SAVE_SESSION_ACTIVITY_LOGS_FAILURE",IGNORE_ACTIVITY_LOGS_REQUEST:"IGNORE_ACTIVITY_LOGS_REQUEST",RESET_SESSION_REQUEST:"RESET_SESSION_REQUEST",RESET_SESSION_SUCCESS:"RESET_SESSION_SUCCESS",RESET_SESSION_FAILURE:"RESET_SESSION_FAILURE"},te=1,ae=[{id:0,title:"lesson"},{id:te,title:"quiz"},{id:2,title:"to do"},{id:3,title:"admin"}],ne=1,se=2,re=[{id:ne,title:"onsite"},{id:se,title:"online"}],oe={1:"LP - Photo Release",2:"LP - Enrollment Agreement (Default)",3:"LP - Enrollment Agreement IOS",4:"LP - Enrollment Agreement MEAN",5:"LP - Enrollment Agreement LAMP",6:"LP - Enrollment Agreement PYTHON",7:"LP - Enrollment Agreement ROR",8:"LP - Enrollment Agreement .NET",9:"LP - Enrollment Agreement JAVA",10:"CD - Resume / CV",11:"CD - Campus Tour Attendance Certificate",12:"LP - TWC CSC-005",13:"LP - TWC CSC-010",14:"LP - Proof of Education",15:"LP - Enrollment Amendment",16:"LP - Enrollment Agreement Web Fundamentals",17:"LP - Accident Waiver",18:"LP - Progress Reports",19:"LP - Tuition History",20:"LP - TWC Refund Worksheet",21:"LP - Refund Proof",22:"LP - Government Funding",23:"LP - Completer Follow-Up Survey",24:"CD - Graduation Certificate",25:"LP - Coding Dojo Catalog",26:"LP - Signed Withdrawal Form",27:"Plagiarism Evidence",28:"Cover Letter",29:"LinkedIn URL",30:"Portfolio URL",31:"Exclude from Placement form",32:"LP - Unsigned Withdrawal Form",33:"LP - Unsigned Enrollment Amendment",34:"LP - Enrollment Agreement Project building and Algorithm ",35:"CS Opt Out",36:"CS Roadmap",37:"CS Resume",38:"LP - Withdrawal Request Form",39:"LP - Student Commitment Attachement",40:"LP - Special Request Form (Leave of Absence)",41:"LP - Special Request Form (Retake)",42:"LP - Special Request Form (Withdraw)",43:"LP - Special Request Form (Restart)",44:"LP - Special Request Form (Postpone)",45:"LP - Special Request Form (Change Program)",46:"LP - Special Request Form",47:"CS Agreement",48:"Program Course Outline",49:"LP - Completion Certificate",50:"LP - Accommodations Request Form",51:"LP - Unsigned Program Transfer Form",52:"LP - Signed Program Transfer Form",99:"Others"},ie=[73,174,182,215],ce={all:[3,4,4.1,4.2,4.3,4.6,4.5,5,5.2,5.3,5.5],allow_progress_tracking:[4,4.1,4.2,4.6,4.5,5,5.2,5.3],accepted:3,paid_deposit:4,upcoming_student:4.1,current_student:4.2,pending:4.3,incomplete:4.4,dropped_class:4.5,alumni:4.6,qa_review:5.2,temporary_out:5.5},_e={3:"Accepted",3.1:"Unresponsive",3.2:"Not Interested",3.3:"Rejected",4:"Paid Deposit",4.1:"Upcoming Student",4.2:"Current Student",4.3:"Pending",4.4:"Incomplete",4.5:"Dropped Class",4.6:"Alumni",4.7:"Transferred/Change Cohort",4.8:"Cancelled",4.9:"Expelled",5:"Auditor",5.1:"Non Graduate",5.2:"QA Review",5.3:"Transferred",5.5:"Temporary Out"},le={1:{complete_address:"1715 114th Ave. SE. #100 Bellevue, WA 98004",street:"1715 114th Ave. SE. #100",city:"Bellevue",state:"WA",zip:98004},2:{complete_address:"1920 Zanker Road, Suite 20. San Jose, CA 95112",street:"1920 Zanker Road, Suite 20.",city:"San Jose",state:"CA",zip:95112},3:{complete_address:"175 E Olive Ave 4th Fl Burbank, CA 91502",street:"175 E Olive Ave 4th Fl",city:"Burbank",state:"CA",zip:91502},4:{complete_address:"900 Jackson Street #410 Dallas, TX 75202",street:"900 Jackson Street #410",city:"Dallas",state:"TX",zip:75202},5:{complete_address:"3600 136th PL SE #300 Bellevue, WA 98006",street:"3600 136th PL SE #300",city:"Bellevue",state:"WA",zip:98006},6:{complete_address:"1110 Wilson Blvd, 10th Floor Arlington, VA 22209",street:"1110 Wilson Blvd, 10th Floor",city:"Arlington",state:"VA",zip:22209},7:{complete_address:"213 West Institute Place, Suite 610 Chicago, IL 60610",street:"213 West Institute Place, Suite 610",city:"Chicago",state:"IL",zip:60610},8:{complete_address:"426 17th Street Suite 400 Oakland, CA 94612",street:"426 17th Street Suite 400",city:"Oakland",state:"CA",zip:94612},9:{complete_address:"3335 South Susan Street Suite 200 Costa Mesa, CA 92626",street:"3335 South Susan Street Suite 200",city:"Costa Mesa",state:"CA",zip:92626},10:{complete_address:"36 E Cameron St Tulsa, OK 74103",street:"36 E Cameron St",city:"Tulsa",state:"OK",zip:74103},11:{complete_address:"Trailhead, 404 S. 8th street, Soute 204 Boise, ID 83702",street:"Trailhead, 404 S. 8th street, Soute 204",city:"Boise",state:"ID",zip:83702},12:{complete_address:"3600 136th PL SE #300 Bellevue, WA 98006",street:"3600 136th PL SE #300",city:"Bellevue",state:"WA",zip:98006}};var de=_,ue="fm64i99S7HiYScN82JGOWnfo",pe={GET_DISCUSSION_REQUEST:"GET_DISCUSSION_REQUEST",GET_DISCUSSION_SUCCESS:"GET_DISCUSSION_SUCCESS",GET_DISCUSSION_FAILURE:"GET_DISCUSSION_FAILURE",GET_DISCUSSION_RESPONSES_REQUEST:"GET_DISCUSSION_RESPONSES_REQUEST",GET_DISCUSSION_RESPONSES_SUCCESS:"GET_DISCUSSION_RESPONSES_SUCCESS",GET_DISCUSSION_RESPONSES_FAILURE:"GET_DISCUSSION_RESPONSES_FAILURE",SAVE_DISCUSSION_RESPONSE_REQUEST:"SAVE_DISCUSSION_RESPONSE_REQUEST",SAVE_DISCUSSION_RESPONSE_SUCCESS:"SAVE_DISCUSSION_RESPONSE_SUCCESS",SAVE_DISCUSSION_RESPONSE_FAILURE:"SAVE_DISCUSSION_RESPONSE_FAILURE",REMOVE_DISCUSSION_RESPONSE_REQUEST:"REMOVE_DISCUSSION_RESPONSE_REQUEST",REMOVE_DISCUSSION_RESPONSE_SUCCESS:"REMOVE_DISCUSSION_RESPONSE_SUCCESS",REMOVE_DISCUSSION_RESPONSE_FAILURE:"REMOVE_DISCUSSION_RESPONSE_FAILURE",VOTE_DISCUSSION_RESPONSE_REQUEST:"VOTE_DISCUSSION_RESPONSE_REQUEST",VOTE_DISCUSSION_RESPONSE_SUCCESS:"VOTE_DISCUSSION_RESPONSE_SUCCESS",VOTE_DISCUSSION_RESPONSE_FAILURE:"VOTE_DISCUSSION_RESPONSE_FAILURE",UPDATE_DISCUSSION_DETAILS_REQUEST:"UPDATE_DISCUSSION_DETAILS_REQUEST",UPDATE_DISCUSSION_DETAILS_SUCCESS:"UPDATE_DISCUSSION_DETAILS_SUCCESS",UPDATE_DISCUSSION_DETAILS_FAILURE:"UPDATE_DISCUSSION_DETAILS_FAILURE",DELETE_DISCUSSION_QUESTION_REQUEST:"DELETE_DISCUSSION_QUESTION_REQUEST",DELETE_DISCUSSION_QUESTION_SUCCESS:"DELETE_DISCUSSION_QUESTION_SUCCESS",DELETE_DISCUSSION_QUESTION_FAILURE:"DELETE_DISCUSSION_QUESTION_FAILURE"},me={FETCH_FILTER_OPTIONS_DATA_REQUEST:"FETCH_FILTER_OPTIONS_DATA_REQUEST",FETCH_FILTER_OPTIONS_DATA_SUCCESS:"FETCH_FILTER_OPTIONS_DATA_SUCCESS",FETCH_FILTER_OPTIONS_DATA_FAILURE:"FETCH_FILTER_OPTIONS_DATA_FAILURE",UPDATE_FILTER_OPTIONS_REQUEST:"UPDATE_FILTER_OPTIONS_REQUEST",UPDATE_FILTER_OPTIONS_SUCCESS:"UPDATE_FILTER_OPTIONS_SUCCESS",UPDATE_FILTER_OPTIONS_FAILURE:"UPDATE_FILTER_OPTIONS_FAILURE",FETCH_FILTERED_STUDENT_DATA_REQUEST:"FETCH_FILTERED_STUDENT_DATA_REQUEST",FETCH_FILTERED_STUDENT_DATA_SUCCESS:"FETCH_FILTERED_STUDENT_DATA_SUCCESS",FETCH_FILTERED_STUDENT_DATA_FAILURE:"FETCH_FILTERED_STUDENT_DATA_FAILURE",ASSIGN_STUDENT_TO_INSTRUCTOR_REQUEST:"ASSIGN_STUDENT_TO_INSTRUCTOR_REQUEST",ASSIGN_STUDENT_TO_INSTRUCTOR_SUCCESS:"ASSIGN_STUDENT_TO_INSTRUCTOR_SUCCESS",ASSIGN_STUDENT_TO_INSTRUCTOR_FAILURE:"ASSIGN_STUDENT_TO_INSTRUCTOR_FAILURE",CHANGE_PROPS_VALUE_REQUEST:"CHANGE_PROPS_VALUE_REQUEST"},he={CLEAR_FILTERS:"CLEAR_FILTERS",UPDATE_FILTER_DROPDOWN_VALUES:"UPDATE_FILTER_DROPDOWN_VALUES",UPDATE_TABLE_VIEW_SETTING_VALUES:"UPDATE_TABLE_VIEW_SETTING_VALUES",UPDATE_TABLE_HEAD_COLUMNS:"UPDATE_TABLE_HEAD_COLUMNS",UPDATE_PAGINATION_SETTINGS:"UPDATE_PAGINATION_SETTINGS",FETCH_STUDENT_PROGRESS_PROGRAM_REV_REQUEST:"FETCH_STUDENT_PROGRESS_PROGRAM_REV_REQUEST",FETCH_STUDENT_PROGRESS_PROGRAM_REV_SUCCESS:"FETCH_STUDENT_PROGRESS_PROGRAM_REV_SUCCESS",FETCH_STUDENT_PROGRESS_PROGRAM_REV_FAILURE:"FETCH_STUDENT_PROGRESS_PROGRAM_REV_FAILURE",FETCH_STUDENT_PROGRESS_FILTER_OPTIONS_REQUEST:"FETCH_STUDENT_PROGRESS_FILTER_OPTIONS_REQUEST",FETCH_STUDENT_PROGRESS_FILTER_OPTIONS_SUCCESS:"FETCH_STUDENT_PROGRESS_FILTER_OPTIONS_SUCCESS",UPDATE_STUDENT_PROGRESS_FILTER_WORKSPACE_SUCCESS:"UPDATE_STUDENT_PROGRESS_FILTER_WORKSPACE_SUCCESS",FETCH_STUDENT_PROGRESS_FILTER_OPTIONS_FAILURE:"FETCH_STUDENT_PROGRESS_FILTER_OPTIONS_FAILURE",FETCH_STUDENT_PROGRESS_REVISIONS_FILTER_OPTIONS_REQUEST:"FETCH_STUDENT_PROGRESS_REVISIONS_FILTER_OPTIONS_REQUEST",FETCH_STUDENT_PROGRESS_REVISION_FILTER_OPTIONS_SUCCESS:"FETCH_STUDENT_PROGRESS_REVISION_FILTER_OPTIONS_SUCCESS",FETCH_STUDENT_PROGRESS_NEW_BY_STACK_DATA_REQUEST:"FETCH_STUDENT_PROGRESS_NEW_BY_STACK_DATA_REQUEST",FETCH_STUDENT_PROGRESS_NEW_BY_STACK_DATA_SUCCESS:"FETCH_STUDENT_PROGRESS_NEW_BY_STACK_DATA_SUCCESS",FETCH_STUDENT_PROGRESS_NEW_BY_STACK_DATA_FAILURE:"FETCH_STUDENT_PROGRESS_NEW_BY_STACK_DATA_FAILURE",UPDATE_FILTER_OPTIONS_REQUEST:"UPDATE_FILTER_OPTIONS_REQUEST",UPDATE_FILTER_OPTIONS_SUCCESS:"UPDATE_FILTER_OPTIONS_SUCCESS",UPDATE_FILTER_OPTIONS_FAILURE:"UPDATE_FILTER_OPTIONS_FAILURE",FETCH_STUDENT_PROGRESS_DATA_REQUEST:"FETCH_STUDENT_PROGRESS_DATA_REQUEST",FETCH_STUDENT_PROGRESS_DATA_SUCCESS:"FETCH_STUDENT_PROGRESS_DATA_SUCCESS",FETCH_STUDENT_PROGRESS_DATA_FAILURE:"FETCH_STUDENT_PROGRESS_DATA_FAILURE",UPDATE_STUDENT_PROGRESS_FILTER_OPTIONS_REQUEST:"UPDATE_STUDENT_PROGRESS_FILTER_OPTIONS_REQUEST",UPDATE_STUDENT_PROGRESS_FILTER_OPTIONS_SUCCESS:"UPDATE_STUDENT_PROGRESS_FILTER_OPTIONS_SUCCESS",UPDATE_STUDENT_PROGRESS_FILTER_OPTIONS_FAILURE:"UPDATE_STUDENT_PROGRESS_FILTER_OPTIONS_FAILURE",UPDATE_STUDENT_AP_STATUS_REQUEST:"UPDATE_STUDENT_AP_STATUS_REQUEST",UPDATE_STUDENT_AP_STATUS_SUCCESS:"UPDATE_STUDENT_AP_STATUS_SUCCESS",UPDATE_STUDENT_AP_STATUS_FAILURE:"UPDATE_STUDENT_AP_STATUS_FAILURE",CHECK_STUDENT_ATTENDANCES_REQUEST:"CHECK_STUDENT_ATTENDANCES_REQUEST",CHECK_STUDENT_ATTENDANCES_SUCCESS:"CHECK_STUDENT_ATTENDANCES_SUCCESS",CHECK_STUDENT_ATTENDANCES_FAILURE:"CHECK_STUDENT_ATTENDANCES_FAILURE",UPDATE_ASSIGNMENT_STATUS_REQUEST:"UPDATE_ASSIGNMENT_STATUS_REQUEST",UPDATE_ASSIGNMENT_STATUS_SUCCESS:"UPDATE_ASSIGNMENT_STATUS_SUCCESS",UPDATE_ASSIGNMENT_STATUS_FAILURE:"UPDATE_ASSIGNMENT_STATUS_FAILURE",FETCH_STUDENT_TRACK_CHECKLIST_REQUEST:"FETCH_STUDENT_TRACK_CHECKLIST_REQUEST",FETCH_STUDENT_TRACK_CHECKLIST_SUCCESS:"FETCH_STUDENT_TRACK_CHECKLIST_SUCCESS",FETCH_STUDENT_TRACK_CHECKLIST_FAILURE:"FETCH_STUDENT_TRACK_CHECKLIST_FAILURE",SET_ASSIGNMENT_FEEDBACK_REQUEST:"SET_ASSIGNMENT_FEEDBACK_REQUEST",SET_ASSIGNMENT_FEEDBACK_SUCCESS:"SET_ASSIGNMENT_FEEDBACK_SUCCESS",SET_ASSIGNMENT_FEEDBACK_FAILURE:"SET_ASSIGNMENT_FEEDBACK_FAILURE",UPDATE_STUDENT_GRAD_VALIDATION_REQUEST:"UPDATE_STUDENT_GRAD_VALIDATION_REQUEST",UPDATE_STUDENT_GRAD_VALIDATION_SUCCESS:"UPDATE_STUDENT_GRAD_VALIDATION_SUCCESS",UPDATE_STUDENT_GRAD_VALIDATION_FAILURE:"UPDATE_STUDENT_GRAD_VALIDATION_FAILURE",SORT_TABLE:"SORT_TABLE",SET_SORT_TABLE:"SET_SORT_TABLE",LOADING_TABLE:"LOADING_TABLE",CHANGE_PROPS_VALUE_REQUEST:"CHANGE_PROPS_VALUE_REQUEST",MARK_DATE_AS_HOLIDAY_REQUEST:"MARK_DATE_AS_HOLIDAY_REQUEST",MARK_DATE_AS_HOLIDAY_SUCCESS:"MARK_DATE_AS_HOLIDAY_SUCCESS",MARK_DATE_AS_HOLIDAY_FAILURE:"MARK_DATE_AS_HOLIDAY_FAILURE",UNMARK_DATE_AS_HOLIDAY_REQUEST:"UNMARK_DATE_AS_HOLIDAY_REQUEST",UNMARK_DATE_AS_HOLIDAY_SUCCESS:"UNMARK_DATE_AS_HOLIDAY_SUCCESS",UNMARK_DATE_AS_HOLIDAY_FAILURE:"UNMARK_DATE_AS_HOLIDAY_FAILURE",ADMIN_GET_STUDENT_PROFILE_DATA_REQUEST:"ADMIN_GET_STUDENT_PROFILE_DATA_REQUEST",ADMIN_GET_STUDENT_PROFILE_DATA_SUCCESS:"ADMIN_GET_STUDENT_PROFILE_DATA_SUCCESS",ADMIN_GET_STUDENT_PROFILE_DATA_FAILURE:"ADMIN_GET_STUDENT_PROFILE_DATA_FAILURE",DEFAULT_ACTIVE_STEP:1,FETCH_WORKSPACES_REQUEST:"FETCH_WORKSPACES_REQUEST",FETCH_WORKSPACES_SUCCESS:"FETCH_WORKSPACES_SUCCESS",FETCH_WORKSPACES_FAILED:"FETCH_WORKSPACES_FAILED",FETCH_PROGRAM_BY_WORKSPACE_REQUEST:"FETCH_PROGRAM_BY_WORKSPACE_REQUEST",FETCH_PROGRAM_BY_WORKSPACE_SUCCESS:"FETCH_PROGRAM_BY_WORKSPACE_SUCCESS",FETCH_PROGRAM_BY_WORKSPACE_FAILED:"FETCH_PROGRAM_BY_WORKSPACE_FAILED",FETCH_HOLIDAY_BREAK_BY_DATE_REQUEST:"FETCH_HOLIDAY_BREAK_BY_DATE_REQUEST",FETCH_HOLIDAY_BREAK_BY_DATE_SUCCESS:"FETCH_HOLIDAY_BREAK_BY_DATE_SUCCESS",FETCH_HOLIDAY_BREAK_BY_DATE_FAILED:"FETCH_HOLIDAY_BREAK_BY_DATE_FAILED",RESET_STATE_VALUE:"RESET_STATE_VALUE",CHECK_USER_PROGRESS_ATTENDANCE_DETAILS:"CHECK_USER_PROGRESS_ATTENDANCE_DETAILS",RESET_DISPLAY_RESULTS_AND_PAGINATION:"RESET_DISPLAY_RESULTS_AND_PAGINATION",UNMOUNT_COURSE_DASHBOARD:"UNMOUNT_COURSE_DASHBOARD"},Ee={SORTABLE_COLUMNS:{time_asked:"date_posted",reply_view:"reply_count",total_question_likes:"upvote_count",total_answers_likes:"total_answers_likes",endorsed_answers:"total_endorsed_answers"},DEFAULT_VALUES:{records_per_page:15,first_page:1},ASSIGNMENT_MONITORING_FILTERS:{stack_start_date:"stack_start_date",programs:"programs",duration:"duration",stack:"stack",user:"user"},FETCH_ASSIGNMENT_MONITORING_FILTER_OPTIONS_REQUEST:"FETCH_ASSIGNMENT_MONITORING_FILTER_OPTIONS_REQUEST",FETCH_ASSIGNMENT_MONITORING_FILTER_OPTIONS_SUCCESS:"FETCH_ASSIGNMENT_MONITORING_FILTER_OPTIONS_SUCCESS",FETCH_ASSIGNMENT_MONITORING_FILTER_OPTIONS_FAILURE:"FETCH_ASSIGNMENT_MONITORING_FILTER_OPTIONS_FAILURE",FETCH_ASSIGNMENT_MONITORING_DATA_REQUEST:"FETCH_ASSIGNMENT_MONITORING_DATA_REQUEST",FETCH_ASSIGNMENT_MONITORING_DATA_SUCCESS:"FETCH_ASSIGNMENT_MONITORING_DATA_SUCCESS",FETCH_ASSIGNMENT_MONITORING_DATA_FAILURE:"FETCH_ASSIGNMENT_MONITORING_DATA_FAILURE",UPDATE_ASSIGNMENT_MONITORING_FILTER_OPTIONS_REQUEST:"UPDATE_ASSIGNMENT_MONITORING_FILTER_OPTIONS_REQUEST",UPDATE_ASSIGNMENT_MONITORING_FILTER_OPTIONS_SUCCESS:"UPDATE_ASSIGNMENT_MONITORING_FILTER_OPTIONS_SUCCESS",UPDATE_ASSIGNMENT_MONITORING_FILTER_OPTIONS_FAILURE:"UPDATE_ASSIGNMENT_MONITORING_FILTER_OPTIONS_FAILURE"},fe={0:"yellow",1:"red",2:"black",3:"orange",4:"white"},ge={down_vote:0,up_vote:1,endorsement:2,un_endorsement:3,neutral:4},ve={assignment_file:1e8,comment_img_file:2e7},be={STRING:{text:65535}},Se=1,Ae=1,ke=0,Oe={13:"Teaching Assistant",7:"Instructor",8:"Course Editor",9:"Business Admin",10:"Admin",99:"Super Admin"},Te={all:[1,2,3,4,5,6,7,8,9,10,11,12,13,16,17],codingdojo:1,saudi:2,palestine:3,chile:4,albania:5,ecuador:6,peru:7,costa_rica:8,philippines:9,colombia:10,uganda:11,dominican_republic:12,paraguay:13,cameroon:16,south_africa_umuzi:17},Ce={equal:187,minus:189,key_e:69,period:190,numpad_subtract:109,numpad_add:107,numpad_decimal:110,enter:13,left_arrow:37,right_arrow:39},we={input:"INPUT",textarea:"TEXTAREA",ask_question_edit_textarea:"ql-editor",ask_question_textarea:"ql-editor ql-blank"},ye=1,Re={all:{name:"ALL_DATES"},today:{name:"TODAY",default_value:0,default:"DAY"},yesterday:{name:"YESTERDAY",default_value:1,default:"DAY"},past_week:{name:"PAST WEEK",default_value:7,default:"DAY"},past_month:{name:"PAST_MONTH",default_value:1,default:"MONTH"},past_three_months:{name:"PAST_THREE_MONTHS",default_value:3,default:"MONTH"},past_six_months:{name:"PAST_SIX_MONTHS",default_value:6,default:"MONTH"},past_year:{name:"PAST_YEAR",default_value:1,default:"YEAR"}},De={us_domestics:{online:{default:3,parttime:10,fulltime:11,parttime_flex:27,program_management:33,mit:35,ios_parttime:37,programming_basics:53,parttime_2_stack:76,parttime_3_stack:78,self_pace_mentorship:29,wos:90,ux_ui:113,fulltime_pb:173,parttime_1_stack_pb:175,parttime_2_stack_pb:177,parttime_3_stack_pb:179,parttime_flex_pb:181},data_science:{online:22,onsite:23,onsite_5_days:25,online_12_week:49,online_16_week:127,online_20_week:159,ds_and_machine_learning:231},cyber_security:71}},Ue=[De.us_domestics.online.parttime,De.us_domestics.online.parttime_2_stack,De.us_domestics.online.parttime_3_stack],Ne={ASSIGNMENT_FORUM:{id:"ASSIGNMENT_FORUM",student:{user_level_ids:[D.STUDENT],allowed_stack_ids:[99],allowed_track_ids:[283,141,308],allowed_program_type_ids:[].concat(Ue,[De.us_domestics.online.parttime_flex]),allowed_stack_start_dates:["2022-01-10"]}}},Ie={FETCH_USER_FORUM_SUMMARY_REQUEST:"FETCH_USER_FORUM_SUMMARY_REQUEST",FETCH_USER_FORUM_SUMMARY_SUCCESS:"FETCH_USER_FORUM_SUMMARY_SUCCESS",FETCH_USER_FORUM_SUMMARY_FAILURE:"FETCH_USER_FORUM_SUMMARY_FAILURE",RESET_USER_FORUM_SUMMARIES:"RESET_USER_FORUM_SUMMARIES"},Pe={stack:0,stack_start_date:1,bootcamp_start_date:2},je={start_sence_error:"CD100",stop_sence_error:"CD101",student_data_not_found:"CD102",sence_access_expired:"CD103",sence_session_restart:"CD104"},Le={DEFAULT_VALUES:{records_per_page:15,first_page:1,codingdojo_workspace_id:1,order_field:"CONCAT(users.first_name, ' ', users.last_name)",sort_order:""},STATUS:{active:1,pending:2,disabled:3,deleted:4},FETCH_ACL_TOTAL_WORKSPACE_USER_REQUEST:"FETCH_ACL_TOTAL_WORKSPACE_USER_REQUEST",FETCH_ACL_TOTAL_WORKSPACE_USER_SUCCESS:"FETCH_ACL_TOTAL_WORKSPACE_USER_SUCCESS",FETCH_ACL_TOTAL_WORKSPACE_USER_FAILURE:"FETCH_ACL_TOTAL_WORKSPACE_USER_FAILURE",FETCH_ACL_LIST_REQUEST:"FETCH_ACL_LIST_REQUEST",FETCH_ACL_LIST_SUCCESS:"FETCH_ACL_LIST_SUCCESS",FETCH_ACL_LIST_FAILURE:"FETCH_ACL_LIST_FAILURE",UPDATE_WORKSPACE_USER_RECORD_REQUEST:"UPDATE_WORKSPACE_USER_RECORD_REQUEST",UPDATE_WORKSPACE_USER_RECORD_SUCCESS:"UPDATE_WORKSPACE_USER_RECORD_SUCCESS",UPDATE_WORKSPACE_USER_RECORD_FAILURE:"UPDATE_WORKSPACE_USER_RECORD_FAILURE",ADD_WORKSPACE_USER_REQUEST:"ADD_WORKSPACE_USER_REQUEST",ADD_WORKSPACE_USER_SUCCESS:"ADD_WORKSPACE_USER_SUCCESS",ADD_WORKSPACE_USER_FAILURE:"ADD_WORKSPACE_USER_FAILURE",RESEND_WORKSPACE_USER_INVITE_REQUEST:"RESEND_WORKSPACE_USER_INVITE_REQUEST",RESEND_WORKSPACE_USER_INVITE_SUCCESS:"RESEND_WORKSPACE_USER_INVITE_SUCCESS",RESEND_WORKSPACE_USER_INVITE_FAILURE:"RESEND_WORKSPACE_USER_INVITE_FAILURE",FETCH_EMAIL_ADDRESS_SUGGESTION_REQUEST:"FETCH_EMAIL_ADDRESS_SUGGESTION_REQUEST",FETCH_EMAIL_ADDRESS_SUGGESTION_SUCCESS:"FETCH_EMAIL_ADDRESS_SUGGESTION_SUCCESS",FETCH_EMAIL_ADDRESS_SUGGESTION_FAILURE:"FETCH_EMAIL_ADDRESS_SUGGESTION_FAILURE",PROCESS_ADD_USER_ACCESS_REQUEST:"PROCESS_ADD_USER_ACCESS_REQUEST",PROCESS_ADD_USER_ACCESS_SUCCESS:"PROCESS_ADD_USER_ACCESS_SUCCESS",PROCESS_ADD_USER_ACCESS_FAILURE:"PROCESS_ADD_USER_ACCESS_FAILURE",FETCH_ACCESS_CONTROL_FILTER_OPTIONS_REQUEST:"FETCH_ACCESS_CONTROL_FILTER_OPTIONS_REQUEST",FETCH_ACCESS_CONTROL_FILTER_OPTIONS_SUCCESS:"FETCH_ACCESS_CONTROL_FILTER_OPTIONS_SUCCESS",FETCH_ACCESS_CONTROL_FILTER_OPTIONS_FAILURE:"FETCH_ACCESS_CONTROL_FILTER_OPTIONS_FAILURE"},Me={YES_VALUE:1,NO_VALUE:0},Fe={FETCH_WORKSPACE_DATA_REQUEST:"FETCH_WORKSPACE_DATA_REQUEST",FETCH_WORKSPACE_DATA_SUCCESS:"FETCH_WORKSPACE_DATA_SUCCESS",FETCH_WORKSPACE_DATA_FAILURE:"FETCH_WORKSPACE_DATA_FAILURE",DELETE_WORKSPACE_DATA_REQUEST:"DELETE_WORKSPACE_DATA_REQUEST",DELETE_WORKSPACE_DATA_SUCCESS:"DELETE_WORKSPACE_DATA_SUCCESS",DELETE_WORKSPACE_DATA_FAILURE:"DELETE_WORKSPACE_DATA_FAILURE",ENABLE_DISABLE_WORKSPACE_DATA_REQUEST:"ENABLE_DISABLE_WORKSPACE_DATA_REQUEST",ENABLE_DISABLE_WORKSPACE_DATA_SUCCESS:"ENABLE_DISABLE_WORKSPACE_DATA_SUCCESS",ENABLE_DISABLE_WORKSPACE_DATA_FAILURE:"ENABLE_DISABLE_WORKSPACE_DATA_FAILURE",ADD_WORKSPACE_DATA_REQUEST:"ADD_WORKSPACE_DATA_REQUEST",ADD_WORKSPACE_DATA_SUCCESS:"ADD_WORKSPACE_DATA_SUCCESS",ADD_WORKSPACE_DATA_FAILURE:"ADD_WORKSPACE_DATA_FAILURE",UPDATE_WORKSPACE_DATA_REQUEST:"UPDATE_WORKSPACE_DATA_REQUEST",UPDATE_WORKSPACE_DATA_SUCCESS:"UPDATE_WORKSPACE_DATA_SUCCESS",UPDATE_WORKSPACE_DATA_FAILURE:"UPDATE_WORKSPACE_DATA_FAILURE",UPLOAD_WORKSPACE_ATTACHMENT_REQUEST:"UPLOAD_WORKSPACE_ATTACHMENT_REQUEST",UPLOAD_WORKSPACE_ATTACHMENT_SUCCESS:"UPLOAD_WORKSPACE_ATTACHMENT_SUCCESS",UPLOAD_WORKSPACE_ATTACHMENT_FAILURE:"UPLOAD_WORKSPACE_ATTACHMENT_FAILURE",RESET_ACTIVE_WORKSPACE_DATA:"RESET_ACTIVE_WORKSPACE_DATA"},xe={MOBILE:768,DESKTOP:769},Be="development",We={review_status:{for_review:1,no_review:0},name:{1:"On-Time",0:"Out-of-schedule",2:"Unsubmitted",4:"Need-Review"},value:{on_time:1,out_of_schedule:0,unsubmitted:2,is_for_review:4},option_index:{out_of_schedule:0,on_time:1,is_for_review:2}},He={1:{class:"green",status:"Present"},2:{class:"red",status:"Absent"},3:{class:"orange",status:"Late"},4:{class:"",status:"None"},5:{class:"dark_purple",status:"Excused"},6:{class:"",status:"--"}},Ke={metric_slots:{first:1,second:2,third:3},statuses:{present:1,absent:2,late:3,none:4,excused_absence:5,no_status:6},default_program_attendance_requirement:80},Ge={FULL_TIME:["Algo","Lecture","Afternoon"],PART_TIME:["Attended","Attended","Attended"]},Ve=["late","completed","missed","no_status","need_review"],qe={track:1,week:2},Ye={status:{live:1,disabled:2,unpublished:3,deleted:4}},Qe=1,$e={interfaces:{classic:"lp3-classic",elearning:"lp3-elearning"},google_analytics_tracking_id:{classic:"UA-115891107-2",elearning:"313570748"},maintenance_banners:[],update_banners:[{title:"Product Updates (LP3 ".concat("3.6.22.7",")"),description:"Learn Platform Updates!",date_posted:"",release_notes:[]}]},ze={FETCH_SURVEY_MANAGEMENT_DATA_REQUEST:"FETCH_SURVEY_MANAGEMENT_DATA_REQUEST",FETCH_SURVEY_MANAGEMENT_DATA_SUCCESS:"FETCH_SURVEY_MANAGEMENT_DATA_SUCCESS",FETCH_SURVEY_MANAGEMENT_DATA_FAILURE:"FETCH_SURVEY_MANAGEMENT_DATA_FAILURE",PROCESS_SURVEY_STATUS_REQUEST:"PROCESS_SURVEY_STATUS_REQUEST",PROCESS_SURVEY_STATUS_SUCCESS:"PROCESS_SURVEY_STATUS_SUCCESS",PROCESS_SURVEY_STATUS_FAILURE:"PROCESS_SURVEY_STATUS_FAILURE",ADD_SURVEY_MANAGEMENT_ITEM_REQUEST:"ADD_SURVEY_MANAGEMENT_ITEM_REQUEST",ADD_SURVEY_MANAGEMENT_ITEM_SUCCESS:"ADD_SURVEY_MANAGEMENT_ITEM_SUCCESS",ADD_SURVEY_MANAGEMENT_ITEM_FAILURE:"ADD_SURVEY_MANAGEMENT_ITEM_FAILURE",FETCH_CUSTOM_SURVEY_TYPE_REQUEST:"FETCH_CUSTOM_SURVEY_TYPE_REQUEST",FETCH_CUSTOM_SURVEY_TYPE_SUCCESS:"FETCH_CUSTOM_SURVEY_TYPE_SUCCESS",FETCH_CUSTOM_SURVEY_TYPE_FAILURE:"FETCH_CUSTOM_SURVEY_TYPE_FAILURE",UPDATE_CUSTOM_SURVEY_TYPE_REQUEST:"UPDATE_CUSTOM_SURVEY_TYPE_REQUEST",UPDATE_CUSTOM_SURVEY_TYPE_SUCCESS:"UPDATE_CUSTOM_SURVEY_TYPE_SUCCESS",UPDATE_CUSTOM_SURVEY_TYPE_FAILURE:"UPDATE_CUSTOM_SURVEY_TYPE_FAILURE",DELETE_SURVEY_REQUEST:"DELETE_SURVEY_REQUEST",DELETE_SURVEY_SUCCESS:"DELETE_SURVEY_SUCCESS",DELETE_SURVEY_FAILURE:"DELETE_SURVEY_FAILURE",UPDATE_SURVEY_DETAILS_REQUEST:"UPDATE_SURVEY_DETAILS_REQUEST",UPDATE_SURVEY_DETAILS_SUCCESS:"UPDATE_SURVEY_DETAILS_SUCCESS",UPDATE_SURVEY_DETAILS_FAILURE:"UPDATE_SURVEY_DETAILS_FAILURE",UPDATE_SURVEY_MANAGEMENT_FILTERS_REQUEST:"UPDATE_SURVEY_MANAGEMENT_FILTERS_REQUEST",UPDATE_SURVEY_MANAGEMENT_FILTERS_SUCCESS:"UPDATE_SURVEY_MANAGEMENT_FILTERS_SUCCESS",UPDATE_SURVEY_MANAGEMENT_FILTERS_FAILURE:"UPDATE_SURVEY_MANAGEMENT_FILTERS_FAILURE",FETCH_BY_FILTER_SURVEY_RECORDS_REQUEST:"FETCH_BY_FILTER_SURVEY_RECORDS_REQUEST",FETCH_BY_FILTER_SURVEY_RECORDS_SUCCESS:"FETCH_BY_FILTER_SURVEY_RECORDS_SUCCESS",FETCH_BY_FILTER_SURVEY_RECORDS_FAILURE:"FETCH_BY_FILTER_SURVEY_RECORDS_FAILURE",FETCH_ADMIN_SURVEY_DROPDOWNS_REQUEST:"FETCH_ADMIN_SURVEY_DROPDOWNS_REQUEST",FETCH_ADMIN_SURVEY_DROPDOWNS_SUCCESS:"FETCH_ADMIN_SURVEY_DROPDOWNS_SUCCESS",FETCH_ADMIN_SURVEY_DROPDOWNS_FAILURE:"FETCH_ADMIN_SURVEY_DROPDOWNS_FAILURE",UPDATE_SURVEY_DROPDOWN_DATA_REQUEST:"UPDATE_SURVEY_DROPDOWN_DATA_REQUEST",UPDATE_SURVEY_DROPDOWN_DATA_SUCCESS:"UPDATE_SURVEY_DROPDOWN_DATA_SUCCESS",UPDATE_SURVEY_DROPDOWN_DATA_FAILURE:"UPDATE_SURVEY_DROPDOWN_DATA_FAILURE",CHECK_DUPLICATE_SURVEY_NAME_REQUEST:"CHECK_DUPLICATE_SURVEY_NAME_REQUEST",CHECK_DUPLICATE_SURVEY_NAME_SUCCESS:"CHECK_DUPLICATE_SURVEY_NAME_SUCCESS",CHECK_DUPLICATE_SURVEY_NAME_FAILURE:"CHECK_DUPLICATE_SURVEY_NAME_FAILURE",SURVEY_FREQUENCY_DAYS_LABEL:{0:"Duration",1:"Daily",2:"Thrice a week",3:"Twice a week",7:"Once a week"},LAST_MANUALLY_INSERTED_CD_SURVEY_SCHED_ID:28,ADMIN_SURVEY_DROPDOWN_TEMPLATE:{"Survey Type":{name:"Survey Type",options:[],selected:[]},Programs:{name:"Programs",options:[],selected:[]},Course:{name:"Course",options:[],selected:[]},"Course Start Date":{name:"Course Start Date",options:[],selected:[]},Schedule:{name:"Schedule",is_show_search:!1,is_multi_select:!1,survey_name:"schedule",selected:[],options:[{label:"Duration",value:0},{label:"Daily",value:1},{label:"Thrice a week",value:2},{label:"Twice a week",value:3},{label:"Once a week",value:7}]},Status:{name:"Status",is_show_search:!1,is_multi_select:!1,survey_name:"status",selected:[],options:[{label:"Active",value:1},{label:"Inactive",value:0}]}},ADMIN_SURVEY_DROPDOWNS:{general:"All Surveys",programs:"Programs",course:"Course",course_start_date:"Course Start Date",status:"Status",type:"Survey Type",schedule:"Schedule"},EXCLUDED_WORKSPACE_IDS:[2]},Je={GET_STUDENT_ACCESS_FILTERS_REQUEST:"GET_STUDENT_ACCESS_FILTERS_REQUEST",GET_STUDENT_ACCESS_FILTERS_SUCCESS:"GET_STUDENT_ACCESS_FILTERS_SUCCESS",GET_STUDENT_ACCESS_FILTERS_FAILURE:"GET_STUDENT_ACCESS_FILTERS_FAILURE",UPDATE_STUDENT_ACCESS_FILTER_OPTIONS_REQUEST:"UPDATE_STUDENT_ACCESS_FILTER_OPTIONS_REQUEST",UPDATE_STUDENT_ACCESS_FILTER_OPTIONS_SUCCESS:"UPDATE_STUDENT_ACCESS_FILTER_OPTIONS_SUCCESS",UPDATE_STUDENT_ACCESS_FILTER_OPTIONS_FAILURE:"UPDATE_STUDENT_ACCESS_FILTER_OPTIONS_FAILURE",GET_FILTERED_STUDENTS_REQUEST:"GET_FILTERED_STUDENTS_REQUEST",GET_FILTERED_STUDENTS_SUCCESS:"GET_FILTERED_STUDENTS_SUCCESS",GET_FILTERED_STUDENTS_FAILURE:"GET_FILTERED_STUDENTS_FAILURE",GET_STUDENT_PROFILE_DETAILS_REQUEST:"GET_STUDENT_PROFILE_DETAILS_REQUEST",GET_STUDENT_PROFILE_DETAILS_SUCCESS:"GET_STUDENT_PROFILE_DETAILS_SUCCESS",GET_STUDENT_PROFILE_DETAILS_FAILURE:"GET_STUDENT_PROFILE_DETAILS_FAILURE",ADD_STUDENT_ACCESS_ITEM_REQUEST:"ADD_STUDENT_ACCESS_ITEM_REQUEST",ADD_STUDENT_ACCESS_ITEM_SUCCESS:"ADD_STUDENT_ACCESS_ITEM_SUCCESS",ADD_STUDENT_ACCESS_ITEM_FAILURE:"ADD_STUDENT_ACCESS_ITEM_FAILURE",UPLOAD_CSV_STUDENT_ACCESS_ITEM_REQUEST:"UPLOAD_CSV_STUDENT_ACCESS_ITEM_REQUEST",UPLOAD_CSV_STUDENT_ACCESS_ITEM_SUCCESS:"UPLOAD_CSV_STUDENT_ACCESS_ITEM_SUCCESS",UPLOAD_CSV_STUDENT_ACCESS_ITEM_FAILURE:"UPLOAD_CSV_STUDENT_ACCESS_ITEM_FAILURE",RESET_STUDENT_ACCESS_PROPS:"RESET_STUDENT_ACCESS_PROPS",UPDATE_STUDENT_PROGRAM_ACCESS_REQUEST:"UPDATE_STUDENT_PROGRAM_ACCESS_REQUEST",UPDATE_STUDENT_PROGRAM_ACCESS_SUCCESS:"UPDATE_STUDENT_PROGRAM_ACCESS_SUCCESS",UPDATE_STUDENT_PROGRAM_ACCESS_FAILURE:"UPDATE_STUDENT_PROGRAM_ACCESS_FAILURE",ADMIN_GET_STUDENT_PROFILE_DATA_REQUEST:"ADMIN_GET_STUDENT_PROFILE_DATA_REQUEST",ADMIN_GET_STUDENT_PROFILE_DATA_SUCCESS:"ADMIN_GET_STUDENT_PROFILE_DATA_SUCCESS",ADMIN_GET_STUDENT_PROFILE_DATA_FAILURE:"ADMIN_GET_STUDENT_PROFILE_DATA_FAILURE",FETCH_STUDENT_NOTE_REQUEST:"FETCH_STUDENT_NOTE_REQUEST",FETCH_STUDENT_NOTE_SUCCESS:"FETCH_STUDENT_NOTE_SUCCESS",FETCH_STUDENT_NOTE_FAILURE:"FETCH_STUDENT_NOTE_FAILURE",ADD_STUDENT_NOTE_REQUEST:"ADD_STUDENT_NOTE_REQUEST",ADD_STUDENT_NOTE_SUCCESS:"ADD_STUDENT_NOTE_SUCCESS",ADD_STUDENT_NOTE_FAILURE:"ADD_STUDENT_NOTE_FAILURE",DELETE_STUDENT_NOTE_REQUEST:"DELETE_STUDENT_NOTE_REQUEST",DELETE_STUDENT_NOTE_SUCCESS:"DELETE_STUDENT_NOTE_SUCCESS",DELETE_STUDENT_NOTE_FAILURE:"DELETE_STUDENT_NOTE_FAILURE",UPDATE_STUDENT_NOTE_REQUEST:"UPDATE_STUDENT_NOTE_REQUEST",UPDATE_STUDENT_NOTE_SUCCESS:"UPDATE_STUDENT_NOTE_SUCCESS",UPDATE_STUDENT_NOTE_FAILURE:"UPDATE_STUDENT_NOTE_FAILURE",GET_STUDENT_NEXT_STACKS_OPTIONS_REQUEST:"GET_STUDENT_NEXT_STACKS_OPTIONS_REQUEST",GET_STUDENT_NEXT_STACKS_OPTIONS_SUCCESS:"GET_STUDENT_NEXT_STACKS_OPTIONS_SUCCESS",GET_STUDENT_NEXT_STACKS_OPTIONS_FAILURE:"GET_STUDENT_NEXT_STACKS_OPTIONS_FAILURE",UPDATE_STUDENT_STACK_ACCESS_REQUEST:"UPDATE_STUDENT_STACK_ACCESS_REQUEST",UPDATE_STUDENT_STACK_ACCESS_SUCCESS:"UPDATE_STUDENT_STACK_ACCESS_SUCCESS",UPDATE_STUDENT_STACK_ACCESS_FAILURE:"UPDATE_STUDENT_STACK_ACCESS_FAILURE",PROCESS_STUDENT_NEXT_STACK_REQUEST:"PROCESS_STUDENT_NEXT_STACK_REQUEST",PROCESS_STUDENT_NEXT_STACK_SUCCESS:"PROCESS_STUDENT_NEXT_STACK_SUCCESS",PROCESS_STUDENT_NEXT_STACK_FAILURE:"PROCESS_STUDENT_NEXT_STACK_FAILURE",UPDATE_STUDENT_STACK_REQUEST:"UPDATE_STUDENT_STACK_REQUEST",UPDATE_STUDENT_STACK_SUCCESS:"UPDATE_STUDENT_STACK_SUCCESS",UPDATE_STUDENT_STACK_FAILURE:"UPDATE_STUDENT_STACK_FAILURE",DELETE_STUDENT_MINOR_STACK_REQUEST:"DELETE_STUDENT_MINOR_STACK_REQUEST",DELETE_STUDENT_MINOR_STACK_SUCCESS:"DELETE_STUDENT_MINOR_STACK_SUCCESS",DELETE_STUDENT_MINOR_STACK_FAILURE:"DELETE_STUDENT_MINOR_STACK_FAILURE",GET_STUDENT_EXAM_HISTORIES_REQUEST:"GET_STUDENT_EXAM_HISTORIES_REQUEST",GET_STUDENT_EXAM_HISTORIES_SUCCESS:"GET_STUDENT_EXAM_HISTORIES_SUCCESS",GET_STUDENT_EXAM_HISTORIES_FAILURE:"GET_STUDENT_EXAM_HISTORIES_FAILURE",GET_REQUIRED_DATA_FOR_CREATE_STUDENT_REQUEST:"GET_REQUIRED_DATA_FOR_CREATE_STUDENT_REQUEST",GET_REQUIRED_DATA_FOR_CREATE_STUDENT_SUCCESS:"GET_REQUIRED_DATA_FOR_CREATE_STUDENT_SUCCESS",GET_REQUIRED_DATA_FOR_CREATE_STUDENT_FAILURE:"GET_REQUIRED_DATA_FOR_CREATE_STUDENT_FAILURE",FETCH_CAMPUS_LOCATION_REQUEST:"FETCH_CAMPUS_LOCATION_REQUEST",FETCH_CAMPUS_LOCATION_SUCCESS:"FETCH_CAMPUS_LOCATION_SUCCESS",FETCH_CAMPUS_LOCATION_FAILURE:"FETCH_CAMPUS_LOCATION_FAILURE",CHANGE_ACTIVE_WORKSPACE_REQUEST:"CHANGE_ACTIVE_WORKSPACE_REQUEST",CHANGE_ACTIVE_WORKSPACE_SUCCESS:"CHANGE_ACTIVE_WORKSPACE_SUCCESS",CHANGE_ACTIVE_WORKSPACE_FAILURE:"CHANGE_ACTIVE_WORKSPACE_FAILURE",UPDATE_BOOTCAMP_EXPIRATION_REQUEST:"UPDATE_BOOTCAMP_EXPIRATION_REQUEST",UPDATE_BOOTCAMP_EXPIRATION_SUCCESS:"UPDATE_BOOTCAMP_EXPIRATION_SUCCESS",UPDATE_BOOTCAMP_EXPIRATION_FAILURE:"UPDATE_BOOTCAMP_EXPIRATION_FAILURE",TRIGGER_AUTO_SHOW_NOTE_FEEDBACKS_REQUEST:"TRIGGER_AUTO_SHOW_NOTE_FEEDBACKS_REQUEST",TRIGGER_AUTO_SHOW_NOTE_FEEDBACKS_SUCCESS:"TRIGGER_AUTO_SHOW_NOTE_FEEDBACKS_SUCCESS",TRIGGER_AUTO_SHOW_NOTE_FEEDBACKS_FAILURE:"TRIGGER_AUTO_SHOW_NOTE_FEEDBACKS_FAILURE",GET_STUDENT_INFO_REQUEST:"GET_STUDENT_INFO_REQUEST",GET_STUDENT_INFO_SUCCESS:"GET_STUDENT_INFO_SUCCESS",GET_STUDENT_INFO_FAILURE:"GET_STUDENT_INFO_FAILURE"},Xe={no_access:{value:0,name:"No Access"},read_only:{value:1,name:"R"},read_write:{value:2,name:"RW"}},Ze={pass:8},et={student_rostering:{student_roster:"rostering",student_matching:"student_matching"},stack_dashboard:"stack_dashboard",student_progress:{by_stack:"student_progress_by_stack",new_by_stack:"student_progress_new_by_stack",by_program:"student_progress_by_program",by_program_rev:"student_progress_by_program_rev",number_of_filters:{by_stack:8,by_program:4}},student_exam:{exam:"exam"},instruction:{live_lecture:"live_lecture",resource_center:"resource_center"},access:{student_access:"student_access"},survey_management:{survey_management:"survey_management"},course_calendar:{course_schedule:"course_schedule",number_of_filters:{course_schedule_modal:4}}},tt={assignment_feedback:1,performance_review:2,transcript_note:3,exam_feedback:4},at=0,nt={fastest:150,faster:300,fast:500,normal:1e3,slow:1500,slower:2e3,slowest:3e3},st={email_validation:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,comma_white_space:/,\s+/g,comma_new_line:/[\n,\s+]/,dropdown_filter_search_validation:/[\xb0"\xa7%()*\[\]{}=\\?\xb4`'#<>|;.:+_]+/g},rt={track_difficulty_level:{1:"beginner",2:"advanced"},default_bookmark_value:{track_course_id:0,chapter_module_id:0}},ot={CORE_ASSIGNMENT_DATA:1,ATTENDANCE_DATA:2,BELT_EXAM_RESULTS_DATA:3},it={current_student:1,free_seat:2,graduate_user:3,alumni_pass_user:4,corporate:5,corporate_demo:6,admin_instructor:7,admin_course_editor:8,admin:9,super_admin:10,blocked:11,dropped:12,new_super_admin:99},ct={major_stacks:"major_stacks",minor_stacks:"minor_stacks",notes:"notes",assignments:"assignments",attendances:"attendances",exam_records:"exam_records",student_info:"student_info"},_t={major:"Major life event",minor:"Minor life event",no_life_event:"No life event"},lt={student_page:{dashboard:"Learn - Student Dashboard",courses:"Learn - Student Courses",course_overview:"Learn - Student Course Overview",assignment_checklist:"Learn - Student Assignment Checklist",stats:"Learn - Student Stats",exams:"Learn - Student Exams",contact:"Learn - Contact",login:"Learn - Log In",signin:"Learn - Sign In",signup:"Learn - Sign Up"},admin_page:{roster:"Learn - Admin Student Rostering Roster",matching:"Learn - Admin Student Rostering Matching",course_dashboard:"Learn - Admin Course Dashboard",by_course:"Learn - Admin Student Progress By Course",by_program:"Learn - Admin Student Progress By Program",access:"Learn - Admin Student Access",workspace_management:"Learn - Admin Workspace Management",access_control:"Learn - Admin Access Control",exam_app:"Learn - Admin Exam App",curriculum_management:"Learn - Admin Curriculum Management",course_schedule:"Learn - Admin Course Schedule",survey_management:"Learn - Survey Management"}},dt={behavior:"smooth",inline:"center"},ut={FETCH_COURSE_SCHEDULE_DATA_REQUEST:"FETCH_COURSE_SCHEDULE_DATA_REQUEST",FETCH_COURSE_SCHEDULE_DATA_SUCCESS:"FETCH_COURSE_SCHEDULE_DATA_SUCCESS",FETCH_COURSE_SCHEDULE_DATA_FAILURE:"FETCH_COURSE_SCHEDULE_DATA_FAILURE",ADD_COURSE_SCHEDULE_DATA_REQUEST:"ADD_COURSE_SCHEDULE_DATA_REQUEST",ADD_COURSE_SCHEDULE_DATA_SUCCESS:"ADD_COURSE_SCHEDULE_DATA_SUCCESS",ADD_COURSE_SCHEDULE_DATA_FAILURE:"ADD_COURSE_SCHEDULE_DATA_FAILURE",FETCH_COURSE_SCHEDULE_DEFAULT_FILTER_REQUEST:"FETCH_COURSE_SCHEDULE_DEFAULT_FILTER_REQUEST",FETCH_COURSE_SCHEDULE_DEFAULT_FILTER_SUCCESS:"FETCH_COURSE_SCHEDULE_DEFAULT_FILTER_SUCCESS",FETCH_COURSE_SCHEDULE_DEFAULT_FILTER_FAILURE:"FETCH_COURSE_SCHEDULE_DEFAULT_FILTER_FAILURE",FETCH_COURSE_SCHEDULE_MODAL_FILTER_REQUEST:"FETCH_COURSE_SCHEDULE_MODAL_FILTER_REQUEST",FETCH_COURSE_SCHEDULE_MODAL_FILTER_SUCCESS:"FETCH_COURSE_SCHEDULE_MODAL_FILTER_SUCCESS",FETCH_COURSE_SCHEDULE_MODAL_FILTER_FAILURE:"FETCH_COURSE_SCHEDULE_MODAL_FILTER_FAILURE",UPDATE_SELECTED_FILTER_REQUEST:"UPDATE_SELECTED_FILTER_REQUEST",UPDATE_SELECTED_FILTER_SUCCESS:"UPDATE_SELECTED_FILTER_SUCCESS",UPDATE_SELECTED_FILTER_FAILURE:"UPDATE_SELECTED_FILTER_FAILURE",UPDATE_COURSE_SCHEDULE_REQUEST:"UPDATE_COURSE_SCHEDULE_REQUEST",UPDATE_COURSE_SCHEDULE_SUCCESS:"UPDATE_COURSE_SCHEDULE_SUCCESS",UPDATE_COURSE_SCHEDULE_FAILURE:"UPDATE_COURSE_SCHEDULE_FAILURE",DELETE_COURSE_SCHEDULE_DATA_REQUEST:"DELETE_COURSE_SCHEDULE_DATA_REQUEST",DELETE_COURSE_SCHEDULE_DATA_SUCCESS:"DELETE_COURSE_SCHEDULE_DATA_SUCCESS",DELETE_COURSE_SCHEDULE_DATA_FAILURE:"DELETE_COURSE_SCHEDULE_DATA_FAILURE",UPDATE_IS_SHOW_COURSE_SCHEDULE_TOAST_REQUEST:"UPDATE_IS_SHOW_COURSE_SCHEDULE_TOAST_REQUEST",UPDATE_FILTER_DROPDOWN_SELECTED_VALUE_PROPS_REQUEST:"UPDATE_FILTER_DROPDOWN_SELECTED_VALUE_PROPS_REQUEST",UPDATE_EVENT_TYPES_FILTER_PROPS_REQUEST:"UPDATE_EVENT_TYPES_FILTER_PROPS_REQUEST",RESET_COURSE_SCHEDULE_DATA_WHEN_UNMOUNT_REQUEST:"RESET_COURSE_SCHEDULE_DATA_WHEN_UNMOUNT_REQUEST",FETCH_CALENDAR_EVENTS_REQUEST:"FETCH_CALENDAR_EVENTS_REQUEST",FETCH_CALENDAR_EVENTS_SUCCESS:"FETCH_CALENDAR_EVENTS_SUCCESS",FETCH_CALENDAR_EVENTS_FAILURE:"FETCH_CALENDAR_EVENTS_FAILURE"},pt={page:{backgroundColor:"white",padding:20},header:{textAlign:"center",borderBottom:"1px solid black"},cd_logo:{width:90,position:"absolute",top:5},title:{fontSize:16,fontWeight:200,marginBottom:3},address:{fontSize:9,fontWeight:200,marginBottom:5,marginTop:5},student_info:{borderBottom:"1px solid black",paddingTop:15,paddingBottom:15,display:"flex",flexWrap:"wrap",flexDirection:"row"},section:{borderBottom:"1px solid black",paddingTop:15,paddingBottom:15},row:{display:"flex",flexDirection:"row"},text_block:{width:"29%",marginRight:24,marginBottom:20},label:{fontSize:10,textTransform:"uppercase",fontWeight:700},value:{fontSize:12,fontWeight:200},stack_label:{fontSize:10,fontWeight:700,width:"100%",textTransform:"uppercase"},stack_value:{fontSize:9,fontWeight:200,width:"100%",paddingRight:15},stack_title:{fontSize:8,fontWeight:200,textTransform:"uppercase"},signature:{fontSize:10,fontWeight:700,position:"absolute",right:50,bottom:25},signature_image:{width:120,position:"absolute",top:"-150%",left:"-20px"}},mt={DOWNLOAD_GET_PRESIGNED_URL_REQUEST:"DOWNLOAD_GET_PRESIGNED_URL_REQUEST",DOWNLOAD_GET_PRESIGNED_URL_SUCCESS:"DOWNLOAD_GET_PRESIGNED_URL_SUCCESS",DOWNLOAD_GET_PRESIGNED_URL_FAILURE:"DOWNLOAD_GET_PRESIGNED_URL_FAILURE",DOWNLOAD_GET_PRESIGNED_URL_RESET:"DOWNLOAD_GET_PRESIGNED_URL_RESET",UPLOAD_FILE_REQUEST:"UPLOAD_FILE_REQUEST",UPLOAD_FILE_SUCCESS:"UPLOAD_FILE_SUCCESS",UPLOAD_FILE_FAILURE:"UPLOAD_FILE_FAILURE"},ht={presigned_url:{actions:{upload:{request:"UPLOAD_FILE_REQUEST",success:"UPLOAD_FILE_SUCCESS",failure:"UPLOAD_FILE_FAILURE"},download:{request:"DOWNLOAD_GET_PRESIGNED_URL_REQUEST",success:"DOWNLOAD_GET_PRESIGNED_URL_SUCCESS",failure:"DOWNLOAD_GET_PRESIGNED_URL_FAILURE",reset:"DOWNLOAD_GET_PRESIGNED_URL_RESET"}},download_by_page:{exam:{user_file_type:"exam_file"},student_progress_by_stack:{user_file_type:"assignment_file"},"my-files":{user_file_type:"my_file"},todo:{user_file_type:"assignment_file"},checklists:{user_file_type:"assignment_file"}}}};t.gc=Object.assign({},{APIConstants:l},{BookmarkConstants:m},{ChapterSurveyConstants:S},{CoursePageConstants:b},{DiscussionConstants:pe},{EnrolledTrackConstants:h},{FAQConstants:E},{TrackConstants:u},{UserChecklistConstants:f},{UserConstants:d},{UserDashboardConstants:v},{UserExamConstants:A},{AdminExamConstants:k},{ALGO_APP_CONTENT_ID:Y},{EnrollAppConstants:O},{UserSessionPageConstants:ee},{LESSON_MODULE:0},{QUIZ_MODULE:te},{TODO_MODULE:2},{ADMIN_MODULE:3},{MODULE_TYPES:ae},{SurveyFrequencyDays:{ONE_TIME:0,EVERYDAY:1,EVERY_TWO_DAYS:2,EVERY_THREE_DAYS:3,EVERY_WEEK:7,MONTHLY:30}},{SurveyReceipientTypes:{ALL_CURRENT_STUDENTS:1,ALL_ALUMNI:2,BY_COHORT:3,BY_STACK:4,BY_LOCATION:5}},{SurveyCodes:{1:"tGgzZC2q",2:"QLypVTE6",3:"QLypVTE6",4:"QLypVTE6",5:"QLypVTE6",6:"XfbavkkQ",7:"swuvmlQ6",8:"GXSP20UQ",9:"GXSP20UQ",10:"GXSP20UQ",11:"QLypVTE6",12:"QLypVTE6",13:"QLypVTE6",14:"QLypVTE6",15:"QLypVTE6",16:"QLypVTE6"}},{fixedSurveyScheduleIds:x},{dailySurveyScheduleIds:H},{mandatoryOneTimeSurveyScheduleIds:W},{TYPE_FORM_CODINGDOJO_LINK:F},{SurveyConstants:G},{USERS_TO_TRACK:Q},{USER_FILE_TYPES:oe},{AdminRosterStudentMatchingConstants:me},{BELT_STACKS:{0:{label:"WebFun"},1:{label:"LAMP"},2:{label:"MEAN"},3:{label:"Python"},4:{label:"Rails"},5:{label:"iOS"},6:{label:"C#/.Net"},7:{label:"Java"},8:{label:"MERN"},9:{label:"Programming Basics"}}},{BELT_COLORS:fe},{TypeformSurveyCodes:K},{ADMIN_LEVELS:Oe},{WORKSPACE_IDS:Te},{KEY_CODES:Ce},{YES:ye},{TIME_EXPRESSIONS:Re},{BOOTCAMP_TYPES:De},{PART_TIME_ACCELERATED_PROGRAMS:Ue},{USER_PRIVILEGES:Ne},{ADMIN_USERS:U},{UserForumSummaryConstants:Ie},{AccessControlConstants:Le},{BOOLEAN_FIELD:Me},{ModuleTypeClassName:M},{WorkspaceManagementConstants:Fe},{CourseScheduleConstants:ut},{ADMIN_FILTER_NAME_INDEX:Pe},{VIEW_WIDTH:xe},{LOCAL_ENV:Be},{ASSIGNMENT_STATUS_DROPDOWN:We},{ATTENDANCE_STATS_STATUS:He},{STATS_DROPDOWN_ROLE:qe},{CAPABILITIES:Xe},{EXAM_SCORE:Ze},{WORKSPACE_SETTINGS:Ye},{APP_SETTINGS:$e},{DEFAULT_STACK_IDS:{web_fun_stack_id:99}},{TIMEOUT_SPEED:nt},{PAGE_TITLE:lt},{COURSE_INTRO_CONSTANTS:rt},{StudentAccessConstants:Je},{ADMIN_PAGES:et},{EXPECTED_LIFE_EVENTS_LABELS:_t},{USER_LEVELS:it},{S3Settings:ht},{S3FileConstants:mt})},105:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var n=a(5),s=a(7),r=a(6),o=a(1),i=a(2),c=a(186),_=new(function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e,s,r;Object(n.a)(this,a),(r=t.call(this)).uploadToDoFile=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/todo/upload_s3"),e,!0,!0).then(i.z).then((function(e){return e.token&&localStorage.setItem("__BarioOtsoOtso__",e.token),e}))},r.uploadToDoGithubLink=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/todo/upload_github"),e,!0).then(i.z).then((function(e){return e.token&&localStorage.setItem("__BarioOtsoOtso__",e.token),e}))},r.deleteAssignmentFile=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/todo/delete/").concat(e.file_id),e,!0).then(i.z).then((function(e){return e}))},r.startToDoTask=function(e,t){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/todo/start_task/").concat(e),t,!0).then(i.z).then((function(e){return e}))},r.getToDoSolution=function(e,t){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/todo/solution/data/").concat(e),t,!0).then(i.z).then((function(e){return e}))},r.getToDoSolutionFileContent=function(e,t){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/todo/solution/content/").concat(e),t,!0).then(i.z).then((function(e){return e}))},r.CurrentUser=new c.a(null);var _=Object(i.y)();return r.API_pre_link=(null===_||void 0===_||null===(e=_.user_details)||void 0===e||null===(s=e.general)||void 0===s?void 0:s.trial_platform_mode)?"/t":"",r}return a}(a(34).a))},114:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var n=a(5),s=a(1),r=a(7),o=a(6),i=a(2),c=new(function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){var e,r,o;Object(n.a)(this,a),(o=t.call(this)).fetchUserForumSummary=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/user_forum_summaries/fetch_user_forum_summary"),e,!0).then(i.z).then((function(e){return e})).catch((function(e){console.log(e)}))};var c=Object(i.y)();return o.API_pre_link=(null===c||void 0===c||null===(e=c.user_details)||void 0===e||null===(r=e.general)||void 0===r?void 0:r.trial_platform_mode)?"/t":"",o}return a}(a(34).a)),_=new function e(){Object(n.a)(this,e),this.fetchUserForumSummary=function(e){return function(t){t(Object(i.A)({type:s.Rb.FETCH_USER_FORUM_SUMMARY_REQUEST},{})),c.fetchUserForumSummary(e).then((function(e){(null===e||void 0===e?void 0:e.status)?t(Object(i.A)({type:s.Rb.FETCH_USER_FORUM_SUMMARY_SUCCESS},{forum_summary_details:e.result})):t(Object(i.A)({type:s.Rb.FETCH_USER_FORUM_SUMMARY_FAILURE},{error:(null===e||void 0===e?void 0:e.message)||"Something went wrong"}))}),(function(e){var a=Object(i.c)(e);t(Object(i.A)({type:s.Rb.FETCH_USER_FORUM_SUMMARY_FAILURE},{error:a}))}))}},this.resetUserForumSummaries=function(){return function(e){e(Object(i.A)({type:s.Rb.RESET_USER_FORUM_SUMMARIES},{}))}}}},1176:function(e,t,a){},1177:function(e,t,a){},1178:function(e,t,a){},1179:function(e,t,a){},1180:function(e,t,a){},1181:function(e,t,a){},1182:function(e,t,a){},1183:function(e,t,a){},1184:function(e,t,a){},1185:function(e,t,a){},1197:function(e,t,a){},1198:function(e,t,a){},1199:function(e,t,a){},1200:function(e,t,a){},1201:function(e,t,a){},1202:function(e,t,a){},1203:function(e,t,a){},1204:function(e,t,a){},1205:function(e,t,a){},1206:function(e,t,a){},1207:function(e,t,a){},1208:function(e,t,a){},1209:function(e,t,a){},1210:function(e,t,a){},1211:function(e,t,a){},1212:function(e,t,a){},1213:function(e,t,a){},1214:function(e,t,a){},1215:function(e,t,a){},1216:function(e,t,a){},1218:function(e,t,a){},1219:function(e,t,a){},1220:function(e,t,a){},1221:function(e,t,a){},1224:function(e,t,a){},1225:function(e,t,a){},1226:function(e,t,a){},1227:function(e,t,a){},1228:function(e,t,a){},1229:function(e,t,a){},1230:function(e,t,a){},1231:function(e,t,a){},1232:function(e,t,a){},1233:function(e,t,a){},1234:function(e,t,a){},1235:function(e,t,a){},1237:function(e,t,a){},1238:function(e,t,a){},1239:function(e,t,a){},1240:function(e,t,a){},1241:function(e,t,a){},1242:function(e,t,a){},1243:function(e,t,a){},1244:function(e,t,a){},1245:function(e,t,a){},1246:function(e,t,a){},1247:function(e,t,a){},1248:function(e,t,a){},1249:function(e,t,a){},1250:function(e,t,a){},1252:function(e,t,a){},1253:function(e,t,a){},1254:function(e,t,a){},1255:function(e,t,a){},1256:function(e,t,a){},1257:function(e,t,a){},1258:function(e,t,a){},1259:function(e,t,a){},1260:function(e,t,a){},1261:function(e,t,a){},1262:function(e,t,a){},1263:function(e,t,a){},1264:function(e,t,a){},1265:function(e,t,a){},1266:function(e,t,a){},1267:function(e,t,a){},1268:function(e,t,a){},1271:function(e,t,a){},1272:function(e,t,a){},1273:function(e,t,a){},1274:function(e,t,a){},1275:function(e,t,a){},1276:function(e,t,a){},1277:function(e,t,a){},1278:function(e,t,a){},1279:function(e,t,a){},1280:function(e,t,a){},1281:function(e,t,a){},1282:function(e,t,a){},1283:function(e,t,a){},1284:function(e,t,a){},1285:function(e,t,a){},1288:function(e,t){},1290:function(e,t){},1313:function(e,t){},1330:function(e,t){},1331:function(e,t){},1366:function(e,t,a){},1367:function(e,t,a){},1368:function(e,t,a){},1369:function(e,t,a){},1370:function(e,t,a){},1371:function(e,t,a){},1372:function(e,t,a){},1373:function(e,t,a){},1374:function(e,t,a){},1375:function(e,t,a){},1376:function(e,t,a){},1377:function(e,t,a){},1378:function(e,t,a){},1379:function(e,t,a){},1380:function(e,t,a){},1381:function(e,t,a){},1382:function(e,t,a){},1383:function(e,t,a){},1384:function(e,t,a){},1385:function(e,t,a){},1386:function(e,t,a){},1387:function(e,t,a){},1388:function(e,t,a){},1389:function(e,t,a){},1390:function(e,t,a){},1391:function(e,t,a){},1392:function(e,t,a){},1393:function(e,t,a){},1394:function(e,t,a){},1395:function(e,t,a){},1396:function(e,t,a){},1397:function(e,t,a){},1398:function(e,t,a){},1399:function(e,t,a){},140:function(e,t,a){"use strict";var n=a(4),s=a(5),r=a(8),o=a(7),i=a(6),c=a(0),_=a.n(c),l=a(525),d=(a(546),a(1)),u=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentWillUnmount=function(){n.props.resetUserForumSummaries()},n.state={upvotes_received:null,answers_endorsed:null,questions_answered:null},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchUserForumSummary({user_id:this.props.person_details.user_id})}},{key:"render",value:function(){var e=this.props.determineAuthorType,t=this.props.person_details,a=t.current_track,n=t.first_name,s=t.last_name,r=t.profile_img_url,o=t.program,i=t.type,c=this.state,u=c.questions_answered,p=c.answers_endorsed,m=c.upvotes_received;return _.a.createElement(l.a,Object.assign({},this.props,{className:"profile_popover ".concat(e(i))}),_.a.createElement("div",{className:"popover_header"},_.a.createElement("img",{src:r||"https://cd-student-files.s3.us-west-2.amazonaws.com/boomyeah2015/codingdojo/user4387/profile_pic/1625214416903-Screen%20Shot%202021-07-02%20at%2010.51.20%20AM.png",alt:"user profile picture"})),_.a.createElement("div",{className:"popover_body"},_.a.createElement("h5",{className:"name"},n," ",s),d.d.includes(i)?_.a.createElement("span",null,"Dojo Admin"):_.a.createElement(_.a.Fragment,null,_.a.createElement("span",null,o),_.a.createElement("span",null,"Learning ",a)),_.a.createElement("ul",{className:"list-unstyled assignment_forum_details"},_.a.createElement("li",null,_.a.createElement("span",null,u),_.a.createElement("span",null,"QUESTIONS ANSWERED")),_.a.createElement("li",null,_.a.createElement("span",null,m),_.a.createElement("span",null,"UPVOTES RECEIVED")),_.a.createElement("li",null,_.a.createElement("span",null,p),_.a.createElement("span",null,"ANSWERS ENDORSED")))))}}]),a}(c.Component);u.getDerivedStateFromProps=function(e){return Object(n.a)({},e.user_forum_summaries)},t.a=u},1400:function(e,t,a){},1401:function(e,t,a){},1402:function(e,t,a){},1403:function(e,t,a){},1404:function(e,t,a){},1405:function(e,t,a){},1406:function(e,t,a){},1411:function(e,t,a){},1412:function(e,t,a){},1413:function(e,t,a){},1414:function(e,t,a){},1415:function(e,t,a){},1416:function(e,t,a){},1417:function(e,t,a){},1418:function(e,t,a){},1420:function(e,t,a){},1421:function(e,t,a){},1422:function(e,t,a){},1423:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(53),o=a.n(r),i=a(80),c=a(465),_=a(466),l=a(29),d=a(4),u=a(1),p=a(2),m={profile:{},courses:{track:{}},rostering:{filter_dropdowns:[],filtered_students:[],filtered_instructors:[],is_data_processing:!1},is_assigning_student_instructor:!1},h=Object(p.y)();!0===h.status&&(m.profile=h.user_details);var E={user_checklist:[],track_courses:[],current_track:null,assignments:[],belts:[],assignment_feedback_details:{is_auto_show_assignment_feedback_modal:!1,is_auto_fetch_track_course:!1,is_auto_fetch_course_assignment:!1}};var f=a(11),g=a(12),v=a.n(g),b={is_loading:!1,is_show_course_schedule_toast:!1,course_schedule_data:[],filters_data:[],add_dropdown_data:[],dropdown_data:[],event_type_filters:[{id:3,event_type:"Holiday",is_checked:!1},{id:4,event_type:"Break",is_checked:!1},{id:5,event_type:"Training",is_checked:!1}],event_type_id:[],calendar_events:[],course_schedule_details:{id:0,program_type_id:0,start_date:null,end_date:null,program_type:[],stack_name:null,lead_instructor:null,img_url:"",support_instructor:null,instruction_dates:[{id:1,date_name:"MON",is_checked:!1},{id:2,date_name:"TUE",is_checked:!1},{id:3,date_name:"WED",is_checked:!1},{id:4,date_name:"THU",is_checked:!1},{id:5,date_name:"FRI",is_checked:!1},{id:6,date_name:"SAT",is_checked:!1},{id:7,date_name:"SUN",is_checked:!1}],course_type:null,attendance_frequency:null},is_newly_added_or_updated:{},is_updating_default_filter:!1,is_change_active_workspace:!1,is_adding_has_error:!1,is_updating_has_error:!1,is_refetch_after_create_update:!1,is_workspace_changed:!0};var S={active_user_session_id:null,active_user_session_page_id:null,is_resetting_session:!1,is_session_page_saving:!1,is_session_page_updating:!1,is_saving_logs:!1,activity_logs:[],active_sence_user_session_page_id:null};var A=a(15),k={user_data:{track_progress_view_more:{name:"tracks_progress",is_expanded:!1,limit:10,default_limit:10},recent_exam_view_more:{name:"belt_exams",is_expanded:!1,limit:8,default_limit:8},is_show_progress:!1,is_show_track_courses_modal:!1,is_show_daily_survey_modal:!1,is_show_career_service_survey_modal:!1,tracks_progress:[],belts:[],belt_exams:[],tracks:[],pre_bootcamp_tracks:[],special_tracks:[],locked_tracks:[],is_show_installment_due_reminder_modal:!1,is_show_installment_overdue_modal:!1,is_show_withdrawal_request_form_modal:!1,is_show_withdrawal_request_modal:!1,is_show_enrollment_agreement_modal:!1,is_show_enrollment_agreement_amendment_modal:!1,is_show_bootcamp_readiness_modal:!1,is_show_survey_modal:!1,is_show_new_survey_modal:!0,cd_survey_scheds:[],tuition_reminders_data:{pending_payment:{status:!1,message:"",is_overdue:!1}},is_show_google_rating_modal:!1,review_data:{},enc_user_id:null,enc_applicant_id:null}};var O={admin_exam_data:{table_data:[],recently_generated_codes:[]},lp2_exam_link:null,exam_histories:[],belts:[],profile:{},exam_codes:[],exam_types_dropdown:[],exam_options_dropdown:[],error:null,reset_form:!1,search_student_keyword:null,show_error_modal:!1,error_message:"",active_student_data:{feedback:{content:""}},set_active_student:null,is_show_grading_modal_loading:!1,is_show_saving_loading:!1,is_success_saving:!1,filter_dropdowns:[]},T=Object(p.y)();T.status&&(O.profile=T.user_details);var C={is_export:!1,previous_student_list:void 0,is_show_success_loading_animation:!1},w=Object(p.y)();!0===w.status&&(C.profile=w.user_details);var y={bookmark_list:[]};var R={signup_error_message:"",signin_error_message:"",is_processing_trial_platform:!1},D=Object(p.y)();!0===D.status&&(R.is_logged_in=!0,R.user_details=D.user_details),R.is_password_retrieved=!1,R.is_password_reset=!1,R.reported_an_issue=!1,R.forgot_password_ongoing=!1,R.is_uploading_profile_pic=!1,R.switch_program=!1,R.is_current_password=null,R.user_search_result={modules_search_results:[],chapters_search_results:[],courses_search_results:[],is_loading:!1};var U=a(472),N={current_user_id:null,discussion_sidebar:[],selected_question_data:null,show_response_form:!1,discussion_responses:[],user_votes:null,discussion_breadcrumbs:[],is_instructor:!1,active_week_id:null,is_final_week:!1};var I={core_completion_data:{name:"Core Assignment Completion Rate",required_completion_rate:"Required Core Assignment Completion Rate: 90%",ratings:[{name:"TO DATE",rate:0},{name:"OVERALL",rate:0}]},attendance_rate_data:{name:"Attendance Rate",required_completion_rate:"Required Attendance Rate: 70%",ratings:[{name:"TO DATE",rate:0},{name:"OVERALL",rate:0}]},attendance_breakdown:{is_part_time:!1,data:[]},belts:[],exam_history_breakdown:[],breakdown_data:{},breakdown_filter:{},dropdown_options:[],widget_data:{},exam_feedback_details:{is_auto_show_exam_feedback_modal:!1,is_fetching_exam_feedback:!1}};var P={filters:[{name:"stack",title:"Stack",options:[]},{name:"stack_start_date",title:"Stack Start Date",options:[]},{name:"programs",title:"Programs",options:[]},{name:"duration",title:"Duration",options:[{value:u.Bb.today,label:"Today"},{value:u.Bb.past_week,label:"Past Week"},{value:u.Bb.past_month,label:"Past Month"},{value:u.Bb.past_three_months,label:"Past Three Months"},{value:u.Bb.past_six_months,label:"Past Six Months"},{value:u.Bb.past_year,label:"Past Year"},{value:u.Bb.all,label:"All Dates"}]},{name:"user",title:"User",options:[{value:u.gb,label:"Student"},{value:u.d,label:"Admin"}]}],results:[],pagination:{}};var j={};function L(e,t){return t===u.Wb.up_vote?e.vote_state===u.Wb.down_vote||null===e.vote_state?(e.cache_upvotes_count+=1,e.vote_state===u.Wb.down_vote&&(e.cache_downvotes_count-=1),e.vote_state=u.Wb.up_vote):(e.cache_upvotes_count-=1,e.vote_state=null):e.vote_state===u.Wb.up_vote||null===e.vote_state?(e.cache_downvotes_count+=1,e.vote_state===u.Wb.up_vote&&(e.cache_upvotes_count-=1),e.vote_state=u.Wb.down_vote):(e.cache_downvotes_count-=u.T,e.vote_state=null),e}j.forum_assignment_questions=[],j.is_show_ask_forum_question_modal=!1,j.forum_assignment_answers=[],j.is_show_delete_question_modal=!1,j.uploaded_attachments=[],j.is_uploading=!1,j.uploading_error="",j.new_question_id=null;var M={notification_count:0,is_empty_notification:!0};function F(e,t){var a=0;return{new_notifs:e.map((function(e){if(e.content.length>0){var n={unread_questions_details:{id:[],is_read:u.s.NO_VALUE,notification_type_id:u.hb.QUESTION,questions_details:[]},read_questions_details:{id:[],is_read:u.s.YES_VALUE,notification_type_id:u.hb.QUESTION,questions_details:[]}},s=[];e.content.map((function(e){var a;if(e.notification_type_id===u.hb.QUESTION&&null!==e.id){var r=e.is_read?"read_questions_details":"unread_questions_details";n[r].id.push(e.id[0]),n[r].questions_details.push(e),n[r].created_at=n[r].created_at||e.created_at,n[r].notifier_details=n[r].notifier_details||e.notifier_details,n[r].content_json=n[r].content_json||e.content_json}else(e.notification_type_id!==u.hb.ASSIGNMENT_FEEDBACK||e.notification_type_id===u.hb.ASSIGNMENT_FEEDBACK&&(null===e||void 0===e||null===(a=e.content_json)||void 0===a?void 0:a.user_bootcamp_id)===t)&&s.push(e)})),e.content=[].concat(Object(f.a)(Object.values(n)),s).filter((function(e){return 0!==e.id.length})),a+=e.content.length}return e})),notif_count:a}}function x(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=0,r=v()().startOf("day"),o=v()(r).subtract(1,"days");if(!n){var i,c,_=Object(p.y)(),l=_.status,m=_.user_details;l&&(n=null===m||void 0===m||null===(i=m.workspace_custom_data)||void 0===i||null===(c=i.bootcamp_info)||void 0===c?void 0:c.user_bootcamp_id)}e.map((function(e){var i,c,_,l=e,p=l.id,m=l.is_read,h=l.created_at,E=l.updated_at,f=l.details,g=l.content_json,v=l.notification_type_id;p.constructor===String&&(e.id=JSON.parse(p),e.content_json=JSON.parse(g),e.details=JSON.parse(f)),(v!==u.hb.ASSIGNMENT_FEEDBACK||v===u.hb.ASSIGNMENT_FEEDBACK&&(null===(i=e.content_json)||void 0===i?void 0:i.user_bootcamp_id)===n)&&(s=m?s:s+1),h=new Date(h),E=new Date(E),(null===(c=e.details)||void 0===c?void 0:c.description)&&(e.details.description=null===(_=e.details.description)||void 0===_?void 0:_.replace(/<[^>]*>?/gm,"")),e=Object(d.a)(Object(d.a)({},e),e.details);var b=[u.hb.FEEDBACK_EXAM].includes(e.notification_type_id)&&E?E:h;b>=new Date(r)||(null===a||void 0===a?void 0:a.includes(e.id))?t[0].content.push(e):b>=new Date(o)?t[1].content.push(e):t[2].content.push(e)}));var h=F(t,n);return{result:h.new_notifs,notif_count:h.notif_count,unread_count:s}}var B,W=a(67),H={is_export:!1,filter_dropdowns:[],filter_students:[],by_course_filter_students:[],student_program_details:[],weeks_tab:[],stack_belt_exam_summary:[],stack_progress_summary:[],check_attendances_response:null,check_attendances_response_message:void 0,table_sort:!1,loading_table:!1,student_track_checklist:{},is_student_checklist_loading:!1,table_head_dates:[],stack_list_of_dates_by_week:{},workspaces:[],programs_by_workspace:[],holiday_selected_workspace:[],holiday_selected_programs:[],holidays_of_the_month:[],workspaces_message:void 0,holiday_process_message:void 0,holiday_exists_message:void 0,is_holiday_dates:[],program_view_rev:{program_view_rev_pagination:{students_per_page:15,current_page:1},program_revamp_table_data:[],max_student_progress_program:0,program_view_rev_table_view_setting:{name:"Assignment",is_selected:!1,sub_options:[{name:"Core",is_selected:!0,is_disabled:!0},{name:"Practice",is_selected:!1,is_disabled:!1},{name:"Optional",is_selected:!1,is_disabled:!1}],submission_type:{selected_value:{label:"In-general",value:1},options:[{label:"On-time Only",value:0},{label:"In-general",value:1}]},progress_type:{selected_value:{label:"Up-to-date Only",value:0},options:[{label:"Up-to-date Only",value:0},{label:"Total",value:1}]}},program_view_rev_table_head_column:[{is_show:!0,name:"Program",width:220,sort_data:"program",sort_direction:"caret-down",is_sorted:!1},{is_show:!0,name:"Course",width:80,sort_data:"stack",sort_direction:"caret-down",is_sorted:!1},{is_show:!0,name:"Course Start Date",width:80,sort_data:"course_start_date",sort_direction:"caret-down",is_sorted:!1},{is_show:!0,name:"Instructor",width:100,sort_data:"instructor",sort_direction:"caret-down",is_sorted:!1},{is_show:!0,name:"# of Students",width:100,sort_data:"number_of_students",sort_direction:"caret-down",is_sorted:!1},{is_show:!0,name:"Average Attendance",width:55,sort_data:"average_attendance",sort_direction:"caret-down",is_sorted:!1},{is_show:!0,name:"Assignment Completion",width:55,sort_data:"assignment_completion",sort_direction:"caret-down",is_sorted:!1},{is_show:!0,name:"% Late",width:55,sort_data:"percentage_late",sort_direction:"caret-down",is_sorted:!1},{is_show:!0,name:"% On-time",width:55,sort_data:"percentage_on_time",sort_direction:"caret-down",is_sorted:!1},{is_show:!0,name:"% Ahead",width:55,sort_data:"percentage_ahead",sort_direction:"caret-down",is_sorted:!1},{is_show:!0,name:"# on AP",width:55,sort_data:"number_on_ap",sort_direction:"caret-down",is_sorted:!1},{is_show:!0,name:"Belt Rate",width:55,sort_data:"belt_rate",sort_direction:"caret-down",is_sorted:!1}]},program_attendance_requirement:["".concat(u.j.default_program_attendance_requirement,"%")],adjust_attendance_rating_cron:{},max_up_to_date_weeks:null,processing_holiday_response_status:null,is_calendar_holiday_fetching:!1,belt_colors:{},exam_passing_score:null,is_fetching_filters:!1},K=Object(p.y)(),G=Object.values(u.B),V=Object(A.a)(G,4),q=V[0],Y=V[1],Q=V[2],$=V[3],z=(B={},Object(l.a)(B,q,!0),Object(l.a)(B,Y,!0),Object(l.a)(B,Q,!0),B);K.status&&(H.profile=K.user_details);var J={upvotes_received:null,answers_endorsed:null,questions_answered:null,downvotes_received:null,questions_asked:null};var X={workspaces_data:[],active_workspace_data:{settings:{general:{logo_url:{dark_mode:"",light_mode:""}},content:{tracks:{}}}},all_tracks_data:[],workspace_languages:[],belt_options:[],recent_workspace_id:null,is_uploading_image:!1,is_dark_mode_uploading_image:!1};var Z={users_data:[],suggestion_email_list:[],page_number:u.l.DEFAULT_VALUES.first_page,total_workspace_user_count:0,is_show_success_message:!1,process_failed:!1,process_error_message:"",is_existing_email_in_db:!0,is_loading:!0,is_fetching_email:!1};Object(p.y)();var ee={is_export:!1,is_reset_state:!1,filters:{},students:{},student_profile_data:{}},te=Object(p.y)();te.status&&(ee.profile=te.user_details);var ae={admin_survey_filters_array:[],survey_list:[],is_updating_data:!1,search_survey_keyword:"",is_initial_data:!0,is_fetching_survey_list:!1,is_duplicate_survey_name:!1,is_checking_duplicate_survey_name:!1},ne=Object(p.y)();!0===ne.status&&(ae.profile=ne.user_details);var se=function(e,t){var a=t.field_updated,n=t.new_value,s=t.cd_survey_schedule_id;return Object.entries(e).map((function(t){var r=Object(A.a)(t,2),o=r[0];r[1].id===s&&(e[o][a]=n)})),e},re=Object(i.c)({admin:function(){var e,t,a,n,s,r,o,i,c,_,h,E,f,g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,v=arguments.length>1?arguments[1]:void 0;switch(v.type){case u.m.FETCH_ADMIN_COURSE_PAGE_DATA_REQUEST:return{profile:g.profile,courses:{track:{}}};case u.m.FETCH_ADMIN_COURSE_PAGE_DATA_SUCCESS:return{profile:g.profile,courses:{track:v.track}};case u.m.FETCH_ADMIN_COURSE_PAGE_DATA_FAILURE:return{profile:g.profile,courses:{track:{}}};case u.m.ADMIN_UPDATE_ORDER_SUCCESS:return{profile:g.profile,courses:{track:v.track}};case u.m.ADMIN_SAVE_MODULE_SUCCESS:g.courses.track.active_module.last_updated_at=v.last_updated_at,g.courses.track.active_module.chapter_module_title=v.module_data.title,g.courses.track.active_module.content=v.module_data.content,g.courses.track.active_module.program_types=v.module_data.program_types;for(var b=0;b<g.courses.track.chapters.length;b++)void 0!==g.courses.track.chapters[b].chapter_modules&&(g.courses.track.chapters[b].chapter_modules=g.courses.track.chapters[b].chapter_modules.map((function(e){return e.chapter_module_id===g.courses.track.active_module.chapter_module_id&&(e=g.courses.track.active_module),e})));return{profile:g.profile,courses:{track:g.courses.track}};case u.o.FETCH_FILTER_OPTIONS_DATA_REQUEST:return Object(d.a)(Object(d.a)({},g),{},{filters:{last_used_filter:(null===(e=g.filters)||void 0===e?void 0:e.last_used_filter)||{},workspace_id:(null===(t=g.filters)||void 0===t?void 0:t.workspace_id)||null},rostering:{filter_dropdowns:[],filtered_students:[],filtered_instructors:[]}});case u.o.FETCH_FILTER_OPTIONS_DATA_SUCCESS:return Object(d.a)(Object(d.a)({},g),{},{filters:{last_used_filter:Object(d.a)(Object(d.a)({},g.filters.last_used_filter),Object(l.a)({},v.admin_page,v.filter_data)),workspace_id:v.workspace_id,admin_page:v.admin_page},rostering:{filter_dropdowns:v.filter_data,filtered_students:[],filtered_instructors:[]}});case u.o.FETCH_FILTER_OPTIONS_DATA_FAILURE:return Object(d.a)(Object(d.a)({},g),{},{filters:{last_used_filter:(null===(a=g.filters)||void 0===a?void 0:a.last_used_filter)||{},workspace_id:(null===(n=g.filters)||void 0===n?void 0:n.workspace_id)||null},rostering:{filter_dropdowns:[],filtered_students:[],filtered_instructors:[]}});case u.o.UPDATE_FILTER_OPTIONS_REQUEST:return{profile:g.profile,courses:{track:{}},filters:{last_used_filter:(null===(s=g.filters)||void 0===s?void 0:s.last_used_filter)||{},workspace_id:(null===(r=g.filters)||void 0===r?void 0:r.workspace_id)||null},rostering:g.rostering};case u.o.UPDATE_FILTER_OPTIONS_SUCCESS:var S=null===v||void 0===v?void 0:v.filter_data,A=(null===(o=g.filters)||void 0===o?void 0:o.last_used_filter)||{};return(null===S||void 0===S?void 0:S.length)&&(g.rostering.filter_dropdowns=Object(p.Y)(S,g.rostering.filter_dropdowns)),{profile:g.profile,courses:{track:{}},filters:{last_used_filter:Object(d.a)(Object(d.a)({},A),v.filter),workspace_id:g.filters.workspace_id},rostering:g.rostering};case u.o.UPDATE_FILTER_OPTIONS_FAILURE:return{profile:g.profile,courses:{track:{}},filters:{last_used_filter:(null===(i=g.filters)||void 0===i?void 0:i.last_used_filter)||{},workspace_id:(null===(c=g.filters)||void 0===c?void 0:c.workspace_id)||null},rostering:g.rostering};case u.o.FETCH_FILTERED_STUDENT_DATA_REQUEST:return{profile:g.profile,courses:{track:{}},filters:{last_used_filter:(null===(_=g.filters)||void 0===_?void 0:_.last_used_filter)||{},workspace_id:(null===(h=g.filters)||void 0===h?void 0:h.workspace_id)||null},rostering:g.rostering};case u.o.FETCH_FILTERED_STUDENT_DATA_SUCCESS:return{profile:g.profile,courses:{track:{}},filters:{last_used_filter:Object(d.a)(Object(d.a)({},g.filters.last_used_filter),v.filter),workspace_id:g.filters.workspace_id},rostering:{filter_dropdowns:g.rostering.filter_dropdowns,filtered_students:v.filtered_students,filtered_instructors:v.filtered_instructors}};case u.o.FETCH_FILTERED_STUDENT_DATA_FAILURE:return{profile:g.profile,courses:{track:{}},filters:{last_used_filter:(null===(E=g.filters)||void 0===E?void 0:E.last_used_filter)||{},workspace_id:(null===(f=g.filters)||void 0===f?void 0:f.workspace_id)||null},rostering:{filter_dropdowns:g.rostering.filter_dropdowns,filtered_students:[],filtered_instructors:[]}};case u.o.ASSIGN_STUDENT_TO_INSTRUCTOR_REQUEST:return{profile:g.profile,courses:{track:{}},rostering:{filter_dropdowns:g.rostering.filter_dropdowns,filtered_students:g.rostering.filtered_students,filtered_instructors:g.rostering.filtered_instructors,is_data_processing:!0},is_assigning_student_instructor:!0};case u.o.ASSIGN_STUDENT_TO_INSTRUCTOR_SUCCESS:var k=g.rostering,O=k.filter_dropdowns,T=k.filtered_students,C=k.filtered_instructors,w=v.table_data,y=v.success_update_students,R=v.fail_update_students;if(y.length>0){var D=[];if(w.is_from_students_table){var U,N=y.map((function(e){return w.is_assign_via_email?T.map((function(t,a){t.applicant_id===e.applicant_id&&(T[a].is_selected=!1,D.push(T[a]))})):(T[e.student_index].is_selected=!1,D.push(T[e.student_index])),e.student_id}));T=T.filter((function(e){return!1===N.includes(e.id)})),C[w.instructor_index].is_open=!0,C[w.instructor_index].is_selected_instructor=!1,(U=C[w.instructor_index].students).push.apply(U,D)}else{var I,P,j=C[w.instructor_index].students,L=y.map((function(e){return j[e.student_index].is_selected=!1,D.push(j[e.student_index]),e.student_id}));C[w.instructor_index].students=j.filter((function(e){return!1===L.includes(e.id)})),"main_student_table"===w.destination_instrutor_index?(I=T).push.apply(I,D):(P=C[parseInt(w.destination_instrutor_index)-1].students).push.apply(P,D)}}if(R.length>0){var M=R.map((function(e){return!1===w.is_from_students_table&&(C[w.instructor_index].students[e.student_index].is_selected=!1),e.student_name}));alert("The following student/s failed to be assigned to the instructor. Please check if you are assigning them to the instructor with the correct Program Type and if the instructor is available in the students bootcamp locations. \n\n"+M.join("\n"))}return v.error&&alert(v.error),{profile:g.profile,courses:{track:{}},rostering:{filter_dropdowns:O,filtered_students:T,filtered_instructors:C,is_data_processing:!1},is_assigning_student_instructor:!1};case u.o.ASSIGN_STUDENT_TO_INSTRUCTOR_FAILURE:return alert(v.error),{profile:g.profile,courses:{track:{}},rostering:Object(d.a)(Object(d.a)({},g.rostering),{},{is_data_processing:!1}),is_assigning_student_instructor:!1};case u.m.SWITCH_WORKSPACE:return Object(d.a)(Object(d.a)({},g),{},{profile:Object(d.a)(Object(d.a)({},v.user_details),{},{available_workspaces:g.profile.available_workspaces})});default:return g}},analytics:function(){var e,t,a,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case u.Tb.SAVE_SESSION_PAGE_REQUEST:return{active_user_session_id:n.active_user_session_id||null,active_user_session_page_id:n.active_user_session_page_id||null,is_resetting_session:n.is_resetting_session,is_session_page_saving:!0,is_session_page_updating:n.is_session_page_updating,is_saving_logs:n.is_saving_logs,activity_logs:n.activity_logs,active_sence_user_session_page_id:n.active_sence_user_session_page_id};case u.Tb.SAVE_SESSION_PAGE_SUCCESS:return{active_user_session_id:s.session_page.user_session_id,active_user_session_page_id:s.session_page.user_session_page_id,is_resetting_session:n.is_resetting_session,is_session_page_saving:!1,is_session_page_updating:n.is_session_page_updating,is_saving_logs:n.is_saving_logs,activity_logs:n.activity_logs,active_sence_user_session_page_id:null===(e=s.session_page.sence_progress_details)||void 0===e?void 0:e.new_chile_student_progress_id};case u.Tb.UPDATE_SESSION_PAGE_REQUEST:return{active_user_session_id:n.active_user_session_id||null,active_user_session_page_id:n.active_user_session_page_id||null,is_resetting_session:n.is_resetting_session,is_session_page_saving:n.is_session_page_saving,is_session_page_updating:!0,is_saving_logs:n.is_saving_logs,activity_logs:n.activity_logs,active_sence_user_session_page_id:n.active_sence_user_session_page_id};case u.Tb.UPDATE_SESSION_PAGE_SUCCESS:return{active_user_session_id:n.active_user_session_id,active_user_session_page_id:n.active_user_session_page_id,is_resetting_session:n.is_resetting_session,is_session_page_saving:n.is_session_page_saving,is_session_page_updating:!1,is_saving_logs:n.is_saving_logs,activity_logs:n.activity_logs,active_sence_user_session_page_id:n.active_sence_user_session_page_id};case u.Tb.SAVE_TEMP_ACTIVITY_LOGS:var r=n.activity_logs;return r.push(s.session_log),{active_user_session_id:n.active_user_session_id,active_user_session_page_id:n.active_user_session_page_id,is_resetting_session:n.is_resetting_session,is_session_page_saving:n.is_session_page_saving,is_session_page_updating:n.is_session_page_updating,is_saving_logs:n.is_saving_logs,activity_logs:r,active_sence_user_session_page_id:n.active_sence_user_session_page_id};case u.Tb.SAVE_SESSION_ACTIVITY_LOGS_REQUEST:return{active_user_session_id:n.active_user_session_id,active_user_session_page_id:n.active_user_session_page_id,is_resetting_session:n.is_resetting_session,is_session_page_saving:n.is_session_page_saving,is_session_page_updating:n.is_session_page_updating,is_saving_logs:!0,activity_logs:n.activity_logs,active_sence_user_session_page_id:n.active_sence_user_session_page_id};case u.Tb.SAVE_SESSION_ACTIVITY_LOGS_SUCCESS:return{active_user_session_id:n.active_user_session_id,active_user_session_page_id:n.active_user_session_page_id,is_resetting_session:n.is_resetting_session,is_session_page_saving:n.is_session_page_saving,is_session_page_updating:n.is_session_page_updating,is_saving_logs:!1,activity_logs:[],active_sence_user_session_page_id:n.active_sence_user_session_page_id};case u.Tb.SAVE_SESSION_ACTIVITY_LOGS_FAILURE:return{active_user_session_id:n.active_user_session_id,active_user_session_page_id:n.active_user_session_page_id,is_resetting_session:n.is_resetting_session,is_session_page_saving:n.is_session_page_saving,is_session_page_updating:n.is_session_page_updating,is_saving_logs:!1,activity_logs:n.activity_logs,active_sence_user_session_page_id:n.active_sence_user_session_page_id};case u.Tb.RESET_SESSION_REQUEST:return{active_user_session_id:n.active_user_session_id,active_user_session_page_id:n.active_user_session_page_id,is_resetting_session:!0,is_session_page_saving:n.is_session_page_saving,is_session_page_updating:n.is_session_page_updating,is_saving_logs:n.is_saving_logs,activity_logs:n.activity_logs,active_sence_user_session_page_id:n.active_sence_user_session_page_id};case u.Tb.RESET_SESSION_SUCCESS:return{active_user_session_id:s.session_page.user_session_id,active_user_session_page_id:s.session_page.user_session_page_id,is_resetting_session:!1,is_session_page_saving:n.is_session_page_saving,is_session_page_updating:n.is_session_page_updating,is_saving_logs:n.is_saving_logs,activity_logs:n.activity_logs,active_sence_user_session_page_id:null===(t=s.session_page)||void 0===t||null===(a=t.sence_progress_details)||void 0===a?void 0:a.new_chile_student_progress_id};case u.Tb.RESET_SESSION_FAILURE:return{active_user_session_id:n.active_user_session_id,active_user_session_page_id:n.active_user_session_page_id,is_resetting_session:!1,is_session_page_saving:n.is_session_page_saving,is_session_page_updating:n.is_session_page_updating,is_saving_logs:n.is_saving_logs,activity_logs:n.activity_logs,active_sence_user_session_page_id:n.active_sence_user_session_page_id};default:return n}},dashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.Ob.GET_USER_DASHBOARD_SUCCESS:return{user_data:t.dashboard,active_track:void 0};case u.N.GET_ENROLLAPP_LINK_SUCCESS:return Object(d.a)({},e);case u.Ob.GET_DASHBOARD_TRACK_COURSES_REQUEST:return{user_data:e.user_data,active_track:void 0};case u.Ob.GET_DASHBOARD_TRACK_COURSES_SUCCESS:return{user_data:e.user_data,active_track:t.active_track};case u.Ob.GET_DASHBOARD_TRACK_PROGRESS_REQUEST:return{user_data:e.user_data,active_track:e.active_track};case u.Ob.GET_DASHBOARD_TRACK_PROGRESS_SUCCESS:var a=e.user_data;return a.track_progress=t.track_progress,{user_data:a,active_track:e.active_track};case u.Ob.GET_DASHBOARD_TRACK_PROGRESS_FAILURE:var n=e.user_data,s=n.pre_bootcamp_tracks,r=n.special_tracks,o=n.tracks,i=n.locked_tracks,c=[].concat(Object(f.a)(s),Object(f.a)(r),Object(f.a)(o),Object(f.a)(i)).filter((function(e){return!0===e.is_current})),_=Object(A.a)(c,1),l=_[0];return n.track_progress=void 0!==l?{title:l.name,courses:l.courses,current_module_link:l.current_module_link}:void 0,{user_data:n,active_track:e.active_track};case u.Ob.HIDE_DUE_REMINDER_REQUEST:return e.user_data[t.modal_name]=t.new_value,{user_data:e.user_data,active_track:e.active_track};case u.xb.SKIP_SURVEY_SUCCESS:return e.user_data.cd_survey_scheds=e.user_data.cd_survey_scheds.filter((function(e){return e.cd_survey_user_id!==t.cd_survey_user_id})),t.is_bootcamp_readiness&&(e.user_data.is_show_bootcamp_readiness_modal=!1),{user_data:e.user_data,active_track:t.active_track,redirect_to_enroll_app:void 0};case u.xb.TAKE_SURVEY_SUCCESS:return e.user_data.cd_survey_scheds=e.user_data.cd_survey_scheds.filter((function(e){return e.cd_survey_user_id!==t.cd_survey_user_id})),{user_data:e.user_data,active_track:t.active_track,redirect_to_enroll_app:void 0};case u.Ob.SUBMIT_REVIEW_REQUEST:return Object(d.a)({},e);case u.Ob.SUBMIT_REVIEW_SUCCESS:return e.user_data.is_show_google_rating_modal=!1,{user_data:e.user_data};case u.Ob.SUBMIT_REVIEW_FAILURE:return Object(d.a)({},e);case u.Ob.SKIP_DISCUSSION_REMINDER_MODAL_REQUEST:return t.discussion_notifications&&t.to_skip_notification_ids&&(e.user_data.discussion_notifications=t.discussion_notifications.filter((function(e){var a=e.id;return!Object(p.g)(JSON.parse(a),t.to_skip_notification_ids)}))),Object(d.a)(Object(d.a)({},e),{},{is_reset_dq_modal:!0});case u.Ob.SKIP_DISCUSSION_REMINDER_MODAL_SUCCESS:case u.Ob.SKIP_DISCUSSION_REMINDER_MODAL_FAILURE:return Object(d.a)(Object(d.a)({},e),{},{is_reset_dq_modal:!1});case u.qb.DOWNLOAD_GET_PRESIGNED_URL_REQUEST:return Object(d.a)(Object(d.a)({},e),{},{my_file:null});case u.qb.DOWNLOAD_GET_PRESIGNED_URL_SUCCESS:return Object(d.a)(Object(d.a)({},e),{},{my_file:t.my_file});case u.qb.DOWNLOAD_GET_PRESIGNED_URL_FAILURE:case u.qb.DOWNLOAD_GET_PRESIGNED_URL_RESET:return Object(d.a)(Object(d.a)({},e),{},{my_file:null});default:return{user_data:e.user_data,active_track:void 0,redirect_to_enroll_app:void 0}}},checklists:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case u.Mb.GET_USER_CHECKLISTS_REQUEST:return{user_checklist:[],track_courses:[],assignments:null,current_track:null,belts:t.belts,assignment_feedback_details:t.assignment_feedback_details};case u.Mb.GET_USER_CHECKLISTS_SUCCESS:return{user_checklist:a.checklists.user_enrolled_tracks,track_courses:[],assignments:null,current_track:a.checklists.current_track,belts:t.belts,assignment_feedback_details:t.assignment_feedback_details};case u.Mb.GET_USER_CHECKLISTS_FAILURE:return t;case u.Mb.GET_USER_CHECKLISTS_COURSE_REQUEST:return{user_checklist:t.user_checklist,current_track:t.current_track,track_courses:(null===(e=t.assignment_feedback_details)||void 0===e?void 0:e.track_id)===t.current_track?t.track_courses:[],assignments:null,belts:t.belts,assignment_feedback_details:t.assignment_feedback_details};case u.Mb.GET_USER_CHECKLISTS_COURSE_SUCCESS:return{user_checklist:t.user_checklist,current_track:a.track_courses.track_id,track_courses:a.track_courses.courses,assignments:null,belts:t.belts,assignment_feedback_details:t.assignment_feedback_details};case u.Mb.GET_USER_ASSIGNMENTS_REQUEST:return{user_checklist:t.user_checklist,current_track:t.current_track,track_courses:t.track_courses,assignments:null,belts:t.belts,assignment_feedback_details:t.assignment_feedback_details};case u.Mb.GET_USER_ASSIGNMENTS_SUCCESS:return{user_checklist:t.user_checklist,current_track:t.current_track,track_courses:t.track_courses,assignments:a.assignments.chapter_module_checklists,belts:t.belts,assignment_feedback_details:t.assignment_feedback_details};case u.Mb.GET_USER_ASSIGNMENTS_FAILURE:return{user_checklist:t.user_checklist,current_track:t.current_track,track_courses:t.track_courses,assignments:null,belts:t.belts,assignment_feedback_details:t.assignment_feedback_details};case u.Qb.SET_FEEDBACK_AS_READ_REQUEST:case u.Qb.SET_FEEDBACK_AS_READ_SUCCESS:return Object(d.a)({},t);case u.Qb.SET_FEEDBACK_AS_READ_FAILURE:return Array.isArray(t.assignments)&&t.assignments.map((function(e){e.feedback.id===a.error.id&&(e.feedback.is_read=u.P)})),Object(d.a)({},t);case u.Mb.TRIGGER_SHOW_ASSIGNMENT_FEEDBACK:return Object(d.a)(Object(d.a)({},t),{},{assignment_feedback_details:Object(d.a)(Object(d.a)({},t.assignment_feedback_details),a.assignment_feedback_details)});case u.qb.DOWNLOAD_GET_PRESIGNED_URL_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{assignment_file:null});case u.qb.DOWNLOAD_GET_PRESIGNED_URL_SUCCESS:return Object(d.a)(Object(d.a)({},t),{},{assignment_file:a.assignment_file});case u.qb.DOWNLOAD_GET_PRESIGNED_URL_FAILURE:case u.qb.DOWNLOAD_GET_PRESIGNED_URL_RESET:return Object(d.a)(Object(d.a)({},t),{},{assignment_file:null});default:return t}},course_schedule:function(){var e,t,a,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case u.E.ADD_COURSE_SCHEDULE_DATA_REQUEST:return Object(d.a)(Object(d.a)({},n),{},{is_loading:!0,toast_error_message:"",is_show_course_schedule_toast:!1,recent_data:[],is_adding_has_error:!1});case u.E.ADD_COURSE_SCHEDULE_DATA_SUCCESS:var r=Object(f.a)(n.filters_data);s.data.result.course_schedules.length&&(r=Object(p.X)(s.data.result.course_schedules[0],r));var o=n.course_schedule_data.filter((function(e){return v()(e.start_date).format("YYYY")===r[0].selected[0].value.toString()||v()(e.end_date).format("YYYY")===r[0].selected[0].value.toString()}));return o.map((function(e){e.is_newly_added_or_updated=!1})),s.data.result.course_schedules[0].is_newly_added_or_updated=!0,o=[].concat(Object(f.a)(o),Object(f.a)(s.data.result.course_schedules)),n.is_refetch_after_create_update=Object(p.e)(r,s.old_selected_values_default_filter),n.is_refetch_after_create_update||Object(p.T)(o),Object(d.a)(Object(d.a)({},n),{},Object(l.a)({is_loading:!1,is_adding_has_error:!1,is_show_course_schedule_toast:!0,is_newly_added_or_updated:n.is_refetch_after_create_update?s.data.result.course_schedules[0]:{},course_schedule_data:Object(f.a)(o),filters_data:Object(f.a)(r),recent_data:s.data.result.course_schedules[0]},"is_show_course_schedule_toast",!0));case u.E.ADD_COURSE_SCHEDULE_DATA_FAILURE:return Object(d.a)(Object(d.a)({},n),{},{is_loading:!1,is_show_course_schedule_toast:!0,toast_error_message:s.error,recent_data:s.recent_data,is_adding_has_error:!0,is_newly_added_or_updated:{},is_refetch_after_create_update:!1});case u.E.FETCH_COURSE_SCHEDULE_DEFAULT_FILTER_REQUEST:return(null===s||void 0===s?void 0:s.is_change_active_workspace)&&n.add_dropdown_data!==u.s.NO_VALUE&&(n.add_dropdown_data=Object(f.a)(n.add_dropdown_data.filter((function(e){return["Lead Instructor","Support Instructor"].includes(e.name)})))),Object(d.a)(Object(d.a)({},n),{},{is_workspace_changed:!0});case u.E.FETCH_COURSE_SCHEDULE_DEFAULT_FILTER_SUCCESS:return(null===s||void 0===s?void 0:s.is_change_active_workspace)&&(n.is_change_active_workspace=null===s||void 0===s?void 0:s.is_change_active_workspace,n.course_schedule_data=[]),Object(d.a)(Object(d.a)({},n),{},{filters_data:(null===(e=s.data.result)||void 0===e||null===(t=e.filter_dropdowns)||void 0===t?void 0:t.length)?s.data.result.filter_dropdowns:[],is_workspace_changed:!1});case u.E.FETCH_COURSE_SCHEDULE_DEFAULT_FILTER_FAILURE:return Object(d.a)(Object(d.a)({},n),{},{is_workspace_changed:!1});case u.E.FETCH_COURSE_SCHEDULE_MODAL_FILTER_REQUEST:return Object(d.a)(Object(d.a)({},n),{},{is_workspace_changed:!0});case u.E.FETCH_COURSE_SCHEDULE_MODAL_FILTER_SUCCESS:return s.data.result.filter_dropdowns.length&&(n.add_dropdown_data=2===n.add_dropdown_data.length?[].concat(Object(f.a)(s.data.result.filter_dropdowns),Object(f.a)(n.add_dropdown_data)):Object(f.a)(s.data.result.filter_dropdowns),n.dropdown_data=Object(f.a)(n.add_dropdown_data)),Object(d.a)(Object(d.a)({},n),{},{is_workspace_changed:!1});case u.E.FETCH_COURSE_SCHEDULE_MODAL_FILTER_FAILURE:return Object(d.a)(Object(d.a)({},n),{},{is_workspace_changed:!1});case u.E.UPDATE_SELECTED_FILTER_REQUEST:return Object(d.a)(Object(d.a)({},n),{},{is_updating_default_filter:"Year"===s.selected_filter||"Programs"===s.selected_filter||"Course"===s.selected_filter});case u.E.UPDATE_SELECTED_FILTER_SUCCESS:if(null===(a=s.data.result)||void 0===a?void 0:a.length){for(var i=Object(f.a)(n.filters_data),c={program_type_id:1,cc_stack_id:2,lead_instructor_id:3},_=0;_<i.length;_++)if(_>u.s.NO_VALUE){var m,h=null===(m=s.data.result)||void 0===m?void 0:m[_-u.s.YES_VALUE];if(h){var E=c[h.filter_name.toString()];i[E].options=Object(f.a)(h.options)}}n.filters_data=Object(f.a)(i)}return Object(d.a)(Object(d.a)({},n),{},{is_updating_default_filter:!1});case u.E.UPDATE_SELECTED_FILTER_FAILURE:return Object(d.a)(Object(d.a)({},n),{},{is_updating_default_filter:!1});case u.E.FETCH_COURSE_SCHEDULE_DATA_REQUEST:return Object(d.a)(Object(d.a)({},n),{},{is_loading:!0,is_change_active_workspace:!1,is_refetch_after_create_update:!1});case u.E.FETCH_COURSE_SCHEDULE_DATA_SUCCESS:if(Object.keys(n.is_newly_added_or_updated).length){var g=n.is_newly_added_or_updated,S=g.id,A=g.lead_instructor_id,k=g.program_name;s.data.result.filtered_course_schedule.map((function(e){var t=e.id,a=e.lead_instructor_id,n=e.program_name;t===S&&n===k&&a===A&&(e.is_newly_added_or_updated=!0)}))}return Object(d.a)(Object(d.a)({},n),{},{is_newly_added_or_updated:{},course_schedule_data:s.data.result.filtered_course_schedule,is_loading:!1});case u.E.FETCH_COURSE_SCHEDULE_DATA_FAILURE:return Object(d.a)(Object(d.a)({},n),{},{is_loading:!1});case u.E.UPDATE_COURSE_SCHEDULE_REQUEST:return Object(d.a)(Object(d.a)({},n),{},{is_loading:!0,is_show_course_schedule_toast:!1,toast_error_message:"",recent_data:{},is_updating_has_error:!1});case u.E.UPDATE_COURSE_SCHEDULE_SUCCESS:var O=Object(f.a)(n.filters_data),T=Object(f.a)(n.course_schedule_data);if(T=T.filter((function(e){return!(e.id===s.cc_stack_schedule_id&&e.lead_instructor_id===s.old_lead_instructor_id&&e.lead_cc_instructor_stack_sched_id===s.old_lead_cc_instructor_stack_sched_id)})),s.data.result.course_schedules.length){var C=[];s.new_lead_instructor_id!==s.old_lead_instructor_id&&T.map((function(e){s.old_lead_instructor_id===e.lead_instructor_id&&C.push(e.lead_instructor_id)})),O=Object(p.X)(s.data.result.course_schedules[0],O,{old_lead_instructor_id:s.old_lead_instructor_id,collective_lead_instructor_ids:C})}return n.is_refetch_after_create_update=Object(p.e)(O,s.old_selected_values_default_filter),T.map((function(e){e.is_newly_added_or_updated=!1})),s.data.result.course_schedules[0].is_newly_added_or_updated=!0,T=[].concat(Object(f.a)(T),Object(f.a)(s.data.result.course_schedules)),n.is_refetch_after_create_update||Object(p.T)(T),Object(d.a)(Object(d.a)({},n),{},{course_schedule_data:Object(f.a)(T),filters_data:Object(f.a)(O),is_loading:!1,is_show_course_schedule_toast:!0,is_newly_added_or_updated:n.is_refetch_after_create_update?s.data.result.course_schedules[0]:{},recent_data:s.data.result.course_schedules[0],is_updating_has_error:!1});case u.E.UPDATE_COURSE_SCHEDULE_FAILURE:return Object(d.a)(Object(d.a)({},n),{},{is_loading:!1,is_show_course_schedule_toast:!0,toast_error_message:s.error,recent_data:s.recent_data,is_updating_has_error:!0,is_refetch_after_create_update:!1});case u.E.DELETE_COURSE_SCHEDULE_DATA_REQUEST:return Object(d.a)(Object(d.a)({},n),{},{is_loading:!0,is_show_course_schedule_toast:!1,toast_error_message:""});case u.E.DELETE_COURSE_SCHEDULE_DATA_SUCCESS:var w=Object(f.a)(n.course_schedule_data),y=w.filter((function(e){return!(e.id===s.cc_stack_schedule_id&&e.lead_instructor_id===s.lead_instructor_id)}));return y.map((function(e){e.is_newly_added_or_updated=!1})),n.is_show_course_schedule_toast=!0,Object(d.a)(Object(d.a)({},n),{},{course_schedule_data:Object(f.a)(y),is_loading:!1});case u.E.DELETE_COURSE_SCHEDULE_DATA_FAILURE:return Object(d.a)(Object(d.a)({},n),{},{is_loading:!1,is_show_course_schedule_toast:!0,toast_error_message:s.error});case u.E.UPDATE_IS_SHOW_COURSE_SCHEDULE_TOAST_REQUEST:return Object(d.a)(Object(d.a)({},n),{},{is_show_course_schedule_toast:!1});case u.E.UPDATE_FILTER_DROPDOWN_SELECTED_VALUE_PROPS_REQUEST:return Object(d.a)(Object(d.a)({},n),{},{filters_data:Object(f.a)(s.default_filter_dropdown)});case u.E.RESET_COURSE_SCHEDULE_DATA_WHEN_UNMOUNT_REQUEST:return Object(d.a)(Object(d.a)({},n),{},{course_schedule_data:[],filters_data:[],is_show_course_schedule_toast:!1});case u.E.UPDATE_EVENT_TYPES_FILTER_PROPS_REQUEST:return Object(d.a)(Object(d.a)({},n),{},{event_type_filters:Object(f.a)(s.event_type_filters),event_type_id:Object(f.a)(s.event_type_id)});case u.E.FETCH_CALENDAR_EVENTS_REQUEST:return n;case u.E.FETCH_CALENDAR_EVENTS_SUCCESS:return Object(d.a)(Object(d.a)({},n),{},{calendar_events:s.data.result});case u.E.FETCH_CALENDAR_EVENTS_FAILURE:default:return n}},exams:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case u.Pb.GET_USER_LP2_EXAM_LINK_REQUEST:return{lp2_exam_link:null,exam_histories:t.exam_histories,belts:t.belts};case u.Pb.GET_USER_LP2_EXAM_LINK_SUCCESS:return{lp2_exam_link:a.exam.link||null,exam_histories:t.exam_histories,belts:t.belts};case u.Pb.GET_USER_EXAM_HISTORY_REQUEST:return{lp2_exam_link:t.lp2_exam_link,exam_histories:[],belts:[]};case u.Pb.GET_USER_EXAM_HISTORY_SUCCESS:return{lp2_exam_link:t.lp2_exam_link,exam_histories:a.exam_histories||[],belts:[]};case u.Pb.GET_USER_EXAM_HISTORY_FAILURE:case u.Pb.GET_USER_BELTS_REQUEST:return{lp2_exam_link:t.lp2_exam_link,exam_histories:[],belts:[]};case u.Pb.GET_USER_BELTS_SUCCESS:return{lp2_exam_link:t.lp2_exam_link,exam_histories:a.exam_histories,belts:a.user_belts};case u.Pb.GET_USER_BELTS_FAILURE:return{lp2_exam_link:t.lp2_exam_link,exam_histories:[],belts:[]};case u.n.FETCH_ADMIN_EXAM_DATA_REQUEST:return Object(d.a)({},t);case u.n.FETCH_ADMIN_EXAM_DATA_SUCCESS:return Object(d.a)(Object(d.a)({},t),{},{admin_exam_data:a.admin_exam_data,belt_summary_data:a.belt_summary_data,workspace_timezone:a.workspace_timezone,total_success_rate:a.total_success_rate});case u.n.FETCH_ADMIN_EXAM_DATA_FAILURE:return Object(d.a)({},t);case u.n.UPDATE_STUDENT_GRADE_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{is_success_saving:!1,is_show_saving_loading:!0,is_processing_student_grade:!0,show_error_modal:!1});case u.n.UPDATE_STUDENT_GRADE_SUCCESS:var n=Object(f.a)(t.admin_exam_data.table_data),s=Object(d.a)({},a.admin_exam_data);return n=n.map((function(e){return e.id===s.id&&(e=s),e})),Object(d.a)(Object(d.a)({},t),{},{admin_exam_data:Object(d.a)(Object(d.a)({},t.admin_exam_data),{},{table_data:n}),is_show_saving_loading:!1,is_processing_student_grade:!1,is_success_saving:!0,active_student_data:s});case u.n.UPDATE_STUDENT_GRADE_FAILURE:return Object(d.a)(Object(d.a)({},t),{},{is_processing_student_grade:!1,is_show_saving_loading:!1,is_success_saving:!1,show_error_modal:!0,error_message:a.error});case u.n.ADD_EXAM_RECORD_REQUEST:return Object(d.a)({},t);case u.n.ADD_EXAM_RECORD_SUCCESS:return Object(d.a)(Object(d.a)({},t),{},{admin_exam_data:Object(d.a)(Object(d.a)({},t.admin_exam_data),{},{table_data:[a.admin_exam_data].concat(Object(f.a)(t.admin_exam_data.table_data))})});case u.n.ADD_EXAM_RECORD_FAILURE:case u.n.FETCH_STUDENT_EXAM_FILTER_OPTIONS_REQUEST:return Object(d.a)({},t);case u.n.FETCH_STUDENT_EXAM_FILTER_OPTIONS_SUCCESS:return Object(d.a)(Object(d.a)({},t),{},{filter_dropdowns:a.is_filter?a.filters:t.filter_dropdowns,search_student_keyword:a.is_filter?a.search_student_keyword:t.search_student_keyword});case u.n.FETCH_STUDENT_EXAM_FILTER_OPTIONS_FAILURE:return Object(d.a)({},t);case u.n.FETCH_STUDENT_EXAM_FILTER_DATA_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{is_loading_table:!0,admin_exam_data:{table_data:[],recently_generated_codes:[]}});case u.n.FETCH_STUDENT_EXAM_FILTER_DATA_SUCCESS:var r=a.is_filter?a.filters:t.filter_dropdowns;for(var o in r)if(r[o].selected.length){t.is_loading_table=!0;break}return Object(d.a)(Object(d.a)({},t),{},{admin_exam_data:a.admin_exam_data,belt_summary_data:a.belt_summary_data,workspace_timezone:a.workspace_timezone,total_success_rate:a.total_success_rate,total_results:a.total_results,search_student_keyword:t.search_student_keyword||null,is_loading_table:!1,set_active_student:a.set_active_student});case u.n.FETCH_STUDENT_EXAM_FILTER_DATA_FAILURE:return Object(d.a)({},t);case u.n.FETCH_ADMIN_EXAM_CODE_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{is_fetching_exam_code:!0});case u.n.FETCH_ADMIN_EXAM_CODE_SUCCESS:return Object(d.a)(Object(d.a)({},t),{},{exam_codes:a.exam_codes,is_fetching_exam_code:!1});case u.n.FETCH_ADMIN_EXAM_CODE_FAILURE:return Object(d.a)(Object(d.a)({},t),{},{is_fetching_exam_code:!1});case u.n.FETCH_EXAM_CODE_DROPDOWN_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{is_fetching_exam_code_dropdown:!0});case u.n.FETCH_EXAM_CODE_DROPDOWN_SUCCESS:return Object(d.a)(Object(d.a)({},t),{},{exam_types_dropdown:a.exam_code_dropdown,is_fetching_exam_code_dropdown:!1});case u.n.FETCH_EXAM_CODE_DROPDOWN_FAILURE:return Object(d.a)(Object(d.a)({},t),{},{is_fetching_exam_code_dropdown:!1});case u.n.UPDATE_EXAM_CODE_DROPDOWN_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{is_updating_exam_code_dropdown:!0});case u.n.UPDATE_EXAM_CODE_DROPDOWN_SUCCESS:return Object(d.a)(Object(d.a)({},t),{},{exam_options_dropdown:a.update_exam_code_dropdown,is_updating_exam_code_dropdown:!1});case u.n.UPDATE_EXAM_CODE_DROPDOWN_FAILURE:return Object(d.a)(Object(d.a)({},t),{},{is_updating_exam_code_dropdown:!1});case u.n.SAVE_EXAM_CODE_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{error:null,reset_form:!1,save_exam_code_status:!1});case u.n.SAVE_EXAM_CODE_SUCCESS:var i=t.exam_codes,c=t.error,_=t.reset_form,l=!0;if(a.save_exam_code_status){var m=a.save_exam_code.disabled_exam_code_ids;i.map((function(e){m&&m.includes(e.id)&&(e.status=0)})),i.unshift(a.save_exam_code),_=!0,c=null}else _=!1,c=a.error,l=!1;return Object(d.a)(Object(d.a)({},t),{},{exam_codes:i,error:c,reset_form:_,save_exam_code_status:l});case u.n.UPDATE_EXAM_CODE_DROPDOWN_FAILURE:return Object(d.a)(Object(d.a)({},t),{},{save_exam_code_status:!1});case u.n.SEARCH_STUDENTS_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{searched_students:[]});case u.n.SEARCH_STUDENTS_SUCCESS:return Object(d.a)(Object(d.a)({},t),{},{searched_students:a.searched_students});case u.n.SEARCH_STUDENTS_FAILURE:return Object(d.a)(Object(d.a)({},t),{},{searched_students:[]});case u.n.ADMIN_UPDATE_EXAM_FILTER_OPTIONS_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{filter_dropdowns:t.filter_dropdowns,search_student_keyword:t.search_student_keyword});case u.n.ADMIN_UPDATE_EXAM_FILTER_OPTIONS_SUCCESS:var h=null===(e=a.filters)||void 0===e?void 0:e.result;return(null===h||void 0===h?void 0:h.length)&&(t.filter_dropdowns=Object(p.Y)(h,t.filter_dropdowns)),Object(d.a)(Object(d.a)({},t),{},{filter_dropdowns:t.filter_dropdowns,search_student_keyword:t.search_student_keyword});case u.n.ADMIN_UPDATE_EXAM_FILTER_OPTIONS_FAILURE:return Object(d.a)(Object(d.a)({},t),{},{filter_dropdowns:t.filter_dropdowns,search_student_keyword:t.search_student_keyword});case u.n.FETCH_STUDENT_EXAM_DATA_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{is_show_grading_modal_loading:!0});case u.n.FETCH_STUDENT_EXAM_DATA_SUCCESS:return Object(d.a)(Object(d.a)({},t),{},{active_student_data:a.student_details,set_active_student:null,is_show_grading_modal_loading:!1});case u.n.FETCH_STUDENT_EXAM_DATA_FAILURE:return Object(d.a)(Object(d.a)({},t),{},{is_show_grading_modal_loading:!1});case u.n.ADMIN_GET_STUDENT_PROFILE_DATA_REQUEST:case u.n.ADMIN_GET_STUDENT_PROFILE_DATA_SUCCESS:return t.student_details=a.student_details,Object(d.a)(Object(d.a)({},t),{},{student_details:a.student_details});case u.n.ADMIN_GET_STUDENT_PROFILE_DATA_FAILURE:return Object(d.a)(Object(d.a)({},t),{},{student_details:{status:!1,profile_details:{},stack_schedules:[],offered_stack_schedules:[],offered_stack_schedules_with_instructors:[],error:a.error}});case u.qb.DOWNLOAD_GET_PRESIGNED_URL_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{exam_file:null});case u.qb.DOWNLOAD_GET_PRESIGNED_URL_SUCCESS:return Object(d.a)(Object(d.a)({},t),{},{exam_file:a.exam_file});case u.qb.DOWNLOAD_GET_PRESIGNED_URL_FAILURE:case u.qb.DOWNLOAD_GET_PRESIGNED_URL_RESET:case u.qb.UPLOAD_FILE_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{exam_file:null});case u.qb.UPLOAD_FILE_SUCCESS:return console.log(a),Object(d.a)(Object(d.a)({},t),{},{exam_file:a.exam_file});case u.qb.UPLOAD_FILE_FAILURE:return Object(d.a)(Object(d.a)({},t),{},{exam_file:null});default:return t}},faqs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{faq_list:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.Q.GET_CHAPTER_MODULE_FAQ_REQUEST:return{faq_list:[]};case u.Q.GET_CHAPTER_MODULE_FAQ_SUCCESS:return{faq_list:t.faq.faq_list||[],user_data:t.faq.user_data_array||{}};default:return e}},tracks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tracks:[],enrolled_tracks:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.Fb.GET_TRACKS_PROGRESS:case u.Fb.GET_TRACKS_SUCCESS:case u.Fb.GET_TRACKS_FAILURE:return Object.assign(t,e);case u.O.GET_ENROLLED_TRACKS_REQUEST:return Object(d.a)(Object(d.a)({},e),{},{is_loading:!0});case u.O.GET_ENROLLED_TRACKS_SUCCESS:return{tracks:e.tracks,enrolled_tracks:t.tracks,is_loading:!1};case u.O.GET_ENROLLED_TRACKS_FAILURE:return Object(d.a)(Object(d.a)({},e),{},{is_loading:!1});default:return e}},rostering:function(){var e,t,a,n,s,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case u.pb.ADMIN_GET_STUDENT_ROSTER_FILTERS_REQUEST:case u.pb.ADMIN_GET_STUDENT_ROSTER_FILTERS_SUCCESS:return C.filters=o.filters,Object(d.a)(Object(d.a)({},r),{},{filters:o.filters});case u.pb.ADMIN_GET_STUDENT_ROSTER_FILTERS_FAILURE:return C.filters={status:!1,result:[],error:o.error},Object(d.a)(Object(d.a)({},r),{},{filters:C.filters});case u.pb.ADMIN_UPDATE_ROSTERING_FILTER_OPTIONS_REQUEST:return Object(d.a)(Object(d.a)({},r),{},{filters:C.filters});case u.pb.ADMIN_UPDATE_ROSTERING_FILTER_OPTIONS_SUCCESS:var i=null===(e=o.filters)||void 0===e?void 0:e.result;return(null===i||void 0===i?void 0:i.length)&&(null===C||void 0===C||null===(t=C.filters)||void 0===t?void 0:t.result)&&(C.filters.result=Object(p.Y)(i,C.filters.result)),Object(d.a)(Object(d.a)({},r),{},{filters:C.filters});case u.pb.ADMIN_UPDATE_ROSTERING_FILTER_OPTIONS_FAILURE:return C.filters={status:!1,result:[],error:o.error},Object(d.a)(Object(d.a)({},r),{},{filters:C.filters});case u.pb.ADMIN_GET_FILTERED_STUDENT_ROSTER_DATA_REQUEST:return o.is_export&&(r.previous_student_list=r.student_list),Object(d.a)(Object(d.a)({},r),{},{is_exporting:o.is_export,is_loading:!o.is_export});case u.pb.ADMIN_GET_FILTERED_STUDENT_ROSTER_DATA_SUCCESS:var c=o.student_list;return o.is_export&&(c=r.previous_student_list),Object(d.a)(Object(d.a)({},r),{},{student_list:c,is_loading:!1,is_exporting:!1,previous_student_list:void 0,filters:Object(d.a)(Object(d.a)({},r.filters),{},{rostering_pagination:null===(a=o.student_list)||void 0===a?void 0:a.rostering_pagination,selected_sort:null===(n=o.student_list)||void 0===n?void 0:n.selected_sort})});case u.pb.ADMIN_GET_FILTERED_STUDENT_ROSTER_DATA_FAILURE:return Object(d.a)(Object(d.a)({},r),{},{student_list:{status:!1,result:[],error:o.error},is_loading:!1,is_exporting:!1});case u.pb.ADMIN_GET_NEXT_STACK_OPTIONS_REQUEST:case u.pb.ADMIN_GET_NEXT_STACK_OPTIONS_SUCCESS:return Object(d.a)(Object(d.a)({},r),{},{next_stack_options:o.next_stack_options});case u.pb.ADMIN_GET_NEXT_STACK_OPTIONS_FAILURE:return Object(d.a)(Object(d.a)({},r),{},{next_stack_options:{status:!1,result:[],error:o.error}});case u.pb.ADMIN_PROCESS_STUDENTS_NEXT_STACK_REQUEST:return Object(d.a)(Object(d.a)({},r),{},{is_show_success_loading_animation:!0});case u.pb.ADMIN_PROCESS_STUDENTS_NEXT_STACK_SUCCESS:return o.is_from_student_profile&&(r.student_details.stack_schedules=void 0!==o.processed_students_next_stack&&void 0!==o.processed_students_next_stack.stack_schedules?o.processed_students_next_stack.stack_schedules:r.student_details.stack_schedules),Object(d.a)(Object(d.a)({},r),{},{processed_students_next_stack:o.processed_students_next_stack,is_show_success_loading_animation:!1});case u.pb.ADMIN_PROCESS_STUDENTS_NEXT_STACK_FAILURE:return Object(d.a)(Object(d.a)({},r),{},{processed_students_next_stack:{status:!1,result:{success:{},failed:{}},error:o.error},is_show_success_loading_animation:!1});case u.pb.ADMIN_UNLOCK_STUDENT_NEXT_STACK_REQUEST:case u.pb.ADMIN_UNLOCK_STUDENT_NEXT_STACK_SUCCESS:return Object(d.a)(Object(d.a)({},r),{},{unlock_stack_response:o.unlock_stack_response});case u.pb.ADMIN_UNLOCK_STUDENT_NEXT_STACK_FAILURE:return Object(d.a)(Object(d.a)({},r),{},{unlock_stack_response:{status:!1,result:{},error:o.error}});case u.pb.ADMIN_UPDATE_STUDENT_AP_STATUS_REQUEST:case u.pb.ADMIN_UPDATE_STUDENT_AP_STATUS_SUCCESS:return Object(d.a)(Object(d.a)({},r),{},{update_ap_response:o.update_ap_response});case u.pb.ADMIN_UPDATE_STUDENT_AP_STATUS_FAILURE:return Object(d.a)(Object(d.a)({},r),{},{update_ap_response:{status:!1,result:{},error:o.error}});case u.pb.ADMIN_GET_STUDENT_PROFILE_DATA_REQUEST:case u.pb.ADMIN_GET_STUDENT_PROFILE_DATA_SUCCESS:return r.student_details=o.student_details,Object(d.a)(Object(d.a)({},r),{},{student_details:o.student_details,student_login_url:null===o||void 0===o||null===(s=o.student_details)||void 0===s?void 0:s.auto_login_url});case u.pb.ADMIN_GET_STUDENT_PROFILE_DATA_FAILURE:return Object(d.a)(Object(d.a)({},r),{},{student_details:{status:!1,profile_details:{},stack_schedules:[],offered_stack_schedules:[],offered_stack_schedules_with_instructors:[],error:o.error},student_login_url:"#"});case u.pb.ADMIN_DELETE_STUDENT_STACK_SCHEDULE_REQUEST:case u.pb.ADMIN_DELETE_STUDENT_STACK_SCHEDULE_SUCCESS:return r.student_details.stack_schedules=void 0!==o.student_details?o.student_details:r.student_details.stack_schedules,Object(d.a)({},r);case u.pb.ADMIN_DELETE_STUDENT_STACK_SCHEDULE_FAILURE:return Object(d.a)({},r);case u.pb.ADMIN_UPDATE_STUDENT_STACK_SCHEDULE_REQUEST:case u.pb.ADMIN_UPDATE_STUDENT_STACK_SCHEDULE_SUCCESS:return r.student_details.stack_schedules=void 0!==o.student_details?o.student_details:r.student_details.stack_schedules,Object(d.a)({},r);case u.pb.ADMIN_UPDATE_STUDENT_STACK_SCHEDULE_FAILURE:return Object(d.a)({},r);case u.pb.ADMIN_UPDATE_STUDENT_REGION_REQUEST:case u.pb.ADMIN_UPDATE_STUDENT_REGION_SUCCESS:return Object(d.a)(Object(d.a)({},r),{},{student_details:o.student_details});case u.pb.ADMIN_UPDATE_STUDENT_REGION_FAILURE:return Object(d.a)({},r);case u.pb.CHANGE_PROPS_VALUE_REQUEST:var _=r.profile;return"available_workspaces"===o.props_name?(_.available_workspaces=o.props_value,Object(d.a)(Object(d.a)({},r),{},{profile:_})):Object(d.a)({},r);case u.pb.ADMIN_FETCH_INSTRUCTOR_OPTION_REQUEST:return Object(d.a)(Object(d.a)({},r),{},{is_fetching_instructor:!0});case u.pb.ADMIN_FETCH_INSTRUCTOR_OPTION_SUCCESS:return Object(d.a)(Object(d.a)({},r),{},{instructor_options:o.instructor_options,is_fetching_instructor:!1});case u.pb.ADMIN_FETCH_INSTRUCTOR_OPTION_FAILURE:return Object(d.a)(Object(d.a)({},r),{},{instructor_options:{status:!1,result:[],error:o.error},is_fetching_instructor:!0});default:return r}},user:function(){var e,t,a,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case u.Nb.LOGIN_REQUEST:return Object.assign(n,{is_logged_in:!1,redirect_url:void 0},s);case u.Nb.LOGIN_SUCCESS:return Object(d.a)(Object(d.a)({},n),{},{is_logged_in:!0,user_details:s.user_details,redirect_url:void 0});case u.Nb.LOGIN_FAILURE:return Object(d.a)(Object(d.a)({},n),{},{error_message:s.error||s.message,redirect_url:void 0});case u.Nb.VERIFY_USER_SUCCESS:return Object(d.a)(Object(d.a)({},n),{},{is_logged_in:!0,user_details:s.user_details});case u.Nb.VERIFY_USER_FAILURE:return Object(d.a)(Object(d.a)({},n),{},{error_message:s.error});case u.Nb.FORGOT_PASSWORD_REQUEST:return Object.assign(n,{forgot_password_ongoing:!0},s);case u.Nb.FORGOT_PASSWORD_SUCCESS:return Object(d.a)(Object(d.a)({},n),{},{is_password_retrieved:!0,forgot_password_ongoing:!1,action:s});case u.Nb.FORGOT_PASSWORD_FAILURE:return{error_message:s.error||s.message,is_password_retrieved:!1,forgot_password_ongoing:!1};case u.Nb.RESET_PASSWORD_REQUEST:return Object.assign(n,{is_password_reset:!1},s);case u.Nb.RESET_PASSWORD_SUCCESS:return Object(d.a)(Object(d.a)({},n),{},{is_password_reset:!0,is_current_password:!0,action:s});case u.Nb.RESET_PASSWORD_FAILURE:return Object(d.a)(Object(d.a)({},n),{},{is_current_password:!1});case u.Nb.REPORT_ISSUE_REQUEST:return Object.assign(n,{reported_an_issue:!1},s);case u.Nb.REPORT_ISSUE_REQUEST:return Object(d.a)(Object(d.a)({},n),{},{reported_an_issue:!0,action:s});case u.Nb.REPORT_ISSUE_REQUEST:return Object(d.a)({},n);case u.Nb.USER_UPLOAD_PROFILE_PIC_REQUEST:return Object.assign(n,{is_uploading_profile_pic:!0},s);case u.Nb.USER_UPLOAD_PROFILE_PIC_SUCCESS:return n.user_details.general.image_url=s.user_uploads.uploads[0].url,Object(d.a)(Object(d.a)({},n),{},{is_uploading_profile_pic:!1,action:s});case u.Nb.USER_UPLOAD_PROFILE_PIC_FAILURE:return Object(d.a)(Object(d.a)({},n),{},{error_message:s.error||s.message,is_uploading_profile_pic:!1});case u.Nb.SWITCH_PROGRAM_REQUEST:return Object.assign(n,{switch_program:!1},s);case u.Nb.SWITCH_PROGRAM_SUCCESS:return Object(d.a)(Object(d.a)({},n),{},{switch_program:!0,action:s});case u.Nb.SWITCH_PROGRAM_FAILURE:return Object(d.a)({},n);case u.Fb.USER_SEARCH_LEARNING_CONTENT_REQUEST:return Object(d.a)(Object(d.a)({},n),{},{user_search_result:{modules_search_results:[],chapters_search_results:[],courses_search_results:[],is_loading:!0},action:s});case u.Fb.USER_SEARCH_LEARNING_CONTENT_SUCCESS:return Object(d.a)(Object(d.a)({},n),{},{user_search_result:{modules_search_results:s.user_search_result.modules_search_results||[],chapters_search_results:s.user_search_result.chapters_search_results||[],courses_search_results:s.user_search_result.courses_search_results||[],is_loading:!1},action:s});case u.Fb.USER_SEARCH_LEARNING_CONTENT_FAILURE:return Object(d.a)(Object(d.a)({},n),{},{error_message:s.error||s.message});case u.Ob.GET_USER_DASHBOARD_SUCCESS:case u.D.FETCH_COURSE_PAGE_DATA_SUCCESS:case u.D.FETCH_COURSE_PAGE_DATA_FAILURE:case u.Nb.STOP_SENCE_SESSION_SUCCESS:return(null===(e=n.user_details)||void 0===e||null===(t=e.workspace_custom_data)||void 0===t?void 0:t.sence_integration)&&(s.sence_integration||(null===(a=s.result)||void 0===a?void 0:a.is_sence_user))&&(n.user_details.workspace_custom_data.sence_integration=s.sence_integration||s.result),n;case u.Ob.SWITCH_WORKSPACE_REQUEST:return Object.assign(n,s);case u.Ob.SWITCH_WORKSPACE_SUCCESS:return Object(d.a)(Object(d.a)({},n),{},{action:s});case u.Ob.SWITCH_WORKSPACE_FAILURE:case u.Nb.FETCH_PRIVATE_FILES_REQUEST:return Object(d.a)({},n);case u.Nb.FETCH_PRIVATE_FILES_SUCCESS:return Object(d.a)(Object(d.a)({},n),{},{user_private_files:Object(d.a)({},s)});case u.Nb.FETCH_PRIVATE_FILES_FAILURE:return Object(d.a)({},n);case u.Nb.REGISTER_TRIAL_ACCOUNT_REQUEST:return Object(d.a)(Object(d.a)({},n),{},{signup_error_message:"",is_processing_trial_platform:!0});case u.Nb.REGISTER_TRIAL_ACCOUNT_SUCCESS:return Object(d.a)(Object(d.a)({},n),{},{is_processing_trial_platform:!1});case u.Nb.REGISTER_TRIAL_ACCOUNT_FAILURE:return Object(d.a)(Object(d.a)({},n),{},{signup_error_message:s.error,is_processing_trial_platform:!1});case u.Nb.SIGNIN_TRIAL_ACCOUNT_REQUEST:return Object(d.a)(Object(d.a)({},n),{},{signin_error_message:"",is_processing_trial_platform:!0});case u.Nb.SIGNIN_TRIAL_ACCOUNT_SUCCESS:return Object(d.a)(Object(d.a)({},n),{},{is_processing_trial_platform:!1});case u.Nb.SIGNIN_TRIAL_ACCOUNT_FAILURE:return Object(d.a)(Object(d.a)({},n),{},{signin_error_message:s.error,is_processing_trial_platform:!1});case u.Nb.RESET_ERROR_MESSAGE_SUCCESS:return Object(d.a)(Object(d.a)({},n),{},{signin_error_message:"",signup_error_message:""});case u.Nb.LOGOUT:return Object(d.a)(Object(d.a)({},n),{},{is_logged_in:!1});default:return n}},user_bookmarks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.u.GET_BOOKMARKS_REQUEST:return{bookmark_list:[]};case u.u.GET_BOOKMARKS_SUCCESS:return{bookmark_list:t.user_bookmarks};case u.u.SAVE_NEW_BOOKMARK_SUCCESS:for(var a=[],n=0;n<e.bookmark_list.length;n++){var s=e.bookmark_list[n];parseInt(s.chapter_module_id)===parseInt(t.user_bookmarks.chapter_module_id)&&(t.user_bookmarks.track_id&&t.user_bookmarks.track_id===s.track_id||!t.user_bookmarks.track_id)&&(s.user_bookmark_id=t.user_bookmarks.user_bookmark_id,s.deleted=void 0),a.push(s)}return{bookmark_list:a,new_bookmark_id:t.user_bookmarks.user_bookmark_id};case u.u.REMOVE_BOOKMARK_REQUEST:return{bookmark_list:e.bookmark_list||[]};case u.u.REMOVE_BOOKMARK_SUCCESS:var r=[];if(void 0!==e.bookmark_list&&e.bookmark_list.length>0)for(var o=0;o<e.bookmark_list.length;o++){var i=e.bookmark_list[o];i.user_bookmark_id===t.bookmark.removed_bookmark_id&&(i.deleted=!0),r.push(i)}return{bookmark_list:r,removed_bookmark_id:t.bookmark.removed_bookmark_id};case u.u.SAVE_NEW_BOOKMARK_FAILURE:return{bookmark_list:e.bookmark_list||[],error_message:t.error||t.message};default:return e}},user_stats:function(){var e,t,a,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case u.Ub.GET_STATS_REQUEST:return{attendance_breakdown:n.attendance_breakdown,core_completion_data:n.core_completion_data,belts:n.belts,breakdown_data:n.breakdown_data,dropdown_options:n.dropdown_options,widget_data:n.widget_data,is_show_main_loading:!0,exam_feedback_details:n.exam_feedback_details};case u.Ub.GET_STATS_SUCCESS:var r=s.stats_data,o=r.stats_progress,i=o.core_completion_data,c=o.current_user_track,_=o.attendance_rate,l=o.user_track_history,p=r.belt_exams.belts_and_exams_progress,m={},h=[],E=p||{},g=E.belt_summaries;if(g)for(var v=0,b=Object.entries(g);v<b.length;v++){var S=Object(A.a)(b[v],2),k=S[0],O=S[1],T="Orange",C=O.color.split(" ").pop();T=C.indexOf("_belt")>-1?C.replace("_belt",""):C,O.level>=0&&h.push({id:parseInt(k),belt_description:"".concat(O.label,": ").concat(T.charAt(0).toUpperCase()).concat(T.slice(1)),belt_class:null===O||void 0===O?void 0:O.color,image:null===O||void 0===O?void 0:O.image})}var w=[];if(l&&l.length)for(var y=0;y<l.length;y++){var R=l[y],D=R.track_id,U=R.cc_stack_schedule_id,N=R.stack_name,P=R.formatted_start_date,j=R.formatted_end_date,L=R.start_date;w.push({label:N,value:"".concat(parseInt(D),"-").concat(parseInt(U)),track_id:parseInt(D),cc_stack_schedule_id:parseInt(U),date:"".concat(P," - ").concat(j),start_date:L})}return m.active_track_option=c?[{label:c.stack_name,track_id:parseInt(c.track_id),value:"".concat(parseInt(c.track_id),"-").concat(parseInt(c.cc_stack_schedule_id)),cc_stack_schedule_id:parseInt(c.cc_stack_schedule_id),start_date:c.start_date}]:[],m.dropdown_options=l&&l.length?w:[],m.core_completion_data=c?i:I.core_completion_data,m.attendance_rate_data=c?_:I.attendance_rate_data,m.belts=h,m.track_id=null===c||void 0===c?void 0:c.track_id,m.cc_stack_schedule_id=null===c||void 0===c?void 0:c.cc_stack_schedule_id,Object(d.a)(Object(d.a)(Object(d.a)({},n),m),{},{is_show_main_loading:!1});case u.Ub.GET_STATS_FAILURE:return Object(d.a)({},n);case u.Ub.GET_STATS_CORE_BREAKDOWN_REQUEST:return Object(d.a)(Object(d.a)({},n),{},{breakdown_data:{active_pagination_key:0,max_pagination_key:0,table_data:[],tracks:[],weeks:[]},widget_data:n.widget_data});case u.Ub.GET_STATS_CORE_BREAKDOWN_SUCCESS:var M=s.core_breakdown_data,F=M.track_assignment_progress_rate,x=M.track_assignment_progress_breakdown;return Object(d.a)(Object(d.a)({},n),{},{core_completion_data:F,breakdown_data:x});case u.Ub.GET_STATS_CORE_BREAKDOWN_FAILURE:return Object(d.a)({},n);case u.Ub.GET_STATS_ATTENDANCE_BREAKDOWN_REQUEST:return Object(d.a)(Object(d.a)({},n),{},{breakdown_data:{active_pagination_key:0,max_pagination_key:0,table_data:[],track_id:null,tracks:[],weeks:[]},widget_data:n.widget_data});case u.Ub.GET_STATS_ATTENDANCE_BREAKDOWN_SUCCESS:var B=s.user_attendance_data,W=B.track_attendance_rate,H=B.track_attendance_breakdown,K=Object(f.a)(n.dropdown_options);(null===K||void 0===K?void 0:K.length)&&(H.week_breakdown.track_data=K.map((function(e){return{id:e.track_id,is_active:e.track_id===H.week_breakdown.track_id,name:"".concat(e.label," ").concat(e.date),cc_stack_schedule_id:e.cc_stack_schedule_id,track_id:e.track_id,start_date:e.start_date}})));for(var G=[],V=0,q=Object.entries(H.week_breakdown.weeks);V<q.length;V++){var Y=Object(A.a)(q[V],2),Q=(Y[0],Y[1]);G.push({id:parseInt(Q.id),is_active:Q.is_active,name:"Week ".concat(Q.id)})}return H.week_breakdown.weeks=G,Object(d.a)(Object(d.a)({},n),{},{attendance_rate_data:W,attendance_breakdown:H,breakdown_data:H.week_breakdown});case u.Ub.GET_STATS_ATTENDANCE_BREAKDOWN_FAILURE:return Object(d.a)({},n);case u.Ub.GET_STATS_EXAM_HISTORY_REQUEST:return n;case u.Ub.GET_STATS_EXAM_HISTORY_SUCCESS:return Object(d.a)(Object(d.a)({},n),{},{core_completion_data:n.core_completion_data,belts:n.belts,exam_history_breakdown:Object(d.a)(Object(d.a)({},null===(e=n.exam_history_breakdown)||void 0===e?void 0:e.exam_histories),null===s||void 0===s?void 0:s.exam_histories),exam_feedback_details:n.exam_feedback_details});case u.Ub.GET_STATS_EXAM_HISTORY_FAILURE:return Object(d.a)(Object(d.a)({},n),{},{exam_history_breakdown:I.exam_history_breakdown});case u.Pb.GET_EXAM_FEEDBACK_REQUEST:return n.exam_feedback_details.is_fetching_exam_feedback=!0,Object(d.a)(Object(d.a)({},n),{},{exam_history_breakdown:Object(d.a)(Object(d.a)({},n.exam_history_breakdown),{},{selected_user_exam_feedback:{}}),exam_feedback_details:Object(d.a)(Object(d.a)({},n.exam_feedback_details),{},{is_auto_fetch_exam_feedback:!1})});case u.Pb.GET_EXAM_FEEDBACK_SUCCESS:return(null===(t=s.updated_feedback_ids)||void 0===t?void 0:t.length)&&(null===(a=n.exam_history_breakdown)||void 0===a?void 0:a.all_user_exams)&&Object.entries(n.exam_history_breakdown.all_user_exams).map((function(e){var t=Object(A.a)(e,2),a=t[0],r=t[1];s.updated_feedback_ids.includes(r.feedback.id)&&(n.exam_history_breakdown.all_user_exams[a].feedback.is_read=u.s.YES_VALUE)})),n.exam_feedback_details.is_fetching_exam_feedback=!1,Object(d.a)(Object(d.a)({},n),{},{exam_history_breakdown:Object(d.a)(Object(d.a)({},n.exam_history_breakdown),{},{selected_user_exam_feedback:s.selected_user_exam_feedback}),is_auto_fetch_exam_feedback:!1});case u.Pb.GET_EXAM_FEEDBACK_FAILURE:return Object(d.a)(Object(d.a)({},n),{},{exam_history_breakdown:Object(d.a)(Object(d.a)({},n.exam_history_breakdown),{},{selected_user_exam_feedback:{}}),is_auto_fetch_exam_feedback:!1});case u.Pb.TRIGGER_SHOW_EXAM_FEEDBACK:return Object(d.a)(Object(d.a)({},n),{},{exam_feedback_details:s.exam_feedback_details});default:return n}},courses:U.a,discussions:function(){var e,t,a,n,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case u.I.GET_DISCUSSION_REQUEST:return Object(d.a)({},s);case u.I.GET_DISCUSSION_SUCCESS:return{current_user_id:r.discussion.current_user_id,discussion_sidebar:r.discussion.discussion_sidebar,selected_question_data:r.discussion.selected_question_data,show_response_form:r.discussion.show_response_form,discussion_responses:r.discussion.discussion_responses,user_votes:r.discussion.user_votes,discussion_breadcrumbs:r.discussion.discussion_breadcrumbs,is_instructor:r.discussion.is_instructor,active_week_id:r.discussion.active_week_id,is_final_week:r.discussion.is_final_week};case u.I.GET_DISCUSSION_RESPONSES_SUCCESS:return Object(d.a)(Object(d.a)({},s),{},{selected_question_data:Object(d.a)(Object(d.a)({},s.selected_question_data),{},{current_page:r.discussion.current_page}),discussion_responses:[].concat(Object(f.a)(s.discussion_responses),Object(f.a)(r.discussion.discussion_responses))});case u.I.SAVE_DISCUSSION_RESPONSE_SUCCESS:if((t=s.discussion_responses).unshift(r.new_response.user_answer_data),(a=s.discussion_sidebar).length>0)for(var o=0;o<a.length;o++)if(a[o].selected_week&&a[o].discussion_lists.length>0){for(var i=0,c=0;c<a[o].discussion_lists.length;c++)a[o].discussion_lists[c].selected_discussion&&(a[o].discussion_lists[c].no_response=!1,a[o].discussion_lists[c].total_respond=s.selected_question_data.total_response?s.selected_question_data.total_response+1:1),i+=a[o].discussion_lists[c].no_response?0:1;a[o].user_done_percentage=Math.round(i/a[o].discussion_lists.length*100)}return Object(d.a)(Object(d.a)({},s),{},{discussion_sidebar:a,selected_question_data:Object(d.a)(Object(d.a)({},s.selected_question_data),{},{total_response:(null===(e=s.selected_question_data)||void 0===e?void 0:e.total_response)?s.selected_question_data.total_response+1:1}),show_response_form:s.show_response_form,discussion_responses:t,user_votes:s.user_votes,discussion_breadcrumbs:s.discussion_breadcrumbs,is_instructor:s.is_instructor,active_week_id:s.active_week_id,marked_as_read_notification_id:r.new_response.updated_notification_ids});case u.I.REMOVE_DISCUSSION_RESPONSE_SUCCESS:if((t=s.discussion_responses)[r.response_index].id===r.deleted_response.user_answer_id&&t.splice(r.response_index,1),(a=s.discussion_sidebar).length>0)for(var _=0;_<a.length;_++)if(!0===a[_].selected_week&&a[_].discussion_lists.length>0)for(var l=0;l<a[_].discussion_lists.length;l++)!0===a[_].discussion_lists[l].selected_discussion&&(a[_].discussion_lists[l].total_respond=s.selected_question_data.total_response-1);return Object(d.a)(Object(d.a)({},s),{},{selected_question_data:Object(d.a)(Object(d.a)({},s.selected_question_data),{},{total_response:s.selected_question_data.total_response-1}),discussion_responses:t});case u.I.VOTE_DISCUSSION_RESPONSE_SUCCESS:return(n=s.user_votes)[parseInt(r.voted_response.user_answer_id)]=r.voted_response.vote_data,(t=s.discussion_responses)[r.response_index].id===r.voted_response.user_answer_id&&(t[r.response_index].cache_downvote_count=r.voted_response.cache_votes.cache_downvote_count,t[r.response_index].cache_upvote_count=r.voted_response.cache_votes.cache_upvote_count),Object(d.a)(Object(d.a)({},s),{},{discussion_responses:t,user_votes:n});case u.I.UPDATE_DISCUSSION_DETAILS_SUCCESS:var p=s.selected_question_data||{};p.title=r.response.new_discussion_title,p.content=r.response.new_discussion_description,p.response_due_date=r.response.response_due_date;var m=s.discussion_breadcrumbs;if(m[2]=r.response.new_discussion_title,(a=s.discussion_sidebar).length>0)for(var h=0;h<a.length;h++)if(!0===a[h].selected_week&&a[h].discussion_lists.length>0)for(var E=0;E<a[h].discussion_lists.length;E++)!0===a[h].discussion_lists[E].selected_discussion&&(a[h].discussion_lists[E].title=r.response.new_discussion_title);return Object(d.a)(Object(d.a)({},s),{},{discussion_sidebar:a,selected_question_data:p});default:return s}},assignment_monitoring:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0,a=e.filters;switch(t.type){case u.q.FETCH_ASSIGNMENT_MONITORING_FILTER_OPTIONS_SUCCESS:return a.map((function(e){t.filters.map((function(t){e.title===t.name&&(e.options=t.options)}))})),Object(d.a)({},e);case u.q.FETCH_ASSIGNMENT_MONITORING_FILTER_OPTIONS_FAILURE:case u.q.FETCH_ASSIGNMENT_MONITORING_FILTER_OPTIONS_REQUEST:return Object(d.a)({},e);case u.q.UPDATE_ASSIGNMENT_MONITORING_FILTER_OPTIONS_SUCCESS:var n=t.updated_filters;return a.map((function(e){n.map((function(t){e.title===t.name&&(e.options=t.options)}))})),Object(d.a)({},e);case u.q.UPDATE_ASSIGNMENT_MONITORING_FILTER_OPTIONS_REQUEST:case u.q.UPDATE_ASSIGNMENT_MONITORING_FILTER_OPTIONS_FAILURE:return Object(d.a)({},e);case u.q.FETCH_ASSIGNMENT_MONITORING_DATA_SUCCESS:var s=t.assignment_monitoring_data_list,r=s.filtered_data,o=s.pagination;if(o){var i=o.records_per_page,c=o.total_records;r.map((function(e){e.last_replier_details=JSON.parse(e.last_replier_details),e.question_title=JSON.parse(e.question_title)})),o.total_pages=Math.ceil(c/i)}return Object(d.a)(Object(d.a)({},e),{},{results:r,is_loading:!1,pagination:o});case u.q.FETCH_ASSIGNMENT_MONITORING_DATA_REQUEST:case u.q.FETCH_ASSIGNMENT_MONITORING_DATA_FAILURE:return Object(d.a)({},e);default:return e}},forum:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0,a=e.forum_assignment_questions,n=e.forum_assignment_answers,s=e.uploaded_attachments,r={};switch(e.new_question_id=null,t.type){case u.S.SUBMIT_COMMENT_REQUEST:return Object.assign(e,{submit_comment:!1},t);case u.S.SUBMIT_COMMENT_SUCCESS:return t.new_comment.is_question?(a=[t.new_comment].concat(Object(f.a)(e.forum_assignment_questions)),e.new_question_id=t.new_comment.comment_id):(n=[t.new_comment].concat(Object(f.a)(e.forum_assignment_answers)),a.map((function(t){t.comment_id===e.question.comment_id&&(t.total_replies+=1)}))),Object(d.a)(Object(d.a)({},e),{},{is_show_ask_forum_question_modal:!1,forum_assignment_questions:a,forum_assignment_answers:n,uploaded_attachments:[]});case u.S.SUBMIT_COMMENT_FAILURE:return Object(d.a)({},e);case u.S.FETCH_ASSIGNMENT_FORUM_REQUEST:return Object(d.a)(Object(d.a)({},e),{},{forum_assignment_questions:[],action:t});case u.S.FETCH_ASSIGNMENT_FORUM_SUCCESS:return t.assignment_forum_questions.map((function(e){var t;(null===(t=e.author_details)||void 0===t?void 0:t.user_forum_summaries)&&(e.author_details=Object(d.a)(Object(d.a)({},e.author_details),JSON.parse(e.author_details.user_forum_summaries)))})),Object(d.a)(Object(d.a)({},e),{},{forum_assignment_questions:t.assignment_forum_questions});case u.S.FETCH_ASSIGNMENT_FORUM_FAILURE:return Object(d.a)(Object(d.a)({},e),{},{forum_assignment_questions:[]});case u.S.VOTE_REQUEST:return Object.assign(e,t);case u.S.VOTE_SUCCESS:r=t.comment_details.is_answer?n:a;var o=[],i=["cache_upvotes_count"];return r.map((function(e){e.comment_id===t.comment_details.id&&(e=L(e,t.comment_details.vote_type)),!e.answer_ids&&e.is_answer_endorsed&&(o.push(e.comment_id),i=["is_answer_endorsed"].concat([i]))})),r.length>1&&(r=Object(p.R)(r,i,{comment_id:o},"date_posted")),r=t.comment_details.is_answer?{forum_assignment_answers:n}:{forum_assignment_questions:a},Object(d.a)(Object(d.a)({},e),{},{updated_comments:r});case u.S.VOTE_FAILURE:return Object(d.a)({},e);case u.S.ENDORSEMENT_REQUEST:return Object.assign(e,t);case u.S.ENDORSEMENT_SUCCESS:return a.map((function(e){e.comment_id===t.comment_details.parent_comment_id&&(e.total_endorsed_answers=e.total_endorsed_answers+(t.comment_details.is_pinned?-1:1))})),Object(d.a)({},e);case u.S.ENDORSEMENT_FAILURE:return Object(d.a)({},e);case u.S.FETCH_ANSWER_COMMENTS_REQUEST:return Object.assign(e,t);case u.S.FETCH_ANSWER_COMMENTS_SUCCESS:return Object(d.a)(Object(d.a)({},e),{},{forum_assignment_answers:t.forum_assignment_answers||[]});case u.S.FETCH_ANSWER_COMMENTS_FAILURE:return Object(d.a)(Object(d.a)({},e),{},{forum_assignment_answers:[]});case u.S.UPDATE_COMMENT_REQUEST:return Object.assign(e,t);case u.S.UPDATE_COMMENT_SUCCESS:return(r=t.updated_comment.is_answer?n:a).map((function(t){t.comment_id===e.comment_id&&(t.comment_id=e.comment_id,t.title=e.title,t.description=e.description,t.post_type=e.post_type,t.is_edited=!0,t.date_posted=e.date_posted,t.author_details={email_address:e.user_details.email_address,first_name:e.user_details.first_name,last_name:e.user_details.last_name.charAt(0),profile_img_url:e.user_details.image_url,type:e.user_details.user_level_id,user_id:e.user_details.id},t.is_show_editor=!1)})),r=t.updated_comment.is_answer?{forum_assignment_answers:n}:{forum_assignment_questions:a},Object(d.a)(Object(d.a)({},e),{},{updated_comments:r,selected_question:void 0,uploaded_attachments:[]});case u.S.UPDATE_COMMENT_FAILURE:return Object(d.a)({},e);case u.S.SET_COMMENT_TO_ARCHIVE_REQUEST:return Object.assign(e,t);case u.S.SET_COMMENT_TO_ARCHIVE_SUCCESS:var c=t.set_comment_to_archive_response,_=c.comment_id,l=c.comment_details;return l.is_answer&&a.map((function(e){e.comment_id===l.parent_comment_id&&(e.total_replies-=1)})),n=e.forum_assignment_answers.filter((function(e){return e.comment_id!==_})),a=e.forum_assignment_questions.filter((function(e){return e.comment_id!==_})),Object(d.a)(Object(d.a)({},e),{},{forum_assignment_questions:a,forum_assignment_answers:n});case u.S.SET_COMMENT_TO_ARCHIVE_FAILURE:return Object(d.a)({},e);case u.S.UPLOAD_COMMENT_IMAGE_REQUEST:return Object(d.a)(Object(d.a)({},e),{},{is_uploading:!0});case u.S.UPLOAD_COMMENT_IMAGE_SUCCESS:return Object(d.a)(Object(d.a)({},e),{},{uploaded_attachments:[].concat(Object(f.a)(e.uploaded_attachments),[t.file_url]),is_uploading:!1});case u.S.UPLOAD_COMMENT_IMAGE_FAILURE:return Object(d.a)(Object(d.a)({},e),{},{is_uploading:!1,uploading_error:""});case u.S.DELETE_COMMENT_IMAGE_REQUEST:return Object(d.a)({},e);case u.S.DELETE_COMMENT_IMAGE_SUCCESS:return s.map((function(e){t.delete_details.deleted_files.includes(e)&&(e=s[s.length-1],s.pop())})),Object(d.a)({},e);case u.S.DELETE_COMMENT_IMAGE_FAILURE:return Object(d.a)({},e);case u.S.RESET_FORUM_ANSWER_COMMENTS:return Object(d.a)(Object(d.a)({},e),{},{forum_assignment_answers:[],question_id:null});default:return e}},notification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,a=[{id:1,title:"Today",content:[]},{id:2,title:"Yesterday",content:[]},{id:3,title:"Older Notifications",content:[]}],n=e.notifications,s=null;switch(t.type){case u.hb.FETCH_NOTIFICATIONS_REQUEST:return e;case u.hb.FETCH_NOTIFICATIONS_SUCCESS:var r=t.notifications,o=r.data,i=r.mandatory_survey_notification_ids;if(s=t.notifications.user_bootcamp_id,o&&o.length){var c=x(o,a,i,s);return Object(d.a)(Object(d.a)({},e),{},{notification_count:c.unread_count,notifications:o,grouped_notifications:c.result,is_empty_notification:!c.notif_count,mandatory_survey_notification_ids:i})}return Object(d.a)(Object(d.a)({},e),{},{notifications:a});case u.hb.FETCH_NOTIFICATIONS_FAILURE:return e;case u.hb.MARK_NOTIFICATIONS_AS_READ_REQUEST:return Object.assign(e,t);case u.I.SAVE_DISCUSSION_RESPONSE_SUCCESS:case u.hb.MARK_NOTIFICATIONS_AS_READ_SUCCESS:s=t.user_bootcamp_id;case u.Pb.GET_EXAM_FEEDBACK_SUCCESS:var _=t.updated_notification_ids,l=t.new_response,m=_||(null===l||void 0===l?void 0:l.marked_as_read_notification_id)||[];if(m.length&&n.length){if(null===e||void 0===e?void 0:e.notification_count){var h=[u.hb.DISCUSSION_DUE_72HRS_PRIOR,u.hb.DISCUSSION_DUE_48HRS_PRIOR,u.hb.DISCUSSION_DUE_24HRS_PRIOR,u.hb.DISCUSSION_DUE_12HRS_PRIOR];n.map((function(e){var t;(Object(p.g)(m,e.id)||h.includes(e.notification_type_id)&&(null===l||void 0===l||null===(t=l.user_answer_data)||void 0===t?void 0:t.user_question_id)===e.subject_record_id)&&(e.is_read=1)}))}else n=[];var E=x(n,a,void 0,s);return Object(d.a)(Object(d.a)({},e),{},{grouped_notifications:E.result,notification_count:E.unread_count})}return e;case u.hb.MARK_NOTIFICATIONS_AS_READ_FAILURE:return e;case u.hb.SET_NOTIFICATIONS_AS_ARCHIVED_REQUEST:return Object.assign(e,t);case u.xb.TAKE_SURVEY_SUCCESS:case u.hb.SET_NOTIFICATIONS_AS_ARCHIVED_SUCCESS:var f,g=t.set_notifications_to_archived_response,v=g.updated_notification_ids,b=g.is_all_notifications,S=[],A={result:{},unread_count:0,is_empty_notification:!0};if(!b&&(null===e||void 0===e?void 0:e.notification_count))(null===(f=S=n.filter((function(e){return!1===Object(p.g)(v,e.id)})))||void 0===f?void 0:f.length)&&((A=x(S,a,void 0,t.user_bootcamp_id)).is_empty_notification=!1);return Object(d.a)(Object(d.a)({},e),{},{notifications:S,grouped_notifications:A.result,notification_count:A.unread_count,is_empty_notification:A.is_empty_notification});case u.hb.SET_NOTIFICATIONS_AS_ARCHIVED_FAILURE:return Object(d.a)({},e);default:return e}},workspace_management:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.ac.FETCH_WORKSPACE_DATA_REQUEST:return e;case u.ac.FETCH_WORKSPACE_DATA_SUCCESS:return Object(d.a)(Object(d.a)({},e),{},{workspaces_data:t.workspaces_data,all_tracks_data:t.all_tracks_data,workspace_languages:t.workspace_languages,belt_options:t.belt_options});case u.ac.FETCH_WORKSPACE_DATA_FAILURE:case u.ac.DELETE_WORKSPACE_DATA_REQUEST:return e;case u.ac.DELETE_WORKSPACE_DATA_SUCCESS:return Object(d.a)(Object(d.a)({},e),{},{workspaces_data:t.workspaces_data});case u.ac.DELETE_WORKSPACE_DATA_FAILURE:case u.ac.ENABLE_DISABLE_WORKSPACE_DATA_REQUEST:return e;case u.ac.ENABLE_DISABLE_WORKSPACE_DATA_SUCCESS:return Object(d.a)(Object(d.a)({},e),{},{workspaces_data:t.workspaces_data});case u.ac.ENABLE_DISABLE_WORKSPACE_DATA_FAILURE:case u.ac.ADD_WORKSPACE_DATA_REQUEST:return e;case u.ac.ADD_WORKSPACE_DATA_SUCCESS:return Object(d.a)(Object(d.a)({},e),{},{workspaces_data:t.workspaces_data,recent_workspace_id:t.workspace_id});case u.ac.ADD_WORKSPACE_DATA_FAILURE:case u.ac.UPDATE_WORKSPACE_DATA_REQUEST:return e;case u.ac.UPDATE_WORKSPACE_DATA_SUCCESS:return Object(d.a)(Object(d.a)({},e),{},{workspaces_data:t.workspaces_data,recent_workspace_id:t.workspace_id});case u.ac.UPDATE_WORKSPACE_DATA_FAILURE:return e;case u.ac.UPLOAD_WORKSPACE_ATTACHMENT_REQUEST:var a=Object.keys(e.active_workspace_data.settings.general.logo_url),n=Object(A.a)(a,2),s=n[0],r=n[1],o=!1,i=!1;return s===t.logo_url_key?i=!0:r===t.logo_url_key&&(o=!0),Object(d.a)(Object(d.a)({},e),{},{is_uploading_image:o,is_dark_mode_uploading_image:i,belt_item_name:t.belt_item_name});case u.ac.UPLOAD_WORKSPACE_ATTACHMENT_SUCCESS:return t.cc_stack_id?(e.active_workspace_data.settings.content.tracks[t.program_type]||(e.active_workspace_data.settings.content.tracks[t.program_type]={accessible:{},default:{}}),e.active_workspace_data.settings.content.tracks[t.program_type][t.is_major][t.cc_stack_id]||(e.active_workspace_data.settings.content.tracks[t.program_type][t.is_major][t.cc_stack_id]={certificate_icon:{}}),e.active_workspace_data.settings.content.tracks[t.program_type][t.is_major][t.cc_stack_id].certificate_icon["".concat(t.belt_item_name)]=t.workspace_attachment_url):e.active_workspace_data.settings.general.logo_url[t.logo_url_key]=t.workspace_attachment_url,Object(d.a)(Object(d.a)({},e),{},{is_uploading_image:!1,is_dark_mode_uploading_image:!1,belt_item_name:"",error_message:t.error||t.message});case u.ac.UPLOAD_WORKSPACE_ATTACHMENT_FAILURE:return Object(d.a)(Object(d.a)({},e),{},{error_message:t.error||t.message,is_uploading_image:!1,is_dark_mode_uploading_image:!1});case u.ac.RESET_ACTIVE_WORKSPACE_DATA:return Object(d.a)(Object(d.a)({},e),{},{active_workspace_data:{settings:{general:{logo_url:{dark_mode:"",light_mode:""}},content:{tracks:{}}}}});default:return e}},student_progress:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case u.p.FETCH_STUDENT_PROGRESS_REVISIONS_FILTER_OPTIONS_REQUEST:return Object(d.a)(Object(d.a)({},a),{},{is_fetching_filters:!0,is_loading:!1});case u.p.FETCH_STUDENT_PROGRESS_FILTER_OPTIONS_REQUEST:return a.filters=[],a.filter_students=[],a.stack_belt_exam_summary=[],a.stack_progress_summary=[],a.total_results=0,a.weeks_tab=[],a.search_student_keyword="",a;case u.p.FETCH_STUDENT_PROGRESS_REVISION_FILTER_OPTIONS_SUCCESS:H.filters=n.filters;var s=a.program_view_rev;if("student_progress_by_program_rev"===n.admin_page){var r=n.program_view_additional_settings,o=r.pagination,i=r.is_up_to_date,c=(r.is_on_time_assignments,r.sort_config),_=r.assignment_types,m=Object(A.a)(s.program_view_rev_table_view_setting.progress_type.options,2),h=m[0],E=m[1],f=Object(A.a)(s.program_view_rev_table_view_setting.submission_type.options,2);f[0],f[1];for(var g in s.program_view_rev_pagination=o,s.program_view_rev_table_view_setting.progress_type.selected_value=i?h:E,s.program_view_rev_table_view_setting.sub_options)(null===_||void 0===_?void 0:_[g])&&(s.program_view_rev_table_view_setting.sub_options[g].is_selected=!0);for(var b in s.program_view_rev_table_head_column){var S=s.program_view_rev_table_head_column[b].name;S===c.name&&(s.program_view_rev_table_head_column[b].is_sorted=!0)}}return"stack_dashboard"===n.admin_page&&(n.is_major_track?H.filters=Object(p.V)(H.filters,"cc_stack_start_date","bootcamp_start_date"):H.filters=Object(p.V)(H.filters,"bootcamp_start_date","cc_stack_start_date")),Object(d.a)(Object(d.a)({},a),{},{filter_dropdowns:n.filters,initial_filter_data:n.initial_filter_data,search_student_keyword:n.search_student_keyword,page_count:n.page_count,selected_sort:n.selected_sort,pagination:n.pagination,bp_selected_sort:n.bp_selected_sort,bp_pagination:n.bp_pagination,program_view_rev:s,is_fetching_filters:!1});case u.p.FETCH_STUDENT_PROGRESS_NEW_BY_STACK_DATA_REQUEST:return Object(d.a)(Object(d.a)({},a),{},{total_results:0,by_course_filter_students:[],table_sort:!1,loading_table:!0});case u.p.FETCH_STUDENT_PROGRESS_NEW_BY_STACK_DATA_SUCCESS:return Object(d.a)(Object(d.a)({},a),{},{total_results:n.total_results,by_course_filter_students:n.students,pagination:n.pagination,belt_colors:n.belt_colors,exam_passing_score:n.exam_passing_score,loading_table:!1,program_attendance_requirement:n.program_attendance_pct_requirement});case u.p.UPDATE_FILTER_OPTIONS_REQUEST:return Object(d.a)({},a);case u.p.UPDATE_FILTER_OPTIONS_SUCCESS:var k=null===n||void 0===n?void 0:n.filter_data;return(null===k||void 0===k?void 0:k.length)&&(a.filter_dropdowns=Object(p.Y)(k,a.filter_dropdowns)),Object(d.a)({},a);case u.p.FETCH_STUDENT_PROGRESS_FILTER_OPTIONS_SUCCESS:return H.filters=n.filters,n.is_major_track?H.filters=Object(p.V)(H.filters,"cc_stack_start_date","bootcamp_start_date"):H.filters=Object(p.V)(H.filters,"bootcamp_start_date","cc_stack_start_date"),Object(d.a)(Object(d.a)({},a),{},{filter_dropdowns:n.filters,search_student_keyword:n.search_student_keyword,page_count:n.page_count,selected_sort:n.selected_sort,pagination:n.pagination,bp_selected_sort:n.bp_selected_sort,bp_pagination:n.bp_pagination});case u.p.UPDATE_STUDENT_PROGRESS_FILTER_WORKSPACE_SUCCESS:return H.filters=n.filters,Object(d.a)(Object(d.a)({},a),{},{profile:Object(d.a)(Object(d.a)({},a.profile),{},{selected_workspace_id:n.workspace_id})});case u.p.FETCH_STUDENT_PROGRESS_FILTER_OPTIONS_FAILURE:case u.p.UPDATE_STUDENT_PROGRESS_FILTER_OPTIONS_REQUEST:return Object(d.a)(Object(d.a)({},a),{},{filter_dropdowns:H.filters});case u.p.UPDATE_STUDENT_PROGRESS_FILTER_OPTIONS_SUCCESS:var O=n.filters.result;return n.is_major_track||"student_progress_by_program_rev"===n.page?H.filters=Object(p.V)(H.filters,"cc_stack_start_date","bootcamp_start_date"):H.filters=Object(p.V)(H.filters,"bootcamp_start_date","cc_stack_start_date"),(null===O||void 0===O?void 0:O.length)&&(H.filters=Object(p.Y)(O,H.filters)),Object(d.a)(Object(d.a)({},a),{},{filter_dropdowns:H.filters});case u.p.UPDATE_STUDENT_PROGRESS_FILTER_OPTIONS_FAILURE:return Object(d.a)(Object(d.a)({},a),{},{filter_dropdowns:H.filters});case u.p.FETCH_STUDENT_PROGRESS_DATA_REQUEST:return Object(d.a)(Object(d.a)({},a),{},{filter_students:[],table_sort:!1,loading_table:!0});case u.p.FETCH_STUDENT_PROGRESS_DATA_SUCCESS:var T=a.all_students_attendance_raw_details;if(T)for(var C in T){var w,y;(null===T||void 0===T||null===(w=T[C])||void 0===w?void 0:w.is_checked)&&(null===n||void 0===n||null===(y=n.all_students_attendance_raw_details)||void 0===y?void 0:y[C])&&(n.all_students_attendance_raw_details[C].is_checked=T[C].is_checked)}return Object(d.a)(Object(d.a)({},a),{},{max_up_to_date_weeks:n.max_up_to_date_weeks,total_results_by_program:n.total_results_by_program,student_program_details:n.student_program_details,total_results:n.total_results,filter_students:n.students,weeks_tab:n.weeks_tab,stack_belt_exam_summary:n.stack_belt_exam_summary,stack_progress_summary:n.stack_progress_summary,table_head_dates:n.table_head_dates,stack_list_of_dates_by_week:n.stack_list_of_dates_by_week,adjust_attendance_rating_cron:n.adjust_attendance_rating_cron,all_students_attendance_raw_details:n.all_students_attendance_raw_details,loading_table:!1,search_student_keyword:n.search_student_keyword,program_attendance_requirement:n.program_attendance_pct_requirement});case u.p.FETCH_STUDENT_PROGRESS_DATA_FAILURE:return H.filters={status:!1,result:[],error:n.error},Object(d.a)(Object(d.a)({},a),{},{filters:H.filters,loading_table:!1});case u.p.UPDATE_ASSIGNMENT_STATUS_REQUEST:case u.p.UPDATE_ASSIGNMENT_STATUS_SUCCESS:return Object(d.a)(Object(d.a)({},a),{},{update_assignment_status_response:n.update_assignment_status_response});case u.p.UPDATE_ASSIGNMENT_STATUS_FAILURE:return Object(d.a)(Object(d.a)({},a),{},{update_assignment_status_response:{status:!1,result:{},error:n.error}});case u.p.CHECK_STUDENT_ATTENDANCES_REQUEST:return Object(d.a)(Object(d.a)({},a),{},{check_attendances_response:null,check_attendances_response_message:void 0,successfully_checked_student_count:0});case u.p.CHECK_STUDENT_ATTENDANCES_SUCCESS:var R=a.filter_students,D=(a.max_up_to_date_weeks,a.all_students_attendance_raw_details),U=n.new_attendance_rate,N=n.new_attendance_blocks,I=n.selected_week,P=n.selected_day,j=n.selected_date,L=n.successfully_checked_student_count;j=v()(j).format("YYYYMMDD");for(var M=0;M<R.length;M++){var F,x,B,K,G=R[M],V=(G.id,G.cc_stack_schedule_id,G.user_track_id);if(null===U||void 0===U?void 0:U["".concat(V)]){var q=null===U||void 0===U?void 0:U["".concat(V)],Y=q.overall,Q=q.up_to_date;R[M].attendance=n.progress_type?Y:Q}for(var J=0===(null===R||void 0===R||null===(F=R[M])||void 0===F||null===(x=F.weeks)||void 0===x||null===(B=x[I])||void 0===B||null===(K=B[P])||void 0===K?void 0:K.attendances.length),X=0;X<n.max_selected_period;X++){var Z,ee,te,ae,ne,se,re,oe;if(null===N||void 0===N?void 0:N["".concat(V,"-").concat(X)])J?R[M].weeks[I][P].attendances.push(N["".concat(V,"-").concat(X)]):(null===R||void 0===R||null===(Z=R[M])||void 0===Z||null===(ee=Z.weeks)||void 0===ee||null===(te=ee[I])||void 0===te||null===(ae=te[P])||void 0===ae||null===(ne=ae.attendances)||void 0===ne?void 0:ne[X])&&(R[M].weeks[I][P].attendances[X]=N["".concat(V,"-").concat(X)]),(null===D||void 0===D||null===(se=D["".concat(V)])||void 0===se||null===(re=se.raw_details)||void 0===re||null===(oe=re["".concat(j)])||void 0===oe?void 0:oe["period_".concat(X+1)])&&(D["".concat(V)].raw_details["".concat(j)]["period_".concat(X+1)]=N["".concat(V,"-").concat(X)])}}return Object(d.a)(Object(d.a)({},Object(d.a)(Object(d.a)({},a),{},{filter_students:R})),{},{check_attendances_response:n.check_attendances_response,check_attendances_response_message:n.check_attendances_response_message||void 0,all_students_attendance_raw_details:D,successfully_checked_student_count:L});case u.p.CHECK_STUDENT_ATTENDANCES_FAILURE:return Object(d.a)(Object(d.a)({},a),{},{check_attendances_response:{status:!1,result:{},error:n.error},successfully_checked_student_count:0});case u.p.UPDATE_STUDENT_AP_STATUS_REQUEST:case u.p.UPDATE_STUDENT_AP_STATUS_SUCCESS:return Object(d.a)(Object(d.a)({},a),{},{update_ap_response:n.update_ap_response});case u.p.UPDATE_STUDENT_AP_STATUS_FAILURE:return Object(d.a)(Object(d.a)({},a),{},{update_ap_response:{status:!1,result:{},error:n.error}});case u.p.FETCH_STUDENT_TRACK_CHECKLIST_REQUEST:return Object(d.a)(Object(d.a)({},a),{},{is_student_checklist_loading:!0,student_track_checklist:{},all_students_attendance_raw_details:{}});case u.p.FETCH_STUDENT_TRACK_CHECKLIST_SUCCESS:return Object(d.a)(Object(d.a)({},a),{},{student_track_checklist:n.student_track_checklist,is_student_checklist_loading:!1});case u.p.FETCH_STUDENT_TRACK_CHECKLIST_FAILURE:return Object(d.a)(Object(d.a)({},a),{},{is_student_checklist_loading:!1});case u.p.SET_ASSIGNMENT_FEEDBACK_REQUEST:return Object(d.a)({},a);case u.p.SET_ASSIGNMENT_FEEDBACK_SUCCESS:return Object(d.a)(Object(d.a)({},a),{},{set_assignment_feedback_response:n.set_assignment_feedback_response});case u.p.SET_ASSIGNMENT_FEEDBACK_FAILURE:return Object(d.a)(Object(d.a)({},a),{},{set_assignment_feedback_response:{status:!1,result:{},error:n.error}});case u.p.UPDATE_STUDENT_GRAD_VALIDATION_REQUEST:case u.p.UPDATE_STUDENT_GRAD_VALIDATION_SUCCESS:return Object(d.a)(Object(d.a)({},a),{},{update_grad_validation_response:n.update_grad_validation_response});case u.p.UPDATE_STUDENT_GRAD_VALIDATION_FAILURE:return Object(d.a)(Object(d.a)({},a),{},{update_grad_validation_response:{status:!1,result:{},error:n.error}});case u.p.CHANGE_PROPS_VALUE_REQUEST:var ie=a.profile;return"available_workspaces"===n.props_name?(ie.available_workspaces=n.props_value,Object(d.a)(Object(d.a)({},a),{},{profile:ie})):Object(d.a)({},a);case u.p.MARK_DATE_AS_HOLIDAY_REQUEST:return Object(d.a)(Object(d.a)({},a),{},{holiday_process_message:void 0,processing_holiday_response_status:void 0});case u.p.MARK_DATE_AS_HOLIDAY_SUCCESS:for(var ce=a.table_head_dates,_e=a.filter_students,le=n.selected_week,de=n.selected_date,ue=0;ue<ce.length;ue++){var pe,me,he,Ee,fe,ge;if((null===n||void 0===n||null===(pe=n.mark_date_as_holiday_response)||void 0===pe||null===(me=pe.result)||void 0===me?void 0:me.selected_date.includes(v()(ce[ue].date).format("YYYY-MM-DD")))&&ce[ue].workspace_id===(null===n||void 0===n||null===(he=n.mark_date_as_holiday_response)||void 0===he||null===(Ee=he.result)||void 0===Ee?void 0:Ee.workspace_id))ce[ue].is_holiday=z["".concat(n.selected_break_type)],ce[ue].program_type_ids=null===n||void 0===n||null===(fe=n.mark_date_as_holiday_response)||void 0===fe||null===(ge=fe.result)||void 0===ge?void 0:ge.program_type_ids,ce[ue].is_break_training=n.selected_break_type===$}for(var ve=0;ve<de.length;ve++){var be,Se=de[ve],Ae=Object(W.a)(_e);try{for(Ae.s();!(be=Ae.n()).done;){var ke,Oe=be.value,Te=Oe.weeks["".concat(le)],Ce=Object(W.a)(Te);try{for(Ce.s();!(ke=Ce.n()).done;){var we=ke.value;(null===we||void 0===we?void 0:we.checklist_date)===Se&&(we.attendances=[])}}catch(qe){Ce.e(qe)}finally{Ce.f()}}}catch(qe){Ae.e(qe)}finally{Ae.f()}}return Object(d.a)(Object(d.a)({},a),{},{table_head_dates:ce,holiday_process_message:n.mark_date_as_holiday_response.message,processing_holiday_response_status:!0,holiday_exists_message:null===n||void 0===n||null===(e=n.mark_date_as_holiday_response)||void 0===e||null===(t=e.result)||void 0===t?void 0:t.holiday_exists_message,filter_students:_e});case u.p.MARK_DATE_AS_HOLIDAY_FAILURE:return Object(d.a)(Object(d.a)({},a),{},{mark_date_as_holiday_response:{status:!1,result:{},error:n.error},holiday_process_message:n.mark_date_as_holiday_response.message,processing_holiday_response_status:!1});case u.p.UNMARK_DATE_AS_HOLIDAY_REQUEST:return Object(d.a)(Object(d.a)({},a),{},{processing_holiday_response_status:void 0});case u.p.UNMARK_DATE_AS_HOLIDAY_SUCCESS:for(var ye=a.table_head_dates,Re=0;Re<ye.length;Re++)ye[Re].date===n.unmark_date_as_holiday_response.result.selected_date&&(ye[Re].is_holiday=!1);return Object(d.a)(Object(d.a)({},a),{},{table_head_dates:ye,holiday_process_message:n.unmark_date_as_holiday_response.message,processing_holiday_response_status:!0});case u.p.UNMARK_DATE_AS_HOLIDAY_FAILURE:return Object(d.a)(Object(d.a)({},a),{},{unmark_date_as_holiday_response:{status:!1,result:{},error:n.error},processing_holiday_response_status:!1});case u.p.ADMIN_GET_STUDENT_PROFILE_DATA_REQUEST:case u.p.ADMIN_GET_STUDENT_PROFILE_DATA_SUCCESS:return a.student_details=n.student_details,Object(d.a)(Object(d.a)({},a),{},{student_details:n.student_details});case u.p.ADMIN_GET_STUDENT_PROFILE_DATA_FAILURE:return Object(d.a)(Object(d.a)({},a),{},{student_details:{status:!1,profile_details:{},stack_schedules:[],offered_stack_schedules:[],offered_stack_schedules_with_instructors:[],error:n.error}});case u.p.FETCH_WORKSPACES_REQUEST:return Object(d.a)(Object(d.a)({},a),{},{workspaces:[],holiday_selected_programs:[],holiday_selected_workspace:[]});case u.p.FETCH_WORKSPACES_SUCCESS:return Object(d.a)(Object(d.a)({},a),{},{workspaces:n.workspaces,holiday_selected_programs:n.selected_programs,holiday_selected_workspace:n.selected_workspace,programs_by_workspace:n.programs});case u.p.FETCH_WORKSPACES_FAILED:return Object(d.a)(Object(d.a)({},a),{},{workspaces:{},workspaces_message:void 0});case u.p.FETCH_PROGRAM_BY_WORKSPACE_REQUEST:return Object(d.a)(Object(d.a)({},a),{},{programs_by_workspace:[],holiday_selected_programs:[],holidays_of_the_month:[],holiday_exists_message:void 0});case u.p.FETCH_PROGRAM_BY_WORKSPACE_SUCCESS:return Object(d.a)(Object(d.a)({},a),{},{programs_by_workspace:n.programs,holiday_selected_programs:n.selected_programs,holidays_of_the_month:n.holidays_of_the_month});case u.p.FETCH_PROGRAM_BY_WORKSPACE_FAILED:return Object(d.a)(Object(d.a)({},a),{},{workspaces:{},workspaces_message:void 0});case u.p.FETCH_HOLIDAY_BREAK_BY_DATE_REQUEST:return Object(d.a)(Object(d.a)({},a),{},{holidays_of_the_month:[],is_calendar_holiday_fetching:!0});case u.p.FETCH_HOLIDAY_BREAK_BY_DATE_SUCCESS:return Object(d.a)(Object(d.a)({},a),{},{holidays_of_the_month:n.holidays,is_calendar_holiday_fetching:!1});case u.p.FETCH_HOLIDAY_BREAK_BY_DATE_FAILED:return Object(d.a)(Object(d.a)({},a),{},{holidays_of_the_month:[]});case u.p.RESET_STATE_VALUE:return Object(d.a)(Object(d.a)({},a),{},Object(l.a)({},n.key,n.value));case u.p.CLEAR_FILTERS:var De=a.filter_dropdowns,Ue=a.initial_filter_data;return Object(p.a)(De,Ue,u.lb.admin_page.by_program),Object(d.a)(Object(d.a)({},a),{},{filter_dropdowns:De});case u.p.CHECK_USER_PROGRESS_ATTENDANCE_DETAILS:var Ne=a.all_students_attendance_raw_details,Ie=a.search_student_keyword,Pe=n.student,je=n.is_all_students,Le=n.status;if(je&&Ne)for(var Me in Ne)Ne[Me].is_checked=Le;else if(Pe){var Fe=Pe.user_track_id,xe=Pe.id;if(Ie)for(var Be in Ne)Ne[Be].user_id===xe&&(Ne[Be].is_checked=Le);(null===Ne||void 0===Ne?void 0:Ne["".concat(Fe)])&&(Ne["".concat(Fe)].is_checked=Le)}return Object(d.a)(Object(d.a)({},a),{},{all_students_attendance_raw_details:Ne});case u.qb.DOWNLOAD_GET_PRESIGNED_URL_REQUEST:return Object(d.a)(Object(d.a)({},a),{},{assignment_file:null});case u.qb.DOWNLOAD_GET_PRESIGNED_URL_SUCCESS:return Object(d.a)(Object(d.a)({},a),{},{assignment_file:n.assignment_file});case u.qb.DOWNLOAD_GET_PRESIGNED_URL_FAILURE:case u.qb.DOWNLOAD_GET_PRESIGNED_URL_RESET:return Object(d.a)(Object(d.a)({},a),{},{assignment_file:null});case u.p.UPDATE_FILTER_DROPDOWN_VALUES:var We=a.filter_dropdowns,He=a.initial_filter_data,Ke=n.value,Ge=n.dropdown;return Object(d.a)(Object(d.a)({},a),{},{filter_dropdowns:Object(p.U)(Ke,Ge,We,He,u.lb.admin_page.by_program)});case u.p.FETCH_STUDENT_PROGRESS_PROGRAM_REV_REQUEST:return Object(d.a)(Object(d.a)({},a),{},{is_loading:!0});case u.p.FETCH_STUDENT_PROGRESS_PROGRAM_REV_SUCCESS:var Ve=a.program_view_rev;return Ve.program_revamp_table_data=n.table_data,Ve.max_student_progress_program=n.max_student_progress_program_result,Ve.program_view_rev_pagination=n.pagination,Object(d.a)(Object(d.a)({},a),{},{program_view_rev:Ve,is_loading:!1});case u.p.FETCH_STUDENT_PROGRESS_PROGRAM_REV_FAILURE:return Object(d.a)(Object(d.a)({},a),{},{is_loading:!1});case u.p.UPDATE_TABLE_VIEW_SETTING_VALUES:return a.program_view_rev.program_view_rev_table_view_setting=n.table_view_setting,Object(d.a)({},a);case u.p.UPDATE_TABLE_HEAD_COLUMNS:return a.program_view_rev.program_view_rev_table_head_column=n.table_head_columns,Object(d.a)({},a);case u.p.UPDATE_PAGINATION_SETTINGS:return"Show All"===n.pagination_settings.students_per_page&&(n.pagination_settings.current_page=u.s.YES_VALUE),a.program_view_rev.program_view_rev_pagination=n.pagination_settings,Object(d.a)({},a);case u.p.RESET_DISPLAY_RESULTS_AND_PAGINATION:return a.program_view_rev=Object(d.a)(Object(d.a)({},a.program_view_rev),{},{program_revamp_table_data:[],max_student_progress_program:0}),a;case u.p.UNMOUNT_COURSE_DASHBOARD:return a.program_view_rev=Object(d.a)(Object(d.a)({},a.program_view_rev),{},{program_revamp_table_data:[],max_student_progress_program:0}),Object(d.a)(Object(d.a)({},a),{},{filter_students:[],all_students_attendance_raw_details:void 0,is_loading:!1,initial_filter_data:[],filter_dropdowns:[],by_course_filter_students:[]});default:return a}},user_forum_summaries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.Rb.FETCH_USER_FORUM_SUMMARY_REQUEST:return Object(d.a)({},e);case u.Rb.FETCH_USER_FORUM_SUMMARY_SUCCESS:return Object(d.a)(Object(d.a)({},e),JSON.parse(t.forum_summary_details.forum_summary_json));case u.Rb.FETCH_USER_FORUM_SUMMARY_REQUEST:return Object(d.a)({},e);case u.Rb.RESET_USER_FORUM_SUMMARIES:return Object(d.a)(Object(d.a)({},e),J);default:return e}},access_control:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.l.FETCH_ACCESS_CONTROL_FILTER_OPTIONS_REQUEST:return Object(d.a)(Object(d.a)({},e),{},{is_loading:!1});case u.l.FETCH_ACCESS_CONTROL_FILTER_OPTIONS_SUCCESS:return Object(d.a)(Object(d.a)({},e),{},{is_loading:!1,filter_dropdown:t.result.filter_dropdown,page_count:t.result.page_count});case u.l.FETCH_ACCESS_CONTROL_FILTER_OPTIONS_FAILURE:case u.l.FETCH_ACL_TOTAL_WORKSPACE_USER_REQUEST:return e;case u.l.FETCH_ACL_TOTAL_WORKSPACE_USER_SUCCESS:return Object(d.a)(Object(d.a)({},e),{},{total_workspace_user_count:t.total_workspace_user_count});case u.l.FETCH_ACL_TOTAL_WORKSPACE_USER_FAILURE:return e;case u.l.FETCH_ACL_LIST_REQUEST:return Object(d.a)(Object(d.a)({},e),{},{is_loading:!0});case u.l.FETCH_ACL_LIST_SUCCESS:return Object(d.a)(Object(d.a)({},e),{},{users_data:t.users_data,is_loading:!1});case u.l.FETCH_ACL_LIST_FAILURE:return Object(d.a)(Object(d.a)({},e),{},{is_loading:!1});case u.l.UPDATE_WORKSPACE_USER_RECORD_REQUEST:case u.l.UPDATE_WORKSPACE_USER_RECORD_SUCCESS:case u.l.UPDATE_WORKSPACE_USER_RECORD_FAILURE:case u.l.RESEND_WORKSPACE_USER_INVITE_REQUEST:case u.l.RESEND_WORKSPACE_USER_INVITE_SUCCESS:case u.l.RESEND_WORKSPACE_USER_INVITE_FAILURE:return e;case u.l.FETCH_EMAIL_ADDRESS_SUGGESTION_REQUEST:return Object(d.a)(Object(d.a)({},e),{},{is_fetching_email:!0});case u.l.FETCH_EMAIL_ADDRESS_SUGGESTION_SUCCESS:return Object(d.a)(Object(d.a)({},e),{},{suggestion_email_list:t.suggestion_email_list,is_existing_email_in_db:t.is_existing_in_database,process_failed:!1,is_fetching_email:!1,process_error_message:""});case u.l.FETCH_EMAIL_ADDRESS_SUGGESTION_FAILURE:return Object(d.a)(Object(d.a)({},e),{},{process_failed:!0,process_error_message:t.error,suggestion_email_list:[],is_fetching_email:!1});case u.l.PROCESS_ADD_USER_ACCESS_REQUEST:return Object(d.a)(Object(d.a)({},e),{},{is_processing:!0});case u.l.PROCESS_ADD_USER_ACCESS_SUCCESS:var a=e.users_data;return!t.filter.search_keyword&&(!t.filter.status&&!t.filter.user_level||t.filter.status&&t.filter.status==t.user_access_data.user_data.status||t.filter.user_level&&t.filter.user_level==t.user_access_data.user_data.user_level_id)&&(a=[].concat(Object(f.a)(a),[t.user_access_data.user_data])),Object(d.a)(Object(d.a)({},e),{},{is_processing:!1,is_show_success_message:!0,users_data:a});case u.l.PROCESS_ADD_USER_ACCESS_FAILURE:return Object(d.a)(Object(d.a)({},e),{},{process_failed:!0,is_processing:!1,process_error_message:t.error});default:return e}},student_access:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,a=arguments.length>1?arguments[1]:void 0,n=t.student_profile_data||{},s=n.user_id,r=n.applicant_id,o=s&&r?"".concat(s,"_").concat(r):"",i=[];switch(a.type){case u.wb.GET_STUDENT_ACCESS_FILTERS_REQUEST:return t.filters={status:!1,result:[],search_student_keyword:"",error:a.error},t.student_profile_data={},Object(d.a)({},t);case u.wb.GET_STUDENT_ACCESS_FILTERS_SUCCESS:return ee.filters=a.filters,Object(d.a)(Object(d.a)({},t),{},{filters:a.filters});case u.wb.GET_STUDENT_ACCESS_FILTERS_FAILURE:return ee.filters={status:!1,result:[],search_student_keyword:"",error:a.error},Object(d.a)(Object(d.a)({},t),{},{filters:ee.filters});case u.wb.UPDATE_STUDENT_ACCESS_FILTER_OPTIONS_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{filters:ee.filters});case u.wb.UPDATE_STUDENT_ACCESS_FILTER_OPTIONS_SUCCESS:var c=null===(e=a.filters)||void 0===e?void 0:e.result,_=a.is_create_student?t.required_dropdown_data:ee.filters.result;return a.is_create_student?t.required_dropdown_data=Object(p.Y)(c,_):(null===c||void 0===c?void 0:c.length)&&(ee.filters.result=Object(p.Y)(c,_)),Object(d.a)(Object(d.a)({},t),{},{filters:ee.filters});case u.wb.UPDATE_STUDENT_ACCESS_FILTER_OPTIONS_FAILURE:return ee.filters={status:!1,result:[],error:a.error},Object(d.a)(Object(d.a)({},t),{},{filters:ee.filters});case u.wb.GET_FILTERED_STUDENTS_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{students:ee.students,is_export:a.is_export,is_loading:!0,filtered_student_link:null});case u.wb.GET_FILTERED_STUDENTS_SUCCESS:var l,m=null;if(a.is_export)m=a.students.result;else ee.students=Object(d.a)({},null===(l=a.students)||void 0===l?void 0:l.result);return Object(d.a)(Object(d.a)({},t),{},{students:ee.students,is_export:a.is_export,is_loading:!1,filtered_student_link:m});case u.wb.GET_FILTERED_STUDENTS_FAILURE:return ee.students={students_list:[],total_result:0},Object(d.a)(Object(d.a)({},t),{},{students:ee.students,is_export:a.is_export,is_loading:!1});case u.wb.GET_STUDENT_PROFILE_DETAILS_REQUEST:return t.is_student_profile_processed=!1,ee.student_profile_data={applicant_id:null,user_id:null,stack_schedules:[],offered_stack_schedules:[],student_login_url:"#"},Object(d.a)(Object(d.a)({},t),{},{student_profile_data:ee.student_profile_data});case u.wb.GET_STUDENT_PROFILE_DETAILS_SUCCESS:t.is_student_profile_processed=!0;var h=a.student_details.result,E=h.profile_details,g=h.student_details_all_program,v=h.stack_schedules,b=h.offered_stack_schedules,S=h.auto_login_url,A=h.transcript_note,k=h.workspace_id,O=g.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{transcript_stacks:e.stack_schedules.filter((function(t){return t.applicant_id===e.applicant_id}))})}));return ee.student_profile_data=Object(d.a)(Object(d.a)({},E),{},{offered_stack_schedules:b,stack_schedules:v,student_login_url:S,transcript_note:A,transcript_stacks:v,workspace_id:k}),Object(d.a)(Object(d.a)({},t),{},{student_profile_data:ee.student_profile_data,student_profile_data_for_all_program:O});case u.wb.GET_STUDENT_PROFILE_DETAILS_FAILURE:return Object(d.a)(Object(d.a)({},t),{},{student_profile_data:ee.student_details});case u.wb.ADD_STUDENT_ACCESS_ITEM_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{added_student:null});case u.wb.ADD_STUDENT_ACCESS_ITEM_SUCCESS:return Object(d.a)(Object(d.a)({},t),{},{added_student:a.students});case u.wb.ADD_STUDENT_ACCESS_ITEM_FAILURE:return Object(d.a)(Object(d.a)({},t),{},{added_student:null,is_account_exist:a.is_account_exist});case u.wb.UPLOAD_CSV_STUDENT_ACCESS_ITEM_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{added_student:null});case u.wb.UPLOAD_CSV_STUDENT_ACCESS_ITEM_SUCCESS:return Object(d.a)(Object(d.a)({},t),{},{added_student:a.students});case u.wb.UPLOAD_CSV_STUDENT_ACCESS_ITEM_FAILURE:return Object(d.a)(Object(d.a)({},t),{},{added_student:null,is_account_exist:a.is_account_exist});case u.wb.RESET_STUDENT_ACCESS_PROPS:return Object(d.a)(Object(d.a)({},t),{},{is_account_exist:!1});case u.wb.UPDATE_STUDENT_PROGRAM_ACCESS_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{student_profile_data:ee.student_profile_data});case u.wb.UPDATE_STUDENT_PROGRAM_ACCESS_SUCCESS:var T=a.program_access_response,C=a.is_from_student_profile,w=a.admin_page,y="".concat(T.user_id,"_").concat(T.applicant_id);return C&&w!==u.c.access.student_access||(ee.students.students_list[y].is_access_enabled=T.is_access_enabled,ee.student_profile_data.is_access_enabled=T.is_access_enabled),Object(d.a)(Object(d.a)({},t),{},{student_profile_data:Object(d.a)(Object(d.a)({},ee.student_profile_data),a.program_access_response)});case u.wb.UPDATE_STUDENT_PROGRAM_ACCESS_FAILURE:return Object(d.a)(Object(d.a)({},t),{},{student_profile_data:ee.student_profile_data});case u.wb.GET_STUDENT_NEXT_STACKS_OPTIONS_REQUEST:return Object(d.a)({},t);case u.wb.GET_STUDENT_NEXT_STACKS_OPTIONS_SUCCESS:return ee.student_profile_data.offered_stack_schedules=a.student_next_stack_options.result,ee.student_profile_data.stack_schedules=a.student_next_stack_options.stack_schedules,Object(d.a)(Object(d.a)({},t),{},{student_profile_data:ee.student_profile_data});case u.wb.GET_STUDENT_NEXT_STACKS_OPTIONS_FAILURE:return ee.student_profile_data.offered_stack_schedules=[],ee.student_profile_data.stack_schedules=[],Object(d.a)(Object(d.a)({},t),{},{student_profile_data:ee.student_profile_data});case u.wb.UPDATE_STUDENT_STACK_ACCESS_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{is_reset_state:!1});case u.wb.UPDATE_STUDENT_STACK_ACCESS_SUCCESS:var R=a.update_stack_access_response.result,D=R.user_track_id,U=R.receiving_stack_status;if(a.admin_page===u.c.access.student_access){var N=ee.students.students_list[o];N&&(N.major_tracks=Object(p.ab)(void 0,N.major_tracks,!1,!1,{user_track_id:D,receiving_stack_status:U}),N.minor_tracks=Object(p.ab)(void 0,N.minor_tracks,!1,!1,{user_track_id:D,receiving_stack_status:U}),ee.students.students_list[o]=N)}return ee.student_profile_data.stack_schedules=Object(p.ab)(void 0,ee.student_profile_data.stack_schedules,!0,!1,{user_track_id:D,receiving_stack_status:U}),Object(d.a)(Object(d.a)({},t),{},{student_profile_data:ee.student_profile_data,is_update_stack_access:!0});case u.wb.UPDATE_STUDENT_STACK_ACCESS_FAILURE:return Object(d.a)(Object(d.a)({},t),{},{is_update_stack_access:!1});case u.wb.PROCESS_STUDENT_NEXT_STACK_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{is_reset_state:!1});case u.wb.PROCESS_STUDENT_NEXT_STACK_SUCCESS:if(ee.student_profile_data.stack_schedules=a.process_next_stack.stack_schedules.map((function(e){return e.user_track_id===a.process_next_stack.new_stack.user_track_id&&(e.show_warning_notice=a.process_next_stack.is_show_warning_notice),e})),a.admin_page===u.c.access.student_access){var I=ee.students.students_list[o].user_track_ids,P=Object(p.r)(I,a.process_next_stack.stack_schedules),j=P.new_stack_data,L=P.stack_index;ee.students.students_list[o][a.process_next_stack.stack_to_update].splice(L,0,j),ee.students.students_list[o].user_track_ids.push(j.user_track_id)}return Object(d.a)(Object(d.a)({},t),{},{student_profile_data:ee.student_profile_data,is_reset_state:!0});case u.wb.PROCESS_STUDENT_NEXT_STACK_FAILURE:return Object(d.a)({},t);case u.wb.UPDATE_STUDENT_STACK_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{is_reset_state:!1});case u.wb.UPDATE_STUDENT_STACK_SUCCESS:var M=a.update_student_stack.updated_stack,F=M[a.update_student_stack.stack_index];if(a.admin_page===u.c.access.student_access){var x={is_locked:F.is_locked,stack:F.selected[0].label,user_track_id:F.user_track_id};ee.students.students_list[o][a.update_student_stack.stack_to_update][a.update_student_stack.stack_index]=x,ee.students.students_list[o].user_track_ids=M.map((function(e){return e.user_track_id}))}return ee.student_profile_data.stack_schedules=M,Object(d.a)(Object(d.a)({},t),{},{student_profile_data:ee.student_profile_data,is_reset_state:!0});case u.wb.UPDATE_STUDENT_STACK_FAILURE:return Object(d.a)({},t);case u.wb.DELETE_STUDENT_MINOR_STACK_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{is_reset_state:!1});case u.wb.DELETE_STUDENT_MINOR_STACK_SUCCESS:if(a.admin_page===u.c.access.student_access){var B=ee.students.students_list[o][a.delete_minor_stack.stack_to_update];ee.students.students_list[o][a.delete_minor_stack.stack_to_update]=B.filter((function(e){return a.delete_minor_stack.user_track_id!==e.user_track_id}))}return ee.student_profile_data.stack_schedules=a.delete_minor_stack.result,Object(d.a)(Object(d.a)({},t),{},{student_profile_data:ee.student_profile_data,is_reset_state:!0});case u.wb.DELETE_STUDENT_MINOR_STACK_FAILURE:return Object(d.a)({},t);case u.wb.GET_STUDENT_EXAM_HISTORIES_REQUEST:return ee.student_profile_data.exam_histories=[],Object(d.a)(Object(d.a)({},t),ee);case u.wb.GET_STUDENT_EXAM_HISTORIES_SUCCESS:return ee.student_profile_data.exam_histories=a.all_user_exams?a.all_user_exams:[],Object(d.a)(Object(d.a)({},t),ee);case u.wb.GET_STUDENT_EXAM_HISTORIES_FAILURE:return Object(d.a)({},t);case u.wb.ADD_STUDENT_NOTE_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{is_updating_notes_data:!1});case u.wb.ADD_STUDENT_NOTE_SUCCESS:return ee.student_profile_data.notes=a.student_note_data,(i=Object(f.a)(new Set(Object(f.a)(a.student_note_data)))).sort((function(e,t){return e.id-t.id})),t.student_profile_data.transcript_note=i.map((function(e){if(e.feedback_type_id===u.R.transcript_note)return e.admin_note})),t.student_profile_data_for_all_program.map((function(e){t.student_profile_data.applicant_id===e.applicant_id&&(e.transcript_note=i.map((function(e){if(e.feedback_type_id===u.R.transcript_note)return e.admin_note})))})),Object(d.a)(Object(d.a)({},t),{},{student_profile_data:ee.student_profile_data,is_updating_notes_data:!0});case u.wb.ADD_STUDENT_NOTE_FAILURE:return Object(d.a)(Object(d.a)({},t),{},{is_fetching_notes:!1});case u.wb.FETCH_STUDENT_NOTE_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{is_updating_notes_data:!1});case u.wb.FETCH_STUDENT_NOTE_SUCCESS:return ee.student_profile_data.notes=a.fetch_note_data,(i=Object(f.a)(new Set(Object(f.a)(a.fetch_note_data)))).sort((function(e,t){return e.id-t.id})),t.student_profile_data.transcript_note=i.map((function(e){if(e.feedback_type_id===u.R.transcript_note)return e.admin_note})),t.student_profile_data_for_all_program.map((function(e){t.student_profile_data.applicant_id===e.applicant_id&&(e.transcript_note=i.map((function(e){if(e.feedback_type_id===u.R.transcript_note)return e.admin_note})))})),Object(d.a)(Object(d.a)({},t),{},{student_profile_data:ee.student_profile_data,is_updating_notes_data:!0});case u.wb.FETCH_STUDENT_NOTE_FAILURE:return Object(d.a)(Object(d.a)({},t),{},{is_fetching_notes:!1});case u.wb.DELETE_STUDENT_NOTE_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{is_updating_notes_data:!1});case u.wb.DELETE_STUDENT_NOTE_SUCCESS:return ee.student_profile_data.notes=a.student_note_data,(i=Object(f.a)(new Set(Object(f.a)(a.student_note_data)))).sort((function(e,t){return e.id-t.id})),t.student_profile_data.transcript_note=i.map((function(e){if(e.feedback_type_id===u.R.transcript_note)return e.admin_note})),t.student_profile_data_for_all_program.map((function(e){t.student_profile_data.applicant_id===e.applicant_id&&(e.transcript_note=i.map((function(e){if(e.feedback_type_id===u.R.transcript_note)return e.admin_note})))})),Object(d.a)(Object(d.a)({},t),{},{student_profile_data:ee.student_profile_data,is_updating_notes_data:!0});case u.wb.DELETE_STUDENT_NOTE_FAILURE:return Object(d.a)(Object(d.a)({},t),{},{is_fetching_notes:!1});case u.wb.UPDATE_STUDENT_NOTE_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{is_updating_notes_data:!1});case u.wb.UPDATE_STUDENT_NOTE_SUCCESS:return ee.student_profile_data.notes=a.updated_note,(i=Object(f.a)(new Set(Object(f.a)(a.updated_note)))).sort((function(e,t){return e.id-t.id})),t.student_profile_data.transcript_note=i.map((function(e){if(e.feedback_type_id===u.R.transcript_note)return e.admin_note})),t.student_profile_data_for_all_program.map((function(e){t.student_profile_data.applicant_id===e.applicant_id&&(e.transcript_note=i.map((function(e){if(e.feedback_type_id===u.R.transcript_note)return e.admin_note})))})),Object(d.a)(Object(d.a)({},t),{},{student_profile_data:ee.student_profile_data,is_updating_notes_data:!0});case u.wb.UPDATE_STUDENT_NOTE_FAILURE:return Object(d.a)(Object(d.a)({},t),{},{is_fetching_notes:!1});case u.wb.GET_REQUIRED_DATA_FOR_CREATE_STUDENT_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{required_dropdown_data:(null===t||void 0===t?void 0:t.required_dropdown_data)||[]});case u.wb.GET_REQUIRED_DATA_FOR_CREATE_STUDENT_SUCCESS:var W=["Programs","Program Start Date","Campus"],H=a.required_data_response.filter((function(e){if(W.includes(e.name))return e.selected=[],e}));return Object(d.a)(Object(d.a)({},t),{},{required_dropdown_data:H});case u.wb.GET_REQUIRED_DATA_FOR_CREATE_STUDENT_FAILURE:case u.wb.FETCH_CAMPUS_LOCATION_REQUEST:return t;case u.wb.FETCH_CAMPUS_LOCATION_SUCCESS:return Object(d.a)(Object(d.a)({},t),{},{campus_location:{options:a.campus,selected:[],name:"Campus",filter_name:"bootcamp_location_id",is_multi_select:!1,is_show_search:!0}});case u.wb.FETCH_CAMPUS_LOCATION_FAILURE:return t;case u.wb.UPDATE_BOOTCAMP_EXPIRATION_REQUEST:return Object(d.a)(Object(d.a)({},t),{},{is_reset_state:!1});case u.wb.UPDATE_BOOTCAMP_EXPIRATION_SUCCESS:if(ee.student_profile_data.access_expire_at=a.bootcamp_data.expiration_date,!a.is_from_student_profile||a.admin_page===u.c.access.student_access){var K="".concat(a.bootcamp_data.user_id,"_").concat(a.bootcamp_data.applicant_id);ee.students.students_list[K].access_expire_at=a.bootcamp_data.expiration_date}return Object(d.a)(Object(d.a)({},t),{},{student_profile_data:ee.student_profile_data,is_reset_state:!0});case u.wb.UPDATE_BOOTCAMP_EXPIRATION_FAILURE:case u.wb.TRIGGER_AUTO_SHOW_NOTE_FEEDBACKS_REQUEST:return t;case u.wb.TRIGGER_AUTO_SHOW_NOTE_FEEDBACKS_SUCCESS:return Object(d.a)(Object(d.a)({},t),{},{redirect_link:a.redirect_link});case u.wb.UPDATE_BOOTCAMP_EXPIRATION_FAILURE:return t;case u.wb.GET_STUDENT_INFO_REQUEST:return t.student_profile_data.hubspot={expected_life_events:null,hours_practicing_skills:null},Object(d.a)({},t);case u.wb.GET_STUDENT_INFO_SUCCESS:if(t.student_profile_data.hubspot={expected_life_events:null,hours_practicing_skills:null},a.student_info.constructor===Object){var G=a.student_info,V=G.expected_life_events,q=G.hours_practicing_skills;t.student_profile_data.hubspot={expected_life_events:u.M[V.has_life_event]||u.M.no_life_event,hours_practicing_skills:q?"".concat(q,"HRS"):"None"}}return Object(d.a)({},t);case u.wb.GET_STUDENT_INFO_FAILURE:default:return t}},survey_management:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case u.Ob.SWITCH_WORKSPACE_REQUEST:case u.yb.FETCH_SURVEY_MANAGEMENT_DATA_REQUEST:return Object(d.a)(Object(d.a)({},a),{},{is_updating_data:!0,is_initial_data:!0});case u.yb.FETCH_SURVEY_MANAGEMENT_DATA_SUCCESS:return Object(d.a)(Object(d.a)(Object(d.a)({},a),n),{},{is_updating_data:!1,is_initial_data:!1});case u.yb.FETCH_SURVEY_MANAGEMENT_DATA_FAILURE:return Object(d.a)(Object(d.a)({},a),{},{is_updating_data:!1});case u.yb.PROCESS_SURVEY_STATUS_REQUEST:return a;case u.yb.PROCESS_SURVEY_STATUS_SUCCESS:return n.survey_list=se(a.survey_list,n.survey_list),Object(d.a)(Object(d.a)({},a),{},{survey_list:n.survey_list});case u.yb.PROCESS_SURVEY_STATUS_FAILURE:case u.yb.FETCH_CUSTOM_SURVEY_TYPE_REQUEST:return a;case u.yb.FETCH_CUSTOM_SURVEY_TYPE_SUCCESS:return Object(d.a)(Object(d.a)({},a),{},{custom_survey_type_list:n.custom_survey_type_list});case u.yb.FETCH_CUSTOM_SURVEY_TYPE_FAILURE:return a;case u.yb.UPDATE_CUSTOM_SURVEY_TYPE_REQUEST:return Object(d.a)(Object(d.a)({},a),{},{is_updating_data:!0});case u.yb.UPDATE_CUSTOM_SURVEY_TYPE_SUCCESS:if(a.survey_list&&((null===(e=n.disabled_survey_schedule_ids)||void 0===e?void 0:e.length)||n.switched_is_mandatory_survey_type_ids.length))for(var s=0,r=Object.entries(a.survey_list);s<r.length;s++){var o,i=Object(A.a)(r[s],2),c=i[0],_=i[1],l=_.id,p=_.cd_survey_type_id;(null===(o=n.disabled_survey_schedule_ids)||void 0===o?void 0:o.includes(l))&&(a.survey_list[c].status=u.P),n.switched_is_mandatory_survey_type_ids.includes(p)&&(a.survey_list[c].is_mandatory=a.survey_list[c].is_mandatory?u.P:u.Db)}var m=a.admin_survey_filters_array.findIndex((function(e){return e.name===u.yb.ADMIN_SURVEY_DROPDOWNS.type}));return a.admin_survey_filters_array[m].options=n.custom_survey_type_list,Object(d.a)(Object(d.a)({},a),{},{is_updating_data:!1});case u.yb.UPDATE_CUSTOM_SURVEY_TYPE_FAILURE:return Object(d.a)(Object(d.a)({},a),{},{is_updating_data:!1});case u.yb.ADD_SURVEY_MANAGEMENT_ITEM_REQUEST:return a;case u.yb.ADD_SURVEY_MANAGEMENT_ITEM_SUCCESS:return n.new_survey_record.id=n.new_cd_survey_schedule_id,n.new_survey_record.cd_survey_type_id=null===(t=n.new_survey_record.survey_type)||void 0===t?void 0:t.value,delete n.new_survey_record.survey_type.is_mandatory,n.new_survey_record.audience.all_current_students&&(n.new_survey_record.audience.recipient=null),Object(d.a)(Object(d.a)({},a),{},{survey_list:[n.new_survey_record].concat(Object(f.a)(a.survey_list||[]))});case u.yb.ADD_SURVEY_MANAGEMENT_ITEM_FAILURE:case u.yb.DELETE_SURVEY_REQUEST:return a;case u.yb.DELETE_SURVEY_SUCCESS:return a.survey_list=a.survey_list.filter((function(e){return e.id!==n.archived_cd_survey_schedule_id})),Object(d.a)(Object(d.a)({},a),{},{survey_list:a.survey_list});case u.yb.DELETE_SURVEY_FAILURE:return a;case u.yb.UPDATE_SURVEY_DETAILS_REQUEST:return Object(d.a)(Object(d.a)({},a),{},{is_fetching_survey_list:!0});case u.yb.UPDATE_SURVEY_DETAILS_SUCCESS:return Object.entries(a.survey_list).map((function(e){var t=Object(A.a)(e,2),s=t[0],r=t[1].id;n.updated_survey_data.id===r&&(n.updated_survey_data.audience.all_current_students&&(n.updated_survey_data.audience.recipient=null),a.survey_list[s]=n.updated_survey_data)})),Object(d.a)(Object(d.a)({},a),{},{is_fetching_survey_list:!1});case u.yb.UPDATE_SURVEY_DETAILS_FAILURE:return a;case u.yb.UPDATE_SURVEY_MANAGEMENT_FILTERS_REQUEST:return Object(d.a)(Object(d.a)({},a),{},{is_updating_data:!0});case u.yb.UPDATE_SURVEY_MANAGEMENT_FILTERS_SUCCESS:return n.filter_data.map((function(e){var t=a.admin_survey_filters_array.findIndex((function(t){return t.filter_name===e.filter_name}));a.admin_survey_filters_array[t]=e})),Object(d.a)(Object(d.a)({},a),{},{is_updating_data:!1});case u.yb.UPDATE_SURVEY_MANAGEMENT_FILTERS_FAILURE:return Object(d.a)(Object(d.a)({},a),{},{is_updating_data:!1});case u.yb.FETCH_BY_FILTER_SURVEY_RECORDS_REQUEST:return Object(d.a)(Object(d.a)({},a),{},{is_fetching_survey_list:!0});case u.yb.FETCH_BY_FILTER_SURVEY_RECORDS_SUCCESS:return Object(d.a)(Object(d.a)({},a),{},{survey_list:n.survey_list,is_fetching_survey_list:!1});case u.yb.FETCH_BY_FILTER_SURVEY_RECORDS_FAILURE:return Object(d.a)(Object(d.a)({},a),{},{is_fetching_survey_list:!1});case u.yb.FETCH_ADMIN_SURVEY_DROPDOWNS_REQUEST:return Object(d.a)(Object(d.a)({},a),{},{is_updating_data:!0});case u.yb.FETCH_ADMIN_SURVEY_DROPDOWNS_SUCCESS:return Object(d.a)(Object(d.a)({},a),{},{admin_survey_dropdown_object:n.admin_survey_dropdown_object,is_updating_data:!1});case u.yb.FETCH_ADMIN_SURVEY_DROPDOWNS_FAILURE:return Object(d.a)(Object(d.a)({},a),{},{is_updating_data:!1});case u.yb.UPDATE_SURVEY_DROPDOWN_DATA_REQUEST:return Object(d.a)(Object(d.a)({},a),{},{is_updating_data:!0});case u.yb.UPDATE_SURVEY_DROPDOWN_DATA_SUCCESS:return a.admin_survey_dropdown_object=a.admin_survey_dropdown_object?a.admin_survey_dropdown_object:{},n.admin_survey_dropdown_array.map((function(e){a.admin_survey_dropdown_object[e.name]=e})),Object(d.a)(Object(d.a)(Object(d.a)({},a),n),{},{is_updating_data:!1});case u.yb.UPDATE_SURVEY_DROPDOWN_DATA_FAILURE:return Object(d.a)(Object(d.a)({},a),{},{is_updating_data:!1});case u.yb.CHECK_DUPLICATE_SURVEY_NAME_REQUEST:return Object(d.a)(Object(d.a)({},a),{},{is_checking_duplicate_survey_name:!0});case u.yb.CHECK_DUPLICATE_SURVEY_NAME_SUCCESS:return Object(d.a)(Object(d.a)({},a),{},{is_duplicate_survey_name:!1,is_checking_duplicate_survey_name:!1});case u.yb.CHECK_DUPLICATE_SURVEY_NAME_FAILURE:return Object(d.a)(Object(d.a)({},a),{},{is_duplicate_survey_name:!0,is_checking_duplicate_survey_name:!1});default:return a}}}),oe=Object(_.createLogger)({predicate:function(e,t){return!1}}),ie=Object(i.e)((function(e,t){if(u.gc.BookmarkConstants.hasOwnProperty(t.type)&&-1!==t.type.indexOf("_SUCCESS")){var a=e.user.user_search_result.modules_search_results;if(t.type===u.gc.BookmarkConstants.SAVE_NEW_BOOKMARK_SUCCESS){var n;if(parseInt(e.courses.track.chapter_module_id)===parseInt(t.user_bookmarks.chapter_module_id)&&(e.courses.track.active_module.bookmark_id=t.user_bookmarks.user_bookmark_id),void 0!==a&&a.length>0)for(var s=0;s<a.length;s++)parseInt(a[s].module_id)===parseInt(t.user_bookmarks.chapter_module_id)&&(a[s].bookmark_id=t.user_bookmarks.user_bookmark_id);(null===(n=e.courses)||void 0===n?void 0:n.active_track)&&parseInt(e.courses.active_track.id)===parseInt(t.user_bookmarks.track_id)&&(e.courses.active_track.user_bookmark_id=t.user_bookmarks.user_bookmark_id,e.courses.active_track.is_bookmarked=!0)}if(t.type===u.gc.BookmarkConstants.REMOVE_BOOKMARK_SUCCESS){var r;if(parseInt(e.courses.track.chapter_module_id)===parseInt(t.bookmark.chapter_module_id)&&(e.courses.track.active_module.bookmark_id=null,e.courses.track.active_module.is_bookmarked=!1),void 0!==a&&a.length>0)for(var o=0;o<a.length;o++)parseInt(a[o].module_id)===parseInt(t.bookmark.chapter_module_id)&&(a[o].bookmark_id=null);(null===(r=e.courses)||void 0===r?void 0:r.active_track)&&parseInt(e.courses.active_track.id)===parseInt(t.bookmark.track_id)&&(e.courses.active_track.user_bookmark_id=null,e.courses.active_track.is_bookmarked=!1)}}if(u.gc.DiscussionConstants.hasOwnProperty(t.type)&&t.type===u.gc.DiscussionConstants.GET_DISCUSSION_REQUEST&&(e.courses.track={chapters:[]}),u.gc.StudentAccessConstants.hasOwnProperty(t.type)&&-1!==t.type.indexOf("_SUCCESS")&&[u.gc.StudentAccessConstants.ADD_STUDENT_NOTE_SUCCESS,u.gc.StudentAccessConstants.DELETE_STUDENT_NOTE_SUCCESS,u.gc.StudentAccessConstants.GET_STUDENT_INFO_SUCCESS].includes(t.type)){var i,c,_,m,h,E,f,g=u.gc.ADMIN_PAGES,v=g.student_rostering,b=g.student_progress,S=g.access,A=e.student_access.student_profile_data,k=A.user_id,O=A.applicant_id,T="",C=null,w={user_id:k};if([u.gc.StudentAccessConstants.ADD_STUDENT_NOTE_SUCCESS,u.gc.StudentAccessConstants.DELETE_STUDENT_NOTE_SUCCESS].includes(t.type))T="feedback_count",C=t.student_note_data.length,w=Object(d.a)(Object(d.a)({},w),{},{applicant_id:O});else if(T="is_at_risk",t.student_info.constructor===Object){var y=t.student_info,R=y.expected_life_events.has_life_event,D=y.hours_practicing_skills;C=[u.gc.EXPECTED_LIFE_EVENTS_LABELS.minor,u.gc.EXPECTED_LIFE_EVENTS_LABELS.major].includes(u.gc.EXPECTED_LIFE_EVENTS_LABELS[R])||!D?"Yes":"No"}else C="-";if(k&&O&&((null===(i=e.rostering)||void 0===i||null===(c=i.student_list)||void 0===c?void 0:c.result.length)||(null===(_=e.student_progress)||void 0===_?void 0:_.filter_students.length)||(null===(m=e.student_progress)||void 0===m?void 0:m.student_program_details.length)||(null===(h=e.student_access)||void 0===h||null===(E=h.students)||void 0===E||null===(f=E.students_list)||void 0===f?void 0:f["".concat(k,"_").concat(O)])))switch(t.admin_page){case v.student_roster:e.rostering.student_list.result=Object(p.Z)(e.rostering.student_list.result,w,Object(l.a)({},T,C));break;case b.by_stack:e.student_progress.filter_students=Object(p.Z)(e.student_progress.filter_students,w,Object(l.a)({},T,C));break;case b.by_program:e.student_progress.student_program_details=Object(p.Z)(e.student_progress.student_program_details,w,Object(l.a)({},T,C));break;case S.student_access:e.student_access.students.students_list["".concat(k,"_").concat(O)][T]=C}}return re(e,t)}),Object(i.a)(c.a,oe));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ce=a(5),_e=a(8),le=a(7),de=a(6),ue=a(17),pe=a(28),me=a(62),he=a(520),Ee=a(34),fe=new(function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e,n,s;Object(ce.a)(this,a),(s=t.call(this)).save_user_session_page=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/ua_session/create_new_session_page"),e,!0).then(p.z).then((function(e){return!0===e.status&&e.user_token&&localStorage.setItem("__BarioOtsoOtso__",e.user_token),e}))},s.update_user_session_page=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/ua_session/update_user_session_page"),e,!0).then(p.z).then((function(e){return e}))},s.save_user_session_activity_logs=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/ua_session/create_activity_logs"),e,!0).then(p.z).then((function(e){return e}))},s.reset_analytics_session=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/ua_session/reset_user_session"),e,!0).then(p.z).then((function(e){return!0===e.status&&e.user_token&&localStorage.setItem("__BarioOtsoOtso__",e.user_token),e}))};var r=Object(p.y)();return s.API_pre_link=(null===r||void 0===r||null===(e=r.user_details)||void 0===e||null===(n=e.general)||void 0===n?void 0:n.trial_platform_mode)?"/t":"",s}return a}(Ee.a)),ge=new function e(){Object(ce.a)(this,e),this.saveUserSessionPage=function(e){var t=this;return function(a){null===localStorage.getItem("is_platform_demo")?t.createUserSession(e):a(Object(p.A)({type:u.Tb.IGNORE_ACTIVITY_LOGS_REQUEST},{}))}},this.createUserSession=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=this;return function(n){n(Object(p.A)({type:u.Tb.SAVE_SESSION_PAGE_REQUEST},{})),fe.save_user_session_page(e).then((function(e){!0===e.status?n(Object(p.A)({type:u.Tb.SAVE_SESSION_PAGE_SUCCESS},{session_page:e.result})):n(Object(p.A)({type:u.Tb.SAVE_SESSION_PAGE_FAILURE},{error:e.message}))}),(function(s){var r=Object(p.c)(s,!0,!0,t>3);t<=3?setTimeout((function(){a.createUserSession(e,n,t+1)}),1500):n(Object(p.A)({type:u.Tb.SAVE_SESSION_PAGE_FAILURE},{error:r}))}))}},this.updateUserSessionPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=this;return function(n){var s=localStorage.getItem("is_platform_demo"),r=s?u.Tb.UPDATE_SESSION_PAGE_REQUEST:u.Tb.IGNORE_ACTIVITY_LOGS_REQUEST;n(Object(p.A)({type:r},{})),null===s&&fe.update_user_session_page(e).then((function(e){!0===e.status?n(Object(p.A)({type:u.Tb.UPDATE_SESSION_PAGE_SUCCESS},{session_page:e.result})):n(Object(p.A)({type:u.Tb.UPDATE_SESSION_PAGE_FAILURE},{error:e.message}))}),(function(s){var r=Object(p.c)(s,!0,!0,t>3);t<=3?setTimeout((function(){a.updateUserSessionPage(e,n,t+1)}),1500):n(Object(p.A)({type:u.Tb.UPDATE_SESSION_PAGE_FAILURE},{error:r}))}))}},this.storeActivitylog=function(e,t){return function(a){null===localStorage.getItem("is_platform_demo")?(a(Object(p.A)({type:u.Tb.SAVE_TEMP_ACTIVITY_LOGS},{session_log:e})),t&&(t.is_open_new_tab?window.open(t.link,"_blank"):window.location.replace(t.link))):a(Object(p.A)({type:u.Tb.IGNORE_ACTIVITY_LOGS_REQUEST},{}))}},this.saveSessionActivitylog=function(e){return function(t){var a=localStorage.getItem("is_platform_demo"),n=null===a?u.Tb.SAVE_SESSION_ACTIVITY_LOGS_REQUEST:u.Tb.IGNORE_ACTIVITY_LOGS_REQUEST;t(Object(p.A)({type:n},{})),null===a&&fe.save_user_session_activity_logs(e).then((function(e){!0===e.status?t(Object(p.A)({type:u.Tb.SAVE_SESSION_ACTIVITY_LOGS_SUCCESS},{session_page:e.result})):t(Object(p.A)({type:u.Tb.SAVE_SESSION_ACTIVITY_LOGS_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.Tb.UPDATE_SESSION_PAGE_FAILURE},{error:a}))}))}},this.resetAnalyticsSession=function(e){return function(t){var a=localStorage.getItem("is_platform_demo"),n=null===a?u.Tb.RESET_SESSION_REQUEST:u.Tb.IGNORE_ACTIVITY_LOGS_REQUEST;t(Object(p.A)({type:n},{})),null===a&&fe.reset_analytics_session(e).then((function(e){!0===e.status?t(Object(p.A)({type:u.Tb.RESET_SESSION_SUCCESS},{session_page:e.result})):t(Object(p.A)({type:u.Tb.RESET_SESSION_FAILURE},{error:e.message}))}),(function(e){t(Object(p.A)({type:u.Tb.RESET_SESSION_FAILURE},{error:e}))}))}}},ve=a(143),be=a(57),Se=a(33),Ae=a(216),ke=a(1428),Oe=a(522),Te=a(9),Ce=a(46),we=a(245),ye=a(179),Re=new function e(){Object(ce.a)(this,e),this.get_user_enrolled_tracks=function(e){return function(t){t(Object(p.A)({type:u.O.GET_ENROLLED_TRACKS_REQUEST},e)),ye.a.fetch_user_enrolled_tracks(e).then((function(e){if(!0===e.status){var a=[];e.result.length>0&&((a=e.result.map((function(e){return e.is_open=!1,e})))[0].is_open=!0),t(Object(p.A)({type:u.O.GET_ENROLLED_TRACKS_SUCCESS},{tracks:a}))}else t(Object(p.A)({type:u.O.GET_ENROLLED_TRACKS_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.O.GET_ENROLLED_TRACKS_FAILURE},{error:a}))}))}},this.searchLearningContent=function(e){return function(t){t(Object(p.A)({type:u.Fb.USER_SEARCH_LEARNING_CONTENT_REQUEST},e)),ye.a.searchLearningContent(e).then((function(e){!0===e.status?t(Object(p.A)({type:u.Fb.USER_SEARCH_LEARNING_CONTENT_SUCCESS},{user_search_result:e.result})):t(Object(p.A)({type:u.Fb.USER_SEARCH_LEARNING_CONTENT_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.Fb.USER_SEARCH_LEARNING_CONTENT_FAILURE},{error:a}))}))}},this.isToggleShowTrack=function(e){return function(t){t(Object(p.A)({type:u.O.GET_ENROLLED_TRACKS_SUCCESS},{tracks:e}))}}},De=a(14),Ue=a(1442),Ne=a(1437),Ie=(a(552),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).renderModuleClassIcon=function(e){return{0:"lesson",1:"quiz",2:"todo",3:"chapter_survey"}[e]},n.handleSearchSubmitForm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;void 0!==e&&e.preventDefault();var t=n.state.search;""!==t&&(n.props.search_learning_content({search_keyword:n.state.search,content_type:n.state.active_tab}),n.props.onAddActivityLog("3.1.18"))},n.onTabChange=function(e){n.setState({active_tab:e},(function(){n.handleSearchSubmitForm()}))},n.handleModuleBookmark=function(e,t,a){void 0!==e&&e.preventDefault(),null!==t?n.props.onRemoveBookmark(e,a.chapter_module_id,t):n.props.onAddBookmark(e,a),n.props.onAddActivityLog(null!==t?"3.20.20":"3.20.19")},n.state={search:"",active_tab:"modules",is_loading:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t,a,n=this,r=this.props.user.user_search_result||{},o=r.is_loading,i=r.modules_search_results,c=r.chapters_search_results,_=r.courses_search_results,l=this.state.search,d=(null===(e=this.props.user)||void 0===e||null===(t=e.user_details)||void 0===t||null===(a=t.general)||void 0===a?void 0:a.trial_platform_mode)?"/t":"";return s.a.createElement(De.a,{show:this.props.show,centered:!0,onHide:function(){return n.props.toggleShowModal(!1)},id:"search_modal"},s.a.createElement(De.a.Header,null,s.a.createElement("button",{onClick:function(e){return n.props.toggleShowModal(!1)}},s.a.createElement("span",{className:"close_icon"}))),s.a.createElement(De.a.Body,null,s.a.createElement("form",{ref:"form",action:"",onSubmit:function(e){return n.handleSearchSubmitForm(e)}},s.a.createElement("input",{onChange:function(e){return Object(p.C)(e,n)},name:"search",value:l,type:"text",className:"form-control",placeholder:"Search Keyword Here"})),s.a.createElement(Ue.a,{defaultActiveKey:"modules",onSelect:function(e){return n.onTabChange(e)}},s.a.createElement(Ne.a,{eventKey:"modules",title:"Modules"},(null===i||void 0===i?void 0:i.length)>0&&!1===o&&s.a.createElement("ul",{className:"list-unstyled",id:"modules_list"},i.map((function(e,t){return s.a.createElement("li",{key:t},s.a.createElement("form",{action:"",onSubmit:function(t){return n.handleModuleBookmark(t,e.bookmark_id,{track_id:e.track_id,track_course_id:e.track_course_id,chapter_module_id:e.module_id,chapter_id:e.chapter_id,title:e.module_title})}},s.a.createElement("button",{id:"bookmark_module_btn",className:"".concat(null!==e.bookmark_id&&"bookmarked_module_fill"),type:"submit"})),s.a.createElement("a",{onClick:function(e){return n.props.toggleShowModal(!1)},href:"".concat(d,"/m/").concat(e.track_id,"/").concat(e.chapter_id,"/").concat(e.module_id)},s.a.createElement("div",{className:"left_container"},s.a.createElement("h5",null,e.module_title),s.a.createElement("div",{className:"icons_container"},s.a.createElement("span",{className:"".concat(n.renderModuleClassIcon(e.module_type))},s.a.createElement("i",{className:"icon"})),s.a.createElement("img",{src:null!==e.course_icon_src?e.course_icon_src:"https://assets.codingdojo.com/boomyeah2015/codingdojo/course_icons/default.png",alt:"Course Icon"}))),s.a.createElement("div",{className:"right_container"},s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("li",null,e.track_title),s.a.createElement("li",null,e.chapter_title),s.a.createElement("li",null,e.module_title)),s.a.createElement("p",null,e.module_description.replace(/(<([^>]+)>)/gi,"")))))}))),!(null===i||void 0===i?void 0:i.length)&&!o&&s.a.createElement("p",null,"No result(s) found")),s.a.createElement(Ne.a,{eventKey:"chapters",title:"Chapters"},c.length>0&&!1===o&&s.a.createElement("ul",{className:"list-unstyled",id:"chapters_list"},c.map((function(e,t){return s.a.createElement("li",{key:t},s.a.createElement("a",{onClick:function(e){return n.props.toggleShowModal(!1)},href:"".concat(d,"/m/").concat(e.track_id,"/").concat(e.chapter_id,"/").concat(e.module_id)},s.a.createElement("img",{src:null!==e.course_icon_src?e.course_icon_src:"https://assets.codingdojo.com/boomyeah2015/codingdojo/course_icons/default.png",alt:"Course Icon"}),s.a.createElement("span",null,e.chapter_title)))}))),!(null===c||void 0===c?void 0:c.length)&&!o&&s.a.createElement("p",null,"No result(s) found")),s.a.createElement(Ne.a,{eventKey:"courses",title:"Units"},!!(null===_||void 0===_?void 0:_.length)&&!o&&s.a.createElement("ul",{className:"list-unstyled",id:"courses_list"},_.map((function(e,t){return s.a.createElement("li",{key:t},s.a.createElement("a",{onClick:function(e){return n.props.toggleShowModal(!1)},href:"".concat(d,"/m/").concat(e.track_id,"/").concat(e.chapter_id,"/").concat(e.module_id)},s.a.createElement("img",{src:null!==e.course_icon_src?e.course_icon_src:"https://assets.codingdojo.com/boomyeah2015/codingdojo/course_icons/default.png",alt:"Course Icon"}),s.a.createElement("span",null,e.course_title)))}))),!(null===_||void 0===_?void 0:_.length)&&!o&&s.a.createElement("p",null,"No result(s) found"))),o&&s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/loader.gif",alt:"Loading Icon",className:"loading_icon"})))}}]),a}(n.Component)),Pe=Object(p.J)("user",{search_learning_content:Re.searchLearningContent}),je=Pe.mapStateToProps,Le=Pe.mapDispatchToProps,Me=Object(ue.b)(je,Le)(Ie),Fe=(a(555),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).openSearchModal=function(){n.props.onAddActivityLog("3.1.12"),Object(p.W)(Object(Se.a)(n),"is_show_search_modal",!0)},n.hasClickLink=function(e){"home"===e?n.props.onAddActivityLog("3.0.0"):"learn"===e?n.props.onAddActivityLog("3.14.0"):"contact"===e&&n.props.onAddActivityLog("3.19.0"),n.props.onUpdateUserSessionPage()},n.switchProgram=function(e,t){if(e!==t){var a=(n.props.location&&n.props.location.state||{from:{pathname:"/switch_program"}}).from;n.props.switchProgram(e,t,a)}},n.renderHeaderLogo=function(e,t){return(null===e||void 0===e?void 0:e.workspace_logo[t?"dark_mode":"light_mode"])&&e.workspace_id!==u.Xb.codingdojo?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/cd_logo_small_".concat(t?"white":"black",".png"),alt:"Coding Dojo Logo"}),s.a.createElement(Te.a,{icon:["fas","times"]}),s.a.createElement("img",{alt:"".concat(e.workspace_name," Logo"),id:"workspace_logo",src:t?e.workspace_logo.dark_mode:e.workspace_logo.light_mode})):"Coding Dojo"},n.state={links:[{name:"home",to:"dashboard"},{name:"learn",to:"courses"},{name:"contact",to:"contact"}]},n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t,a,n,r,o=this,i=this.props,c=i.user_info,_=i.report_issue,l=i.is_dark_mode,d=(null===c||void 0===c||null===(e=c.general)||void 0===e?void 0:e.trial_platform_mode)?"t/courses":"courses";void 0!==this.props.location&&(d=this.props.location.replace("/",""));var u,m,h=null,E=[];(void 0===_&&(_=!1),c&&(null===c||void 0===c||null===(t=c.workspace_custom_data)||void 0===t||null===(a=t.bootcamp_info)||void 0===a?void 0:a.active_programs))&&(h=null===c||void 0===c||null===(u=c.workspace_custom_data.bootcamp_info)||void 0===u?void 0:u.program_type,E=null===c||void 0===c||null===(m=c.workspace_custom_data.bootcamp_info)||void 0===m?void 0:m.active_programs);var f=(null===c||void 0===c||null===(n=c.general)||void 0===n?void 0:n.trial_platform_mode)?"/t/":"/";return s.a.createElement(Ae.a,{className:"navbar-expand"},s.a.createElement("div",{className:"container"},s.a.createElement(pe.b,{className:"navbar-brand",to:"/dashboard",onClick:function(){return o.props.onUpdateUserSessionPage()}},this.renderHeaderLogo(null===c||void 0===c?void 0:c.workspace,l)),!1===_&&c&&(null===c||void 0===c||null===(r=c.workspace_custom_data)||void 0===r?void 0:r.bootcamp_info)&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Te.a,{icon:["fas","caret-right"]}),s.a.createElement(ke.a,{title:"".concat(h," Courses"),id:"basic-nav-dropdown"},E.map((function(e){return s.a.createElement("button",{type:"button",key:e.id,className:"nav-link ".concat(h===e.program_type?"active":""),onClick:function(){return o.switchProgram(e.user_bootcamp_id,c.workspace_custom_data.bootcamp_info.user_bootcamp_id)}},e.program_type," Courses")})))),s.a.createElement(Ae.a.Toggle,{"aria-controls":"basic-navbar-nav"}),s.a.createElement(Ae.a.Collapse,{id:"basic-navbar-nav"},s.a.createElement(Oe.a,{className:"mr-auto"},!1===_&&s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{id:"show_search_modal",onClick:function(e){return o.openSearchModal()},type:"button"}),s.a.createElement("div",{className:"main_links_container"},this.state.links.map((function(e){return s.a.createElement(pe.b,{className:"nav-link ".concat("/"+d===f+e.to?"active":""),key:e.to,to:"".concat(f).concat(e.to),onClick:function(t){return o.hasClickLink(e.name)}},e.name)})))),s.a.createElement(we.a,{onAddActivityLog:this.props.onAddActivityLog,onRemoveBookmark:this.props.onRemoveBookmark,history:this.props.history,is_dark_mode:this.props.is_dark_mode,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,onAddBookmark:this.props.onAddBookmark})))),s.a.createElement(Me,{show:this.state.is_show_search_modal,toggleShowModal:function(e){return Object(p.W)(o,"is_show_search_modal",!1)},onAddActivityLog:this.props.onAddActivityLog,onRemoveBookmark:this.props.onRemoveBookmark,onAddBookmark:this.props.onAddBookmark}))}}]),a}(n.Component)),xe=Object(p.J)(void 0,{switchProgram:Ce.a.switchProgram}),Be=xe.mapStateToProps,We=xe.mapDispatchToProps,He=Object(ue.b)(Be,We)(Fe),Ke=a(169),Ge=(a(556),a(172)),Ve=a(145),qe=(a(155),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;Object(ce.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.estimateExpirationDatetime()},n.componentDidUpdate=function(e,t){var a=Object(p.y)();if(a.status){var s=a.user_details.workspace_custom_data.sence_integration;if((!t.error_code||t.error_code!==n.state.error_code)&&(n.state.error_code===u.x.sence_access_expired||n.state.error_code===u.x.sence_session_restart))return n.props.stopSenceSession(Object(d.a)(Object(d.a)({},s),{},{reason_code:n.state.error_code})),void n.props.updateParentStateFromChild({is_show_failed_sence_request_modal:!0,error_code:n.state.error_code,is_show_sence_countdown_timer:!1});!t.is_show_sence_timer&&s.is_sence_session_on?n.estimateExpirationDatetime():t.is_show_sence_timer&&!s.is_sence_session_on&&n.setState({is_show_sence_timer:!1})}},n.estimateExpirationDatetime=function(){var e=Date.now(),t=!1,a=Object(p.y)(),s=a.status?a.user_details.workspace_custom_data.sence_integration:null;if(s.is_sence_user&&s.is_logged_in&&s.is_sence_session_on){var r=s.login_time,o=v.a.utc(r).local().format(),i=s.remaining_seconds;e=i>=u.cc?v()(o).add(i,"seconds").valueOf():e,t=!0}n.setState({expiration_datetime:e,is_show_sence_timer:t})},n.renderTimer=function(e){var t=e.hours,a=e.minutes,r=e.seconds,o=e.completed,i=parseInt(n.state.profile.workspace_custom_data.sence_integration.chile_timezone),c=v()().utcOffset(60*i);if(o||c.format("HH:mm:ss")===c.endOf("day").format("HH:mm:ss")){if(!n.state.is_show_failed_sence_request_modal){var _=o?u.x.sence_access_expired:u.x.sence_session_restart;n.setState({is_show_failed_sence_request_modal:!0,error_code:_})}return s.a.createElement("span",{className:"timer"},"00:00:00")}return s.a.createElement("span",{className:"timer"},n.prependZeroOnSingleDigits(t,a,r))},n.prependZeroOnSingleDigits=function(e,t,a){return("0"+e).slice(-2)+":"+("0"+t).slice(-2)+":"+("0"+a).slice(-2)},n.state={is_show_stop_sence_session_modal:!1,expiration_datetime:Date.now(),is_show_sence_timer:!1,is_show_failed_sence_request_modal:!1,error_code:null};var r=Object(p.y)();return r.status&&(n.state=Object(d.a)(Object(d.a)({},n.state),{},{profile:r.user_details})),n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;return this.state.is_show_sence_timer?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"chile_countdown_banner"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"left_container"},s.a.createElement("p",null,"Tiempo restante para el cierre de sesi\xf3n de Sence"),s.a.createElement("span",{className:"timer_icon"}),s.a.createElement(Ve.a,{date:this.state.expiration_datetime,renderer:this.renderTimer})),s.a.createElement("div",{className:"right_container"},s.a.createElement("span",{id:"sence_logo_icon"}),s.a.createElement("button",{type:"button",onClick:function(){e.setState({is_show_stop_sence_session_modal:!0})}},s.a.createElement("span",{className:"stop_icon"})," Cerrar Sesi\xf3n")))),s.a.createElement(Ge.a,{show:this.state.is_show_stop_sence_session_modal,toggleShowModal:function(){return Object(p.W)(e,"is_show_stop_sence_session_modal",!1)},user_details:this.state.profile})):null}}]),a}(n.Component)),Ye=Ce.a.stopSenceSession,Qe=Object(p.J)(["user"],{stopSenceSession:Ye}),$e=Qe.mapStateToProps,ze=Qe.mapDispatchToProps,Je=Object(ue.b)($e,ze)(qe),Xe=(a(294),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;Object(ce.a)(this,a),(n=t.call(this,e)).redirectTo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;e&&e.preventDefault(),n.props.toggleShowModal(!1),n.props.updateParentStateFromChild({error_code:null});var t=n.props.history.location.pathname;return t.match(/\/dashboard|\/courses|\/contact|\/progress|\/stats/gm)||n.state.error_code===u.x.sence_session_restart?n.props.history.push(n.props.history.location.pathname.replaceAll(/\/error_code=\w+\d+/gm)):window.location.href="/dashboard",!1},n.state={error_code:null,error_message:""};var s=n.props.history.location.pathname.split("/");return n.props.error_code?n.state.error_code=n.props.error_code:n.props.is_sence_session_expired?n.state.error_code=u.x.sence_access_expired:n.state.error_code=s[s.length-1].replace(/error_code=/gm,""),n.state.error_message=Object(p.x)(n.state.error_code),n}return Object(_e.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props.error_code;if(this.state.error_code!==e.error_code&&t&&this.props.error_code===u.x.sence_access_expired){var a=Object(p.x)(t);this.setState({error_message:a,error_code:t})}}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,this.state.error_message?s.a.createElement(De.a,{className:"chile_sence_modal",id:"failed_sence_request_modal",show:this.props.show,centered:!0,onHide:function(){return e.redirectTo()}},s.a.createElement(De.a.Header,null,s.a.createElement("button",{onClick:function(){return e.redirectTo()}},s.a.createElement("span",{className:"close_icon"}))),s.a.createElement(De.a.Body,null,s.a.createElement("form",{onSubmit:function(t){e.redirectTo(t)}},s.a.createElement("span",{className:"warning_icon"}),s.a.createElement("p",null,this.state.error_message),s.a.createElement("button",{onSubmit:function(){return e.redirectTo()},type:"submit"},"Cerrar")))):null)}}]),a}(n.Component)),Ze=a(345),et=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){return Object(ce.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){return s.a.createElement(Ze.b,null,s.a.createElement(Ze.a,null,s.a.createElement("title",null,this.props.title)))}}]),a}(n.Component),tt=(a(559),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;Object(ce.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){Object(p.D)()&&(window.location.href="/dashboard"),n.props.onSaveUserSessionPage({page_type_id:u.kb,track_id:0,course_id:0,chapter_id:0,chapter_module_id:0})},n.clickToShowReportIssueModal=function(){Object(p.W)(Object(Se.a)(n),"is_show_report_issue_modal",!0),n.props.onAddActivityLog("3.9.12")},n.state={is_show_report_issue_modal:!1,contact_us_details:{0:{office:"Coding Dojo International",location:"",contact_number:"",email:"intl@codingdojo.com"},1:{office:"Coding Dojo Schaumburg, IL",location:"1750 E. Golf Rd. Suite 350 Schaumburg, IL 60173",contact_number:"(844) 446-3656",email:"support@codingdojo.com"},2:{office:"Coding Dojo SDA",location:"",contact_number:"",email:"sda-product-ops@codingdojo.com"}},is_show_failed_sence_request_modal:!1,is_show_sence_countdown_timer:!0,error_code:null};var s=Object(p.y)();return!0===s.status&&(n.state=Object(d.a)(Object(d.a)({},n.state),{},{profile:s.user_details})),n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t=this,a=this.state.contact_us_details,n=this.props.workspace_id,r=Object(p.y)(),o=r.status?null===(e=r.user_details.workspace_custom_data)||void 0===e?void 0:e.sence_integration:null,i=a[n]||a[0],c=[u.Xb.chile,u.Xb.colombia,u.Xb.peru,u.Xb.costa_rica,u.Xb.dominican_republic,u.Xb.paraguay,u.Xb.ecuador].includes(n);return s.a.createElement(s.a.Fragment,null,s.a.createElement(et,{title:u.lb.student_page.contact}),s.a.createElement(He,{location:this.props.location.pathname,user_info:this.state.profile,onAddActivityLog:this.props.onAddActivityLog,onAddBookmark:this.props.onAddBookmark,onRemoveBookmark:this.props.onRemoveBookmark,history:this.props.history,is_dark_mode:this.props.is_dark_mode,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,onUpdateUserSessionPage:this.props.onUpdateUserSessionPage}),(null===o||void 0===o?void 0:o.is_sence_session_on)&&this.state.is_show_sence_countdown_timer&&s.a.createElement(Je,{history:this.props.history,updateParentStateFromChild:function(e){t.setState(e)}}),s.a.createElement("div",{className:"container",id:"contact_us_container"},s.a.createElement("div",{id:"contact_card"},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/user/global/coding_dojo_logo_blue.png",alt:"coding dojo icon"}),s.a.createElement("div",null,s.a.createElement("h4",null,i.office),s.a.createElement("p",null,i.location),s.a.createElement("p",null,i.contact_number),s.a.createElement("p",null,i.email))),s.a.createElement("div",{id:"contact_card_touch"},s.a.createElement("h4",null,c?"Ponte en contacto con nosotros! ":"Get in touch with us!"),s.a.createElement("p",null,c?"Envianos un mensaje y nos pondremos en contacto contigo lo antes posible":"Send us a message and we'll get back to you as soon as we can","."),s.a.createElement("button",{type:"button",onClick:function(){return Object(p.M)(t)}},c?"Contactanos!":"Get in Touch")),s.a.createElement("div",{id:"contact_card_faq"},s.a.createElement("h4",null,c?"\xbfHas consultado nuestras preguntas frecuentes?":"Have you checked our FAQs?"),s.a.createElement("p",null,c?"Es posible que ya tengamos la respuesta a tus preguntas.":"We might already have the answer to your questions."," "),s.a.createElement("a",{href:"https://www.codingdojo.com/faq",target:"_blank",className:"".concat(c&&"big_faq_button")},c?"Consulta nuestras preguntas frecuentas":"Go to FAQ"))),s.a.createElement(Ke.a,{show:this.state.is_show_report_issue_modal,toggleShowModal:function(){return Object(p.W)(t,"is_show_report_issue_modal",!1)},modal_status:this.state.is_show_report_issue_modal,onAddActivityLog:this.props.onAddActivityLog}),this.state.is_show_failed_sence_request_modal&&s.a.createElement(Xe,{show:this.state.is_show_failed_sence_request_modal,toggleShowModal:function(){return Object(p.W)(t,"is_show_failed_sence_request_modal",!1)},error_code:this.state.error_code,is_sence_session_expired:null===o||void 0===o?void 0:o.has_expired,updateParentStateFromChild:function(e){t.setState(e)},history:this.props.history}))}}]),a}(n.Component)),at=a(264),nt=a(41),st=a.n(nt),rt=a(86),ot=new function e(){Object(ce.a)(this,e),this.fetchCoursePageData=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a){a(Object(p.A)({type:u.D.FETCH_COURSE_PAGE_DATA_REQUEST},{})),rt.a.fetchCoursePageData(e,t).then((function(t){if(!0===t.status){var n=void 0,s=void 0,r=t.result,o=r.track_id,i=r.chapter_module_id,c=r.active_module,_=r.active_chapter.cache_chapter_modules_count,l=c.content,d=c.module_type;if(null!==l){var m,h=l;2===d&&(h=JSON.parse(l)||{}),void 0!==(null===(m=h)||void 0===m?void 0:m.description)&&(h.description=h.description.replace(/http:\/\/learn\.codingdojo\.com/g,"http://login.codingdojo.com"),c.content=2===d?JSON.stringify(h):h,l=c.content)}if(1===d){var E=t.result.user_module||[],f=Object(A.a)(E,1)[0];if(t.result.active_module.content=l||{},void 0!==f&&null!==f.started_at&&null!==f.completed_at){var g=JSON.parse(f.user_module_content)||{};if(void 0!==g.questions){(n={track_id:o,chapter_module_id:i,questions:g.questions}).started_at=f.started_at,n.ended_at=f.completed_at;for(var v=0;v<n.questions.length;v++){var b=n.questions[v];void 0===b.is_correct&&void 0!==b.choices&&b.choices.length>0&&(n.questions[v].is_correct=b.choices.filter((function(e){return!0===e.is_answer&&!0===e.selected_answer})).length>0)}}}}else if(2===d){var S=(JSON.parse(t.result.active_module.content)||{}).data||{},k=S.tasks,O=S.tasks_order;if(void 0!==O&&void 0!=k){var T=t.result.user_module||[],C=Object(A.a)(T,1)[0],w=[];s=[],void 0!==C&&(w=JSON.parse(C.user_module_content)||[]);for(var y=function(e){var t=O[e],a=k.filter((function(e){return e.id==t}))[0];if(void 0!==a){var n=w.filter((function(e){return void 0!==e[t]}))[0];s.push({status:void 0!==n?parseInt(n[t]):1,title:a.task,id:t})}},R=0;R<O.length;R++)y(R)}}if(void 0!==t.result.completed_chapter_module_ids&&t.result.completed_chapter_module_ids.length>0)for(var D=0;D<t.result.completed_chapter_module_ids.length;D++)t.result.completed_chapter_module_ids[D]="survey"!==t.result.completed_chapter_module_ids[D]?parseInt(t.result.completed_chapter_module_ids[D]):t.result.completed_chapter_module_ids[D];if(!0===t.result.is_admin_user||t.result.allow_track_progress&&(parseFloat(t.result.chapters[t.result.chapter_index].chapter_progress_percent)>=80||parseInt(_)>=5&&parseFloat(t.result.chapters[t.result.chapter_index].chapter_progress_percent)>=80||parseInt(_)<5&&(void 0!==t.result.completed_chapter_module_ids&&t.result.completed_chapter_module_ids.length)>=2||1===parseInt(_))){t.result.chapters[t.result.chapter_index].chapter_modules.push({chapter_id:t.result.chapter_id,chapter_module_id:"survey",chapter_module_title:"Chapter Survey",content:null,is_completed:0,module_type:4,track_id:t.result.track_id});var U=t.result.active_chapter.chapter_module_ids_order.length,N=(null===e||void 0===e?void 0:e.trial_platform_mode)?"/t":"";t.result.active_chapter.chapter_module_ids_order[U-1]==t.result.chapter_module_id&&(t.result.next_link="".concat(N,"/m/").concat(t.result.track_id,"/").concat(t.result.chapter_id,"/survey"),t.result.is_next_track_course=!1)}if(t.result.is_show_survey_modal=!1,t.result.cd_survey_scheds&&t.result.cd_survey_scheds.length>0){var I,P=[],j=Object(p.y)(),L=Object(W.a)(t.result.cd_survey_scheds);try{for(L.s();!(I=L.n()).done;){var M=I.value;!j.user_details||j.user_details.workspace_custom_data.surveys.skipped.includes(M.cd_survey_schedule_id)||j.user_details.workspace_custom_data.surveys.taken.includes(M.cd_survey_schedule_id)||u.fc.includes(M.cd_survey_schedule_id)&&P.push(M)}}catch(B){L.e(B)}finally{L.f()}t.result.is_show_survey_modal=P.length>0,t.result.cd_survey_scheds=P}a(Object(p.A)({type:u.D.FETCH_COURSE_PAGE_DATA_SUCCESS},{track:t.result,quiz_module:n,assignment_tasks:s,sence_integration:t.result.sence_integration}))}else{var F,x;a(Object(p.A)({type:u.D.FETCH_COURSE_PAGE_DATA_FAILURE},{error:t.message,result:t.result})),(null===(F=t.result)||void 0===F||null===(x=F.sence_integration)||void 0===x?void 0:x.is_sence_user)||(window.location.href="/courses")}}),(function(e){var t=Object(p.c)(e);a(Object(p.A)({type:u.D.FETCH_COURSE_PAGE_DATA_FAILURE},{error:t}))}))}},this.completeLessonModule=function(e){return function(t){t(Object(p.A)({type:u.D.COMPLETE_LESSON_MODULE_DATA_REQUEST},{})),rt.a.completeLessonModule(e).then((function(e){!0===e.status?t(Object(p.A)({type:u.D.COMPLETE_LESSON_MODULE_DATA_SUCCESS},{lesson_module:e.result})):t(Object(p.A)({type:u.D.COMPLETE_LESSON_MODULE_DATA_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.D.COMPLETE_LESSON_MODULE_DATA_FAILURE},{error:a}))}))}},this.submitAssignmentTask=function(e){return function(t){t(Object(p.A)({type:u.D.SUBMIT_ASSIGNMENT_TASK_REQUEST},{}));var a=e.id,n=e.track_id,s=e.chapter_module_id,r=e.stack_schedule_id,o=e.cc_stack_schedule_id,i=e.module_data,c=e.is_optional,_=e.is_practice,l=i.map((function(e){var t={};return t[e.id]=e.status,t}));rt.a.submitAssignmentTask({id:a,track_id:n,chapter_module_id:s,stack_schedule_id:r,cc_stack_schedule_id:o,module_data:l,is_optional:c,is_practice:_}).then((function(a){!0===a.status?t(Object(p.A)({type:u.D.SUBMIT_ASSIGNMENT_TASK_SUCCESS},{assignment_tasks:e.module_data,assignment_remaining_time:a.result.assignment_remaining_time})):t(Object(p.A)({type:u.D.SUBMIT_ASSIGNMENT_TASK_FAILURE},{error:a.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.D.SUBMIT_ASSIGNMENT_TASK_FAILURE},{error:a}))}))}},this.changePropsValue=function(e,t){return function(a){a(Object(p.A)({type:u.D.CHANGE_PROPS_VALUE_REQUEST},{modal_name:e,new_value:t}))}},this.startQuiz=function(e){return function(t){var a=window.location.href;t(Object(p.A)({type:u.D.START_QUIZ_REQUEST},{})),rt.a.startQuiz(e).then((function(e){e.status&&a===window.location.href?t(Object(p.A)({type:u.D.START_QUIZ_SUCCESS},{quiz_details:e.result})):t(Object(p.A)({type:u.D.START_QUIZ_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.D.START_QUIZ_FAILURE},{error:a}))}))}},this.navigateQuiz=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a){!0===t?rt.a.submitQuiz(e).then((function(e){!0===e.status?a(Object(p.A)({type:u.D.NAVIGATE_QUIZ_SUCCESS},{quiz_details:e.result,is_disable_see_result:!0})):a(Object(p.A)({type:u.D.NAVIGATE_QUIZ_FAILURE},{error:e.message}))}),(function(e){var t=Object(p.c)(e);a(Object(p.A)({type:u.D.NAVIGATE_QUIZ_FAILURE},{error:t}))})):a(Object(p.A)({type:u.D.NAVIGATE_QUIZ_SUCCESS},{quiz_details:e.quiz_details,is_disable_see_result:!1}))}},this.submitCurriculumMistakeReport=function(e){return rt.a.submitCurriculumMistakeReport(e)},this.fetchCourseDetails=function(e){return function(t){t(Object(p.A)({type:u.D.COURSE_DETAILS_REQUEST},{})),rt.a.fetchCourseDetails(e).then((function(e){e.status?t(Object(p.A)({type:u.D.COURSE_DETAILS_SUCCESS},{course_details:e.result})):(alert(e.message),t(Object(p.A)({type:u.D.COURSE_DETAILS_FAILURE},{error:e.message})))}),(function(e){var a=Object(p.c)(e);console.log(a),t(Object(p.A)({type:u.D.COURSE_DETAILS_FAILURE},{error:a}))}))}},this.updateCourseDescription=function(e){return function(t){t(Object(p.A)({type:u.D.UPDATE_COURSE_DESCRIPTION_REQUEST},{})),rt.a.updateCourseDescription(e).then((function(e){e.status?t(Object(p.A)({type:u.D.UPDATE_COURSE_DESCRIPTION_SUCCESS},{course_details:e.result})):(alert(e.message),t(Object(p.A)({type:u.D.UPDATE_COURSE_DESCRIPTION_FAILURE},{error:e.message})))}),(function(e){var a=Object(p.c)(e);console.log(a),t(Object(p.A)({type:u.D.UPDATE_COURSE_DESCRIPTION_FAILURE},{error:a}))}))}}},it=new(function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e,n,s;Object(ce.a)(this,a),(s=t.call(this)).fetch_online_discussion=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/discussions/fetch_online_discussion"),e,!0).then(p.z).then((function(e){return e}))},s.fetch_discussion_responses=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/discussions/fetch_discussion_responses"),e,!0).then(p.z).then((function(e){return e}))},s.save_new_discussion_response=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/discussions/save_new_discussion_response"),e,!0).then(p.z).then((function(e){return e}))},s.delete_discussion_response=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/discussions/delete_discussion_response"),e,!0).then(p.z).then((function(e){return e}))},s.vote_discussion_response=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/discussions/vote_discussion_response"),e,!0).then(p.z).then((function(e){return e}))},s.update_discussion_details=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/discussions/update_discussion_board"),e,!0).then(p.z).then((function(e){return e}))},s.delete_discussion_question=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/discussions/delete_discussion_board"),e,!0).then(p.z).then((function(e){return e}))};var r=Object(p.y)();return s.API_pre_link=(null===r||void 0===r||null===(e=r.user_details)||void 0===e||null===(n=e.general)||void 0===n?void 0:n.trial_platform_mode)?"/t":"",s}return a}(Ee.a)),ct=new function e(){Object(ce.a)(this,e),this.fetchOnlineDiscussion=function(e){return function(t){t(Object(p.A)({type:u.I.GET_DISCUSSION_REQUEST},{})),it.fetch_online_discussion(e).then((function(e){!0===e.status?!0===e.result.allowed_discussion_access?t(Object(p.A)({type:u.I.GET_DISCUSSION_SUCCESS},{discussion:e.result})):void 0!==e.result.redirect_to?window.location.href=e.result.redirect_to:window.location.href="/dashboard":t(Object(p.A)({type:u.I.GET_DISCUSSION_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.I.GET_DISCUSSION_FAILURE},{error:a}))}))}},this.fetchDiscussionResponses=function(e){return function(t){t(Object(p.A)({type:u.I.GET_DISCUSSION_RESPONSES_REQUEST},{})),it.fetch_discussion_responses(e).then((function(e){!0===e.status?t(Object(p.A)({type:u.I.GET_DISCUSSION_RESPONSES_SUCCESS},{discussion:e.result})):t(Object(p.A)({type:u.I.GET_DISCUSSION_RESPONSES_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.I.GET_DISCUSSION_FAILURE},{error:a}))}))}},this.saveDiscussionResponse=function(e){return function(t){t(Object(p.A)({type:u.I.SAVE_DISCUSSION_RESPONSE_REQUEST},{})),it.save_new_discussion_response(e).then((function(e){!0===e.status?t(Object(p.A)({type:u.I.SAVE_DISCUSSION_RESPONSE_SUCCESS},{new_response:e.result})):t(Object(p.A)({type:u.I.SAVE_DISCUSSION_RESPONSE_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.I.SAVE_DISCUSSION_RESPONSE_FAILURE},{error:a}))}))}},this.deleteDiscussionResponse=function(e,t){return function(a){a(Object(p.A)({type:u.I.REMOVE_DISCUSSION_RESPONSE_REQUEST},{})),it.delete_discussion_response(e).then((function(e){e.status?a(Object(p.A)({type:u.I.REMOVE_DISCUSSION_RESPONSE_SUCCESS},{deleted_response:e.result,response_index:t})):(alert(e.message),a(Object(p.A)({type:u.I.REMOVE_DISCUSSION_RESPONSE_FAILURE},{error:e.message})))}),(function(e){var t=Object(p.c)(e);a(Object(p.A)({type:u.I.REMOVE_DISCUSSION_RESPONSE_FAILURE},{error:t}))}))}},this.voteDiscussionResponse=function(e,t){return function(a){a(Object(p.A)({type:u.I.VOTE_DISCUSSION_RESPONSE_REQUEST},{})),it.vote_discussion_response(e).then((function(e){!0===e.status?a(Object(p.A)({type:u.I.VOTE_DISCUSSION_RESPONSE_SUCCESS},{voted_response:e.result,response_index:t})):a(Object(p.A)({type:u.I.VOTE_DISCUSSION_RESPONSE_FAILURE},{error:e.message}))}),(function(e){var t=Object(p.c)(e);a(Object(p.A)({type:u.I.VOTE_DISCUSSION_RESPONSE_FAILURE},{error:t}))}))}},this.updateDiscussionDetails=function(e){return function(t){t(Object(p.A)({type:u.I.UPDATE_DISCUSSION_DETAILS_REQUEST},{})),it.update_discussion_details(e).then((function(e){!0===e.status?t(Object(p.A)({type:u.I.UPDATE_DISCUSSION_DETAILS_SUCCESS},{response:e.result})):t(Object(p.A)({type:u.I.UPDATE_DISCUSSION_DETAILS_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.I.UPDATE_DISCUSSION_DETAILS_FAILURE},{error:a}))}))}},this.deleteDiscussionQuestion=function(e){return function(t){t(Object(p.A)({type:u.I.DELETE_DISCUSSION_QUESTION_REQUEST},{})),it.delete_discussion_question(e).then((function(e){!0===e.status?void 0!==e.result.discussion_link&&(window.location.href=e.result.discussion_link):t(Object(p.A)({type:u.I.DELETE_DISCUSSION_QUESTION_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.I.DELETE_DISCUSSION_QUESTION_FAILURE},{error:a}))}))}}},_t=a(105),lt=new function e(){Object(ce.a)(this,e),this.uploadToDoFile=function(e){return function(t){t(Object(p.A)({type:u.D.UPLOAD_TODO_FILE_REQUEST},{})),_t.a.uploadToDoFile(e).then((function(e){!0===e.status?t(Object(p.A)({type:u.D.UPLOAD_TODO_FILE_SUCCESS},{todo:e.result})):t(Object(p.A)({type:u.D.UPLOAD_TODO_FILE_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.D.UPLOAD_TODO_FILE_FAILURE},{error:a}))}))}},this.uploadToDoGithubLink=function(e){return function(t){t(Object(p.A)({type:u.D.UPLOAD_TODO_GITHUB_REQUEST},{})),_t.a.uploadToDoGithubLink(e).then((function(e){!0===e.status?t(Object(p.A)({type:u.D.UPLOAD_TODO_GITHUB_SUCCESS},{todo:e.result})):t(Object(p.A)({type:u.D.UPLOAD_TODO_GITHUB_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.D.UPLOAD_TODO_GITHUB_FAILURE},{error:a}))}))}},this.deleteAssignmentFile=function(e){return function(t){t(Object(p.A)({type:u.D.DELETE_USER_TODO_FILE_REQUEST},{})),_t.a.deleteAssignmentFile(e).then((function(e){e.message&&e.status&&!e.error&&!Object.keys(e.result).length?(t(Object(p.A)({type:u.D.DELETE_USER_TODO_FILE_FAILURE},{is_file_deleted_within:!0})),alert(e.message)):e.status?t(Object(p.A)({type:u.D.DELETE_USER_TODO_FILE_SUCCESS},{todo:e.result})):t(Object(p.A)({type:u.D.DELETE_USER_TODO_FILE_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.D.DELETE_USER_TODO_FILE_FAILURE},{error:a}))}))}},this.startToDoTask=function(e,t){return function(a){a(Object(p.A)({type:u.D.START_TASK_REQUEST},{})),_t.a.startToDoTask(e,t).then((function(e){!0===e.status?a(Object(p.A)({type:u.D.START_TASK_SUCCESS},{start_todo:e.result})):a(Object(p.A)({type:u.D.START_TASK_FAILURE},{error:e.message}))}),(function(e){var t=Object(p.c)(e);a(Object(p.A)({type:u.D.START_TASK_FAILURE},{error:t}))}))}},this.getToDoSolution=function(e,t){return function(a){a(Object(p.A)({type:u.D.FETCH_USER_TODO_SOLUTION_REQUEST},{post_data:t})),_t.a.getToDoSolution(e,t).then((function(e){!0===e.status?a(Object(p.A)({type:u.D.FETCH_USER_TODO_SOLUTION_SUCCESS},{todo_solution_content:e.result})):a(Object(p.A)({type:u.D.FETCH_USER_TODO_SOLUTION_FAILURE},{error:e.message,is_failed_to_fetch_solution:!e.status}))}),(function(e){var t=Object(p.c)(e);a(Object(p.A)({type:u.D.FETCH_USER_TODO_SOLUTION_FAILURE},{error:t}))}))}},this.getToDoSolutionFileContent=function(e,t){return function(a){a(Object(p.A)({type:u.D.FETCH_USER_TODO_SOLUTION_FILE_REQUEST},{})),_t.a.getToDoSolutionFileContent(e,t).then((function(e){!0===e.status?a(Object(p.A)({type:u.D.FETCH_USER_TODO_SOLUTION_FILE_SUCCESS},{todo_solution_content:e.result})):a(Object(p.A)({type:u.D.FETCH_USER_TODO_SOLUTION_FILE_FAILURE},{error:e.message}))}),(function(e){var t=Object(p.c)(e);a(Object(p.A)({type:u.D.FETCH_USER_TODO_SOLUTION_FILE_FAILURE},{error:t}))}))}},this.changeActiveFileContent=function(e){return function(t){t(Object(p.A)({type:u.D.CHANGE_ACTIVE_FILE_CONTENT_REQUEST},{active_file_data:e}))}},this.changeActiveTabContent=function(e){return function(t){t(Object(p.A)({type:u.D.CHANGE_ACTIVE_TAB_CONTENT_REQUEST},{todo_solution_content:e.children,id:e.id}))}}},dt=(a(560),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e,t){var a=e.active_module,s=e.user_bookmarks,r=e.is_track_overview;s&&parseInt(s.new_bookmark_id)&&(!a.is_bookmarked||r)?(n.props.active_module.is_bookmarked=!0,n.setState({bookmark_name:"",input_error:""}),n.props.toggleShowModal(!1)):void 0!==s.error_message&&n.setState({input_error:s.error_message})},n.submitBookmarkForm=function(e){if(e.preventDefault(),""!==n.state.bookmark_name){var t=n.props.active_module.chapter_module_id,a=n.props.track_details.id;n.props.save_new_user_bookmarks(t||u.z.default_bookmark_value.chapter_module_id,{title:n.state.bookmark_name,track_course_id:n.props.track_course_id||u.z.default_bookmark_value.track_course_id,bookmark_url:t?"m/".concat(a,"/").concat(n.props.chapter_details.id,"/").concat(t):"course_intro/".concat(a),track_id:a}),n.props.active_module.is_bookmarked=!1,n.props.onAddActivityLog("1.12.19")}},n.handleInputChange=function(e){var t=e.target.value,a=t.replace(/^\s+/,"").replace(/\s+$/,"");n.setState(Object(l.a)({},e.target.name,""===a?"":t))},n.state={bookmark_name:"",input_error:""},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.state.input_error;return s.a.createElement(De.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,id:"add_bookmark_modal"},s.a.createElement(De.a.Header,null,s.a.createElement(De.a.Title,null,"Add Bookmark"),s.a.createElement("button",{onClick:function(t){return e.props.toggleShowModal(!1)}},s.a.createElement("span",{className:"close_icon"}))),s.a.createElement(De.a.Body,null,s.a.createElement("form",{onSubmit:function(t){return e.submitBookmarkForm(t)},autoComplete:"off"},void 0!==t&&""!==t&&s.a.createElement("span",{className:"input_error"},t),s.a.createElement("input",{className:"".concat(void 0!==t&&""!==t?"border_red":""),type:"text",name:"bookmark_name",placeholder:"Name here...",value:this.state.bookmark_name,onChange:function(t){return e.handleInputChange(t)}}),s.a.createElement("div",{className:"btn_container"},s.a.createElement("button",{type:"button",onClick:function(t){return e.props.toggleShowModal(!1)}},"Cancel"),s.a.createElement("button",{type:"submit",className:""!==this.state.bookmark_name?"btn btn-primary":"btn btn-primary disabled"},"Done")))))}}]),a}(n.Component)),ut=Object(p.J)("user_bookmarks",{save_new_user_bookmarks:ve.a.save_new_user_bookmarks}),pt=ut.mapStateToProps,mt=ut.mapDispatchToProps,ht=Object(ue.b)(pt,mt)(dt),Et=new(function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e,n,s;Object(ce.a)(this,a),(s=t.call(this)).saveChapterSurveyAnswer=function(e,t,a){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/tracks/submit_chapter_survey/").concat(e,"/").concat(t),a,!0).then(p.z).then((function(e){return e}))};var r=Object(p.y)();return s.API_pre_link=(null===r||void 0===r||null===(e=r.user_details)||void 0===e||null===(n=e.general)||void 0===n?void 0:n.trial_platform_mode)?"/t":"",s}return a}(Ee.a)),ft=new function e(){Object(ce.a)(this,e),this.saveChapterSurveyAnswer=function(e,t,a){return function(n){n(Object(p.A)({type:u.C.SAVE_CHAPTER_SURVEY_DATA_REQUEST},{})),Et.saveChapterSurveyAnswer(e,t,a).then((function(e){!0===e.status?n(Object(p.A)({type:u.C.SAVE_CHAPTER_SURVEY_DATA_SUCCESS},{chapter_survey:{status:!0,message:"Successfully saved!."}})):n(Object(p.A)({type:u.C.SAVE_CHAPTER_SURVEY_DATA_FAILURE},{error:e.message}))}),(function(e){var t=Object(p.c)(e);n(Object(p.A)({type:u.C.SAVE_CHAPTER_SURVEY_DATA_FAILURE},{error:t}))}))}}},gt=(a(561),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){return Object(ce.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){var e=this.props,t=e.ratings,a=e.onHandleInputRatingChange,n=e.input_name,r=e.selected_rating_value;return s.a.createElement("div",{className:"slide_ratings_list"},t.map((function(e){return s.a.createElement("label",{key:e.id,htmlFor:"".concat(n,"_").concat(e.id)},s.a.createElement("input",{checked:r===e.value,onChange:function(){return a(e.id,n)},type:"radio",name:n,value:e.value,id:"".concat(n,"_").concat(e.id)}),s.a.createElement("span",{class:"rating_value"},e.value),e.name&&s.a.createElement("span",{class:"rating_label"},e.name))})))}}]),a}(n.Component)),vt=(a(562),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidUpdate=function(){var e=n.props.courses,t=e.track,a=e.end_chapter_survey_response_status;void 0!==a&&null!==a&&!0===a.status&&console.log("Chapter survey answer successfully saved!."),!0===t.is_chapter_survey_form_submitted&&!0!==t.proceed_to_next_link&&n.submitChapterSurvey()},n.handleInputChange=function(e){n.setState(Object(l.a)({},e.target.name,e.target.value))},n.handleInputRatingChange=function(e,t){var a,s=n.state.ratings;s.map((function(t){t.is_checked=t.id===e,t.id===e&&(a=t.value)})),n.setState(Object(l.a)({ratings:s},t,a))},n.submitChapterSurvey=function(){var e=n.state,t=e.effectivity_rating,a=e.how_effective_textarea,s=e.smiley_rating,r=e.how_satisfied_textarea;if(null!==t&&null!==s){var o={data:[{question_id:"1",question_answer:s,comment:r},{question_id:"2",question_answer:t,comment:a}]};n.props.saveChapterSurveyAnswer(n.props.track_id,n.props.chapter_id,o)}else null!==t&&null!==s||(n.props.changePropsValue("proceed_to_next_link",!0),n.props.changePropsValue("is_chapter_survey_form_submitted",!1))},n.state={how_satisfied_textarea:"",how_effective_textarea:"",smiley_survey_radio:null,effectivity_rating:null,smiley_rating:null,ratings:[{id:0,name:"Extremely Dissatisfied",value:0},{id:1,name:"",value:1},{id:2,name:"Somewhat Dissatisfied",value:2},{id:3,name:"",value:3},{id:4,name:"",value:4},{id:5,name:"Neutral",value:5},{id:6,name:"",value:6},{id:7,name:"",value:7},{id:8,name:"Somewhat Satisfied",value:8,is_checked:!1},{id:9,name:"",value:9},{id:10,name:"Extremely Satisfied",value:10}]},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("form",{id:"chapter_survey_form"},s.a.createElement("p",null,"This survey refers to your learning experience during the Introduction to Programming Fundamentals Unit."),s.a.createElement("ul",{className:"list-unstyled",id:"chapter_survey_questions"},s.a.createElement("li",null,s.a.createElement("p",null,"1. Overall, how satisfied are you with this chapter?"),s.a.createElement(gt,{onHandleInputRatingChange:this.handleInputRatingChange,ratings:Object(f.a)(this.state.ratings),selected_rating_value:this.state.smiley_rating,input_name:"smiley_rating"}),s.a.createElement("ul",{className:"mobile_legend_list"},s.a.createElement("li",null,"0 - Extremely Dissatisfied"),s.a.createElement("li",null,"2 - Somewhat Dissatisfied"),s.a.createElement("li",null,"5 - Neutral"),s.a.createElement("li",null,"8 - Somewhat Satisfied"),s.a.createElement("li",null,"10 - Extremely Satisfied")),s.a.createElement("textarea",{onChange:function(t){return e.handleInputChange(t)},name:"how_satisfied_textarea",id:"",className:"form-control",placeholder:"Please elaborate on why you feel this way (optional)",spellCheck:"false"})),s.a.createElement("li",null,s.a.createElement("p",null,"2. How effective was this chapter in clearly presenting key concepts?"),s.a.createElement(gt,{onHandleInputRatingChange:this.handleInputRatingChange,ratings:Object(f.a)(this.state.ratings),selected_rating_value:this.state.effectivity_rating,input_name:"effectivity_rating"}),s.a.createElement("ul",{className:"mobile_legend_list"},s.a.createElement("li",null,"0 - Extremely Dissatisfied"),s.a.createElement("li",null,"2 - Somewhat Dissatisfied"),s.a.createElement("li",null,"5 - Neutral"),s.a.createElement("li",null,"8 - Somewhat Satisfied"),s.a.createElement("li",null,"10 - Extremely Satisfied")),s.a.createElement("textarea",{onChange:function(t){return e.handleInputChange(t)},name:"how_effective_textarea",id:"",className:"form-control",placeholder:"Please elaborate on why you feel this way (optional)",spellCheck:"false"}))))}}]),a}(n.Component)),bt=Object(p.J)("courses",{saveChapterSurveyAnswer:ft.saveChapterSurveyAnswer,changePropsValue:ot.changePropsValue}),St=bt.mapStateToProps,At=bt.mapDispatchToProps,kt=Object(ue.b)(St,At)(vt),Ot=(a(367),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).removeDiscussion=function(e){e.preventDefault();var t=n.props.discussions.selected_question_data,a={discussion_id:t.discussion_id,user_question_id:t.id};return n.props.deleteDiscussionQuestion(a),n.props.toggleShowModal(!1),!1},n.state={},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(De.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,id:"delete_discussion_module_modal"},s.a.createElement(De.a.Body,null,s.a.createElement(Te.a,{icon:["fas","trash"]}),s.a.createElement("h6",null,"Delete Confirmation"),s.a.createElement("p",null,"Are you sure you want to permanently remove this discussion module?")),s.a.createElement("form",{onSubmit:this.removeDiscussion},s.a.createElement("button",{type:"button",className:"btn",onClick:function(){return e.props.toggleShowModal(!1)}},"No, Keep It"),s.a.createElement("button",{type:"submit",id:"delete_discussion_module_btn",className:"btn"},"Yes, Delete it")))}}]),a}(n.Component)),Tt=ct.deleteDiscussionQuestion,Ct=Object(p.J)(["discussions"],{deleteDiscussionQuestion:Tt}),wt=Ct.mapStateToProps,yt=Ct.mapDispatchToProps,Rt=Object(ue.b)(wt,yt)(Ot),Dt=a(95),Ut=a.n(Dt),Nt=(a(563),a(295),Object(n.forwardRef)((function(e,t){var a=e.value,n=e.onClick;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Te.a,{icon:["fas","calendar-alt"]}),s.a.createElement("input",{type:"text",value:a,onClick:n,ref:t}))}))),It=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).submitDiscussionForm=function(e){e.preventDefault();var t=n.props.discussions.selected_question_data,a=null!==n.state.response_due_date?n.state.response_due_date:t.response_due_date,s={track_id:parseInt(t.track_id),question_id:parseInt(t.id),week_id:parseInt(t.discussion_id),discussion_title:null!==n.state.title?n.state.title:t.title,discussion_description:null!==n.state.description?n.state.description:t.content,discussion_response_due_date:v()(new Date(a)).format("MM/DD/YYYY")};return n.setState({is_form_submitted:!0}),n.props.updateDiscussionDetails(s),n.props.toggleShowModal(!1),!1},n.state={title:null,description:null,response_due_date:null,is_form_submitted:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props.discussions,a=t.selected_question_data,n=t.is_final_week,r=null!==a&&void 0!==a.title?a.title:"",o=null!==a&&void 0!==a.content?a.content:"",i=null!==a&&void 0!==a.response_due_date?a.response_due_date:null;if(this.state.is_form_submitted&&(null!==this.state.title||null!==this.state.description||null!==this.state.response_due_date)){var c={is_form_submitted:!1};null!==this.state.title&&(c.title=null),null!==this.state.description&&(c.description=null),null!==this.state.response_due_date&&(c.response_due_date=null),Object.keys(c).length>0&&this.setState(c)}return s.a.createElement(De.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,id:"edit_discussion_board_modal"},s.a.createElement(De.a.Header,null,"Edit Discussion Board"),s.a.createElement(De.a.Body,null,s.a.createElement("form",{onSubmit:this.submitDiscussionForm},s.a.createElement("label",{htmlFor:"discussion_title_input"},"Discussion Title"),s.a.createElement("input",{id:"discussion_title_input",value:null!==this.state.title?this.state.title:r,onChange:function(t){return e.setState({title:t.target.value})},placeholder:"Discussion title here...",type:"text"}),s.a.createElement("label",{htmlFor:"discussion_description_input"},"Discussion Description"),s.a.createElement("textarea",{id:"discussion_description_input",onChange:function(t){return e.setState({description:t.target.value})},placeholder:"Discussion description here..."},null!==this.state.description?this.state.description:o),s.a.createElement("label",{htmlFor:"discussion_due_date_input"},"Due Date ",n&&s.a.createElement("span",{className:"red"},"*This will be due at noon PST on the selected date.")),s.a.createElement(Ut.a,{dateFormat:"MMM d, yyyy",selected:new Date(null!==this.state.response_due_date?this.state.response_due_date:i),customInput:s.a.createElement(Nt,null),onChange:function(t){return e.setState({response_due_date:t})}}),s.a.createElement("div",{className:"blk"},s.a.createElement("button",{type:"button",onClick:function(){return e.props.toggleShowModal(!1)}},"Cancel"),s.a.createElement("button",{type:"submit"},"Save")))))}}]),a}(n.Component),Pt=ct.updateDiscussionDetails,jt=Object(p.J)(["discussions"],{updateDiscussionDetails:Pt}),Lt=jt.mapStateToProps,Mt=jt.mapDispatchToProps,Ft=Object(ue.b)(Lt,Mt)(It),xt=new(function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e,n,s;Object(ce.a)(this,a),(s=t.call(this)).fetch_chapter_module_faq=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/faq/fetch_faq/").concat(e),{},!0).then(p.z).then((function(e){return e}))};var r=Object(p.y)();return s.API_pre_link=(null===r||void 0===r||null===(e=r.user_details)||void 0===e||null===(n=e.general)||void 0===n?void 0:n.trial_platform_mode)?"/t":"",s}return a}(Ee.a)),Bt=new function e(){Object(ce.a)(this,e),this.get_chapter_module_faq=function(e){return function(t){t(Object(p.A)({type:u.Q.GET_CHAPTER_MODULE_FAQ_REQUEST},{})),xt.fetch_chapter_module_faq(e).then((function(e){!0===e.status?t(Object(p.A)({type:u.Q.GET_CHAPTER_MODULE_FAQ_SUCCESS},{faq:e.result})):t(Object(p.A)({type:u.Q.GET_CHAPTER_MODULE_FAQ_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.Q.GET_CHAPTER_MODULE_FAQ_FAILURE},{error:a}))}))}}},Wt=(a(623),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={is_liked:null},e.submitLikeDislikeContent=function(e){e.preventDefault()},e.handleLikeDislikeValue=function(t){e.setState({is_liked:"like"===t.target.value}),e.props.faq.is_liked="like"===t.target.value},e}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props.faq,a=this.props.is_liked,n=t.answer_json_array?t.answer_json_array.answers[0].answer:"";return s.a.createElement(De.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,id:"faq_modal"},s.a.createElement(De.a.Header,null,s.a.createElement("button",{onClick:function(){return e.props.toggleShowModal(!1)}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/close_icon.png",alt:"Close Icon"}))),s.a.createElement(De.a.Body,null,s.a.createElement("div",{id:"faq_question_container"},s.a.createElement("div",{className:"question_head"},s.a.createElement("span",{className:"question_title"},t.title),s.a.createElement("div",{className:"creator_container"},s.a.createElement("img",{src:t.image_url,alt:"Default Profile"}),s.a.createElement("div",{className:"details"},s.a.createElement("span",{className:"name"},t.first_name),s.a.createElement("span",{className:"position"},t.user_level_name)))),s.a.createElement("p",null,t.description)),s.a.createElement("div",{id:"faq_answer_container"},s.a.createElement("h5",null,"Answer"),s.a.createElement("div",{dangerouslySetInnerHTML:{__html:n}})),s.a.createElement("form",{id:"like_dislike_form",onSubmit:function(t){return e.submitLikeDislikeContent(t)}},s.a.createElement("p",null,"Did you find this Q&A helpful?"),s.a.createElement("button",{type:"submit",id:"dislike_btn"},s.a.createElement("input",{type:"radio",id:"like_faq",checked:void 0!==t.is_liked&&!1===t.is_liked||!1===a,name:"like_dislike_faq",value:"dislike",onChange:function(a){return e.props.onHandleLikeDislikeValue(a,t)}}),s.a.createElement("label",{htmlFor:"like_faq"})),s.a.createElement("button",{type:"submit",id:"like_btn"},s.a.createElement("input",{type:"radio",id:"dislike_faq",checked:void 0!==t.is_liked&&!0===t.is_liked||!0===a,name:"like_dislike_faq",value:"like",onChange:function(a){return e.props.onHandleLikeDislikeValue(a,t)}}),s.a.createElement("label",{htmlFor:"dislike_faq"})))))}}]),a}(n.Component)),Ht=(a(624),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).toggleShowFaq=function(){if(n.setState({is_faq_visible:!n.state.is_faq_visible}),!n.state.is_faq_visible){var e=n.props.active_module.chapter_module_id;n.props.get_chapter_module_faq(e),n.props.onAddActivityLog("1.7.3")}},n.handleLikeDislikeValue=function(e,t){},n.clickFAQDisplayModal=function(){n.props.onAddActivityLog("3.7.3")},n.state={is_show_faq_modal:!1,is_faq_visible:!1,active_faq:void 0,faqs:[{id:0,name:"How do I install MySQL Server on a Mac?",description:"How do I install MySQL Server on a Mac? I have a Mac and I don\u2019t know how to install it. How do I install MySQL Server on a Mac? I have a Mac and I don\u2019t know how to install it. How do I install MySQL Server on a Mac? How do I install MySQL Server on a Mac? I have a Mac and I don\u2019t know how to install it. How do I install MySQL Server on a Mac? I have a Mac and I don\u2019t know how to install it. How do I install MySQL Server on a Mac?",creator_details:{name:"C.J.",position:"Bootcamp Leader"},answer:'<p>Take a peek at the snippet of code below. Here, we added something called a conditional: if the light is already on, turn it off; or else turn the light on.        </p><pre data-v-21c573a6="" element-loading-text="Grabbing content from GitHub..." class="language-js code-toolbar" style="" data-language="javascript"><code data-v-21c573a6="" class=" language-js"><span class="token comment" spellcheck="true">// print odds</span>\n                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n                        <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span>\n                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>\n                    <span class="token punctuation">}</span>\n                    \n                    <span class="token comment" spellcheck="true">// num and sum</span>\n                    <span class="token keyword">var</span> sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>\n                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n                        sum<span class="token operator">+</span><span class="token operator">=</span>i\n                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'num:\'</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token string">\'sum:\'</span><span class="token punctuation">,</span> sum<span class="token punctuation">)</span>\n                    <span class="token punctuation">}</span></code><div class="toolbar"></div><div class="el-loading-mask" style="display: none;"><div class="el-loading-spinner"><svg viewBox="25 25 50 50" class="circular"><circle cx="50" cy="50" r="20" fill="none" class="path"></circle></svg><p class="el-loading-text">Grabbing content from GitHub...</p></div></div></pre>'},{id:1,name:"How do I install MySQL Server on a Mac?",description:"How do I install MySQL Server on a Mac? I have a Mac and I don\u2019t know how to install it. How do I install MySQL Server on a Mac? I have a Mac and I don\u2019t know how to install it. How do I install MySQL Server on a Mac? How do I install MySQL Server on a Mac? I have a Mac and I don\u2019t know how to install it. How do I install MySQL Server on a Mac? I have a Mac and I don\u2019t know how to install it. How do I install MySQL Server on a Mac?",creator_details:{name:"C.J.",position:"Bootcamp Leader"},answer:'<p>Take a peek at the snippet of code below. Here, we added something called a conditional: if the light is already on, turn it off; or else turn the light on.        </p><pre data-v-21c573a6="" element-loading-text="Grabbing content from GitHub..." class="language-js code-toolbar" style="" data-language="javascript"><code data-v-21c573a6="" class=" language-js"><span class="token comment" spellcheck="true">// print odds</span>\n                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n                        <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span>\n                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>\n                    <span class="token punctuation">}</span>\n                    \n                    <span class="token comment" spellcheck="true">// num and sum</span>\n                    <span class="token keyword">var</span> sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>\n                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n                        sum<span class="token operator">+</span><span class="token operator">=</span>i\n                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'num:\'</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token string">\'sum:\'</span><span class="token punctuation">,</span> sum<span class="token punctuation">)</span>\n                    <span class="token punctuation">}</span></code><div class="toolbar"></div><div class="el-loading-mask" style="display: none;"><div class="el-loading-spinner"><svg viewBox="25 25 50 50" class="circular"><circle cx="50" cy="50" r="20" fill="none" class="path"></circle></svg><p class="el-loading-text">Grabbing content from GitHub...</p></div></div></pre>'}]},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.is_faq_visible,n=(t.faqs,t.active_faq),r=t.is_show_faq_modal,o=this.props.faqs,i=o.faq_list,c=o.user_data;return s.a.createElement("div",{id:"faq_container"},s.a.createElement("h5",{onClick:function(){return e.toggleShowFaq()}},"Frequently Asked Question"),s.a.createElement("button",{className:"".concat(a?"rotate":""," "),id:"toggle_show_faq_btn",onClick:function(){return e.toggleShowFaq()}},s.a.createElement(Te.a,{icon:["fas","angle-down"]})),s.a.createElement("ul",{className:"list-unstyled ".concat(a?"":"hide"," ")},i.map((function(t){return s.a.createElement("li",{key:t.id,onClick:function(){Object(p.W)(e,"is_show_faq_modal",!0),e.clickFAQDisplayModal(),e.setState({active_faq:t})}},s.a.createElement("div",{className:"question_head"},s.a.createElement("span",{className:"question_title"},t.title),s.a.createElement("div",{className:"creator_container"},s.a.createElement("img",{src:t.image_url,alt:"Default Profile"}),s.a.createElement("div",{className:"details"},s.a.createElement("span",{className:"name"},t.first_name),s.a.createElement("span",{className:"position"},t.user_level_name)))),s.a.createElement("p",null,t.description))}))),void 0!==n&&s.a.createElement(Wt,{faq:n,user_data:c,onHandleLikeDislikeValue:this.handleLikeDislikeValue,show:r,toggleShowModal:function(t){return Object(p.W)(e,"is_show_faq_modal",!1)},onAddActivityLog:this.props.onAddActivityLog}))}}]),a}(n.Component)),Kt=Object(p.J)("faqs",{get_chapter_module_faq:Bt.get_chapter_module_faq}),Gt=Kt.mapStateToProps,Vt=Kt.mapDispatchToProps,qt=Object(ue.b)(Gt,Vt)(Ht),Yt=(a(625),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).onUserClickedAnElement=function(e){n.props.onUserClickedAnElement(e,"lesson"),n.props.onCopyToClipboard(e)},n.state={is_liked:null},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.module,n=(0,t.onConvertPrismtoRainbowCodeSnippet)(JSON.parse(a.content));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"lesson_content",dangerouslySetInnerHTML:{__html:n.description},onClick:function(t){return e.onUserClickedAnElement(t)},onMouseUp:function(){return e.props.onGetTextSelection("mouseup")},onMouseDown:function(){return e.props.onGetTextSelection("mousedown")}}))}}]),a}(n.Component)),Qt=Object(p.J)(["courses","analytics"],{fetchCoursePageData:ot.fetchCoursePageData,completeLessonModule:ot.completeLessonModule,changePropsValue:ot.changePropsValue}),$t=Qt.mapStateToProps,zt=Qt.mapDispatchToProps,Jt=Object(ue.b)($t,zt)(Yt),Xt=(a(626),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).submitDiscussionAnswer=function(e){e.preventDefault();var t=n.state.discussion_value;""!=t&&void 0!=t&&(n.props.onSubmitDiscussionAnswer(t),n.props.onAddActivityLog("1.6.18")),n.setState({discussion_value:" "})},n.state={discussion_value:void 0,is_last_week:!0},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props.online_discussion,a=t.selected_question_data,r=t.show_response_form,o=t.is_final_week;return s.a.createElement(n.Fragment,null,s.a.createElement("div",{id:"discussion_container"},s.a.createElement("div",{className:"blk"},s.a.createElement("p",null,null!==a?a.content:"")),!0===r&&s.a.createElement("form",{action:"#",onSubmit:function(t){return e.submitDiscussionAnswer(t)}},s.a.createElement("textarea",{name:"discussion_answer",className:""===this.state.discussion_value?"border_red":"",onChange:function(t){return e.setState({discussion_value:t.target.value})},placeholder:"Respond here....",value:this.state.discussion_value}),s.a.createElement("p",null,"* ",o?"Response due by Friday Noon (PST)":"Response due by Sunday 11:59 PM (PST)"),s.a.createElement("button",{type:"submit"},"Submit")),!1===r&&s.a.createElement("p",null,"This Discussion Board Has Not Been Activated by the Instructor Yet.")))}}]),a}(n.Component)),Zt=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){return Object(ce.a)(this,a),t.call(this,e)}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(De.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,id:"delete_discussion_modal"},s.a.createElement(De.a.Body,null,s.a.createElement(Te.a,{icon:["fas","trash"]}),s.a.createElement("h6",null,"Delete Confirmation"),s.a.createElement("p",null,"Delete a post will permanently remove it from the discussion.")),s.a.createElement("form",{onSubmit:function(t){return e.props.handleOnSubmitDeleteDiscussion(t,e.props.active_discussion,e.props.active_response_index)}},s.a.createElement("button",{type:"button",className:"btn",onClick:function(){return e.props.toggleShowModal(!1)}},"No, Keep It"),s.a.createElement("button",{type:"submit",id:"delete_discussion_btn",className:"btn"},"Yes, Delete it")))}}]),a}(n.Component),ea=(a(627),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).handleLikeDislikeDiscussion=function(e,t,a){n.props.voteDiscussionResponse({user_response_id:t.id,user_question_id:t.user_question_id,vote_type:"is_liked"===e.target.value?1:-1},a),n.props.onAddActivityLog("is_liked"===e.target.value?"1.6.21":"1.6.22")},n.deleteDiscussionModal=function(e,t){n.props.handleDeleteDiscussionModal(),n.setState({active_discussion_data:e,active_response_index:t})},n.showMoreOnlineDiscussion=function(){null!==n.props.online_discussion.selected_question_data&&n.props.fetchDiscussionResponses({track_id:n.props.online_discussion.selected_question_data.track_id,week_id:n.props.online_discussion.selected_question_data.discussion_id,question_id:n.props.online_discussion.selected_question_data.id,page_number:n.props.online_discussion.selected_question_data.current_page+1})},n.state={active_discussion_data:{},active_response_index:-1,is_show_delete_discussion_modal:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=null!==this.props.online_discussion.selected_question_data?this.props.online_discussion.selected_question_data.total_response:0,a=this.props.online_discussion,n=a.discussion_responses,r=a.user_votes,o=a.is_instructor;return s.a.createElement("div",{id:"discussion_answer_container",className:this.props.mobile_show_module?"show_module":"hide_module",ref:this.props.discussion_position},s.a.createElement("h2",null,"Discussion ",s.a.createElement("span",null,t)),s.a.createElement("ul",null,n.length>0&&r&&n.map((function(t,a){var n=void 0!==r[parseInt(t.id)]&&1===r[parseInt(t.id)].vote,i=void 0!==r[parseInt(t.id)]&&-1===r[parseInt(t.id)].vote;return s.a.createElement("li",{key:t.id},s.a.createElement("p",null,t.content),(e.props.online_discussion.current_user_id===t.user_id||o)&&s.a.createElement("button",{type:"button",discussion_data:t,onClick:function(n){return e.deleteDiscussionModal(t,a)}},s.a.createElement(Te.a,{icon:["fas","times-circle"]})),s.a.createElement("div",{className:"blk"},s.a.createElement("form",{action:""},s.a.createElement("label",{htmlFor:"like_input_"+t.id},s.a.createElement("input",Object(l.a)({id:"like_input_"+t.id,name:"like_dislike_discussion",value:"like",readOnly:!0,onClick:function(n){return e.handleLikeDislikeDiscussion(n,t,a)},type:"radio",checked:n},"value","is_liked")),s.a.createElement("span",{className:"like_icon"}),s.a.createElement("span",null,t.cache_upvote_count)),s.a.createElement("label",{htmlFor:"dislike_input_"+t.id},s.a.createElement("input",Object(l.a)({id:"dislike_input_"+t.id,name:"like_dislike_discussion",value:"dislike",readOnly:!0,onClick:function(n){return e.handleLikeDislikeDiscussion(n,t,a)},type:"radio",checked:i},"value","is_disliked")),s.a.createElement("span",{className:"dislike_icon"}),s.a.createElement("span",null,t.cache_downvote_count))),s.a.createElement("h6",null,t.first_name," ",t.last_name," ",s.a.createElement("span",null,v()(t.created_at).format("MMM D, YYYY")))))}))),n.length<t&&s.a.createElement("button",{onClick:this.showMoreOnlineDiscussion,type:"button"},"Show 50 More Discussions ",s.a.createElement(Te.a,{icon:["fas","angle-down"]})),s.a.createElement(Zt,{active_discussion:this.state.active_discussion_data,active_response_index:this.state.active_response_index,handleOnSubmitDeleteDiscussion:this.props.handleOnSubmitDeleteDiscussion,discussion_data:this.props.online_discussion,toggleShowModal:function(){return e.props.toggleShowModal(e,"is_show_delete_discussion_modal",!1)},show:this.props.is_show_delete_discussion_modal}))}}]),a}(n.Component)),ta=ct.voteDiscussionResponse,aa=ct.fetchDiscussionResponses,na=Object(p.J)(["discussions"],{voteDiscussionResponse:ta,fetchDiscussionResponses:aa}),sa=na.mapStateToProps,ra=na.mapDispatchToProps,oa=Object(ue.b)(sa,ra)(ea),ia=(a(628),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){return Object(ce.a)(this,a),t.call(this,e)}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(De.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,id:"privacy_policy_modal"},s.a.createElement(De.a.Header,null,s.a.createElement("button",{onClick:function(){return e.props.toggleShowModal(!1)}},s.a.createElement("span",{className:"close_icon"}))),s.a.createElement(De.a.Body,null,s.a.createElement("p",null,"Thank you for taking the time to learn about our legal policies."),s.a.createElement("p",null,"Your privacy is important to us."),s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement("a",{target:"_blank",href:"http://www.codingdojo.com/files/Privacy_Policy.pdf"},"Privacy Policy")),s.a.createElement("li",null,s.a.createElement("a",{target:"_blank",href:"http://www.codingdojo.com/files/Acceptable_Use_Policy.pdf"},"Acceptable Use")),s.a.createElement("li",null,s.a.createElement("a",{target:"_blank",href:"http://www.codingdojo.com/files/Site_Terms.pdf"},"Site Terms")))))}}]),a}(n.Component)),ca=a(205),_a=a.n(ca),la=a(147),da=(a(375),a(376),a(377),a(186)),ua=a(478),pa=a.n(ua),ma=new da.a(null),ha=new function e(){var t=this;Object(ce.a)(this,e),this.socket=pa()("".concat(u.f.GATEWAY_URL),{transports:["websocket"],reconnect:!0,forceNew:!0,reconnectionAttempts:2,reconnectionDelay:5e3}),this.questionResult=function(){return ma.asObservable()},this.initializeGateway=function(e,a,n,s){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=t;if(void 0===n.room_id){var i=n.dc_editor_link.indexOf('" frameborder=')>-1,c="lpv3".concat(e).concat(a.chapter_module_id,"q").concat(s,"88").concat((new Date).getTime()),_=!0===i?n.dc_editor_link.split('" frameborder='):n.dc_editor_link.split("' frameborder="),l=_[0].split("/");l.pop(),n.dc_editor_link="".concat(l.join("/"),"/").concat(c+(!0===i?'"':"'"),' frameborder="0"></iframe>'),n.room_id=c}return o.socket.emit("joinRoom",n.room_id),o.socket.off("lpGetResult").on("lpGetResult",(function(e){ma.next({socketio_response:e,question_idx:s})})),null!==r&&setTimeout((function(){var e=document.getElementById("dc_iframe_container");null!==e&&e.querySelector(".preview_snippet_iframe").addEventListener("load",(function(){setTimeout((function(){o.socket.emit("lpSendPreviousAnswer",{previous_answer:r,room_id:n.room_id})}),3e3)}),!0)}),1e3),n}},Ea=(a(654),function(e,t){return Object(la.highlight)(e,t).split("\n").map((function(e,t){return"<span class='editorLineNumber'>".concat(t+1,"</span>").concat(e)})).join("\n")}),fa=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=Object(Se.a)(n);n.socketio_observable_result=ha.questionResult().subscribe((function(t){if(void 0!==e.props.quiz_details&&null!==t){var a=t.socketio_response,n=!1;if(void 0!==a&&void 0!==a.result){var s=a.result.data,r=0;s.length>0&&s.map((function(e){r+=!0===e.answer_status?1:0})),n=r===s.length}e.props.quiz_details.questions[t.question_idx].is_correct=n,e.props.quiz_details.questions[t.question_idx].dc_response={question_input:a.question_input,question_id:a.question_id,result:a.result}}}))},n.componentDidUpdate=function(){var e=n.props,t=e.quiz_details,a=e.module,s=e.track_id;if(void 0!==t&&0===t.current_index){var r=null;void 0!==t.questions[0].dc_response&&(r=t.questions[0].dc_response.question_input),2===t.questions[0].type&&void 0===t.questions[0].room_id&&(t.questions[0]=ha.initializeGateway(s,a,t.questions[0],0,r))}},n.componentWillUnmount=function(){null!==n.socketio_observable_result&&n.socketio_observable_result.unsubscribe()},n.startQuiz=function(){var e=n.props,t=e.module;(0,e.startQuiz)({track_id:e.track_id,chapter_module_id:t.chapter_module_id}),n.props.onAddActivityLog("1.5.5")},n.submitQuiz=function(e){e.preventDefault();var t=n.props,a=t.quiz_details,s=t.navigateQuiz,r=t.chapter_id,o=t.course_id,i=t.next_link;s({quiz_details:a,chapter_id:r,course_id:o,stack_schedule_id:t.stack_schedule_id,cc_stack_schedule_id:t.cc_stack_schedule_id,next_link:i,user_track_id:t.user_track_id},!0)},n.selectQuizOption=function(e,t){var a=n.props,s=a.quiz_details,r=a.navigateQuiz;void 0!==s.questions[e]&&s.questions[e].choices.map((function(a,n){a.is_selected="q_"+e+"o_"+n===t})),r({quiz_details:s})},n.toggleShowNextPrevQuestion=function(e){var t=n.props,a=t.quiz_details,s=t.module,r=t.navigateQuiz,o=t.track_id,i=(t.user_id,Object(f.a)(a.questions)),c=(a.current_index+(!0===e?1:-1))%i.length;i.map((function(e,t){if(e.is_active=c===t,!0===e.is_active&&2===e.type){var a=null;void 0!==e.dc_response&&(a=e.dc_response.question_input),e=ha.initializeGateway(o,s,e,t,a)}})),a.current_index=c,r({quiz_details:a})},n.onUserClickedAnElement=function(e){n.props.onUserClickedAnElement(e,"quiz"),n.props.onCopyToClipboard(e)},n.socketio_observable_result=null,n.state={is_start_quiz:!1,is_show_quiz_result:!1,is_show_modal:!1,is_quiz_submitted:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t,a=this,n=this.props,r=n.module,o=n.quiz_details,i=n.onConvertPrismtoRainbowCodeSnippet,c=n.allow_track_progress,_=n.is_disable_see_result,l=void 0!==o&&void 0!==o.questions?o.questions:[],d=(void 0!==o&&void 0!==o.current_index?o.current_index:0)+1,u=(null===r||void 0===r||null===(e=r.content)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.questions)||[];if(r.content&&"string"===typeof r.content){var p,m=JSON.parse(null===r||void 0===r?void 0:r.content);u=(null===m||void 0===m||null===(p=m.data)||void 0===p?void 0:p.questions)||[]}return s.a.createElement("div",{id:"quiz_module_container"},s.a.createElement("div",{id:"quiz_description",dangerouslySetInnerHTML:{__html:i(r.content).description},onClick:function(e){return a.onUserClickedAnElement(e)},onMouseUp:function(){return a.props.onGetTextSelection("mouseup")},onMouseDown:function(){return a.props.onGetTextSelection("mousedown")}}),!o&&u.length>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{className:"btn btn-primary ".concat(c?"":"disabled"),onClick:function(){return a.startQuiz()}},"Take Quiz")),void 0!==o&&void 0!==o.ended_at&&s.a.createElement("div",{id:"quiz_results_container"},s.a.createElement("ol",{className:"list-unstyled"},l.map((function(e,t){return s.a.createElement("li",{key:"q_"+t},s.a.createElement("div",{className:"question_header"},s.a.createElement("p",null,t+1,". ",s.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.question}})),s.a.createElement("img",{src:!0===e.is_correct?"https://assets.codingdojo.com/learn_platform/global/check_circle.png":"https://assets.codingdojo.com/learn_platform/global/close_circle.png",alt:"Icon"})),1===e.type&&s.a.createElement("div",{className:"code_editor_container"},s.a.createElement(_a.a,{value:e.code,highlight:function(e){return Ea(e,la.languages.js)},padding:10,className:"editor",style:{outline:0,fontFamily:'"Poppins", sans-serif',fontSize:16}})),0!==e.choices.length&&s.a.createElement("div",{className:"".concat(!0===e.is_correct?"correct":"wrong"," question_choice"),dangerouslySetInnerHTML:{__html:e.choices.filter((function(e){return e.selected||e.selected_answer}))[0]&&e.choices.filter((function(e){return e.selected||e.selected_answer}))[0].content||""}}))}))),s.a.createElement("button",{className:"".concat(c?"":"disabled"),onClick:function(){return a.startQuiz(!0)}},"Retake")),o&&!o.ended_at&&s.a.createElement(s.a.Fragment,null,l&&0===l.length?s.a.createElement("span",{id:"quiz_loading_icon"}):s.a.createElement("div",{id:"quiz_questions_container"},s.a.createElement("ol",{className:"list-unstyled"},l.map((function(e,t){return e.is_active&&s.a.createElement("li",{key:"q_"+t},s.a.createElement("p",null,t+1,". ",s.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.question}})),0!==e.type&&s.a.createElement("div",{className:"code_editor_container"},1===e.type&&s.a.createElement(_a.a,{value:e.code,highlight:function(e){return Ea(e,la.languages.js)},padding:10,className:"editor",style:{outline:0,fontFamily:'"Poppins", sans-serif',fontSize:16}}),2===e.type&&s.a.createElement("div",{className:"dc_iframe",id:"dc_iframe_container",dangerouslySetInnerHTML:{__html:e.dc_editor_link}})),1===e.type&&s.a.createElement("h5",null,"Choose the correct answer:"),2!==e.type&&s.a.createElement("ul",{className:"list-unstyled"},e.choices.map((function(e,n){return s.a.createElement("li",{key:e.content},s.a.createElement("input",{onChange:function(){return a.selectQuizOption(t,"q_"+t+"o_"+n)},type:"radio",value:"q_"+t+"o_"+n,id:"q_"+t+"o_"+n,name:"choices[".concat("q_"+t,"][selected_answer]"),checked:void 0!==e.is_selected&&!0===e.is_selected}),s.a.createElement("label",{htmlFor:"q_"+t+"o_"+n,dangerouslySetInnerHTML:{__html:e.content}}))}))))}))),s.a.createElement("div",{className:"btns_container"},s.a.createElement("button",{className:"".concat(d>1?"":"visibility_hidden"),id:"previous_question_btn",type:"button",onClick:function(){return a.toggleShowNextPrevQuestion(!1)}},"Back"),s.a.createElement("span",null,d===l.length?"Quiz Finished":"".concat(d,"/").concat(l.length)),d===l.length?s.a.createElement("form",{onSubmit:function(e){return a.submitQuiz(e)}},s.a.createElement("button",{id:"show_quiz_results_btn",type:"submit",disabled:_},"See Results")):s.a.createElement("button",{id:"next_question_btn",type:"button",onClick:function(){return a.toggleShowNextPrevQuestion(!0)}},"Next Question")))))}}]),a}(n.Component),ga=a(525),va=a(76);a(655);var ba=function(e){var t=e.is_show,a=e.track,r=e.onHideReportCurriculumMistake,o=Object(n.useState)(!1),i=Object(A.a)(o,2),c=i[0],_=i[1],l=Object(n.useState)(""),d=Object(A.a)(l,2),u=d[0],p=d[1],m=Object(n.useState)({text:"Submit",is_disabled:!1}),h=Object(A.a)(m,2),E=h[0],f=h[1],g=Object(n.useState)({top:0,left:0}),v=Object(A.a)(g,2),b=v[0],S=v[1];Object(n.useEffect)((function(){return!1===t&&0!==b.top&&(S({top:0,left:0}),_(!1)),t&&0===b.top&&S({top:(window.pageYOffset||document.documentElement.scrollTop)+O().top-46,left:O().width/2+O().left-106}),window.addEventListener("resize",k),k(),function(){return window.removeEventListener("resize",k)}}));var k=function(e){t&&"resize"===(null===e||void 0===e?void 0:e.type)&&S({top:(window.pageYOffset||document.documentElement.scrollTop)+O().top-46,left:O().width/2+O().left-106})},O=function(){var e,t,a=null,n=document.selection,s=0,r=0,o=0,i=0;if(n)"Control"!==n.type&&(null!==a&&a===(null===(t=n)||void 0===t?void 0:t.toString())||(a=n.createRange().text),s=(e=n.createRange()).boundingWidth,r=e.boundingHeight);else if(window.getSelection){var c;if(n=window.getSelection(),null!==a&&a===(null===(c=n)||void 0===c?void 0:c.toString())||(a=n.toString()),n.rangeCount&&(e=n.getRangeAt(0).cloneRange()).getBoundingClientRect){var _=e.getBoundingClientRect();s=_.right-_.left,r=_.bottom-_.top,o=_.left,i=_.top}}return{width:s,height:r,left:o,top:i,mistake:a}},T=s.a.createElement("div",{id:"popover_container"},s.a.createElement(ga.a,{id:"report_curriculum_popover",style:b,placement:"top"},s.a.createElement(ga.a.Content,null,c?s.a.createElement("form",{action:"",onSubmit:function(e){return function(e){e.preventDefault(),f({text:"Submitting",is_disabled:!0}),setTimeout((function(){ot.submitCurriculumMistakeReport({track_id:a.track_id,course_id:a.course_id,chapter_id:a.chapter_id,chapter_module_id:a.chapter_module_id,mistake:O().mistake,user_notes:u}).then((function(e){setTimeout((function(){!0===e.status?f({text:"Submitted",is_disabled:!0}):f({text:"Submission Failed",is_disabled:!0}),setTimeout((function(){p(""),f({text:"Submit",is_disabled:!1}),S({top:0,left:0}),_(!1),r()}),200)}),500)}),(function(e){f({text:"Submission Failed",is_disabled:!0}),setTimeout((function(){p(""),f({text:"Submit",is_disabled:!1}),S({top:0,left:0}),_(!1),r()}),200)}))}),300)}(e)}},s.a.createElement("span",null,"Address the issue here"),s.a.createElement("textarea",{value:u,onChange:function(e){return p(e.target.value)}}),s.a.createElement("button",{disabled:E.is_disabled,type:"submit"},E.text)):s.a.createElement("button",{type:"button",onClick:function(){return _(!0),void S({top:b.top-158,left:b.left-111})}},s.a.createElement(Te.a,{icon:["fas","flag"]}),"Report a content mistake"))));return s.a.createElement(va.a,{trigger:"click",placement:"top",show:t,overlay:T,rootClose:!0},s.a.createElement("span",null))},Sa=a(90),Aa=a(208),ka=a(363),Oa=(a(656),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={is_collapse_accordion:!0,is_collapse_sidebar:!1,sidebar_style:{position:"sticky",top:20}},e.componentDidUpdate=function(t){var a,n;window.addEventListener("scroll",e.sidebarStickyOnScroll),(null===(a=t.track)||void 0===a?void 0:a.chapter_id)!==(null===(n=e.props.track)||void 0===n?void 0:n.chapter_id)&&e.setState({is_collapse_accordion:!0})},e.toggleCollapseSidebar=function(){e.setState({is_collapse_sidebar:!e.state.is_collapse_sidebar},(function(){e.sidebarStickyOnScroll()}))},e.generateChapterProgress=function(e){var t=e.filter((function(e){return"completed"===e.status})).length;return Math.round(t/e.length*100)},e.renderModuleStatus=function(t,a,n,r){var o,i,c=e.props.track,_={};(_.icon=s.a.createElement("i",{className:"module_icon"}),_.class=u.eb[t.is_admin_module===u.s.YES_VALUE&&t.module_type===u.fb.LESSON_MODULE?u.fb.ADMIN_MODULE:t.module_type],c)&&((null===(o=c.practice_assignments)||void 0===o?void 0:o.includes(t.chapter_module_id))?_.class="assignment_practice":(null===(i=c.optional_assignments)||void 0===i?void 0:i.includes(t.chapter_module_id))&&(_.class="assignment_optional"));return(n===t.chapter_module_id||"survey"===e.props.pathParams.module_id&&"survey"===t.chapter_module_id)&&(_.class+=" active"),!0!==r&&(void 0===a||!0!==a.within_stack_sched.includes(t.chapter_module_id)&&!0!==a.outside_stack_sched.includes(t.chapter_module_id))||(_.class+=" completed"),_},e.clickChapterLink=function(){e.props.onAddActivityLog("1.3.9"),e.setState({is_collapse_accordion:!e.state.is_collapse_accordion})},e.sidebarStickyOnScroll=function(){if(window.innerWidth>u.Vb.MOBILE){var t,a=document.querySelector("#module_sidebar_container"),n=document.querySelector("#module_description_container"),s={window:(null===(t=document.body)||void 0===t?void 0:t.scrollTop)||document.documentElement.scrollTop,client_height:document.documentElement.clientHeight,sidebar:a.offsetHeight,sidebar_top_padding:20,main_content:null===n||void 0===n?void 0:n.getBoundingClientRect().height,header:null===n||void 0===n?void 0:n.offsetTop};s.window+s.client_height-s.sidebar_top_padding>s.main_content+s.header?e.setState({sidebar_style:{position:"relative",top:s.main_content-s.sidebar}}):s.window+s.client_height-s.sidebar_top_padding<s.main_content+s.header&&e.setState({sidebar_style:{position:"sticky",top:s.sidebar_top_padding}}),0===s.window&&e.setState({sidebar_style:{position:"sticky",top:s.sidebar_top_padding}})}},e}return Object(_e.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.sidebarStickyOnScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.sidebarStickyOnScroll)}},{key:"render",value:function(){var e,t,a,n=this,r=this.props,o=r.track,i=r.pathParams,c=r.user_level_id,_=u.d.includes(c),l=this.state.sidebar_style,d=l.position,p=l.top,m=null===(e=this.props.user)||void 0===e||null===(t=e.user_details)||void 0===t||null===(a=t.general)||void 0===a?void 0:a.trial_platform_mode;return s.a.createElement("aside",{id:"module_sidebar_container",className:"left_container ".concat(this.state.is_collapse_sidebar?"collapse_sidebar":""),style:{maxHeight:window.innerHeight-40,position:d,top:p}},s.a.createElement("h2",null,o.track_title),o.track_alias&&_&&s.a.createElement("span",{className:"track_alias"},"(",o.track_alias,")"),s.a.createElement("button",{id:"toggle_collapse_sidebar_btn",onClick:function(){return n.toggleCollapseSidebar()}},s.a.createElement(Te.a,{icon:["fas","caret-left"]})),s.a.createElement("div",{id:"course_navigation_container"},s.a.createElement(va.a,{placement:"top",delay:{show:250,hide:400},overlay:s.a.createElement(Sa.a,null,o.previous_track_course_title)},s.a.createElement(pe.b,{className:"".concat((void 0===o.previous_track_course_link||o.previous_track_course_link.includes("algorithm")||"AlgoApp"===o.previous_track_course_title)&&"visibility_hidden"),to:o.previous_track_course_link},s.a.createElement(Te.a,{icon:["fas","chevron-left"]}))),void 0!==o.track_course_icon_src&&s.a.createElement("div",null,s.a.createElement("img",{src:o.track_course_icon_src.includes("/assets/tracks")?"https://assets.codingdojo.com/boomyeah2015/codingdojo/course_icons/workshop.png":o.track_course_icon_src,alt:"Course Icon"}),s.a.createElement("span",null,o.track_course_alias)),s.a.createElement(va.a,{placement:"top",delay:{show:250,hide:400},overlay:s.a.createElement(Sa.a,null,o.next_track_course_title)},s.a.createElement(pe.b,{className:"".concat((void 0===o.next_track_course_link||o.next_track_course_link.includes("algorithm")||"AlgoApp"===o.next_track_course_title)&&"visibility_hidden"),to:o.next_track_course_link},s.a.createElement(Te.a,{icon:["fas","chevron-right"]})))),void 0!==o.chapter_id&&s.a.createElement(Aa.a,{defaultActiveKey:i.chapter_id},void 0!==o.chapters&&o.chapters.map((function(e){return s.a.createElement(ka.a,{key:e.chapter_id},s.a.createElement(Aa.a.Toggle,{as:ka.a.Header,eventKey:e.chapter_id.toString()},s.a.createElement(pe.b,{className:"chapter_name",to:"".concat(m?"/t/m/":"/m/").concat(o.track_id,"/").concat(e.chapter_id,"/").concat(e.chapter_id===o.chapter_id?e.chapter_module_ids_order[0]:e.chapter_module_ids_order.split(",")[0]),onClick:function(e){return n.clickChapterLink()}},s.a.createElement(va.a,{placement:"top",delay:{show:250,hide:400},overlay:s.a.createElement(Sa.a,null,e.chapter_title)},s.a.createElement("span",null,e.chapter_title)),s.a.createElement(Te.a,{icon:["fas",n.state.is_collapse_accordion&&e.chapter_id===o.chapter_id?"caret-up":"caret-down"]}))),s.a.createElement(Aa.a.Collapse,{eventKey:e.chapter_id.toString()},s.a.createElement(ka.a.Body,null,s.a.createElement("ul",{className:"list-unstyled"},void 0!==e.chapter_modules&&e.chapter_modules.map((function(t,a){return s.a.createElement("li",{key:t.chapter_module_id,className:n.renderModuleStatus(t,o.completed_chapter_module_ids,o.active_module.chapter_module_id,_).class},s.a.createElement(pe.b,{onClick:function(){return n.props.mobileShowModule()},to:"".concat(m?"/t/m/":"/m/").concat(o.track_id,"/").concat(e.chapter_id,"/").concat(t.chapter_module_id)},s.a.createElement("span",{className:"icon_container"},n.renderModuleStatus(t,o.completed_chapter_module_ids,o.active_module.chapter_module_id,_).icon),s.a.createElement("span",{className:"module_name"},t.chapter_module_title),s.a.createElement("span",{className:"completed_icon"})))}))))))}))))}}]),a}(n.Component)),Ta=Object(p.J)(["user"],{}),Ca=Ta.mapStateToProps,wa=Ta.mapDispatchToProps,ya=Object(ue.b)(Ca,wa)(Oa),Ra=(a(657),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={is_collapse_sidebar:!1,sidebar_style:{position:"sticky",top:20}},e.componentDidUpdate=function(){window.addEventListener("scroll",e.sidebarStickyOnScroll)},e.toggleCollapseSidebar=function(){e.setState({is_collapse_sidebar:!e.state.is_collapse_sidebar},(function(){e.sidebarStickyOnScroll()}))},e.renderModuleStatus=function(e,t){var a={};return a.icon=s.a.createElement("i",{className:"module_icon"}),a.class="online_discussion",t&&(a.class+=" active"),e||(a.class+=" completed"),a},e.clickChapterLink=function(){e.props.onAddActivityLog("1.3.9")},e.sidebarStickyOnScroll=function(){if(window.innerWidth>768){var t={window:document.body.scrollTop||document.documentElement.scrollTop,client_height:document.documentElement.clientHeight,sidebar:document.getElementsByClassName("left_container")[0].offsetHeight,sidebar_top_padding:20,main_content:document.getElementsByClassName("right_container")[0].getBoundingClientRect().height,header:230};t.window+t.client_height-t.sidebar_top_padding>t.main_content+t.header?e.setState({sidebar_style:{position:"relative",top:t.main_content-t.sidebar}}):t.window+t.client_height-t.sidebar_top_padding<t.main_content+t.header&&e.setState({sidebar_style:{position:"sticky",top:t.sidebar_top_padding}}),0===t.window&&e.setState({sidebar_style:{position:"sticky",top:t.sidebar_top_padding}})}},e}return Object(_e.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.sidebarStickyOnScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.sidebarStickyOnScroll)}},{key:"render",value:function(){var e=this,t=this.props.online_discussion,a=t.discussion_sidebar,n=t.discussion_breadcrumbs,r=t.active_week_id,o=this.state.sidebar_style,i=o.position,c=o.top;return s.a.createElement("aside",{className:"left_container online_discussion_sidebar ".concat(this.state.is_collapse_sidebar?"collapse_sidebar":""),style:{maxHeight:window.innerHeight-40,position:i,top:c}},s.a.createElement("h2",null,n[0]),s.a.createElement("button",{id:"toggle_collapse_sidebar_btn",onClick:function(){return e.toggleCollapseSidebar()}},s.a.createElement(Te.a,{icon:["fas","caret-left"]})),void 0!==a&&null!==r&&s.a.createElement(Aa.a,{defaultActiveKey:r.toString()},void 0!==a&&a.map((function(t){return s.a.createElement(ka.a,{key:t.week_id},s.a.createElement(Aa.a.Toggle,{as:ka.a.Header,eventKey:t.week_id.toString()},s.a.createElement(pe.b,{className:"chapter_name",to:t.week_link,onClick:function(t){return e.clickChapterLink()}},s.a.createElement(va.a,{placement:"top",delay:{show:250,hide:400},overlay:s.a.createElement(Sa.a,null,t.week_title)},s.a.createElement("span",null,t.week_title)),s.a.createElement(Te.a,{icon:["fas","caret-down"]})),s.a.createElement("span",{className:"chapter_percent"},t.user_done_percentage,"%")),s.a.createElement(Aa.a.Collapse,{eventKey:t.week_id.toString()},s.a.createElement(ka.a.Body,null,s.a.createElement("ul",{className:"list-unstyled"},void 0!==t.discussion_lists&&t.discussion_lists.map((function(t,a){return s.a.createElement("li",{key:a,className:e.renderModuleStatus(t.no_response,t.selected_discussion).class},s.a.createElement(pe.b,{to:t.discussion_link,onClick:function(){return e.props.mobileShowModule()},className:t.total_respond>0?"has_discussion":""},s.a.createElement("span",{className:"icon_container"},e.renderModuleStatus(t.no_response,t.selected_discussion).icon),s.a.createElement("span",{className:"module_name"},t.title),s.a.createElement("span",{className:"completed_icon"})))}))))))}))))}}]),a}(n.Component)),Da=a(1440),Ua=a(1438),Na=(a(390),a(391),a(56)),Ia=a(84),Pa=a(32),ja=a(79),La=a(144),Ma=a(114),Fa=a(253),xa=a(281),Ba=(a(658),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).state={},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.banner,n=t.is_admin_release_note,r=t.is_admin_users;return s.a.createElement(De.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,id:"release_notes_modal",className:"".concat(n?"admin_notes_modal":"")},s.a.createElement(De.a.Header,null,s.a.createElement(De.a.Title,null,a.title),s.a.createElement("button",{onClick:function(){return e.props.toggleShowModal(!1)}},s.a.createElement("span",{className:"close_icon"}))),s.a.createElement(De.a.Body,null,a.release_notes.map((function(e){return(e.is_student===!r||r&&!e.is_student)&&s.a.createElement(s.a.Fragment,null,e.name&&s.a.createElement("h5",null,e.name),e.notes.map((function(e){return s.a.createElement("div",null,s.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.description}}))})))}))))}}]),a}(n.Component)),Wa=(a(659),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=localStorage.getItem("posted_duration");"false"===localStorage.getItem("is_release_banner_closed")&&e<=u.Bb.past_week.default_value?n.setState({is_show_release_notes_banner:!0}):n.setState({is_show_release_notes_banner:!1}),e>u.Bb.past_week.default_value&&localStorage.setItem("is_release_banner_closed",!1)},n.toggleShowReleaseNotes=function(e){e?n.setState({is_show_release_notes_modal:!0}):(localStorage.setItem("is_release_banner_closed",!0),n.setState({is_show_release_notes_banner:!1}))},n.state={is_show_release_notes_banner:!1,is_show_release_notes_modal:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.banner,n=t.is_admin_release_note,r=t.is_admin_users;return s.a.createElement(s.a.Fragment,null,this.state.is_show_release_notes_banner&&s.a.createElement("div",{className:"release_notes_banner"},s.a.createElement("p",null,s.a.createElement(Te.a,{icon:["fas","info-circle"]}),s.a.createElement("b",null,"Updates/Release Notes:")," ",a.description),s.a.createElement("div",null,s.a.createElement("button",{type:"button",onClick:function(){return e.toggleShowReleaseNotes(!0)}},"Learn More"),s.a.createElement("button",{type:"button",onClick:function(){e.setState({is_show_release_notes_banner:!1}),e.toggleShowReleaseNotes(!1)}},s.a.createElement("span",{className:"close_icon"})))),s.a.createElement(Ba,{banner:a,is_admin_release_note:n,is_admin_users:r,show:this.state.is_show_release_notes_modal,toggleShowModal:function(){Object(p.W)(e,"is_show_release_notes_modal",!1),e.toggleShowReleaseNotes(!1)}}))}}]),a}(n.Component)),Ha=a(254),Ka=(a(660),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n,r,o,i,c;Object(ce.a)(this,a),(c=t.call(this,e)).componentDidMount=function(){var e,t,a;c.props.get_lp2_exam_link(),(null===(e=c.props.history)||void 0===e||null===(t=e.location)||void 0===t||null===(a=t.pathname)||void 0===a?void 0:a.indexOf("/dashboard"))<0&&c.props.fetchNotifications()},c.componentDidUpdate=function(e){var t,a,n=c.props,s=n.notification,r=s.notification_count,o=s.notifications,i=s.mandatory_survey_notification_ids,_=s.is_empty_notification,l=n.history.location,d=Object(f.a)(c.state.links),u=Object(A.a)(d,5)[4];c.props.exams.lp2_exam_link&&"exams"===u.to&&(u.to=c.props.exams.lp2_exam_link,c.setState({links:d})),c.props.setStateFromChild&&e!==c.props&&c.props.setStateFromChild(r,o,c.props.markNotificationsAsRead),(null===(t=c.props)||void 0===t||null===(a=t.student_access)||void 0===a?void 0:a.redirect_link)&&(window.location.href=c.props.student_access.redirect_link),l.pathname.indexOf("/dashboard")>-1?(c.props.is_fetch_notifications&&!e.is_fetch_notifications&&c.props.fetchNotifications(),document.getElementById("notification_btn")&&l.pathname.indexOf("/surveys")<0&&!_&&(null===i||void 0===i?void 0:i.length)&&document.getElementById("notification_btn").click()):!_&&(null===i||void 0===i?void 0:i.length)&&c.props.history.push("/dashboard")},c.openBookmarksModal=function(){c.props.onAddActivityLog("3.12.12"),Object(p.W)(Object(Se.a)(c),"is_show_bookmarks_modal",!0)},c.openDailyTipModal=function(){c.props.onAddActivityLog("3.13.12"),Object(p.W)(Object(Se.a)(c),"is_show_daily_tip_modal",!0)},c.clickSubNavigationLink=function(e){var t="1.1.3";"courses"===e?t="1.14.3":"progress"===e?t="1.16.3":"belt_exam_history"===e?t="1.17.3":"exams"===e&&(t="1.18.3"),c.props.onAddActivityLog(t)},c.clickSwitchBackToLearn=function(){c.props.onAddActivityLog("2.0.3")},c.notificationPopover=function(){var e=c.props,t=e.notification,a=e.markNotificationsAsArchived,n=e.markNotificationsAsRead,r=e.fetchUserForumSummary,o=e.user_forum_summaries,i=e.resetUserForumSummaries,_=e.triggerAutoShowNoteFeedbacks,l=e.triggerShowExamFeedback,d=e.triggerShowAssignmentFeedback,u=e.student_access,p=t.notifications,m=t.is_empty_notification,h=t.notification_count,E=t.grouped_notifications,f=t.datetime_requested;return s.a.createElement(ga.a,{id:"notification_popover"},s.a.createElement(Ha.a,{raw_notifications:p,is_empty_notification:m,notification_count:h,grouped_notifications:E,markNotificationsAsArchived:a,markNotificationsAsRead:n,notification_requested_datetime:f,fetchUserForumSummary:r,user_forum_summaries:o,resetUserForumSummaries:i,triggerAutoShowNoteFeedbacks:_,triggerShowExamFeedback:l,triggerShowAssignmentFeedback:d,profile:u.profile}))},c.triggerShowSurveyModal=function(){var e=c.props.notification,t=e.mandatory_survey_notification_ids,a=e.notifications,n=e.is_empty_notification;if(document.body.classList.remove("is_show_backdrop_notification"),!n&&(null===t||void 0===t?void 0:t.length)&&c.props.history.location.pathname.indexOf("/dashboard/surveys/")<0){var s=null===a||void 0===a?void 0:a.filter((function(e){var a=Object(A.a)(e.id,1)[0];return t.includes(a)})),r=Object(A.a)(s,1)[0],o=Object(A.a)(r.id,1)[0],i=r.subject_record_id;c.props.history.push("/dashboard/surveys/".concat(i,"/").concat(o))}},c.checkIfDQNeedsToBeAnswered=function(e){var t=u.hb.DISCUSSION_DUE_72HRS_PRIOR,a=u.hb.DISCUSSION_DUE_48HRS_PRIOR,n=u.hb.DISCUSSION_DUE_24HRS_PRIOR,s=u.hb.DISCUSSION_DUE_12HRS_PRIOR,r=null===e||void 0===e?void 0:e.filter((function(e){var r=e.notification_type_id,o=e.is_read,i=e.details;return[t,a,n,s].includes(r)&&!o&&!(null===i||void 0===i?void 0:i.is_answered)&&!(null===i||void 0===i?void 0:i.is_dismissable)&&!(null===i||void 0===i?void 0:i.has_ongoing_exam)}));(null===r||void 0===r?void 0:r.length)&&(window.location.href="/dashboard")},c.state={is_show_notification_modal:!1,is_show_bookmarks_modal:!1,is_show_daily_tip_modal:!1,is_show_report_issue_modal:!1,is_empty_notification:!1,links:[{name:"Courses",to:"/courses"},{name:"Unit",to:"/courses"},{name:"Assignment Checklist",to:"/progress"},{name:"Stats",to:"/stats"},{name:"Take Exams",to:"exams"}],is_trial_platform:null===(n=e.user)||void 0===n||null===(r=n.user_details)||void 0===r||null===(o=r.general)||void 0===o?void 0:o.trial_platform_mode};var _=Object(p.y)();if(_.status&&(null===(i=_.user_details.workspace_custom_data)||void 0===i?void 0:i.bootcamp_info)){var l=_.user_details.workspace_custom_data.bootcamp_info,d=c.state.links[1].to;if(-1===(d=l&&null!==l.last_visited_url?l.last_visited_url:"/courses").indexOf("http")&&"/"===d.substring(0,1))d="".concat(u.f.LP3_FRONTEND_URL).concat(d);else{var m=d.split("/m");d="".concat(u.f.LP3_FRONTEND_URL,"m").concat(m[1])}c.state.links[1].to=d,c.state.user_program_type_id=null===l||void 0===l?void 0:l.program_type_id}return c}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=u.d.includes(this.props.user_level_id),a=this.state.is_trial_platform,n=this.props.location.replace("/",""),r=this.props,o=r.is_show_links,i=r.notification,c=(r.workspace_id,i.notification_count>9?"9+":i.notification_count);return n.includes("m/")&&(this.state.links[1].to=n,n="Unit"),n.includes("d/")||n.includes("dashboard")||!(null===i||void 0===i?void 0:i.notification_count)||this.checkIfDQNeedsToBeAnswered(i.notifications),this.props.exams.lp2_exam_link?s.a.createElement("div",{id:"sub_navigation_container",className:"".concat(o?"":"justify-content-end")},o&&s.a.createElement(s.a.Fragment,null,s.a.createElement(st.a,{maxWidth:768},s.a.createElement(Da.a,{breakpoints:{320:{slidesPerView:3,spaceBetween:19}}},this.state.links.map((function(t){return s.a.createElement(Ua.a,{key:t.name,className:"".concat(n==="".concat(a&&"Take Exams"!==t.name?"/t"+t.to:t.to).substring(1)||n===t.name?"active":"")},s.a.createElement("a",{href:t.to,target:"Take Exams"===t.name?"_blank":"",onClick:function(){return e.clickSubNavigationLink(t.to)}}," ",t.name," "))})))),s.a.createElement(st.a,{minWidth:769},s.a.createElement("ul",{className:"list-unstyled"},this.state.links.map((function(t){return s.a.createElement("li",{key:t.name,className:"".concat(n==="".concat(a?"/t"+t.to:t.to).substring(1)||n===t.name?"active":"")},s.a.createElement("a",{href:"".concat(a&&"Take Exams"!==t.name?"/t"+t.to:t.to),target:"Take Exams"===t.name?"_blank":"",onClick:function(){return e.clickSubNavigationLink(t.to)}}," ",t.name," "))}))))),s.a.createElement(st.a,{minWidth:769},s.a.createElement("div",null,s.a.createElement("button",{type:"button",id:"bookmarks_btn",onClick:function(){return e.openBookmarksModal()}}),s.a.createElement("button",{type:"button",id:"daily_news_btn",onClick:function(){return e.openDailyTipModal()}}),s.a.createElement("button",{type:"button",id:"report_mistake_btn",onClick:function(){return Object(p.M)(e)}}),s.a.createElement(va.a,{rootClose:!0,onExit:this.triggerShowSurveyModal,trigger:"click",placement:"bottom",overlay:this.notificationPopover()},s.a.createElement("button",{onClick:function(){var t;(null===(t=e.props.notification.mandatory_survey_notification_ids)||void 0===t?void 0:t.length)&&document.body.classList.add("is_show_backdrop_notification")},type:"button",id:"notification_btn"},i.notification_count>0&&s.a.createElement("span",null,c))),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"checkbox",id:"switch_dark_mode_input",defaultChecked:this.props.is_dark_mode,onChange:function(t){return e.props.handleOnChangeDarkMode(t)}}),s.a.createElement("label",{htmlFor:"switch_dark_mode_input"})))),this.props.is_dashboard&&t&&s.a.createElement("div",{id:"release_note_banner_list"},u.g.update_banners.map((function(e){return localStorage.setItem("posted_duration",v()().diff(v()(e.date_posted),"days")),s.a.createElement(Wa,{banner:e,is_admin_users:t})}))),s.a.createElement(Fa.a,{onRemoveBookmark:this.props.onRemoveBookmark,onAddBookmark:this.props.onAddBookmark,onAddActivityLog:this.props.onAddActivityLog,onUpdateUserSessionPage:this.props.onUpdateUserSessionPage,user_bookmarks:this.props.user_bookmarks,show:this.state.is_show_bookmarks_modal,user:this.props.user,toggleShowModal:function(){return Object(p.W)(e,"is_show_bookmarks_modal",!1)}}),s.a.createElement(xa.a,{show:this.state.is_show_daily_tip_modal,toggleShowModal:function(){return Object(p.W)(e,"is_show_daily_tip_modal",!1)}}),s.a.createElement(Ke.a,{show:this.state.is_show_report_issue_modal,toggleShowModal:function(){return Object(p.W)(e,"is_show_report_issue_modal",!1)},modal_status:this.state.is_show_report_issue_modal,onAddActivityLog:this.props.onAddActivityLog})):null}}]),a}(n.Component)),Ga=Ma.a.fetchUserForumSummary,Va=Ma.a.resetUserForumSummaries,qa=La.a.fetchNotifications,Ya=La.a.markNotificationsAsRead,Qa=La.a.markNotificationsAsArchived,$a=Ia.a.triggerShowAssignmentFeedback,za=Pa.a.triggerAutoShowNoteFeedbacks,Ja=ja.a.triggerShowExamFeedback,Xa=Object(p.J)(["notification","exams","user_forum_summaries","user_stats","checklists","student_access","user"],{fetchNotifications:qa,markNotificationsAsRead:Ya,markNotificationsAsArchived:Qa,get_lp2_exam_link:Na.a.get_lp2_exam_link,fetchUserForumSummary:Ga,resetUserForumSummaries:Va,triggerShowExamFeedback:Ja,triggerAutoShowNoteFeedbacks:za,triggerShowAssignmentFeedback:$a}),Za=Xa.mapStateToProps,en=Xa.mapDispatchToProps,tn=Object(ue.b)(Za,en)(Ka),an=(a(661),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){return Object(ce.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.assignment_tasks,n=t.is_show_todo_submit;return s.a.createElement(s.a.Fragment,null,s.a.createElement("form",{action:"/tracks/submit_todo",method:"post",id:"todo_task_items"},n&&a.map((function(t,a){return s.a.createElement("li",{key:a},s.a.createElement("input",{type:"checkbox",id:"todo_item_<%= index %>",readOnly:!0,checked:0===t.status,className:"todo_check"}),s.a.createElement("label",{htmlFor:"todo_item_".concat(a),onClick:function(){return e.props.completedSelectedTaskItem(a)}},s.a.createElement("div",{className:"item_checkbox ".concat(0===t.status?"checked":"")},s.a.createElement(Te.a,{icon:["fas","check"]})),s.a.createElement("p",{dangerouslySetInnerHTML:{__html:void 0!==t.title?t.title:"Complete assignment requirements"}})))}))))}}]),a}(n.Component)),nn=(a(662),["","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]),sn=["Select Level","Basic","Intermediate","Advanced","Hacker"],rn=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={},e.onUserClickedAnElement=function(t){e.props.onUserClickedAnElement(t,"todo"),e.props.onCopyToClipboard(t)},e}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.module,n=t.assignment_tasks,r=t.onConvertPrismtoRainbowCodeSnippet,o=t.is_show_todo_submit,i=r(JSON.parse(a.content));return s.a.createElement(s.a.Fragment,null,void 0!==a.checklist&&s.a.createElement("ul",{id:"todo_info_list",className:"list-unstyled"},void 0!==a.checklist.is_optional&&1===a.checklist.is_optional?s.a.createElement("li",null,"Optional"):void 0!==a.checklist.is_practice&&1===a.checklist.is_practice?s.a.createElement("li",null,"Practice"):s.a.createElement("li",null,"Core"),s.a.createElement("li",null,"Deadline: ",nn[parseInt(a.checklist.day)]," of Week ",a.checklist.week),s.a.createElement("li",null,"Difficulty Level: ",sn[a.checklist.difficulty_level]," "),s.a.createElement("li",null,"Est. Time: ",a.checklist.estimated_time," ")),s.a.createElement("div",{id:"todo_description",dangerouslySetInnerHTML:{__html:null!==i.description?i.description:"<p>Tasks related to this assignment can be viewed once you started working on this assignment.</p>"},onClick:function(t){return e.onUserClickedAnElement(t)},onMouseUp:function(){return e.props.onGetTextSelection("mouseup")},onMouseDown:function(){return e.props.onGetTextSelection("mousedown")}}),void 0!=n&&n.length>0&&s.a.createElement(an,{assignment_tasks:n,is_show_todo_submit:o,active_module:this.props.module,completedSelectedTaskItem:this.props.completedSelectedTaskItem}))}}]),a}(n.Component),on=(a(663),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).changeModalDisplayProps=function(){n.props.changePropsValue("is_show_todo_modal",!1),n.props.toggleShowModal(!1)},n.cancelDiscontinuePrevAssignment=function(e){p.F.push(e.pending_task_link),window.location.reload(),n.changeModalDisplayProps(),n.props.changePropsValue("is_show_todo_submit",!1)},n.startWorkingOnAssignment=function(){var e=n.props.courses.track,t=void 0!==e.ongoing_assignment_data?e.ongoing_assignment_data.pending_task_chapter_module_id:void 0;n.props.startToDoTask(e.chapter_module_id,{track_id:e.track_id,stack_schedule_id:e.stack_schedule_id,cc_stack_schedule_id:e.cc_stack_schedule_id,previous_chapter_module_id:t}),n.props.onAddActivityLog("1.4.5")},n.state={is_show_confirmation:!0},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props.courses.track;return s.a.createElement(De.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,id:"todo_modal",className:"".concat(t.has_ongoing_assignment?"todo_confirmation_modal":"")},t.has_ongoing_assignment?s.a.createElement(s.a.Fragment,null,s.a.createElement(De.a.Header,null,s.a.createElement(De.a.Title,null,"Confirmation needed")),s.a.createElement(De.a.Body,null,s.a.createElement("p",null,"You can only unlock one assignment at a time. Do you want to discontinue your previous assignment (",s.a.createElement(pe.b,{to:t.ongoing_assignment_data.pending_task_link},t.ongoing_assignment_data.module_title),") and start this new one?"),s.a.createElement("p",null,"Click Proceed to start working on this new assignment. Clicking Cancel will take you back to the last module you were at.")),s.a.createElement(De.a.Footer,null,s.a.createElement("button",{className:"btn btn-outline-primary",onClick:function(){return e.cancelDiscontinuePrevAssignment(t.ongoing_assignment_data)}},"Cancel"),s.a.createElement("button",{className:"btn btn-primary",onClick:function(t){return e.startWorkingOnAssignment()}},"Proceed"))):s.a.createElement(s.a.Fragment,null,s.a.createElement(De.a.Header,null,s.a.createElement(De.a.Title,null,"Assignment: ",this.props.todo_title),s.a.createElement("button",{onClick:function(t){return e.changeModalDisplayProps()}},s.a.createElement("span",{className:"close_icon"}))),s.a.createElement(De.a.Body,null,s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/document_blue_icon.png",alt:"Document Icon"}),s.a.createElement("p",null,"Click the button below to start working on the assignment")),s.a.createElement(De.a.Footer,null,s.a.createElement("button",{className:"btn btn-primary",onClick:function(t){return e.startWorkingOnAssignment()}},"Let's Go!"))))}}]),a}(n.Component)),cn=Object(p.J)(["courses","user"],{changePropsValue:ot.changePropsValue,startToDoTask:lt.startToDoTask}),_n=cn.mapStateToProps,ln=cn.mapDispatchToProps,dn=Object(ue.b)(_n,ln)(on),un=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).showChildrenSolutionFile=function(e){"dir"===e.type&&(void 0===e.children||void 0!==e.children&&0===e.children.length)&&n.props.getSolutionsFromGithub(e.path,e.id),n.setState({is_open_file:!n.state.is_open_file})},n.handleSetActiveFile=function(e){n.props.handleSetEditorValue(e)},n.state={is_open_file:!1,is_sub_folder_content:[]},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=null!==this.state.is_sub_folder_content&&void 0!==this.state.is_sub_folder_content?this.state.is_sub_folder_content:[];return t=void 0!==this.props.data_files.children&&this.props.data_files.children.length>0?this.props.data_files.children:t,s.a.createElement("li",null,s.a.createElement("button",{onClick:function(){return e.showChildrenSolutionFile(e.props.data_files)}}," ",this.props.data_files.name,this.state.is_open_file&&0===t.length?"":s.a.createElement(Te.a,{icon:["fas",this.state.is_open_file?"caret-down":"caret-left"]}),this.state.is_open_file&&0===t.length?s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/loader.gif",alt:"loading icon"}):""),this.state.is_open_file&&t.length>0&&s.a.createElement("ul",null,t.map((function(t){return"dir"===t.type?s.a.createElement(a,{key:t.id,data_files:t,handleSetEditorValue:e.handleSetActiveFile,getSolutionsFromGithub:e.props.getSolutionsFromGithub}):s.a.createElement("li",{key:t.id}," ",s.a.createElement("button",{className:t.is_active?"active":"",onClick:function(a){return e.handleSetActiveFile(t)}},t.name))}))))}}]),a}(n.Component),pn=(a(664),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).showVideoSolution=function(){n.setState({is_show_video_solution:!0,show_iframe_loading:!0}),n.props.onAddActivityLog("3.4.5")},n.resetModalOnHide=function(){n.setState({is_show_video_solution:!1}),n.props.toggleShowModal(!1)},n.checkIframes=function(){if(n.setState({show_iframe_loading:!1}),void 0!==n.props.todo_solution&&null!==n.props.todo_solution.video_url){var e=document.getElementById("solution_video");n.vimeoPlayers.player_solution_=new at.a(e),n.vimeoPlayers.player_solution_.on("play",(function(){n.userPlayPauseVideoSolution(!0)})),n.vimeoPlayers.player_solution_.on("pause",(function(){n.userPlayPauseVideoSolution(!1)}))}},n.userPlayPauseVideoSolution=function(e){n.props.onAddActivityLog(e?"3.4.1":"3.4.2")},n.setActiveFile=function(e){var t=n.props.todo_solution.active_file_content;if(void 0===t||void 0!==t&&t.content_key_id!==e.id){n.props.changeActiveFileContent({content:""})}void 0===e.content?(void 0===t||void 0!==t&&t.content_key_id!==e.id)&&n.props.getToDoSolutionFileContent(n.props.chapter_module_id,{file_path:e.path,content_file_key:e.id.toString()}):n.props.changeActiveFileContent(e),n.state.last_active.is_active=!1,e.is_active=!0,n.setState({last_active:e,show_editor:!0})},n.hideViewSolutionVideo=function(){n.setState({is_show_video_solution:!1})},n.renderSyntaxHighlighter=function(e){if(void 0!==e&&void 0!==e.name){var t,a,n={py:"python",rb:"ruby",cs:"csharp",cproj:"html",txt:"generic"};a=void 0!==n[e.name.split(".").pop()]?n[e.name.split(".").pop()]:e.name.split(".").pop();var s=document.createElement("pre");s.setAttribute("data-language",a),s.textContent=e.content;var r=document.createElement("div");r.innerHTML=s.outerHTML,(null===(t=window.Rainbow)||void 0===t?void 0:t.color)&&window.Rainbow.color(r,(function(){var e=document.getElementById("solution_code_container");null!==e&&(e.innerHTML=r.innerHTML)}))}},n.setActiveTabViewSolution=function(e){"dir"===e.type&&(void 0===e.children||void 0!==e.children&&0===e.children.length?n.props.getSolutionsFromGithub(e.path,e.id):n.props.changeActiveTabContent(e))},n.state={is_show_video_solution:!1,is_open_file:!1,show_iframe_loading:!1,last_active:[],show_editor:!1},n.vimeoPlayers=[],n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.state.is_show_video_solution,a=this.props.todo_solution,r=a.title,o=a.video_url,i=a.solution_content,c=a.active_tab_index,_=a.active_solution_content,l=a.active_file_content,d=a.is_loading_file_content,u=a.is_failed_to_fetch_solution,p="";return void 0!==l&&void 0!==l.content&&(p=l.content),void 0!==this.props.active_module&&(r=this.props.active_module.chapter_module_title),void 0!==i&&(null!==i[c].video_url&&""===i[c].video_url?o=null:null!==i[c].video_url&&i[c].video_url.includes("https://vimeo.com/")?o=i[c].video_url.split("https://vimeo.com/")[1]:null===i[c].video_url&&""!==this.props.todo_solution.video_url&&null!==this.props.todo_solution.video_url&&(o=this.props.todo_solution.video_url.split("https://vimeo.com/")[1])),void 0===i&&(t=!0,o=null),s.a.createElement(De.a,{show:this.props.show,onHide:function(){return e.resetModalOnHide()},centered:!0,id:"todo_solution_modal"},s.a.createElement(De.a.Header,{className:this.state.show_editor?"show_editor":""},s.a.createElement(De.a.Title,null,r),s.a.createElement("button",{onClick:function(t){return e.resetModalOnHide()}},s.a.createElement(st.a,{maxWidth:768},s.a.createElement(Te.a,{icon:["fas","chevron-left"]})),s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/close_icon_white.png",alt:"Close Icon"})),s.a.createElement(st.a,{maxWidth:768},s.a.createElement("div",{id:"mobile_header"},s.a.createElement("button",{type:"button",onClick:function(){return e.setState({show_editor:!1})}},s.a.createElement(Te.a,{icon:["fas","chevron-left"]})),s.a.createElement(De.a.Title,null,this.state.last_active.name)))),s.a.createElement(De.a.Body,{className:this.state.show_editor?"show_editor":""},void 0!==i||null!=o||u?"":s.a.createElement("img",{id:"loading_solution",src:"https://assets.codingdojo.com/learn_platform/global/loader.gif",alt:"loading icon"}),u?s.a.createElement("div",{id:"failed_to_fetch_container"},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/coming_soon.png",alt:"Coming Soon Image"}),s.a.createElement("h3",null,"The solution is not accessible.")):s.a.createElement(s.a.Fragment,null,!t&&s.a.createElement(n.Fragment,null,s.a.createElement(st.a,{maxWidth:768},s.a.createElement(Da.a,{breakpoints:{320:{slidesPerView:3,spaceBetween:19}}},i.map((function(t,a){return s.a.createElement(Ua.a,{key:a},s.a.createElement("button",{onClick:function(){return e.setActiveTabViewSolution(t)},className:a===c?"active":"",type:"button"},t.name))})))),s.a.createElement(st.a,{minWidth:769},s.a.createElement("ul",{id:"solution_tab_list"},i.map((function(t,a){return s.a.createElement("li",{key:a},s.a.createElement("button",{onClick:function(){return e.setActiveTabViewSolution(t)},className:a===c?"active":"",type:"button"},t.name))})))),s.a.createElement("div",null,s.a.createElement("ul",null,void 0!==_&&_.map((function(t){return"dir"===t.type?s.a.createElement(un,{data_files:t,handleSetEditorValue:e.setActiveFile,key:t.id,getSolutionsFromGithub:e.props.getSolutionsFromGithub}):s.a.createElement("li",{key:t.id},s.a.createElement("button",{className:t.is_active?"active":"",onClick:function(){return e.setActiveFile(t)}},t.name))}))),null==o?"":s.a.createElement("button",{className:"cd_blue_btn",onClick:this.showVideoSolution},"Video Walkthrough")),!0===d&&s.a.createElement("div",{className:"loading_bar"}),(void 0===l||void 0!==l&&void 0===l.is_image)&&s.a.createElement("div",{id:"solution_code_container"},this.renderSyntaxHighlighter(l)),void 0!==l&&!0===l.is_image&&s.a.createElement("img",{id:"solution_image",src:p,alt:""})),t&&null!=o&&s.a.createElement("div",{id:"watch_video_container"},void 0===i?"":s.a.createElement("button",{onClick:this.hideViewSolutionVideo},s.a.createElement(Te.a,{icon:["fas","caret-left"]})," Back to files"),this.state.show_iframe_loading?s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/loader.gif",alt:"loading icon"}):"",s.a.createElement("iframe",{className:this.state.show_iframe_loading?"hidden":"",id:"solution_video",src:"https://player.vimeo.com/video/".concat(o),allowFullScreen:!0,frameBorder:"0",onLoad:this.checkIframes})))))}}]),a}(n.Component)),mn=a(137),hn=a(54),En=a.n(hn),fn=a(334),gn=a(1429),vn=a(59),bn=(a(665),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){return Object(ce.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(De.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,id:"late_assignment_submission_modal",backdrop:"static"},s.a.createElement(De.a.Body,null,s.a.createElement("p",null,"This is a late submission! "),s.a.createElement("p",null,"Your submission may be marked as late since the course has ended. Any late submission may not count toward official assignment completion."),s.a.createElement("button",{type:"button",onClick:function(){return e.props.toggleShowModal(!1)}},"Confirm")))}}]),a}(n.Component)),Sn=(a(666),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).hideModal=function(){n.setState({is_enable_delete_button:!1}),n.props.toggleShowModal(!1)},n.submitDeleteFile=function(e){n.setState({is_enable_delete_button:!1}),n.props.onSubmitDeleteFile(e)},n.state={is_enable_delete_button:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(De.a,{show:this.props.show,onHide:function(){return e.hideModal()},centered:!0,id:"delete_assignment_modal"},s.a.createElement(De.a.Header,null,s.a.createElement(De.a.Title,null,"Delete Your Assignment?")),s.a.createElement(De.a.Body,null,s.a.createElement("p",null,"Deleting the assignment will erase the progress you've made. Resubmissions out of your course schedule will be marked as \u201clate\u201d."),s.a.createElement("div",{className:"checkbox"},s.a.createElement("input",{onChange:function(t){return Object(p.B)(t,e)},name:"is_enable_delete_button",type:"checkbox",id:"confirm_delete_checkbox"}),s.a.createElement("label",{htmlFor:"confirm_delete_checkbox"},s.a.createElement("div",{className:"checkbox_container"},s.a.createElement(Te.a,{icon:["fas","check"]})),s.a.createElement("span",null,"I'm sure I want to delete this assignment.")))),s.a.createElement(De.a.Footer,null,s.a.createElement("form",{onSubmit:function(t){return e.submitDeleteFile(t)}},s.a.createElement("button",{type:"button",className:"btn",onClick:function(){return e.props.toggleShowModal(!1)}},"Cancel"),s.a.createElement("button",{type:"submit",className:"btn ".concat(this.state.is_enable_delete_button?"":"disabled")},"Delete"))))}}]),a}(n.Component));a(667);mn.b.add(fn.a);var An=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidUpdate=function(e,t){var a,s,r;if(null===n.props.courses.todo_upload_error&&!1!==n.state.is_uploading_assignment?(n.setState({is_uploading_assignment:!1,is_show_assignment_submission_modal:n.props.courses.is_late_assignment,is_form_processing:!1,is_deleting_file:!1}),n.props.updateParentStateFromChild({is_show_survey_modal:!n.props.courses.is_late_assignment})):n.props.courses.todo_upload_error&&!n.state.todo_error?n.setState({todo_error:n.props.courses.todo_upload_error,is_uploading_assignment:!1,is_form_processing:!1}):(null===(a=n.props.courses)||void 0===a?void 0:a.is_file_deleted_within)&&t.is_deleting_file&&n.setState({is_deleting_file:!1}),n.props.courses.user_details){var o=n.props.courses.user_details.id;t.user_id!==o&&n.setState({user_id:o})}(n.state.is_show_delete_assignment_modal?document.body.classList.add("is_show_delete_assignment_modal"):document.body.classList.remove("is_show_delete_assignment_modal"),(null===(s=n.props.courses)||void 0===s?void 0:s.assignment_file)&&n.state.download_assignment)&&(n.setState({download_assignment:!1}),Object(gn.a)({url:null===(r=n.props.courses.assignment_file)||void 0===r?void 0:r.pre_signed_url,method:"GET",responseType:"blob"}).then((function(e){var t=new Blob([e.data]),a=window.URL.createObjectURL(t);Object(p.b)(Object(d.a)(Object(d.a)({},n.props.courses.assignment_file),{},{pre_signed_url:a,blob:t})),n.props.clearPresignedURL()})));e.courses.assignment_file!==n.props.courses.assignment_file&&(n.state.download_assignment||n.setState({is_downloading:!1}))},n.handleSubmitAssignment=function(e,t){var a,s,r,o,i=Object(Se.a)(n);n.setState({todo_error:"",is_form_processing:!0,progress_bar_percentage:0}),void 0!==t&&t.preventDefault();var c={course_id:n.props.courses.track.course_id,chapter_id:n.props.courses.track.chapter_id,chapter_module_id:n.props.courses.track.chapter_module_id,stack_schedule_id:n.props.courses.track.stack_schedule_id,cc_stack_schedule_id:n.props.courses.track.cc_stack_schedule_id,user_track_id:n.props.courses.track.user_track_id,track_id:n.props.courses.track.track_id,next_link:n.props.courses.track.next_link,is_optional:(null===(a=n.props.courses.track.active_module)||void 0===a||null===(s=a.checklist)||void 0===s?void 0:s.is_optional)||null,is_practice:(null===(r=n.props.courses.track.active_module)||void 0===r||null===(o=r.checklist)||void 0===o?void 0:o.is_practice)||null};if("file_url"===e||"drag_and_drop_file_url"===e){var _,l,d,u,p=new FormData,m="file_url"===e?t.target.files[0]:t.dataTransfer.files[0];if(m&&m.size&&m.size<1e8)p.append("file_data",m),p.append("file_raw_name",m.name),p.append("course_id",i.props.courses.track.course_id),p.append("chapter_id",i.props.courses.track.chapter_id),p.append("chapter_module_id",i.props.courses.track.chapter_module_id),p.append("user_track_id",i.props.courses.track.user_track_id),p.append("stack_schedule_id",i.props.courses.track.stack_schedule_id),p.append("cc_stack_schedule_id",i.props.courses.track.cc_stack_schedule_id),p.append("track_id",i.props.courses.track.track_id),p.append("next_link",i.props.courses.track.next_link),p.append("file_size",m.size),p.append("is_optional",(null===(_=i.props.courses.track.active_module)||void 0===_||null===(l=_.checklist)||void 0===l?void 0:l.is_optional)||null),p.append("is_practice",(null===(d=i.props.courses.track.active_module)||void 0===d||null===(u=d.checklist)||void 0===u?void 0:u.is_practice)||null),i.props.uploadToDoFile(p),n.props.onAddActivityLog("1.4.14"),n.setState({is_uploading_assignment:!0});else(null===m||void 0===m?void 0:m.size)?n.setState({todo_error:"File upload limit is 100MB.",is_form_processing:!1,is_uploading_assignment:!1}):n.setState({todo_error:"File size must be greater than 0.",is_form_processing:!1,is_uploading_assignment:!1})}else n.setState({todo_error:""},(function(){if(""!==n.state.other_link_url&&"other_link_url"===e){var t=n.state.other_link_url&&!n.checkValidURL(n.state.other_link_url);n.state.other_link_url.indexOf("github.com")>-1?c.github_url=n.state.other_link_url:c.other_link_url=n.state.other_link_url,t?n.setState({is_invalid_other_link_url:t,is_form_processing:!1}):(n.props.uploadToDoGithubLink(c),n.props.onAddActivityLog("1.4.14"))}}));n.setState({is_deleting_file:!1})},n.handleSubmitAssignmentBackUp01152023=function(e,t){var a,s,r,o,i=Object(Se.a)(n);n.setState({todo_error:"",is_form_processing:!0,progress_bar_percentage:0}),void 0!==t&&t.preventDefault();var c={course_id:n.props.courses.track.course_id,chapter_id:n.props.courses.track.chapter_id,chapter_module_id:n.props.courses.track.chapter_module_id,stack_schedule_id:n.props.courses.track.stack_schedule_id,cc_stack_schedule_id:n.props.courses.track.cc_stack_schedule_id,user_track_id:n.props.courses.track.user_track_id,track_id:n.props.courses.track.track_id,next_link:n.props.courses.track.next_link,is_optional:(null===(a=n.props.courses.track.active_module)||void 0===a||null===(s=a.checklist)||void 0===s?void 0:s.is_optional)||null,is_practice:(null===(r=n.props.courses.track.active_module)||void 0===r||null===(o=r.checklist)||void 0===o?void 0:o.is_practice)||null};if("file_url"===e||"drag_and_drop_file_url"===e){var _=new FormData,l="file_url"===e?t.target.files[0]:t.dataTransfer.files[0];if(l&&l.size&&l.size<1e8)if("exe"!==l.name.split(".").pop())if(n.setState({is_uploading_assignment:!0}),n.state.user_id){var u=Object(p.Q)(l,n.state.user_id,n.props.courses.track.chapter_module_id);n.props.generateS3Url(Object(d.a)(Object(d.a)({},u),{},{file_name:l.name,content_type:l.type}),"upload","todo").then((function(e){var t,a;e.status?gn.a.put(null===(t=e.result)||void 0===t?void 0:t.pre_signed_url,l,{timeout:15e4,headers:{"Content-Type":"".concat(l.type||(null===e||void 0===e||null===(a=e.result)||void 0===a?void 0:a.content_type)),"x-amz-acl":"public-read"},onUploadProgress:function(e){var t=e.loaded/e.total*100;n.setState({progress_bar_percentage:t.toFixed(2)})}}).then((function(t){var a,s,r,o,c;t.status?(_.append("file_raw_name",l.name),_.append("course_id",i.props.courses.track.course_id),_.append("chapter_id",i.props.courses.track.chapter_id),_.append("chapter_module_id",i.props.courses.track.chapter_module_id),_.append("user_track_id",i.props.courses.track.user_track_id),_.append("stack_schedule_id",i.props.courses.track.stack_schedule_id),_.append("cc_stack_schedule_id",i.props.courses.track.cc_stack_schedule_id),_.append("track_id",i.props.courses.track.track_id),_.append("next_link",i.props.courses.track.next_link),_.append("file_size",l.size),_.append("s3_file_location",null===(a=e.result)||void 0===a?void 0:a.file_name),_.append("is_optional",(null===(s=i.props.courses.track.active_module)||void 0===s||null===(r=s.checklist)||void 0===r?void 0:r.is_optional)||null),_.append("is_practice",(null===(o=i.props.courses.track.active_module)||void 0===o||null===(c=o.checklist)||void 0===c?void 0:c.is_practice)||null),i.props.uploadToDoFile(_),n.props.onAddActivityLog("1.4.14")):i.setState({todo_error:"Failed to upload file.",is_form_processing:!1})})):i.setState({todo_error:"Failed to upload file. Please contact administrator.",is_form_processing:!1})}),(function(e){i.setState({todo_error:"Failed to upload file. Please contact administrator.",is_form_processing:!1})}))}else n.setState({todo_error:"Failed to upload file. User data required. Please contact administrator.",is_form_processing:!1});else n.setState({todo_error:"Executable file is not allowed.",is_form_processing:!1});else(null===l||void 0===l?void 0:l.size)?n.setState({todo_error:"File upload limit is 100MB.",is_form_processing:!1}):n.setState({todo_error:"File size must be greater than 0.",is_form_processing:!1})}else n.setState({todo_error:""},(function(){if(""!==n.state.other_link_url&&"other_link_url"===e){var t=n.state.other_link_url&&!n.checkValidURL(n.state.other_link_url);n.state.other_link_url.indexOf("github.com")>-1?c.github_url=n.state.other_link_url:c.other_link_url=n.state.other_link_url,t?n.setState({is_invalid_other_link_url:t,is_form_processing:!1}):(n.props.uploadToDoGithubLink(c),n.props.onAddActivityLog("1.4.14"))}}));n.setState({is_deleting_file:!1})},n.onSubmitAssignmentInMobile=function(){n.state.other_link_url&&!n.state.is_invalid_other_link_url&&n.handleSubmitAssignment("other_link_url",void 0)},n.handleInputChange=function(e){var t=Object(Se.a)(n),a=e.target.value.replace(/^.*\\/,""),s=e.target.name;"file_url"===s?(t.handleSubmitAssignment("file_url",e),t.setState({browse_and_drop_file_name:a})):t.setState(Object(l.a)({},s,a))},n.submitDeleteFile=function(e){e.preventDefault();var t,a,s,r,o=n.props.courses.track,i=o.chapter_module_id,c=o.active_module,_=o.chapter_id,l=o.course_id,d=o.user_module,u=o.cc_stack_schedule_id,p=o.track_id,m=n.state.file,h=d||[],E=Object(A.a)(h,1)[0];m&&(n.setState({is_deleting_file:!0,other_link_url:"",is_invalid_other_link_url:!1,is_show_delete_assignment_modal:!1,is_active_drag:!1,todo_error:"",is_form_processing:!1}),n.props.deleteAssignmentFile({file_id:m.id,chapter_module_id:i,is_optional:(null===c||void 0===c||null===(t=c.checklist)||void 0===t?void 0:t.is_optional)||null,is_practice:(null===c||void 0===c||null===(a=c.checklist)||void 0===a?void 0:a.is_practice)||null,user_module_id:(null===E||void 0===E?void 0:E.user_module_id)||(null===E||void 0===E?void 0:E.id),user_module_completed_at:null===E||void 0===E?void 0:E.completed_at,cc_stack_schedule_id:u,track_id:p,chapter_id:_,course_id:l,is_module_for_review:(null===E||void 0===E?void 0:E.is_for_review)||null,day:(null===c||void 0===c||null===(s=c.checklist)||void 0===s?void 0:s.day)||null,week:(null===c||void 0===c||null===(r=c.checklist)||void 0===r?void 0:r.week)||null}),n.props.onAddActivityLog("1.4.15"))},n.handleDragAndDropEvent=function(e,t){e.preventDefault(),n.setState({is_active_drag:t})},n.handleDrop=function(e){var t,a;e.preventDefault(),n.handleSubmitAssignment("drag_and_drop_file_url",e),(null===e||void 0===e||null===(t=e.dataTransfer)||void 0===t||null===(a=t.files[0])||void 0===a?void 0:a.name)?n.setState({browse_and_drop_file_name:e.dataTransfer.files[0].name}):n.setState({todo_error:"Failed to drop file. Please try to refresh the page and try again."})},n.uploadingFilePercentageSimulation=function(){var e=setInterval((function(){n.state.progress_bar_percentage<100?n.setState({progress_bar_percentage:n.state.progress_bar_percentage+2}):(clearInterval(e),n.setState({progress_bar_percentage:0}))}),100)},n.checkValidURL=function(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[:\\;&a-z\\d%_.~+=-]*)?(\\#[#\\;-a-z\\d_]*)?$","i").test(e)},n.toggleShowMobileTab=function(e){var t=Object(f.a)(n.state.mobile_todo_submit_tab);t.map((function(e){e.is_active=!1})),t[e].is_active=!0,n.setState({mobile_todo_submit_tab:t})},n.downloadFiles=function(e){if(e.includes(".amazonaws.com")){var t=Object(p.t)(e,"user-assignments");n.setState({download_assignment:!0}),n.props.generateS3Url(t,"download","todo")}else Object(p.b)({url_link:e},!1)},n.state={is_show_todo_solution_modal:!1,is_deleting_file:!1,other_link_url:"",is_invalid_other_link_url:!1,file_url:"",is_uploading_assignment:!1,todo_error:"",is_late_assignment:!1,is_show_assignment_submission_modal:!1,is_active_drag:!1,progress_bar_percentage:0,browse_and_drop_file_name:"",is_form_processing:!1,signedUrl:null,uploadInput:null,is_show_delete_assignment_modal:!1,file:void 0,user_id:null,mobile_todo_submit_tab:[{id:1,title:"Website URL",is_active:!0},{id:2,title:"File Upload",is_active:!1}],hide_upload_assignment:!0,is_downloading:!1},n}return Object(_e.a)(a,[{key:"componentDidMount",value:function(){if(this.props.courses.user_details){var e=this.props.courses.user_details.id;this.setState({user_id:e})}}},{key:"render",value:function(){var e,t=this,a=this.props.courses.track,n=a.user_files,r=a.chapter_module_id,o=a.completed_chapter_module_ids,i=a.user_module,c=a.is_show_todo_submit,_=this.props.courses.todo_upload_status,l=i||[],d=Object(A.a)(l,1)[0];_&&(this.state.todo_upload_status=_),void 0!==o&&!0===o.outside_stack_sched.includes(r)&&"survey"!==r&&(this.props.courses.is_late_assignment=!0);var u=!1;if(null===(e=this.props.courses.track.user_module)||void 0===e?void 0:e.length){var m=Object(A.a)(this.props.courses.track.user_module,1)[0];u=m.is_for_review}return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"todo_submit_container",className:this.state.mobile_todo_submit_tab[1].is_active?"":"hide_upload"},s.a.createElement("h5",{onClick:function(){return t.setState({is_uploading_assignment:!1})}},"Submit"),n.length<1&&s.a.createElement("p",null,s.a.createElement("b",null,"Note: ")," Please ",s.a.createElement("a",{href:"https://www.wikihow.com/Make-a-Zip-File",target:"_blank"},"Zip")," your file(s) before uploading."),void 0!==n&&n.map((function(e,a){var n=null===e||void 0===e?void 0:e.file_url;if(n){var r;if(null===(r=n)||void 0===r?void 0:r.includes("/boomyeah2015/codingdojo/")){var o=n.split("/");n=decodeURI(o[o.length-1])}return s.a.createElement(s.a.Fragment,{key:a},s.a.createElement("div",{id:"uploaded_file_container"},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/user/courses/".concat(t.props.is_dark_mode?"dark_mode_uploaded_file_icon.png":"uploaded_file_icon.png"),alt:"upload-icon"}),s.a.createElement("form",{className:"delete_file_form",onSubmit:function(a){return t.submitDeleteFile(a,e)}},s.a.createElement("button",{className:"download-assignment",type:"button",onClick:function(){e.file_url.includes("s3")&&t.setState({is_downloading:!0}),t.downloadFiles(e.file_url)},disabled:t.state.is_downloading},t.state.is_downloading&&s.a.createElement("span",{className:"download_loader"}),n),s.a.createElement("button",{title:"Delete assignment",type:"button",className:"".concat(t.state.is_deleting_file?"disabled":""),onClick:function(){return t.setState({is_show_delete_assignment_modal:!0,file:e})}},s.a.createElement(Te.a,{icon:["fas","trash"]}))),s.a.createElement("p",{id:"successfully_submitted_indicator"},"Successfully submitted on ",s.a.createElement(En.a,{format:"MMMM DD, YYYY"},null===d||void 0===d?void 0:d.completed_at),(u||t.props.courses.is_late_assignment)&&s.a.createElement("span",null,u?"Review Pending":"Out-of-schedule"))))}})),n.length<1&&s.a.createElement(s.a.Fragment,null,s.a.createElement(st.a,{maxWidth:768},s.a.createElement("div",{id:"mobile_tab_container"},this.state.mobile_todo_submit_tab.map((function(e,a){return s.a.createElement("button",{onClick:function(){return t.toggleShowMobileTab(a)},className:e.is_active?"active":"",type:"button"},e.title)})))),!this.state.is_uploading_assignment&&!this.state.todo_error&&s.a.createElement("form",{id:"upload_solution_form",className:"".concat(this.state.is_active_drag?"is_active_drag":""," ").concat(this.state.is_form_processing?"disable_form":""," ").concat(c?"":"disable_form"),onDrop:function(e){return t.handleDrop(e)},onDragOver:function(e){return t.handleDragAndDropEvent(e,!0)},onDragEnter:function(e){return t.handleDragAndDropEvent(e,!0)},onDragLeave:function(e){return t.handleDragAndDropEvent(e,!1)}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/user/courses/".concat(this.props.is_dark_mode?"dark_mode_upload_icon.png":"upload_icon.png"),alt:"upload-icon"}),s.a.createElement("p",null,"Drag & drop your files"),s.a.createElement("input",{id:"upload_file_input",type:"file",onChange:function(e){return t.handleInputChange(e)},name:"file_url"}),s.a.createElement("label",{htmlFor:"upload_file_input"}," ",s.a.createElement("small",null,"or")," Browse")),this.state.is_uploading_assignment&&!this.state.todo_error&&s.a.createElement("div",{id:"is_uploading_container"},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/user/courses/".concat(this.props.is_dark_mode?"dark_mode_uploaded_file_icon.png":"uploaded_file_icon.png"),alt:"upload-icon"}),s.a.createElement("p",null,"Uploading file. Please wait. ",s.a.createElement("span",{className:"loading_icon"}))),this.state.todo_error&&s.a.createElement("form",{id:"re_upload_assignment_form",className:"".concat(this.state.is_active_drag?"is_active_drag":""," ").concat(this.state.is_form_processing?"disable_form":""),onDrop:function(e){return t.handleDrop(e)},onDragOver:function(e){return t.handleDragAndDropEvent(e,!0)},onDragEnter:function(e){return t.handleDragAndDropEvent(e,!0)},onDragLeave:function(e){return t.handleDragAndDropEvent(e,!1)}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/user/courses/re_upload_file_icon.png",alt:"upload-icon"}),s.a.createElement("p",null,this.state.todo_error),s.a.createElement("input",{id:"upload_file_input",type:"file",onChange:function(e){return t.handleInputChange(e)},name:"file_url"}),s.a.createElement("label",{htmlFor:"upload_file_input"},"Upload Again")),s.a.createElement("div",{id:"right_container"},s.a.createElement("form",{id:"add_other_link_form",className:"".concat(this.state.is_invalid_other_link_url?"border_red":""," ").concat(this.state.is_form_processing?"disable_form":""),onSubmit:function(e){return t.handleSubmitAssignment("other_link_url",e)},action:""},s.a.createElement("input",{class:"".concat(c?"":"disabled"),type:"url",name:"other_link_url",id:"other_link_url",placeholder:"Type in a URL here",disabled:this.state.is_form_processing,onBlur:function(){return t.setState({is_invalid_other_link_url:t.state.other_link_url&&!t.checkValidURL(t.state.other_link_url,"other_link_url")})},value:this.state.other_link_url,onChange:function(e){return t.handleInputChange(e)},autoComplete:"off"}),s.a.createElement("button",{type:"submit",disabled:!this.state.other_link_url,id:"other_link_url_submit",class:"".concat(c?"":"disabled")},"Save"),s.a.createElement(Te.a,{icon:["fas","link"]})),this.state.is_invalid_other_link_url&&s.a.createElement("p",null,"The URL is invalid. Please try again."),s.a.createElement(st.a,{maxWidth:768},s.a.createElement("button",{onClick:function(){return t.onSubmitAssignmentInMobile()},id:"submit_assignment_btn",class:"".concat(c?"":"disabled"),type:"button"},"Submit Assignment"))))),this.props.courses.is_late_assignment&&s.a.createElement(bn,{show:this.state.is_show_assignment_submission_modal,toggleShowModal:function(){Object(p.W)(t,"is_show_assignment_submission_modal",!1),t.props.updateParentStateFromChild({is_show_survey_modal:!0})}}),s.a.createElement(Sn,{show:this.state.is_show_delete_assignment_modal,onSubmitDeleteFile:this.submitDeleteFile,toggleShowModal:function(){return Object(p.W)(t,"is_show_delete_assignment_modal",!1)}}))}}]),a}(n.Component),kn=Object(p.J)(["courses","user"],{generateS3Url:vn.a.generateS3Url,clearPresignedURL:vn.a.clearPresignedURL,uploadToDoFile:lt.uploadToDoFile,uploadToDoGithubLink:lt.uploadToDoGithubLink,deleteAssignmentFile:lt.deleteAssignmentFile}),On=kn.mapStateToProps,Tn=kn.mapDispatchToProps,Cn=Object(ue.b)(On,Tn)(An),wn=(a(668),new(function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e,n,s;Object(ce.a)(this,a),(s=t.call(this)).skipSurvey=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/surveys/skip_survey"),e,!0).then(p.z).then((function(e){return e.status&&localStorage.setItem("__BarioOtsoOtso__",e.token),e}))},s.takeSurvey=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/surveys/take_survey"),e,!0).then(p.z).then((function(e){return e.status&&localStorage.setItem("__BarioOtsoOtso__",e.token),e}))};var r=Object(p.y)();return s.API_pre_link=(null===r||void 0===r||null===(e=r.user_details)||void 0===e||null===(n=e.general)||void 0===n?void 0:n.trial_platform_mode)?"/t":"",s}return a}(Ee.a))),yn=new function e(){Object(ce.a)(this,e),this.processSkipSurvey=function(e){return function(t){t(Object(p.A)({type:u.xb.SKIP_SURVEY_REQUEST},e)),wn.skipSurvey(e).then((function(a){a.status?t(Object(p.A)({type:u.xb.SKIP_SURVEY_SUCCESS},e)):t(Object(p.A)({type:u.xb.SKIP_SURVEY_FAILURE},{error:a.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.xb.SKIP_SURVEY_REQUEST},{error:a}))}))}},this.processTakenSurvey=function(e,t,a){return function(t){t(Object(p.A)({type:u.xb.TAKE_SURVEY_REQUEST},{cd_survey_schedule_id:e})),wn.takeSurvey({cd_survey_schedule_id:e,notification_id:a}).then((function(a){a.status?t(Object(p.A)({type:u.xb.TAKE_SURVEY_SUCCESS},{cd_survey_schedule_id:e,set_notifications_to_archived_response:a.result})):t(Object(p.A)({type:u.xb.TAKE_SURVEY_FAILURE},{error:a.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.xb.TAKE_SURVEY_REQUEST},{error:a}))}))}}},Rn=(a(1179),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).showTypeform=function(e,t){n.setState({is_show_typeform:!0});var a=(n.props.location&&n.props.location.state||{from:{pathname:"/take_survey"}}).from;n.props.processTakenSurvey(t,a)},n.state={typeform_embed_link:null,survey_name:"Daily Survey",is_skippable:!1,is_show_typeform:!1,user_id:null,cd_survey_user_id:null,cd_survey_schedule_id:null},n}return Object(_e.a)(a,[{key:"checkSurveyToDisplay",value:function(e,t,a,n,s){var r="",o=e[0],i={stack_name:"",lead_instructor_name:""},c="";if(a.stack_info.current&&(i.lead_instructor_name=a.stack_info.current.lead_instructor_name,i.stack_name=a.stack_info.current.stack_name),o){o.cd_survey_user_id,this.state.survey_name=o.survey_name,this.state.cd_survey_user_id=o.cd_survey_user_id,this.state.user_id=o.user_id,this.state.cd_survey_schedule_id=o.cd_survey_schedule_id;var _=new Date-new Date(o.show_at_date).getDate();this.state.is_skippable=_<o.validity_days,u.fc.includes(o.cd_survey_schedule_id)?(r="#location=".concat(a.bootcamp_info.location,"&program=").concat(a.bootcamp_info.program_type,"&stack=").concat(i.stack_name,"&instructor=").concat(i.lead_instructor_name,"&user_id=").concat(this.state.user_id,"&email_address=").concat(t.email_address,"&first_name=").concat(t.first_name,"&last_name=").concat(t.last_name,"&cd_survey_user_id=").concat(o.cd_survey_user_id),n&&n.track_id&&(r+="&track_id=".concat(n.track_id,"&chapter_id=").concat(n.chapter_id,"&module_id=").concat(n.module_id))):u.hc.includes(o.cd_survey_schedule_id)&&!u.t.includes(o.cd_survey_schedule_id)?(this.state.is_skippable=!1,r="#user_id=".concat(this.state.user_id,"&cd_survey_user_id=").concat(o.cd_survey_user_id)):r="#user_id=".concat(this.state.user_id,"&cd_applicant_id=").concat(t.applicant_id,"&cd_survey_user_id=").concat(o.cd_survey_user_id,"&instructor=").concat(i.lead_instructor_name),c=o.survey_url}else s&&(s===u.zb.default?(this.state.survey_name="Course Survey",c=u.Eb+u.Gb.mid_final_stack_survey_code):s===u.zb.mid_stack?(this.state.survey_name="Mid Course Survey",c=a.surveys.mid_stack_survey):s===u.zb.end_stack?(this.state.survey_name="End Course Survey",c=a.surveys.end_stack_survey):s===u.zb.web_fun&&(this.state.survey_name="Web Fundamentals Survey",c=a.surveys.web_fun_survey),c&&(r="#email_address=".concat(t.email_address,"&cd_applicant_id=").concat(t.applicant_id,"&instructor=").concat(i.lead_instructor_name,"&current_stack=").concat(i.stack_name,"&program=").concat(a.bootcamp_info.program_type,"&stack_schedule_id=").concat(a.stack_info.current.stack_schedule_id,"&user_id=").concat(t.id,"&cd_survey_user_id=NA&platform_version=LP3&campus=").concat(a.bootcamp_info.location)));""!==r&&(this.state.typeform_embed_link=c+r)}},{key:"skipSurvey",value:function(e,t){var a=(this.props.location&&this.props.location.state||{from:{pathname:"/skip_survey"}}).from;this.props.processSkipSurvey({user_id:e,cd_survey_user_id:t,from:a}),this.props.onAddActivityLog("3.22.11")}},{key:"render",value:function(){var e,t,a=this,n=this.props,r=(n.show,n.surveys),o=n.user,i=n.current_url,c=n.custom_survey;this.checkSurveyToDisplay(r,null===o||void 0===o||null===(e=o.user_details)||void 0===e?void 0:e.general,null===o||void 0===o||null===(t=o.user_details)||void 0===t?void 0:t.workspace_custom_data,i,c);var _=this.state,l=_.is_skippable,d=_.is_show_typeform,u=_.typeform_embed_link,p=_.survey_name,m=_.user_id,h=_.cd_survey_user_id,E=_.cd_survey_schedule_id;return s.a.createElement(De.a,{show:!0,centered:!0,backdrop:!!l||"static",keyboard:l,onHide:function(){return a.skipSurvey(m,h)},id:"survey_modal",className:"".concat(d?"show_typeform_modal":"")},!1===d&&null!==u?s.a.createElement(s.a.Fragment,null,s.a.createElement(De.a.Header,null,s.a.createElement(De.a.Title,null,p),l&&s.a.createElement("button",{onClick:function(e){return a.skipSurvey(m,h)}},s.a.createElement("span",{className:"close_icon"}))),s.a.createElement(De.a.Body,null,s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/survey_icon.png",alt:"Survey Icon"}),s.a.createElement("p",null,"Let\u2019s take a survey!"),s.a.createElement("p",null,"Your input will help us better serve you.")),s.a.createElement(De.a.Footer,{className:"".concat(!1===l?"center":"")},l&&s.a.createElement("button",{id:"skip_survey_btn",onClick:function(e){return a.skipSurvey(m,h)}}," Skip"),s.a.createElement("button",{className:"btn btn-primary",onClick:function(){return a.showTypeform(r,E)}},"Take the Survey"))):s.a.createElement(De.a.Body,null,s.a.createElement("iframe",{width:"890",src:u,frameborder:"0"})))}}]),a}(n.Component)),Dn=Object(p.J)(void 0,{processSkipSurvey:yn.processSkipSurvey,processTakenSurvey:yn.processTakenSurvey}),Un=Dn.mapStateToProps,Nn=Dn.mapDispatchToProps,In=Object(ue.b)(Un,Nn)(Rn),Pn=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).cancelSenceSessionStart=function(){e.props.history.location.pathname.indexOf("/m/")>-1?window.location.href="/dashboard":e.props.toggleShowModal(!1)},e}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props.user_details.workspace_custom_data.customizations.links,a=this.props.user_details.workspace_custom_data.sence_integration,n=this.props.user_details.general.user_session_id,r="".concat(a.enc_user_id,"/").concat(a.enc_applicant_id,"/").concat(u.Z,"/").concat(n),o=this.props.history.location.pathname.indexOf("/m/")>-1?this.props.history.location.pathname.replace(/\/error_code=\d+/g,""):this.props.redirect_to;return s.a.createElement(De.a,{className:"chile_sence_modal",show:this.props.show,centered:!0,onHide:function(){return e.cancelSenceSessionStart()}},s.a.createElement(De.a.Header,null,s.a.createElement("button",{onClick:function(){return e.cancelSenceSessionStart()}},s.a.createElement("span",{className:"close_icon"}))),s.a.createElement(De.a.Body,null,s.a.createElement("form",{action:t.production.initiate,method:"post"},s.a.createElement("p",null,"Actualmente nuestro sistema detect\xf3 que no has iniciado sesi\xf3n en Sence. Por favor inicia sesi\xf3n en caso de estar registrado, o reg\xedstrate en caso de no estarlo."),s.a.createElement("input",{type:"hidden",name:"RutOtec",value:a.rut_otec}),s.a.createElement("input",{type:"hidden",name:"token",value:a.token}),s.a.createElement("input",{type:"hidden",name:"CodSence",value:a.cod_sence}),s.a.createElement("input",{type:"hidden",name:"CodigoCurso",value:a.course_code}),s.a.createElement("input",{type:"hidden",name:"LineaCapacitacion",value:a.linea}),s.a.createElement("input",{type:"hidden",name:"RunAlumno",value:a.pupil_rut}),s.a.createElement("input",{type:"hidden",name:"IdSesionAlumno",value:"LP"+a.pupil_rut}),s.a.createElement("input",{type:"hidden",name:"UrlRetoma",value:u.f.URL+"/sence_integration/start_sence_session"+o+"/success/"+r}),s.a.createElement("input",{type:"hidden",name:"UrlError",value:u.f.URL+"/sence_integration/start_sence_session"+o+"/failed/"+r}),s.a.createElement("button",{type:"button",onClick:function(){return e.cancelSenceSessionStart()}},"Cancelar"),s.a.createElement("button",{type:"submit"},"Iniciar Sesi\xf3n"))))}}]),a}(n.Component),jn=(a(1180),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;Object(ce.a)(this,a),(n=t.call(this,e)).componentDidUpdate=function(e,t){if(window.innerWidth>u.Vb.MOBILE?(window.addEventListener("keyup",n.onKeyPress),document.addEventListener("focus",n.handleFocus,!0),document.addEventListener("blur",n.handleBlur,!0)):(window.removeEventListener("keyup",n.onKeyPress),document.removeEventListener("focus",n.handleFocus,!0),document.removeEventListener("blur",n.handleBlur,!0)),"true"===n.props.is_online_discussion)n.props&&e.match.params.question_id!==n.props.match.params.question_id&&n.props.fetchOnlineDiscussion({track_id:n.props.match.params.track_id,week_id:n.props.match.params.week_id,question_id:n.props.match.params.question_id});else if(n.props&&e.match.params.module_id!==n.props.match.params.module_id&&!n.props.courses.is_lesson_module_submitted){var a,s;n.props.fetchCoursePageData({track_id:n.props.match.params.track_id,chapter_id:n.props.match.params.chapter_id,chapter_module_id:n.props.match.params.module_id,trial_platform_mode:null===(a=n.props.location)||void 0===a||null===(s=a.pathname)||void 0===s?void 0:s.includes("/t/m/")});var r=n.props.courses.track;void 0!==r.chapter_module_id&&n.state.current_chapter_module_id!==r.chapter_module_id&&!1===n.props.analytics.is_session_page_saving&&(n.setState({current_chapter_module_id:r.chapter_module_id}),n.props.onSaveUserSessionPage({page_type_id:"survey"!==r.chapter_module_id?u.bb:u.y,track_id:r.track_id,course_id:r.course_id,chapter_id:r.chapter_id,chapter_module_id:"survey"!==r.chapter_module_id?r.chapter_module_id:0}),setTimeout((function(){n.checkIframes()}),200)),n.setState({disable_next_previous_button:!1}),window.scrollTo(0,0),n.onHideReportCurriculumMistake()}if(e.courses.is_show_failed_sence_login_modal!==n.props.courses.is_show_failed_sence_login_modal){var o=!(n.props.location.pathname.indexOf("/error_code=")>-1)&&n.props.courses.is_show_failed_sence_login_modal;n.setState({is_show_failed_sence_login_modal:o})}n.state.is_show_delete_discussion_module_modal?document.body.classList.add("is_show_delete_discussion_modal"):document.body.classList.remove("is_show_delete_discussion_modal")},n.componentWillMount=function(){n.onWindowLoadSubscription=window.addEventListener("load",n.checkIframes,!1),!1===n.props.analytics.is_session_page_updating&&n.props.onUpdateUserSessionPage();var e=n.props.courses.track;n.setState({current_chapter_module_id:e.chapter_module_id}),n.props.onSaveUserSessionPage({page_type_id:"survey"!==e.chapter_module_id?u.bb:u.y,track_id:e.track_id,course_id:e.course_id,chapter_id:e.chapter_id,chapter_module_id:"survey"!==e.chapter_module_id?e.chapter_module_id:0}),setTimeout((function(){n.checkIframes()}),200)},n.onResizeBrowser=function(){""===window.getSelection().toString()&&n.onHideReportCurriculumMistake()},n.onKeyPress=function(e){var t=n.next_button.current,a=n.previous_button.current;if(n.state.is_typing||e.keyCode!==u.V.right_arrow)n.state.is_typing||e.keyCode!==u.V.left_arrow||a&&!a.classList.contains("disabled")&&a.click();else if(t&&!t.classList.contains("disabled")){var s=n.props.courses.track.next_link;"/courses"===s||"/t/courses"===s?(t.scrollIntoView(),t.classList.remove("animated","tada"),t.offsetWidth,t.classList.add("animated","tada")):t.click()}},n.handleFocus=function(e){e.target.tagName!==u.J.input&&e.target.tagName!==u.J.textarea&&e.target.className!==u.J.ask_question_textarea&&e.target.className!==u.J.ask_question_edit_textarea||n.setState({is_typing:!0})},n.handleBlur=function(){n.setState({is_typing:!1})},n.handleLikeDislikeValue=function(e,t){var a=Number(n.props.match.params.chapter_id),s=Object(d.a)({},n.state.track),r=s.chapters.map((function(e){return e.chapter_id})).indexOf(a);s.chapters[r].chapter_modules.filter((function(e){return e.chapter_module_id===t.chapter_module_id}))[0].is_liked="like"===e.target.value},n.renderModuleDescription=function(e){if("false"===n.props.is_online_discussion){var t=n.props.courses.track;return{0:s.a.createElement(Jt,{module:e,onHandleLikeDislikeValue:n.handleLikeDislikeValue,onUserClickedAnElement:n.userClickedAnElement,onCopyToClipboard:n.copyToClipboard,onConvertPrismtoRainbowCodeSnippet:n.convertPrismtoRainbowCodeSnippet,onGetTextSelection:n.getTextSelection}),1:s.a.createElement(fa,{module:e,quiz_details:n.props.courses.quiz_module,is_disable_see_result:n.props.courses.is_disable_see_result,track_id:n.props.match.params.track_id,course_id:n.props.courses.track.course_id,user_track_id:n.props.courses.track.user_track_id,chapter_id:n.props.courses.track.chapter_id,stack_schedule_id:t.stack_schedule_id,cc_stack_schedule_id:t.cc_stack_schedule_id,startQuiz:n.props.startQuiz,onAddActivityLog:n.props.onAddActivityLog,next_link:n.props.courses.track.next_link,navigateQuiz:n.props.navigateQuiz,onUserClickedAnElement:n.userClickedAnElement,onCopyToClipboard:n.copyToClipboard,allow_track_progress:t.allow_track_progress,onConvertPrismtoRainbowCodeSnippet:n.convertPrismtoRainbowCodeSnippet,onGetTextSelection:n.getTextSelection}),2:s.a.createElement(rn,{module:e,assignment_tasks:n.props.courses.assignment_tasks,is_show_todo_submit:n.props.courses.track.is_show_todo_submit,stack_schedule_id:t.stack_schedule_id,onUserClickedAnElement:n.userClickedAnElement,completedSelectedTaskItem:n.completedSelectedTaskItem,onCopyToClipboard:n.copyToClipboard,onConvertPrismtoRainbowCodeSnippet:n.convertPrismtoRainbowCodeSnippet,onGetTextSelection:n.getTextSelection,allow_track_progress:t.allow_track_progress,onAddActivityLog:n.props.onAddActivityLog}),3:s.a.createElement(Jt,{module:e,onUserClickedAnElement:n.userClickedAnElement,onCopyToClipboard:n.copyToClipboard,onConvertPrismtoRainbowCodeSnippet:n.convertPrismtoRainbowCodeSnippet,onGetTextSelection:n.getTextSelection}),4:s.a.createElement(kt,{content:e,track_id:n.props.match.params.track_id,chapter_id:n.props.match.params.chapter_id,is_submit_chapter_survey_form:n.state.is_submit_chapter_survey_form})}[e.module_type]}return s.a.createElement(Xt,{onSubmitDiscussionAnswer:n.handleSubmitDiscussionAnswer,online_discussion:n.props.discussions,onAddActivityLog:n.props.onAddActivityLog})},n.removeModuleBookmark=function(e,t){n.props.onRemoveBookmark(e,t.chapter_module_id,t.bookmark_id),t.is_bookmarked=!1;var a="1.1.20";t.module_type===u.fb.QUIZ_MODULE?a="1.5.20":t.module_type===u.fb.TASK_MODULE&&(a="1.4.20"),n.props.onAddActivityLog(a)},n.displayAddBookmarkModal=function(e){Object(p.W)(Object(Se.a)(n),"is_show_add_bookmark_modal",!0);var t="1.1.19";e.module_type===u.fb.QUIZ_MODULE?t="1.5.19":e.module_type===u.fb.TASK_MODULE&&(t="1.4.19"),n.props.onAddActivityLog(t)},n.userClickedAnElement=function(e,t){"A"===e.target.tagName?"lesson"===t?n.props.onAddActivityLog("1.3.3"):"quiz"===t?n.props.onAddActivityLog("1.5.3"):"todo"===t&&n.props.onAddActivityLog("1.4.3"):"BUTTON"===e.target.tagName&&"copy_code_snippet_btn"===e.target.className&&("lesson"===t?n.props.onAddActivityLog("1.3.4"):"quiz"===t?n.props.onAddActivityLog("1.5.4"):"todo"===t&&n.props.onAddActivityLog("1.4.4"))},n.checkIframes=function(){var e=document.getElementsByTagName("IFRAME");if(void 0!==e)for(var t=0;t<e.length;t++){var a=e[t].getAttribute("src");void 0!==a&&null!==a&&a.includes(".vimeo.com")&&(n.vimeoPlayers["player_"+t]=new at.a(e[t]),n.vimeoPlayers["player_"+t].on("play",(function(){n.userPlayPauseVideo(!0)})),n.vimeoPlayers["player_"+t].on("pause",(function(){n.userPlayPauseVideo(!1)}))),void 0!==a&&null!==a&&a.includes(".youtube.com")}},n.userPlayPauseVideo=function(e){var t=n.props.courses.track;t.active_module.module_type===u.fb.LESSON_MODULE?n.props.onAddActivityLog(e?"1.3.1":"1.3.2"):t.active_module.module_type===u.fb.TASK_MODULE&&n.props.onAddActivityLog(e?"1.4.1":"1.4.2")},n.processNextStepBeforeNextLink=function(e){var t=n.props.courses.track;t.active_module.module_type===u.fb.LESSON_MODULE?!0===e||void 0!==t.completed_chapter_module_ids&&!0===t.completed_chapter_module_ids.within_stack_sched.includes(t.active_module.chapter_module_id)?(n.props.history.push(t.next_link),n.clickPreviousNextLink("next")):n.completeLessonModule():t.active_module.module_type===u.fb.END_CHAPTER_SURVEY_MODULE&&(n.props.courses.track.is_chapter_survey_form_submitted=!0,n.setState({is_submit_chapter_survey_form:!n.state.is_submit_chapter_survey_form}),n.props.onAddActivityLog("3.10.18"))},n.completeLessonModule=function(){var e=n.props.courses.track;n.props.completeLessonModule({track_id:e.track_id,course_id:e.course_id,chapter_id:e.chapter_id,chapter_module_id:e.chapter_module_id,stack_schedule_id:e.stack_schedule_id,user_track_id:e.user_track_id,next_link:e.next_link}),n.props.history.push(e.next_link),n.clickPreviousNextLink("next")},n.afterCompleteLessonFetchCoursePageData=function(){var e,t;(n.props.courses.is_lesson_module_submitted=!0,"true"===n.props.is_online_discussion)?n.props.fetchOnlineDiscussion({track_id:n.props.match.params.track_id,week_id:n.props.match.params.week_id,question_id:n.props.match.params.question_id}):(n.props.fetchCoursePageData({track_id:n.props.match.params.track_id,chapter_id:n.props.match.params.chapter_id,chapter_module_id:n.props.match.params.module_id,trial_platform_mode:null===(e=n.props.location)||void 0===e||null===(t=e.pathname)||void 0===t?void 0:t.includes("/t/m/")}),window.scrollTo(0,0))},n.clickPreviousNextLink=function(e){n.props.onAddActivityLog("next"==e?"1.3.8":"1.3.7"),n.onHideReportCurriculumMistake(),setTimeout((function(){var e;window.scrollTo({top:null===(e=n.module_description_container_position.current)||void 0===e?void 0:e.offsetTop,behavior:"smooth"})}),1e3)},n.completedSelectedTaskItem=function(e){var t,a,s,r,o,i=n.props.courses,c=i.track,_=i.assignment_tasks;c.active_module&&c.is_show_todo_submit&&(_&&_.length>0&&(_[e]&&(_[e].status=1==_[e].status?0:1),n.props.submitAssignmentTask({id:c.user_module?null===(t=c.user_module[0])||void 0===t?void 0:t.user_module_id:void 0,track_id:c.track_id,chapter_module_id:c.chapter_module_id,stack_schedule_id:c.stack_schedule_id,cc_stack_schedule_id:c.cc_stack_schedule_id,module_data:_,is_optional:(null===(a=c.active_module)||void 0===a||null===(s=a.checklist)||void 0===s?void 0:s.is_optional)||null,is_practice:(null===(r=c.active_module)||void 0===r||null===(o=r.checklist)||void 0===o?void 0:o.is_practice)||null})))},n.copyToClipboard=function(e){var t=e.target;if("copy_code_snippet_btn"===t.className){var a=t.closest("pre").innerText,n=document.querySelector("#copy_to_clipboard_value");a=a.substring(0,a.length-4),n.value=a,n.select(),document.execCommand("copy")&&(t.innerHTML="copied!",n.value="",setTimeout((function(){t.innerHTML="copy"}),u.Ab.normal))}},n.convertPrismtoRainbowCodeSnippet=function(e){if("string"===typeof e&&(e=JSON.parse(e)),""!==e){var t=document.createElement("html");t.innerHTML=e.description;var a=t.querySelectorAll("pre");if(a.length>0){var s,r=Object(W.a)(a.entries());try{var o=function(){var e,t=Object(A.a)(s.value,2),a=t[0],n=t[1];n.removeAttribute("class"),0!==n.attributes.length&&("c_sharp"===n.attributes[0].nodeValue?n.setAttribute("data-language","csharp"):"bash"===n.attributes[0].nodeValue&&n.setAttribute("data-language","shell"));var r=n.textContent||n.innerText;n.textContent=String(r);var o=document.createElement("div");o.innerHTML=n.outerHTML,(null===(e=window)||void 0===e?void 0:e.Rainbow)&&window.Rainbow.color(o,(function(){document.getElementsByTagName("pre")[a]&&(document.getElementsByTagName("pre")[a].innerHTML=o.firstChild.innerHTML+'<button class="copy_code_snippet_btn">copy</button>')}))};for(r.s();!(s=r.n()).done;)o()}catch(i){r.e(i)}finally{r.f()}e.description=t.lastChild.innerHTML}e.description=n.convertAllLinksToNewTab(t)}return e},n.convertAllLinksToNewTab=function(e){var t=e.querySelectorAll("a");if(t.length>0){var a,n=Object(W.a)(t.entries());try{for(n.s();!(a=n.n()).done;){var s=Object(A.a)(a.value,2),r=(s[0],s[1]);r.hasAttribute("target")||r.setAttribute("target","_blank")}}catch(o){n.e(o)}finally{n.f()}}return e.lastChild.innerHTML},n.handleSubmitDiscussionAnswer=function(e){""!==e.trim()&&null!==n.props.discussions.selected_question_data&&(n.props.saveDiscussionResponse({user_response:e,track_id:n.props.discussions.selected_question_data.track_id,discussion_id:n.props.discussions.selected_question_data.discussion_id,user_question_id:n.props.discussions.selected_question_data.id}),setTimeout((function(){var e;window.scrollTo({top:null===(e=n.discussion_position.current)||void 0===e?void 0:e.offsetTop,behavior:"smooth"})}),1500))},n.onSubmitDeleteDiscussion=function(e,t,a){return e.preventDefault(),n.props.deleteDiscussionResponse({user_response_id:t.id,user_question_id:t.user_question_id},a),n.props.onAddActivityLog("1.6.5"),n.setState({is_show_delete_discussion_modal:!1}),!1},n.showDeleteDiscussionModal=function(){n.setState({is_show_delete_discussion_modal:!0})},n.getTextSelection=function(e){"mouseup"===e&&document.getSelection().toString().length>0&&n.setState({is_show_report_curriculum_popover:!0}),"mousedown"===e&&n.state.is_show_report_curriculum_popover&&n.setState({is_show_report_curriculum_popover:!1})},n.nextButtonText=function(e){var t=e.chapter_id,a=e.next_link,n=e.is_next_track_course;if(a){var s=a.split("/");if("/courses"===a||n||"/t/courses"===a)return"Finish this Unit";if(t!==Number(s[s.length-2]))return"Next Chapter"}return"Next"},n.displayCheckSolutionsModal=function(e){Object(p.W)(Object(Se.a)(n),"is_show_todo_solution_modal",!0),n.props.onAddActivityLog("1.4.9"),n.getSolutionsFromGithub(),n.setState({is_solution_countdown_completed:!0})},n.displayCheckSolutionBtn=function(e){e.hours;var t=e.minutes,a=e.seconds;return e.completed?s.a.createElement("button",{type:"button",onClick:n.displayCheckSolutionsModal},"Check Solutions"):s.a.createElement("h4",null,"Solution available in approximately ",Object(Ve.b)(t)>0?Object(Ve.b)(t)+" mins":Object(Ve.b)(a)+" seconds")},n.getSolutionsFromGithub=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a={};e&&t&&(a.dir_path=e,a.content_key_id=t),n.props.getToDoSolution(n.props.courses.track.chapter_module_id,a)},n.onHideReportCurriculumMistake=function(){n.setState({is_show_report_curriculum_popover:!1})},n.getIconOnMobileView=function(e,t){var a={};return a={0:"lesson",1:"quiz",2:"assignment",3:"admin_lesson",4:"chapter_survey"}[e],t&&(t.practice_assignments&&t.practice_assignments.includes(t.chapter_module_id)?a="assignment_practice":t.optional_assignments&&t.optional_assignments.includes(t.chapter_module_id)&&(a="assignment_optional")),a},n.setStateFromChild=function(e,t,a){n.setState({notification_count:e,raw_notifications:t,markNotificationAsRead:a})},n.changeActiveTabContent=function(e){n.props.changeActiveTabContent(e)},n.discussion_position=s.a.createRef(),n.module_description_container_position=s.a.createRef(),n.state={is_show_add_bookmark_modal:!1,is_show_bookmarks_modal:!1,is_show_todo_modal:!1,is_submit_chapter_survey_form:!1,is_show_privacy_policy_modal:!1,is_show_check_solution_timer:!1,current_chapter_module_id:null,current_discussion_question_id:null,is_show_delete_discussion_modal:!1,is_show_report_curriculum_popover:!1,is_show_delete_discussion_module_modal:!1,is_show_edit_discussion_board_modal:!1,is_show_todo_solution_modal:!1,is_solution_countdown_completed:!1,notification_count:0,raw_notifications:[],is_show_survey_modal:!0,cd_survey_scheds:[],mobile_show_module:!1,is_show_assignment_forum_and_notifications:!0,is_show_failed_sence_login_modal:!1,is_show_sence_acknowledgement_modal:!1,is_show_failed_sence_request_modal:n.props.location.pathname.indexOf("/error_code=")>-1,is_show_sence_countdown_timer:!0,error_code:null,is_show_assignment_forum:!0,is_typing:!1};var r=Object(p.y)();return!0===r.status&&(n.state=Object(d.a)(Object(d.a)({},n.state),{},{profile:r.user_details})),n.onWindowLoadSubscription=void 0,n.vimeoPlayers=[],n.state.is_show_assignment_forum=Object(p.I)(r.user_details,u.Kb.ASSIGNMENT_FORUM.id),n.previous_button=s.a.createRef(),n.next_button=s.a.createRef(),n}return Object(_e.a)(a,[{key:"componentDidMount",value:function(){var e,t,a,n,s=this;(Object(p.D)()&&(window.location.href="/dashboard"),"true"===this.props.is_online_discussion)?this.props.fetchOnlineDiscussion({track_id:this.props.match.params.track_id,week_id:this.props.match.params.week_id,question_id:this.props.match.params.question_id,trial_platform_mode:null===(e=this.props.location)||void 0===e||null===(t=e.pathname)||void 0===t?void 0:t.includes("/t/m/")}):(this.props.fetchCoursePageData({track_id:this.props.match.params.track_id,chapter_id:this.props.match.params.chapter_id,chapter_module_id:this.props.match.params.module_id,trial_platform_mode:null===(a=this.props.location)||void 0===a||null===(n=a.pathname)||void 0===n?void 0:n.includes("/t/m/")}),window.addEventListener("beforeunload",(function(){s.props.onUpdateUserSessionPage()})));window.scrollTo(0,0),window.addEventListener("resize",this.onResizeBrowser),window.innerWidth>u.Vb.MOBILE&&(window.addEventListener("keyup",this.onKeyPress),document.addEventListener("focus",this.handleFocus,!0),document.addEventListener("blur",this.handleBlur,!0))}},{key:"componentWillUnmount",value:function(){window.addEventListener("resize",this.onResizeBrowser),this.onWindowLoadSubscription&&this.onWindowLoadSubscription.unsubscribe(),window.innerWidth>u.Vb.MOBILE&&(window.removeEventListener("keyup",this.onKeyPress),document.removeEventListener("focus",this.handleFocus,!0),document.removeEventListener("blur",this.handleBlur,!0))}},{key:"render",value:function(){var e,t,a,n,r,o,i,c,_,l,d,m,h,E,f,g,v,b,S=this,A=this.state,k=(A.notification_count,A.raw_notifications,A.markNotificationAsRead,A.profile),O=A.is_show_todo_solution_modal,T=A.is_show_survey_modal,C=this.props.courses,w=C.track,y=C.is_show_check_solution_timer,R=C.disable_next_previous_button,D=C.is_lesson_module_submitted,U=(C.is_late_assignment,C.is_disable_see_result,this.props.discussions),N=U.selected_question_data,I=U.discussion_breadcrumbs;!1===D&&this.afterCompleteLessonFetchCoursePageData(),w.cd_survey_scheds&&(this.state.cd_survey_scheds=w.cd_survey_scheds);var P=!!k&&u.d.includes(this.state.profile.general.user_level_id),j=void 0!==w.active_module&&[u.fb.LESSON_MODULE,u.fb.END_CHAPTER_SURVEY_MODULE].includes(w.active_module.module_type);w.proceed_to_next_link&&window.location.pathname.includes("/survey")&&this.props.history.push(w.next_link),"true"===this.props.is_online_discussion&&N&&N.id&&this.state.current_discussion_question_id!==N.id&&!1===this.props.analytics.is_session_page_saving&&(!1===this.props.analytics.is_session_page_updating&&this.props.onUpdateUserSessionPage(),this.setState({current_discussion_question_id:N.id}),this.props.onSaveUserSessionPage({page_type_id:u.bb,track_id:N.track_id,course_id:N.discussion_id,chapter_id:N.id,chapter_module_id:0}),setTimeout((function(){S.checkIframes()}),200)),(null===k||void 0===k||null===(e=k.workspace_custom_data)||void 0===e||null===(t=e.surveys)||void 0===t?void 0:t.incomplete_mandatory_survey_ids.length)&&(window.location.href="/dashboard");var L=Object(p.y)(),M=L.status?null===(a=L.user_details.workspace_custom_data)||void 0===a?void 0:a.sence_integration:null,F=null===(n=this.props.user)||void 0===n||null===(r=n.user_details)||void 0===r||null===(o=r.general)||void 0===o?void 0:o.trial_platform_mode;return s.a.createElement(s.a.Fragment,null,w.active_module&&w.active_chapter&&s.a.createElement(et,{title:"".concat(w.active_module.module_type===u.fb.END_CHAPTER_SURVEY_MODULE?"Chapter Survey":w.active_module.chapter_module_title," | ").concat(w.active_chapter.chapter_title)}),I[1]&&I[2]&&s.a.createElement(et,{title:"".concat(I[2]," | ").concat(I[1])}),s.a.createElement(ba,{is_show:this.state.is_show_report_curriculum_popover,track:this.props.courses.track,onHideReportCurriculumMistake:this.onHideReportCurriculumMistake}),s.a.createElement(He,{className:"container ".concat(this.state.mobile_show_module?"show_module":"hide_module"),user_info:this.state.profile,onAddActivityLog:this.props.onAddActivityLog,onAddBookmark:this.props.onAddBookmark,onRemoveBookmark:this.props.onRemoveBookmark,history:this.props.history,is_dark_mode:this.props.is_dark_mode,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,onUpdateUserSessionPage:this.props.onUpdateUserSessionPage}),(null===M||void 0===M?void 0:M.is_sence_session_on)&&this.state.is_show_sence_countdown_timer&&s.a.createElement(Je,{history:this.props.history,updateParentStateFromChild:function(e){S.setState(e)}}),s.a.createElement("div",{className:"container ".concat(this.state.mobile_show_module?"show_module":"hide_module"),id:"course_container"},s.a.createElement(tn,{bookmarks:this.props.bookmarks,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,history:this.props.history,is_dark_mode:this.props.is_dark_mode,is_show_links:!0,location:this.props.location.pathname,onAddActivityLog:this.props.onAddActivityLog,onAddBookmark:this.props.onAddBookmark,onRemoveBookmark:this.props.onRemoveBookmark,setStateFromChild:this.setStateFromChild}),"true"===this.props.is_online_discussion&&s.a.createElement(Ra,{mobileShowModule:function(){return S.setState({mobile_show_module:!0})},pathParams:this.props.match.params,online_discussion:this.props.discussions,user_level_id:(null===(i=this.state.profile)||void 0===i||null===(c=i.general)||void 0===c?void 0:c.user_level_id)?this.state.profile.general.user_level_id:"",onAddActivityLog:this.props.onAddActivityLog}),"false"===this.props.is_online_discussion&&s.a.createElement(ya,{mobileShowModule:function(){return S.setState({mobile_show_module:!0})},pathParams:this.props.match.params,track:w,user_level_id:(null===(_=this.state.profile)||void 0===_||null===(l=_.general)||void 0===l?void 0:l.user_level_id)?this.state.profile.general.user_level_id:"",onAddActivityLog:this.props.onAddActivityLog}),s.a.createElement("div",{id:"module_description_container",className:"right_container ".concat("true"===this.props.is_online_discussion?"is_online_discussion":""),ref:this.module_description_container_position},"true"===this.props.is_online_discussion&&s.a.createElement("div",{className:"content_header"},s.a.createElement(st.a,{minWidth:769},s.a.createElement("h1",{className:"module_name"},(null===(d=this.props.discussions)||void 0===d?void 0:d.discussion_breadcrumbs)?this.props.discussions.discussion_breadcrumbs[2]:null)),s.a.createElement(st.a,{maxWidth:768},s.a.createElement("button",{id:"course_back_btn",type:"button",onClick:function(){return S.setState({mobile_show_module:!1})}},s.a.createElement(Te.a,{icon:["fas","chevron-left"]})),s.a.createElement("h2",{id:"mobile_title"},void 0!==(null===(m=this.props.discussions)||void 0===m?void 0:m.discussion_breadcrumbs)?this.props.discussions.discussion_breadcrumbs[2]:null)),!0===P&&s.a.createElement("div",{id:"online_discussion_cta_container"},s.a.createElement("button",{type:"button",className:"edit_discussion_btn",onClick:function(){return S.setState({is_show_edit_discussion_board_modal:!0})}}),s.a.createElement("button",{type:"button",className:"delete_discussion_btn",onClick:function(){return S.setState({is_show_delete_discussion_module_modal:!0})}}))),"survey"===w.chapter_module_id&&s.a.createElement("div",{className:"content_header"},s.a.createElement(st.a,{maxWidth:768},s.a.createElement("button",{id:"course_back_btn",type:"button",onClick:function(){return S.setState({mobile_show_module:!1})}},s.a.createElement(Te.a,{icon:["fas","chevron-left"]})),s.a.createElement("h2",{id:"mobile_title"},s.a.createElement("span",{className:"icon ".concat(this.getIconOnMobileView(w.active_module.module_type,w))}),"Survey"))),void 0!==w.active_chapter&&"survey"!==w.chapter_module_id&&s.a.createElement("div",{className:"content_header"},s.a.createElement(st.a,{maxWidth:768},s.a.createElement("button",{id:"course_back_btn",type:"button",onClick:function(){return S.setState({mobile_show_module:!1})}},s.a.createElement(Te.a,{icon:["fas","chevron-left"]})),s.a.createElement("h2",{id:"mobile_title"},s.a.createElement("span",{className:"icon ".concat(this.getIconOnMobileView(w.active_module.module_type,w))}),w.active_module.chapter_module_title)),s.a.createElement("button",{id:"bookmark_module_btn",className:"".concat(w.active_module&&w.active_module.bookmark_id&&!0===w.active_module.is_bookmarked?"bookmarked_module_fill":""),type:"button",onClick:function(e){return w.active_module&&w.active_module.bookmark_id&&!0===w.active_module.is_bookmarked?S.removeModuleBookmark(e,w.active_module):S.displayAddBookmarkModal(w.active_module)}})),!0===P&&void 0!==w.active_chapter&&1===w.active_module.module_type&&s.a.createElement("a",{target:"_blank",id:"course_edit_btn",href:"/modules/edit/".concat(w.track_id,"/").concat(w.active_chapter.chapter_id,"/").concat(w.active_module.chapter_module_id)}),s.a.createElement("div",{className:"content",onScroll:function(){return S.state.is_show_report_curriculum_popover&&S.setState({is_show_report_curriculum_popover:!1})}},void 0!==w.active_module&&null!==w.active_module.content?this.renderModuleDescription(w.active_module):null,"true"===this.props.is_online_discussion?this.renderModuleDescription("online_discussion"):null),s.a.createElement("textarea",{id:"copy_to_clipboard_value"})),(void 0!==w.active_module&&void 0!==w.active_module.content&&0===w.active_module.module_type&&void 0!==w.faqs&&w.faqs.faq_count>0)>0&&s.a.createElement(qt,{active_module:w.active_module,onAddActivityLog:this.props.onAddActivityLog}),(void 0!==w.active_module&&w.active_module.module_type===u.fb.TASK_MODULE)>0&&s.a.createElement(Cn,{user_profile:k,toggleShowModal:function(e){return Object(p.W)(S,"is_show_todo_solution_modal",!1)},is_show_todo_solution_modal:O,getSolutionsFromGithub:this.getSolutionsFromGithub,onAddActivityLog:this.props.onAddActivityLog,is_show_todo_submit:w.is_show_todo_submit,updateParentStateFromChild:function(e){return S.setState(e)}}),this.props.courses.track.todo_solution&&this.state.is_solution_countdown_completed?s.a.createElement("div",{id:"check_solutions_container"},s.a.createElement("button",{type:"button",onClick:this.displayCheckSolutionsModal},"Check Solutions")):y&&this.props.courses.track.todo_solution&&this.props.courses.track.assignment_remaining_time&&s.a.createElement("div",{id:"check_solutions_container"},s.a.createElement(Ve.a,{date:this.props.courses.track.assignment_remaining_time,renderer:this.displayCheckSolutionBtn})),"true"===this.props.is_online_discussion&&s.a.createElement(oa,{mobile_show_module:this.state.mobile_show_module,online_discussion:this.props.discussions,is_show_delete_discussion_modal:this.state.is_show_delete_discussion_modal,toggleShowModal:function(e){return Object(p.W)(S,"is_show_delete_discussion_modal",!1)},handleOnSubmitDeleteDiscussion:this.onSubmitDeleteDiscussion,handleDeleteDiscussionModal:this.showDeleteDiscussionModal,onAddActivityLog:this.props.onAddActivityLog,discussion_position:this.discussion_position}),"true"===this.props.is_online_discussion&&null!==this.props.discussions.selected_question_data&&s.a.createElement("div",{id:"module_navigation_container",className:"".concat("/courses"===(null===(h=this.props.discussions.selected_question_data)||void 0===h?void 0:h.previous_link)?"flex_end":"")},"/courses"!==(null===(E=this.props.discussions.selected_question_data)||void 0===E?void 0:E.previous_link)&&s.a.createElement(pe.b,{to:{pathname:null===(f=this.props.discussions.selected_question_data)||void 0===f?void 0:f.previous_link},onClick:function(){return S.clickPreviousNextLink("previous")},innerRef:this.previous_button},s.a.createElement(Te.a,{icon:["fas","chevron-left"]})," Previous"),s.a.createElement(pe.b,{to:{pathname:this.props.discussions.selected_question_data.next_link},onClick:function(){return S.clickPreviousNextLink("next")},className:"btn btn-primary",innerRef:this.next_button},"Next ",s.a.createElement(Te.a,{icon:["fas","chevron-right"]}))),"false"===this.props.is_online_discussion&&s.a.createElement("div",{id:"module_navigation_container",className:"".concat(w.previous_link===(F?"/t/courses":"/courses")?"flex_end":"")},w.previous_link!==(F?"/t/courses":"/courses")&&s.a.createElement(pe.b,{to:{pathname:w.previous_link},className:"".concat(void 0===w.active_module||R?"disabled":""),onClick:function(){return S.clickPreviousNextLink("previous")},innerRef:this.previous_button},s.a.createElement(Te.a,{icon:["fas","chevron-left"]})," Previous"),!0===j&&!0===[u.fb.LESSON_MODULE,u.fb.END_CHAPTER_SURVEY_MODULE].includes(w.active_module.module_type)?s.a.createElement("button",{type:"button",className:"btn btn-primary ".concat(void 0===w.active_module||R?"disabled":""),onClick:function(){S.processNextStepBeforeNextLink(P)},ref:this.next_button},this.nextButtonText(w)," ",s.a.createElement(Te.a,{icon:["fas","chevron-right"]})):s.a.createElement(pe.b,{to:{pathname:w.next_link},onClick:function(){return S.clickPreviousNextLink("next")},className:"btn btn-primary ".concat(void 0===w.active_module||R?"disabled":""),innerRef:this.next_button}," ",this.nextButtonText(w)," ",s.a.createElement(Te.a,{icon:["fas","chevron-right"]}))),s.a.createElement("div",{id:"privacy_policy_container"},s.a.createElement("button",{type:"button",onClick:function(){return Object(p.W)(S,"is_show_privacy_policy_modal",!0)}},"Privacy Policy"))),"true"===this.props.is_online_discussion&&!0===P&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Ft,{toggleShowModal:function(){return Object(p.W)(S,"is_show_edit_discussion_board_modal",!1)},show:this.state.is_show_edit_discussion_board_modal}),s.a.createElement(Rt,{toggleShowModal:function(){return Object(p.W)(S,"is_show_delete_discussion_module_modal",!1)},show:this.state.is_show_delete_discussion_module_modal})),s.a.createElement(ia,{show:this.state.is_show_privacy_policy_modal,toggleShowModal:function(){return Object(p.W)(S,"is_show_privacy_policy_modal",!1)}}),void 0!==w.active_chapter&&"survey"!==w.chapter_module_id&&s.a.createElement(ht,{active_module:w.active_module,track_course_id:w.track_course_id,chapter_details:{id:w.active_chapter.chapter_id,title:w.active_chapter.chapter_title},track_details:{id:w.track_id,title:w.track_title},show:this.state.is_show_add_bookmark_modal,toggleShowModal:function(){return Object(p.W)(S,"is_show_add_bookmark_modal",!1)},onAddActivityLog:this.props.onAddActivityLog,is_track_overview:!1}),void 0!==w.active_module&&w.active_module.module_type===u.fb.TASK_MODULE&&void 0!==w.has_ongoing_assignment&&s.a.createElement(dn,{todo_title:w.active_module.chapter_module_title,show:w.is_show_todo_modal,has_ongoing_assignment:w.has_ongoing_assignment,toggleShowModal:function(){return Object(p.W)(S,"is_show_todo_modal",!1)},onAddActivityLog:this.props.onAddActivityLog}),T&&(null===(g=this.state.cd_survey_scheds)||void 0===g?void 0:g.length)&&(null===(v=this.state.profile)||void 0===v||null===(b=v.workspace_custom_data)||void 0===b?void 0:b.stack_info)?s.a.createElement(In,{show:T,surveys:this.state.cd_survey_scheds,user_info:this.state.profile,current_url:this.props.match.params,hideModal:this.hideModal,toggleShowModal:function(e){return Object(p.W)(S,"is_show_survey_modal",!1)},onAddActivityLog:this.props.onAddActivityLog}):"",this.props.courses.track.todo_solution&&s.a.createElement(s.a.Fragment,null,s.a.createElement(pn,{show:this.state.is_show_todo_solution_modal,todo_solution:this.props.courses.track.todo_solution,toggleShowModal:function(e){return Object(p.W)(S,"is_show_todo_solution_modal",!1)},onAddActivityLog:this.props.onAddActivityLog,getSolutionsFromGithub:this.getSolutionsFromGithub,changeActiveTabContent:this.changeActiveTabContent,chapter_module_id:this.props.courses.track.chapter_module_id,getToDoSolutionFileContent:this.props.getToDoSolutionFileContent,changeActiveFileContent:this.props.changeActiveFileContent,active_module:this.props.courses.track.active_module,is_dark_mode:this.props.is_dark_mode})),this.state.is_show_failed_sence_login_modal&&M&&!(null===M||void 0===M?void 0:M.has_expired)&&s.a.createElement(Pn,{show:this.state.is_show_failed_sence_login_modal,toggleShowModal:function(){return Object(p.W)(S,"is_show_failed_sence_login_modal",!1)},history:this.props.history,user_details:this.state.profile}),M&&(this.state.is_show_failed_sence_request_modal||(null===M||void 0===M?void 0:M.has_expired)&&(null===M||void 0===M?void 0:M.cd_stack_ids.includes(parseInt(this.props.location.pathname.split("/")[2]))))&&s.a.createElement(Xe,{show:this.state.is_show_failed_sence_request_modal||(null===M||void 0===M?void 0:M.has_expired),toggleShowModal:function(){return Object(p.W)(S,"is_show_failed_sence_request_modal",!1)},showFailedSenceModal:function(){return S.setState({is_show_failed_sence_login_modal:!0})},is_sence_session_expired:null===M||void 0===M?void 0:M.has_expired,error_code:this.state.error_code,updateParentStateFromChild:function(e){S.setState(e)},history:this.props.history}))}}]),a}(n.Component)),Ln=ot.fetchCoursePageData,Mn=ot.completeLessonModule,Fn=ot.submitAssignmentTask,xn=ot.changePropsValue,Bn=ot.startQuiz,Wn=ot.navigateQuiz,Hn=ct.fetchOnlineDiscussion,Kn=ct.saveDiscussionResponse,Gn=ct.deleteDiscussionResponse,Vn=lt.changeActiveFileContent,qn=lt.changeActiveTabContent,Yn=lt.getToDoSolution,Qn=lt.getToDoSolutionFileContent,$n=Object(p.J)(["courses","analytics","discussions","user"],{fetchCoursePageData:Ln,completeLessonModule:Mn,submitAssignmentTask:Fn,changePropsValue:xn,startQuiz:Bn,navigateQuiz:Wn,getToDoSolution:Yn,getToDoSolutionFileContent:Qn,changeActiveFileContent:Vn,changeActiveTabContent:qn,fetchOnlineDiscussion:Hn,saveDiscussionResponse:Kn,deleteDiscussionResponse:Gn}),zn=$n.mapStateToProps,Jn=$n.mapDispatchToProps,Xn=Object(ue.b)(zn,Jn)(jn),Zn=a(35),es=a.n(Zn),ts=a(37),as=(a(1181),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).clickTrackProgressLink=function(){e.props.onAddActivityLog("2.16.3")},e.clickTrackProgressLinkForSence=function(t,a){var n,s,r={link:t,is_open_new_tab:a},o=t.split("/")[2];(null===(n=e.props.sence_session)||void 0===n?void 0:n.is_sence_user)&&!(null===(s=e.props.sence_session)||void 0===s?void 0:s.is_sence_session_on)&&e.props.sence_session.cd_stack_ids.includes(parseInt(o))&&(e.props.sence_session.has_expired?e.props.showFailedSenceRequestModal(!0,t):e.props.showFailedSenceLoginModal(!0,t),r=null),e.props.onAddActivityLog("2.16.3",r)},e.renderCourseProgress=function(e,t){return!!t.course_progress&&s.a.createElement(va.a,{placement:"bottom",overlay:e?s.a.createElement("div",null):s.a.createElement(ga.a,{id:"course_completed_popover"},s.a.createElement(ga.a.Title,null,s.a.createElement("img",{className:"track_icon",src:t.image_src,alt:t.name}),s.a.createElement("span",{className:"track_name"},t.name," ",t.course_progress.overall.completion||"")),s.a.createElement(ga.a.Content,null,s.a.createElement("div",{className:"course_completed_progress_bar"},s.a.createElement("div",{className:"on_time_progress",style:{width:"".concat(t.course_progress.within_stack_sched.percentage,"%")}}),s.a.createElement("div",{className:"late_progress",style:{width:"".concat(t.course_progress.outside_stack_sched.percentage,"%")}})),s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("li",null,s.a.createElement("span",null)," On-time Progress: ","".concat(t.course_progress.within_stack_sched.completion)," Modules"),s.a.createElement("li",null,s.a.createElement("span",null)," Out-of-schedule Progress: ","".concat(t.course_progress.outside_stack_sched.completion)," Modules")),s.a.createElement("p",null,"The progress indicates your module completion, including lectures, core assignments, and quizzes.")))},t.id!==u.e&&(t.course_progress.overall.percentage<100&&!1===e?s.a.createElement("div",{className:"course_progress_container"},s.a.createElement("div",{className:"on_time_progress",style:{width:"".concat(t.course_progress.within_stack_sched.percentage,"%")}}),s.a.createElement("div",{className:"late_progress",style:{width:"".concat(t.course_progress.outside_stack_sched.percentage,"%")}})):s.a.createElement("div",{className:"course_completed_container"},s.a.createElement("span",null,!1===e?t.course_progress.overall.percentage:100,"%",t.course_progress.outside_stack_sched.percentage>0&&"*"),s.a.createElement("div",{className:"on_time_progress",style:{width:"".concat(!1===e?t.course_progress.within_stack_sched.percentage:100,"%")}}),s.a.createElement("div",{className:"late_progress",style:{width:"".concat(!1===e?t.course_progress.outside_stack_sched.percentage:0,"%")}})))||"")},e.renderCompletedCourseProgress=function(e,t){return s.a.createElement(va.a,{placement:"bottom",overlay:e?s.a.createElement("div",null):s.a.createElement(ga.a,{id:"course_completed_popover"},s.a.createElement(ga.a.Title,null,s.a.createElement("img",{className:"track_icon",src:t.image_src,alt:t.name}),s.a.createElement("span",{className:"track_name"},t.name," ",t.course_progress.overall.completion||"")),s.a.createElement(ga.a.Content,null,s.a.createElement("div",{className:"course_completed_progress_bar"},s.a.createElement("div",{className:"on_time_progress",style:{width:"".concat(t.course_progress.within_stack_sched.percentage,"%")}}),s.a.createElement("div",{className:"late_progress",style:{width:"".concat(t.course_progress.outside_stack_sched.percentage,"%")}})),s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("li",null,s.a.createElement("span",null)," On-time Progress: ","".concat(t.course_progress.within_stack_sched.completion)," Modules"),s.a.createElement("li",null,s.a.createElement("span",null)," Late Progress: ","".concat(t.course_progress.outside_stack_sched.completion)," Modules")),s.a.createElement("p",null,"*The Learn Platform dashboard will capture all of the learning progress (",s.a.createElement("i",null,"reading lectures, submitting mandatory assignments and finishing quizzes"),") you make at Coding Dojo, no matter you did them on time or not. However, only the progress made within the period of course schedule will be reflected in your official Coding Dojo Progress Report and Transcript.")))},s.a.createElement("div",{className:"course_completed_container"},s.a.createElement("span",null,!1===e?t.course_progress.overall.percentage:100,"%",t.course_progress.outside_stack_sched.percentage>0&&"*"),s.a.createElement("div",{className:"on_time_progress",style:{width:"".concat(!1===e?t.course_progress.within_stack_sched.percentage:100,"%")}}),s.a.createElement("div",{className:"late_progress",style:{width:"".concat(!1===e?t.course_progress.outside_stack_sched.percentage:0,"%")}})))},e}return Object(_e.a)(a,[{key:"render",value:function(){var e,t,a=this,n=this.props,r=n.track_progress,o=n.user_level,i=n.is_major_track,c=u.d.includes(o);return s.a.createElement("li",{className:"course_progress_item"},!1===r.link.includes("http://")&&s.a.createElement(s.a.Fragment,null,(null===(e=this.props.sence_session)||void 0===e?void 0:e.is_sence_user)&&!(null===(t=this.props.sence_session)||void 0===t?void 0:t.is_sence_session_on)&&i?s.a.createElement("button",{type:"button",onClick:function(){return a.clickTrackProgressLinkForSence(r.link,!1,i)}},s.a.createElement("img",{className:"track_icon",src:r.image_src.includes("/assets/tracks")?"https://assets.codingdojo.com/boomyeah2015/codingdojo/course_icons/workshop.png":r.image_src,alt:r.name}),s.a.createElement("span",{className:"track_name"},r.name," ",!1===c&&r.course_progress&&r.course_progress.overall.completion||""),this.renderCourseProgress(c,r)):s.a.createElement(pe.b,{to:r.link,onClick:function(){return a.clickTrackProgressLink()}},s.a.createElement("img",{className:"track_icon",src:r.image_src.includes("/assets/tracks")?"https://assets.codingdojo.com/boomyeah2015/codingdojo/course_icons/workshop.png":r.image_src,alt:r.name}),s.a.createElement("span",{className:"track_name"},r.name," ",!1===c&&r.course_progress&&r.course_progress.overall.completion||""),this.renderCourseProgress(c,r))),!0===r.link.includes("http://")&&s.a.createElement("a",{href:r.link,target:"_blank",onClick:function(){return a.clickTrackProgressLink()}},s.a.createElement("img",{className:"track_icon",src:r.image_src,alt:r.name}),s.a.createElement("span",{className:"track_name"},r.name)))}}]),a}(n.Component)),ns=(a(434),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){return Object(ce.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){var e=this.props.belt;return s.a.createElement("li",{className:"belt_item ".concat(e.is_completed?"completed":"")},s.a.createElement("span",{className:"belt_icon ".concat(e.class),"data-belt-id":e.id}),s.a.createElement("span",{className:"belt_name"},e.name," BELT"))}}]),a}(n.Component)),ss=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){return Object(ce.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){var e=this.props.belt_exam;return s.a.createElement("tr",null,s.a.createElement("td",null,"undefined"!==e.name?"".concat(e.name," - "):"Belt Exam - ",e.option),s.a.createElement("td",null,"-"===e.score?"Pending":e.score))}}]),a}(n.Component),rs=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).openCourseTrackModal=function(t,a){if(null===a){var n=e.props.is_trial_platform_mode?"/t":"";e.props.history.push("".concat(n,"/course_intro/")+t.id),e.props.onAddActivityLog("2.3.12")}else window.open(a,"_blank")},e}return Object(_e.a)(a,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.track,r=a.isShowProgress,o=a.user_level,i=a.redirect_url;return!n.is_locked&&r?(n.progress>=100||u.d.includes(o))&&(e=s.a.createElement("div",{className:"completed_icon_container"})):e=s.a.createElement("div",{className:"locked_icon_container"},s.a.createElement("span",{className:"locked_icon"})),s.a.createElement("li",{"data-track-id":n.id,className:n.is_locked?"locked_track_item":null,onClick:function(){return n.is_locked?null:t.openCourseTrackModal(n,i)}},s.a.createElement("div",{className:"track_description_container"},void 0!==n.track_belt&&null!==n.track_belt&&n.track_belt.split(" ").length>1&&s.a.createElement("span",{class:"belt_icon ".concat(n.track_belt)}),s.a.createElement("p",{className:"track_title"},n.name," ",void 0!==n.sale&&s.a.createElement("span",{className:"sale_indicator"},n.sale.description," ",n.sale.percentage)),n.alias&&u.d.includes(o)&&s.a.createElement("p",{className:"track_alias"},n.alias),void 0!==n.description&&s.a.createElement("p",null,n.description)),e,n.is_locked&&s.a.createElement("div",{className:"locked_placeholder"},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/big_lock_icon.png",alt:"Lock Icon"}),s.a.createElement("p",null,"Enroll in the program to unlock this course")))}}]),a}(n.Component),os=(a(1182),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).clickCourseLink=function(){e.props.onAddActivityLog("3.3.3")},e.clickCourseLinkForSence=function(t,a,n){var s,r,o={link:t,is_open_new_tab:a},i=t.split("/")[2];(null===(s=e.props.sence_session)||void 0===s?void 0:s.is_sence_user)&&!(null===(r=e.props.sence_session)||void 0===r?void 0:r.is_sence_session_on)&&e.props.sence_session.cd_stack_ids.includes(parseInt(i))&&(e.props.sence_session.has_expired?e.props.showFailedSenceRequestModal(!0,t):e.props.showFailedSenceLoginModal(!0,t),o=null),e.props.onAddActivityLog("3.3.3",o)},e}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.show,n=t.track;return s.a.createElement(De.a,{show:a,centered:!0,onHide:function(){return e.props.toggleShowModal(!1)},id:"track_courses_modal"},s.a.createElement(De.a.Header,null,s.a.createElement(De.a.Title,null,n.name),s.a.createElement("button",{onClick:function(t){return e.props.toggleShowModal(!1)}},s.a.createElement("span",{className:"close_icon"}))),s.a.createElement(De.a.Body,null,s.a.createElement("ul",{className:"list-unstyled"},n.courses.map((function(t){var a,r;return s.a.createElement("li",{key:t.id},!1===t.link.includes("http://")&&s.a.createElement(s.a.Fragment,null,(null===(a=e.props.sence_session)||void 0===a?void 0:a.is_sence_user)&&!(null===(r=e.props.sence_session)||void 0===r?void 0:r.is_sence_session_on)&&n.is_major_track?s.a.createElement("button",{type:"button",onClick:function(){return e.clickCourseLinkForSence(t.link,!1,n.is_major_track)}},s.a.createElement("img",{src:t.image_src.includes("/assets/tracks")?"https://assets.codingdojo.com/boomyeah2015/codingdojo/course_icons/workshop.png":t.image_src,alt:t.name}),s.a.createElement(va.a,{placement:"top",delay:{show:250,hide:400},overlay:s.a.createElement(Sa.a,null,t.name)},s.a.createElement("span",null,t.name))):s.a.createElement(pe.b,{to:t.link,onClick:function(){return e.clickCourseLink()}},s.a.createElement("img",{src:t.image_src.includes("/assets/tracks")?"https://assets.codingdojo.com/boomyeah2015/codingdojo/course_icons/workshop.png":t.image_src,alt:t.name}),s.a.createElement(va.a,{placement:"top",delay:{show:250,hide:400},overlay:s.a.createElement(Sa.a,null,t.name)},s.a.createElement("span",null,t.name)))),!0===t.link.includes("http://")&&s.a.createElement("a",{href:t.link,target:"_blank",onClick:function(){return e.clickCourseLink()}},s.a.createElement("img",{src:t.image_src||"https://assets.codingdojo.com/learn_platform/global/dummy_course_icon.png",alt:"Course Icon"}),s.a.createElement("span",null,t.name)))})))))}}]),a}(n.Component)),is=(a(1183),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;Object(ce.a)(this,a),(n=t.call(this,e)).state={show:!1,is_show_typeform:!1,survey_url:"",is_mandatory:!1,cd_survey_schedule_id:null};var s=n.props,r=Object(A.a)(s.new_custom_survey,1)[0],o=s.profile,i=o.general,c=o.workspace_custom_data,_=n.props.history.location.pathname.split("/"),l=(null===r||void 0===r?void 0:r.notification_id)||parseInt(_[_.length-1]);if(c&&r){var d=c.bootcamp_info,u=c.stack_info,p=JSON.parse(r.recipient_details_json),m=r.survey_url,h=r.cd_survey_user_id,E=void 0===h?parseInt(_[_.length-2]):h,f=r.is_mandatory,g=r.user_id,v=r.cd_survey_schedule_id,b=r.language_code,S=Object.values((null===u||void 0===u?void 0:u.current)||{}).filter((function(e){var t=e.cc_stack_schedule_id;return JSON.parse(p.stack.cc_stack_schedule_id).includes(parseInt(t))})),k=Object(A.a)(S,1)[0];n.state.survey_url=m+"#user_id=".concat(g,"&cd_survey_user_id=").concat(E,"&notification_id=").concat(l,"&campus=").concat(null===d||void 0===d?void 0:d.location,"&email_address=").concat(i.email_address,"&cd_applicant_id=").concat(i.applicant_id,"&start_date=").concat(p.stack.stack_start_date,"&program=").concat(p.stack.program_title,"&current_stack=").concat(p.stack.stack_name,"&instructor=").concat(null===k||void 0===k?void 0:k.lead_instructor_name,"&platform_version=lp3"),n.state.is_mandatory=f,n.state.show=!0,n.state.cd_survey_schedule_id=v,n.state.notification_id=l,n.state.language_code=b}return n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.is_show_typeform,n=t.survey_url,r=t.show,o=t.is_mandatory,i=t.cd_survey_schedule_id,c=t.notification_id,_=t.language_code;return s.a.createElement(De.a,{show:r,centered:!0,backdrop:!o||"static",keyboard:!o,id:"new_survey_modal",className:"".concat(a?"show_typeform_modal":""),onHide:function(){e.props.processTakenSurvey(i,void 0,c),e.props.history.push("/dashboard")}},s.a.createElement(De.a.Header,null,s.a.createElement("button",{onClick:function(){e.props.processTakenSurvey(i,void 0,c),e.props.history.push("/dashboard")}},s.a.createElement("span",{className:"close_icon"}))),s.a.createElement(s.a.Fragment,null,a?s.a.createElement(De.a.Body,null,s.a.createElement("iframe",{width:"890",src:n,frameBorder:"0"})):_===u.W.spanish?s.a.createElement(De.a.Body,null,s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/skills_assessment_survey_icon.png",alt:"Survey icon"}),s.a.createElement("p",null,"\xa1Has alcanzado un hito! \xa1Bien hecho!"),s.a.createElement("p",null,"Antes de continuar, por favor ay\xfadanos a completar esta breve encuesta para contarnos m\xe1s sobre tu experiencia de aprendizaje."),s.a.createElement("p",null,"Esto ayudar\xe1 a Coding Dojo a mejorar la experiencia de aprendizaje tanto para ti como para los dem\xe1s. Completar la encuesta s\xf3lo tomar\xe1 unos minutos de tu tiempo."),s.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.setState({is_show_typeform:!0})}},"Realizar la encuesta")):s.a.createElement(De.a.Body,null,s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/skills_assessment_survey_icon.png",alt:"Survey icon"}),s.a.createElement("p",null,"You've reached a milestone! Well done!"),s.a.createElement("p",null,"Before you move on, please help us take this quick survey to tell us more about your learning experience."),s.a.createElement("p",null,"This will help Coding Dojo better shape the learning experience for you and others. The survey should only take a few minutes of your time to complete."),s.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.setState({is_show_typeform:!0})}},"Take the Survey"))))}}]),a}(n.Component)),cs=(a(160),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).redirectToEnrollApp=function(t,a){t.preventDefault(),e.props.get_enroll_app_link(a)},e.changeModalDisplayProps=function(){e.props.hideDueReminderModal("is_show_installment_due_reminder_modal",!1)},e}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;if(void 0!==this.props.dashboard.redirect_to_enroll_app)window.open(this.props.dashboard.redirect_to_enroll_app,"_blank");return s.a.createElement(De.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,className:"tuition_reminder_modal"},s.a.createElement(De.a.Header,null,s.a.createElement(De.a.Title,null,"Installment Due Reminder"),s.a.createElement("button",{onClick:function(t){return e.changeModalDisplayProps()}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/close_icon.png",alt:"Close Icon"}))),s.a.createElement(De.a.Body,null,s.a.createElement("div",{className:"clock_icon"}),s.a.createElement("p",null,"It seems like your tuition installment is due ",s.a.createElement("span",null,this.props.tuition_data.message),". To ensure you continue getting access to Coding Dojo, please take action as soon as possible."),s.a.createElement("p",null,"If you have any questions, feel free to contact us at ",s.a.createElement("a",{href:"#"},s.a.createElement("span",null,"support"),"@codingdojo.com"))),s.a.createElement(De.a.Footer,null,s.a.createElement("button",{onClick:function(t){return e.redirectToEnrollApp(t,!0)},className:"btn btn-primary"},"Make a Payment")))}}]),a}(n.Component)),_s=Object(p.J)("dashboard",{hideDueReminderModal:ts.a.hideDueReminderModal,get_enroll_app_link:ts.a.get_enroll_app_link}),ls=_s.mapStateToProps,ds=_s.mapDispatchToProps,us=Object(ue.b)(ls,ds)(cs),ps=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).redirectToEnrollApp=function(t,a){t.preventDefault(),e.props.get_enroll_app_link(a)},e}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;if(void 0!==this.props.dashboard.redirect_to_enroll_app)window.open(this.props.dashboard.redirect_to_enroll_app,"_blank");return s.a.createElement(De.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,backdrop:"static",keyboard:!1,className:"tuition_reminder_modal"},s.a.createElement(De.a.Header,null,s.a.createElement(De.a.Title,null,"Installment Overdue")),s.a.createElement(De.a.Body,null,s.a.createElement("div",{className:"clock_icon red_clock"}),s.a.createElement("p",null,"It seems like your tuition installment is ",s.a.createElement("span",null,"overdue!")," Please take action as soon as possible"),s.a.createElement("p",null,"If you have any questions, feel free to contact us at ",s.a.createElement("a",{href:"#"},s.a.createElement("span",null,"support"),"@codingdojo.com"))),s.a.createElement(De.a.Footer,null,s.a.createElement("button",{onClick:function(t){return e.redirectToEnrollApp(t,!1)},className:"btn btn-link"},"Apply for Extension"),s.a.createElement("span",null,"or"),s.a.createElement("button",{onClick:function(t){return e.redirectToEnrollApp(t,!0)},className:"btn btn-primary"},"Make a Payment")))}}]),a}(n.Component),ms=Object(p.J)("dashboard",{get_enroll_app_link:ts.a.get_enroll_app_link}),hs=ms.mapStateToProps,Es=ms.mapDispatchToProps,fs=Object(ue.b)(hs,Es)(ps),gs=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).redirectToEnrollApp=function(t,a){t.preventDefault(),e.props.get_enroll_app_link(a)},e}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;if(void 0!==this.props.dashboard.redirect_to_enroll_app)window.open(this.props.dashboard.redirect_to_enroll_app,"_blank");return s.a.createElement(De.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,backdrop:"static",keyboard:!1,className:"tuition_reminder_modal"},s.a.createElement(De.a.Header,null,s.a.createElement(De.a.Title,null,"Withdrawal Request Form")),s.a.createElement(De.a.Body,null,s.a.createElement("div",{className:"clock_icon"}),s.a.createElement("p",null,"To continue, please complete and acknowledge the Coding Dojo Withdrawal Request Form."),s.a.createElement("p",null,"If you have any questions, feel free to contact us at ",s.a.createElement("a",{href:"#"},s.a.createElement("span",null,"support"),"@codingdojo.com"))),s.a.createElement(De.a.Footer,null,s.a.createElement("button",{onClick:function(t){return e.redirectToEnrollApp(t,!1)},className:"btn btn-primary"},"Continue")))}}]),a}(n.Component),vs=Object(p.J)("dashboard",{get_enroll_app_link:ts.a.get_enroll_app_link}),bs=vs.mapStateToProps,Ss=vs.mapDispatchToProps,As=Object(ue.b)(bs,Ss)(gs),ks=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).redirectToEnrollApp=function(t,a){t.preventDefault(),e.props.get_enroll_app_link(a)},e}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;if(void 0!==this.props.dashboard.redirect_to_enroll_app)window.open(this.props.dashboard.redirect_to_enroll_app,"_blank");return s.a.createElement(De.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,backdrop:"static",keyboard:!1,className:"tuition_reminder_modal"},s.a.createElement(De.a.Header,null,s.a.createElement(De.a.Title,null,"Withdrawal Request")),s.a.createElement(De.a.Body,null,s.a.createElement("div",{className:"clock_icon"}),s.a.createElement("p",null,"To continue, please read and acknowledge the Coding Dojo Withdrawal, Cancellation, or Drop Form."),s.a.createElement("p",null,"If you have any questions, feel free to contact us at ",s.a.createElement("a",{href:"#"},s.a.createElement("span",null,"support"),"@codingdojo.com"))),s.a.createElement(De.a.Footer,null,s.a.createElement("button",{onClick:function(t){return e.redirectToEnrollApp(t,!1)},className:"btn btn-primary"},"Continue")))}}]),a}(n.Component),Os=Object(p.J)("dashboard",{get_enroll_app_link:ts.a.get_enroll_app_link}),Ts=Os.mapStateToProps,Cs=Os.mapDispatchToProps,ws=Object(ue.b)(Ts,Cs)(ks),ys=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).redirectToEnrollApp=function(t,a){t.preventDefault(),e.props.get_enroll_app_link(a)},e}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;if(void 0!==this.props.dashboard.redirect_to_enroll_app)window.open(this.props.dashboard.redirect_to_enroll_app,"_blank");return s.a.createElement(De.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,className:"tuition_reminder_modal"},s.a.createElement(De.a.Header,null,s.a.createElement(De.a.Title,null,"Enrollment Agreement")),s.a.createElement(De.a.Body,null,s.a.createElement("div",{className:"clock_icon"}),s.a.createElement("p",null,"To continue, please read and accept the Coding Dojo Enrollment Agreement."),s.a.createElement("p",null,"If you have any questions, feel free to contact us at ",s.a.createElement("a",{href:"#"},s.a.createElement("span",null,"support"),"@codingdojo.com"))),s.a.createElement(De.a.Footer,null,s.a.createElement("button",{onClick:function(t){return e.redirectToEnrollApp(t,!1)},className:"btn btn-primary"},"Continue")))}}]),a}(n.Component),Rs=Object(p.J)("dashboard",{get_enroll_app_link:ts.a.get_enroll_app_link}),Ds=Rs.mapStateToProps,Us=Rs.mapDispatchToProps,Ns=Object(ue.b)(Ds,Us)(ys),Is=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).redirectToEnrollApp=function(t,a){t.preventDefault(),e.props.get_enroll_app_link(a)},e}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;if(void 0!==this.props.dashboard.redirect_to_enroll_app)window.open(this.props.dashboard.redirect_to_enroll_app,"_blank");return s.a.createElement(De.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,backdrop:"static",keyboard:!1,className:"tuition_reminder_modal"},s.a.createElement(De.a.Header,null,s.a.createElement(De.a.Title,null,"Enrollment Agreement Amendment")),s.a.createElement(De.a.Body,null,s.a.createElement("div",{className:"clock_icon"}),s.a.createElement("p",null,"To continue, please read and accept the Coding Dojo Enrollment Agreement."),s.a.createElement("p",null,"If you have any questions, feel free to contact us at ",s.a.createElement("a",{href:"#"},s.a.createElement("span",null,"support"),"@codingdojo.com"))),s.a.createElement(De.a.Footer,null,s.a.createElement("button",{onClick:function(t){return e.redirectToEnrollApp(t,!1)},className:"btn btn-primary"},"Continue")))}}]),a}(n.Component),Ps=Object(p.J)("dashboard",{get_enroll_app_link:ts.a.get_enroll_app_link}),js=Ps.mapStateToProps,Ls=Ps.mapDispatchToProps,Ms=Object(ue.b)(js,Ls)(Is),Fs=(a(1184),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;Object(ce.a)(this,a),(n=t.call(this,e)).skipDiscussionReminderModal=function(e){n.props.dismissDiscussionReminderModal({notification_ids:e,update_data:{content_json:{is_skipped:u.s.YES_VALUE}},additional_conditions:{}},n.props.discussion_notifications)},n.state={is_dismissable_modal:!0,is_show:!1,completion_details:"",content_object:{},subject_record_id:null,discussion_notification:{}};var s=n.props.discussion_notifications,r=Object(A.a)(s,1)[0],o=r.content_json,i=r.details,c=r.subject_record_id;if(i){var _=JSON.parse(i),l=(_.is_dismissable,_.expired_at_workspace_tz);n.state.is_show=n.props.show,n.state.is_dismissable_modal=!1,n.state.content_object=JSON.parse(o),n.state.completion_details=v()(l).format("dddd ".concat(n.state.content_object.is_final_week?"":"hh:mm A"))+"".concat(n.state.content_object.is_final_week?"Noon":""," (PST)")}return n.state.subject_record_id=c,n.state.discussion_notification=r,n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.is_show,n=t.is_dismissable_modal,r=t.completion_details,o=t.content_object,i=t.subject_record_id,c=t.discussion_notification;return s.a.createElement(De.a,{show:a,onHide:function(){return e.skipDiscussionReminderModal(JSON.parse(c.id))},centered:!0,backdrop:n?"false":"static",keyboard:n,id:"discussion_question_modal"},s.a.createElement(De.a.Body,null,n&&s.a.createElement("button",{onClick:function(){return e.skipDiscussionReminderModal(JSON.parse(c.id))}}),s.a.createElement("div",{className:"checklist_icon"}),s.a.createElement("p",null,"For this program, attendance is measured by completing discussion questions."),s.a.createElement("h6",null,this.state.content_object.is_final_week?"Questions are due earlier this week":"Questions must be completed by ".concat(r)),s.a.createElement("a",{href:"/d/".concat(o.track_id,"/").concat(o.discussion_id,"/").concat(i)},"GO TO DISCUSSION QUESTIONS")))}}]),a}(n.Component)),xs=Object(p.J)("dashboard",{}),Bs=xs.mapStateToProps,Ws=xs.mapDispatchToProps,Hs=Object(ue.b)(Bs,Ws)(Fs),Ks=(a(1185),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).state={selected_workspace:[],is_processing_workspace:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(De.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,id:"workspace_switch_modal"},s.a.createElement(De.a.Body,null,s.a.createElement("form",{action:"",onSubmit:function(t){e.props.onProcessSwitchWorkspace(t,e.state.selected_workspace),e.setState({is_processing_workspace:!0})}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform".concat(this.props.is_dark_mode?"/dark_mode/global/coding-dojo-white-vertical-logo.svg":"/user/login/cd_black_logo.png"),alt:"CodingDojo Logo"}),s.a.createElement("p",null,"Your account has access to multiple workspaces. Select the workspace you are signing into. You can switch to another workspace later."),s.a.createElement(es.a,{id:"workspace_switch_select",placeholder:"Select the workspace to sign in",searchable:!1,labelField:"workspace",valueField:"id",options:this.props.active_workspaces,values:[],onChange:function(t){return e.setState({selected_workspace:t})}}),s.a.createElement("button",{type:"submit",className:this.state.selected_workspace.length>0&&!this.state.is_processing_workspace?"":"disabled"},"Confirm"))))}}]),a}(n.Component)),Gs=(a(1197),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){return Object(ce.a)(this,a),t.call(this,e)}return Object(_e.a)(a,[{key:"submitReview",value:function(e,t){t.has_agreed=e,this.props.submitReview(t),this.props.onAddActivityLog(e?"3.21.5":"3.21.13")}},{key:"render",value:function(){var e=this,t=this.props.review_data,a="#",n="google_rating_modal",r=" Rate Us Now on Google Reviews!";return this.props.show&&(a=t.unfinished_google_review_logs.review_link,"trust_pilot"===t.unfinished_google_review_logs.type&&(n="trustpilot_rating_modal",r=" Rate Us Now on Trustpilot!")),s.a.createElement(De.a,{show:this.props.show,onHide:function(){return e.submitReview(!1,t.unfinished_google_review_logs)},centered:!0,id:n},s.a.createElement(De.a.Header,null,s.a.createElement(De.a.Title,null,"Congratulations on finishing your Belt Exam and getting your Belt!"),s.a.createElement("button",{onClick:function(){return e.submitReview(!1,t.unfinished_google_review_logs)}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/close_icon.png",alt:"Close Icon"}))),s.a.createElement(De.a.Body,null,s.a.createElement("div",{className:"rating_icon"}),s.a.createElement("p",null,"We're so proud of the progress you're making!",s.a.createElement("br",null)," Would you mind taking a moment to review your experience at Coding Dojo to let the world know how we're doing?"),s.a.createElement("p",null,"(It will normally take less than 2 minutes!)")),s.a.createElement(De.a.Footer,null,s.a.createElement("a",{href:a,target:"_blank",className:"btn btn-primary",onClick:function(a){return e.submitReview(!0,t.unfinished_google_review_logs)}},s.a.createElement("span",{className:"rating_button_icon"}),r)))}}]),a}(n.Component)),Vs=Object(p.J)(void 0,{submitReview:ts.a.updateGoogleReviewLog}),qs=Vs.mapStateToProps,Ys=Vs.mapDispatchToProps,Qs=Object(ue.b)(qs,Ys)(Gs),$s=(a(1198),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;Object(ce.a)(this,a),(n=t.call(this,e)).showTypeform=function(e){n.setState({is_show_typeform:!0});var t=(n.props.location&&n.props.location.state||{from:{pathname:"/take_survey"}}).from;n.props.processTakenSurvey(e,t)};var s,r=n.props,o=r.cd_survey_scheds,i=r.user_details,c=i.id,_=i.workspace_custom_data,l=_.bootcamp_info,d=_.stack_info,p=o.filter((function(e){return u.t.includes(e.cd_survey_schedule_id)})),m=Object(A.a)(p,1)[0],h=m.user_id,E=m.cd_survey_user_id,f=m.cd_survey_schedule_id,g=m.survey_url,v=m.bri_details_json,b=JSON.parse(v),S=b.is_skippable,k=b.is_first_cd_survey_user_record,O=b.skip_expire_at,T="#user_id=".concat(h,"&cd_survey_user_id=").concat(E,"&email_address=").concat(c);if(l){var C=l.location,w=l.program_type;T+="&program=".concat(w,"&campus=").concat(C)}d&&(T+="&start_date=".concat(null===(s=d.current)||void 0===s?void 0:s.start_date));return n.state={is_show_typeform:!1,typeform_embed_link:g+T,user_id:h,cd_survey_user_id:E,is_skippable:S,is_first_cd_survey_user_record:k,skip_expire_at:O,cd_survey_schedule_id:f},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props.show,a=this.state,n=a.is_show_typeform,r=a.typeform_embed_link,o=a.cd_survey_user_id,i=a.user_id,c=a.is_skippable,_=a.is_first_cd_survey_user_record,l=a.skip_expire_at,d=a.cd_survey_schedule_id;return s.a.createElement(De.a,{show:t,centered:!0,backdrop:"static",keyboard:!1,id:"bootcamp_readiness_modal",className:"".concat(n?"show_typeform_modal":"")},s.a.createElement(s.a.Fragment,null,n?s.a.createElement(De.a.Body,null,s.a.createElement("iframe",{width:"890",src:r,frameborder:"0"})):s.a.createElement(De.a.Body,null,s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/skills_assessment_survey_icon.png",alt:"Bootcamp Readiness Inventory icon"}),c&&_&&s.a.createElement("h2",null,s.a.createElement("b",null,"Welcome to Coding Dojo!")," To get started we want to know where you are in your learning journey. We ",s.a.createElement("b",null,"require")," all students to take the Bootcamp Readiness Inventory when they start their program. This will enable us to understand you better and tailor ",s.a.createElement("br",null)," your experience."),c&&!_&&s.a.createElement("h2",null,s.a.createElement("b",null,"Welcome back!")," It seems like you were not able to complete your Bootcamp Readiness Inventory. Please take sometime to complete it before ",s.a.createElement("b",null,l)," or risk losing access to your content."),!c&&s.a.createElement("h2",null,s.a.createElement("b",null,"Sorry but you can\u2019t access your content right now!")," To continue with your learning journey. Please take the ",s.a.createElement("b",null,"required")," Bootcamp Readiness Inventory."),s.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.showTypeform(d)}},"Let's do it!"),c&&s.a.createElement("p",null,"or ",s.a.createElement("button",{onClick:function(){return e.props.processSkipSurvey({user_id:i,cd_survey_user_id:o,from:null,is_bootcamp_readiness:!0,cd_survey_schedule_id:d})}},"Skip for now")," but complete before ",l),s.a.createElement("p",null,"If you have any questions or concerns, please reach out to ",s.a.createElement("a",{href:"mailto:support@codingdojo.com"},"support@codingdojo.com"),". ",!c&&s.a.createElement(s.a.Fragment,null,"or ",s.a.createElement("a",{href:"/logout"},"log out")," if you are not ready to proceed.")))))}}]),a}(n.Component)),zs=Object(p.J)(void 0,{processSkipSurvey:yn.processSkipSurvey,processTakenSurvey:yn.processTakenSurvey}),Js=zs.mapStateToProps,Xs=zs.mapDispatchToProps,Zs=Object(ue.b)(Js,Xs)($s),er=(a(1199),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){return Object(ce.a)(this,a),t.call(this,e)}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(De.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,id:"trial_platform_message_modal"},s.a.createElement(De.a.Body,null,s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/user/login/coding_dojo_".concat(this.props.is_dark_mode?"white":"black","_new_version.svg"),alt:"codingdojo logo"}),s.a.createElement("h6",null,"Welcome to Learning Platform!"),s.a.createElement("p",null,"We're excited to offer you an exclusive opportunity to explore the learning platform before you enroll."),s.a.createElement("button",{type:"button",className:"btn-primary",onClick:function(){return e.props.toggleShowModal(!1)}},"Explore")))}}]),a}(n.Component)),tr=(a(1200),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;Object(ce.a)(this,a),(n=t.call(this,e)).setActiveTrack=function(e){n.props.get_track_courses(e.id,e.is_major_track),Object(p.W)(Object(Se.a)(n),"is_show_track_courses_modal",!0)},n.hasClickLink=function(e){"last_visited"===e&&n.props.onAddActivityLog("2.3.3")},n.onSelectTrackProgress=function(e){n.props.get_tracks_progress(e),n.props.onAddActivityLog("2.0.25")},n.toggleSectionInMobile=function(e){var t=Object(f.a)(n.state.dashboard_accordion);t.map((function(t){t.id==e.id&&(t.is_active=!t.is_active)})),n.setState({dashboard_accordion:t})},n.processSwitchWorkspace=function(e,t){return e.preventDefault(),n.props.switchWorkspace({workspace_id:t[0].id,force_reload_page:!0}),n.setState({is_show_workspace_switch_modal:!1}),!1},n.customDropdownRenderer=function(e){var t=e.props,a=e.state,n=e.methods,r=t.options.filter((function(e){var t,n;return((null===(t=e.alias)||void 0===t?void 0:t.toLowerCase())||(null===(n=e.name)||void 0===n?void 0:n.toLowerCase())).includes(a.search.toLowerCase())}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"dropdown_search_container"},s.a.createElement("input",{type:"text",value:a.search,onChange:n.setSearch,placeholder:"Search Course"})),s.a.createElement("div",{className:"dropdown_menu"},r.length>0?r.map((function(e){return s.a.createElement("div",{className:"dropdown_item",disabled:e.disabled,key:e[t.valueField],onClick:e.disabled?null:function(){return n.addItem(e)}},e.alias||e.name)})):s.a.createElement("div",{className:"no_results_found"},"No results found.")))},n.state={is_show_google_rating_modal:!1,is_show_survey_modal:!1,is_show_track_courses_modal:!1,is_show_track_dropdown:!1,active_track:void 0,is_show_workspace_switch_modal:!1,active_surveys:[],continue_learning_link:"/courses",dashboard_accordion:[{id:1,title:"Course Progress",is_active:!0},{id:2,title:"Belt Exam History",is_active:!1},{id:3,title:"Courses",is_active:!1}],is_show_assignment_forum_and_notifications:!1,is_show_stop_sence_session_modal:!0,is_show_failed_sence_login_modal:!1,is_show_failed_sence_request_modal:!1,is_show_sence_countdown_timer:!0,is_show_trial_platform_message_modal:!0};var r=Object(p.y)();if(!0===r.status){var o,i;n.state=Object(d.a)(Object(d.a)({},n.state),{},{profile:r.user_details});var c=(null===(o=r.user_details)||void 0===o||null===(i=o.general)||void 0===i?void 0:i.trial_platform_mode)?"t/":"";if(n.state.profile&&n.state.profile.workspace_custom_data){var _=n.state.profile.workspace_custom_data.bootcamp_info;if(_&&_.last_visited_url){var l=_.last_visited_url;if(-1===l.indexOf("http")&&"/"===l.substring(0,1))l="".concat(u.f.LP3_FRONTEND_URL).concat(c).concat(l);else{var m=l.split("/m");l="".concat(u.f.LP3_FRONTEND_URL).concat(c,"m").concat(m[1])}n.state.continue_learning_link=l}}}return n.user={general:{user_level_id:1}},n}return Object(_e.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("beforeunload",(function(){e.props.onUpdateUserSessionPage()}));var t=this.props,a=t.get_user_dashboard,n=t.user;n.user_details&&n.user_details.is_show_platform_demo&&""===window.location.search&&window.innerWidth>=769?window.location.href="/dashboard?startProductTour=true":a(),setTimeout((function(){e.props.onSaveUserSessionPage({page_type_id:u.F})}),5e3)}},{key:"render",value:function(){var e,t,a,n,r,o,i,c,_,l,d,m,h,E,g,v=this,b=this.state,S=b.is_show_track_courses_modal,A=(b.is_show_track_dropdown,b.dashboard_accordion),k=(b.is_show_workspace_switch_modal,b.is_show_trial_platform_message_modal),O=this.props,T=O.onRemoveBookmark,C=O.onAddBookmark,w=O.location,y=O.bookmarks,R=O.user,D=O.onAddActivityLog,U=O.match,N=O.history,I=O.dashboard,P=this.props.dashboard,j=P.active_track,L=P.user_data,M=L.belts,F=L.belt_exams,x=L.is_show_progress,B=L.tracks,W=L.pre_bootcamp_tracks,H=(L.special_tracks,L.locked_tracks),K=L.track_progress,G=(L.track_progress_view_more,L.is_show_installment_due_reminder_modal),V=L.is_show_installment_overdue_modal,q=L.is_show_withdrawal_request_form_modal,Y=L.is_show_withdrawal_request_modal,Q=L.is_show_enrollment_agreement_modal,$=L.is_show_enrollment_agreement_amendment_modal,z=L.tuition_reminders_data,J=L.track_progress_limit,X=L.rececent_exam_limit,Z=L.is_show_survey_modal,ee=L.cd_survey_scheds,te=(L.is_show_new_survey_modal,L.new_custom_surveys),ae=L.is_show_bootcamp_readiness_modal,ne=L.discussion_notifications,se=!1,re=null,oe=Z,ie=[].concat(Object(f.a)(W),Object(f.a)(B),Object(f.a)(H.length>0?H.filter((function(e){return!1===e.is_locked})):[]));u.zb.all.includes(U.params.custom_feature)&&(se=!0,oe=!0,re=U.params.custom_feature);var ce={id:999999,name:"Alumni Pass",is_locked:!0,sale:{description:"",percentage:""}},_e=!1;R&&R.user_details&&(this.user=R.user_details),[u.Sb.STUDENT,u.Sb.GRADUATE].includes(null===(e=this.user)||void 0===e?void 0:e.general.user_level_id)&&[u.A.alumni,u.A.current_student].includes(null===(t=this.user)||void 0===t||null===(a=t.workspace_custom_data)||void 0===a||null===(n=a.enrollment)||void 0===n?void 0:n.latest_application_status)&&(_e=!0,this.user.workspace_custom_data.enrollment.latest_application_status===u.A.alumni&&(ce.is_locked=!1));var le=Object(p.y)(),de=le.status?null===le||void 0===le||null===(r=le.user_details)||void 0===r||null===(o=r.workspace_custom_data)||void 0===o?void 0:o.sence_integration:null,ue=this.state.is_show_failed_sence_request_modal||this.props.location.pathname.indexOf("/error_code=")>-1&&de.error_code,me=[];if((null===te||void 0===te?void 0:te.length)&&"surveys"===U.params.custom_feature){var he=N.location.pathname.split("/");me=te.filter((function(e){return e.cd_survey_user_id===parseInt(he[he.length-2])}))}return s.a.createElement(s.a.Fragment,null,s.a.createElement(et,{title:u.lb.student_page.dashboard}),s.a.createElement(He,{location:w.pathname,user_info:this.state.profile,onAddActivityLog:D,onAddBookmark:C,onRemoveBookmark:T,history:this.props.history,is_dark_mode:this.props.is_dark_mode,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,onUpdateUserSessionPage:this.props.onUpdateUserSessionPage}),(null===de||void 0===de?void 0:de.is_sence_session_on)&&this.state.is_show_sence_countdown_timer&&s.a.createElement(Je,{history:this.props.history,updateParentStateFromChild:function(e){v.setState(e)}}),s.a.createElement("div",{className:"container",id:"dashboard_container"},s.a.createElement(tn,{bookmarks:y,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,history:this.props.history,is_dark_mode:this.props.is_dark_mode,is_show_links:!1,is_fetch_notifications:null!==L.enc_user_id,location:w.pathname,onAddActivityLog:D,onAddBookmark:C,onRemoveBookmark:T,user_level_id:this.user.general.user_level_id,workspace_id:null===(i=this.user)||void 0===i||null===(c=i.workspace)||void 0===c?void 0:c.workspace_id,is_dashboard:!0}),u.g.maintenance_banners.map((function(e){return s.a.createElement("div",{className:"maintenance_banner downtime"},s.a.createElement(Te.a,{icon:["fas","info-circle"]}),s.a.createElement("p",null,s.a.createElement("b",{className:"red_text"},"Announcement:")," Intermittent access and platform downtime could happen between ",s.a.createElement("b",null,e.time)," due to routine maintenance and feature updates. "))})),s.a.createElement("div",{id:"dashboard_widget_container"},x&&K&&K.courses&&K.courses.length>0?s.a.createElement("div",{id:"progress_container",className:"".concat(A[0].is_active?"show_content":"hide_content")},s.a.createElement("h5",{onClick:function(){return v.toggleSectionInMobile(A[0])}},"Unit Progress ",s.a.createElement(Te.a,{icon:["fas","chevron-up"]})),s.a.createElement("div",{id:"current_track_label"},u.d.includes(this.user.general.user_level_id)?s.a.createElement(es.a,{className:"admin_track_filter",backspaceDelete:!1,dropdownHandleRenderer:function(){return s.a.createElement(Te.a,{icon:["fas","chevron-down"]})},dropdownRenderer:this.customDropdownRenderer,contentRenderer:function(e){var t=e.state;if(t.values[0])return s.a.createElement("span",null,t.values[0].alias||t.values[0].name);var a=ie.filter((function(e){return e.name===K.title}));return s.a.createElement("span",null,a[0].alias||a[0].name)},onChange:function(e){(e.values.length||e.length)&&v.onSelectTrackProgress(e[0].id)},options:ie,valueField:"id",values:ie.filter((function(e){return e.name===K.title}))}):s.a.createElement(es.a,{className:"student_track_filter",backspaceDelete:!1,dropdownHandleRenderer:function(){return s.a.createElement(Te.a,{icon:["fas","caret-right"]})},values:ie.filter((function(e){return e.name===K.title})),options:ie,labelField:"name",valueField:"id",onChange:function(e){return v.onSelectTrackProgress(e[0].id)}})),s.a.createElement("div",{id:"progress_label"},s.a.createElement("div",null,s.a.createElement("span",null)," On-time Progress"),s.a.createElement("div",null,s.a.createElement("span",null)," Out-of-schedule Progress")),s.a.createElement("ul",{className:"list-unstyled",id:"progress_list"},K.courses.slice(0,J).map((function(e){return s.a.createElement(as,{track_progress:e[0],is_major_track:K.is_major_track,user_level:v.user.general.user_level_id,key:e[0].name,onAddActivityLog:D,sence_session:de,showFailedSenceLoginModal:function(e,t){return v.setState({is_show_failed_sence_login_modal:e,redirect_to:t})},showFailedSenceRequestModal:function(e,t){return v.setState({is_show_failed_sence_request_modal:e,redirect_to:t})}})})))):null,s.a.createElement("div",{id:"belt_exam_history_container",className:"".concat(A[1].is_active?"show_content":"hide_content")},s.a.createElement("h5",{onClick:function(){return v.toggleSectionInMobile(A[1])}},"Belt Exam History ",s.a.createElement(Te.a,{icon:["fas","chevron-up"]})),s.a.createElement("ul",{className:"list-unstyled",id:"belt_list"},M.map((function(e){return s.a.createElement(ns,{belt:e,key:e.id})}))),F.length>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"You have taken ",s.a.createElement("span",null,F.length)," belt exams in total"),s.a.createElement("p",null,"Please allow 24 hours for your scores to be updated"),s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Most Recent Exams"),s.a.createElement("th",null,"Score"))),s.a.createElement("tbody",null,F.slice(0,X).map((function(e){return s.a.createElement(ss,{belt_exam:e,key:e.id})})))),s.a.createElement(pe.b,{to:"/stats",id:"view_more_history_btn"},"See Details")),!M.length&&s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/user/stats/light-mode-notepad-icon.png",alt:"no content icon"}),s.a.createElement("p",null,"You haven't taken any belt exams yet."))),s.a.createElement("div",{className:"right_container ".concat(A[2].is_active?"show_content":"hide_content")},s.a.createElement("h5",{onClick:function(){return v.toggleSectionInMobile(A[2])}},"Courses ",s.a.createElement(Te.a,{icon:["fas","chevron-up"]})),s.a.createElement("a",{href:this.state.continue_learning_link,onClick:function(e){return v.hasClickLink("last_visited")}},"continue learning"),s.a.createElement("div",{className:"tracks_section"},s.a.createElement("h6",null,!0===u.d.includes(this.user.general.user_level_id)?"Pre-bootcamp Courses":"Mandatory Pre-bootcamp Courses"),s.a.createElement("ul",{className:"list-unstyled single_flat_list"},W.map((function(e){var t;return s.a.createElement(rs,{history:v.props.history,isShowProgress:x,key:e.id,onAddActivityLog:D,redirect_url:null,track:e,user_level:v.user.general.user_level_id,is_trial_platform_mode:null===(t=v.user.general)||void 0===t?void 0:t.trial_platform_mode})})))),s.a.createElement("div",{className:"tracks_section"},s.a.createElement("h6",null,!0===u.d.includes(this.user.general.user_level_id)?"":"Your ","Major Courses"),s.a.createElement("ul",{id:"tracks_list",className:"list-unstyled"},B.map((function(e){var t;return s.a.createElement(rs,{history:v.props.history,isShowProgress:x,key:e.id,onAddActivityLog:D,redirect_url:null,is_major_track:B.is_major_track,track:e,user_level:v.user.general.user_level_id,is_trial_platform_mode:null===(t=v.user.general)||void 0===t?void 0:t.trial_platform_mode})})))),H.length>0&&s.a.createElement("div",{className:"tracks_section"},s.a.createElement("h6",null,!0===u.d.includes(this.user.general.user_level_id)?"Minor Courses":"Other Courses"),s.a.createElement("ul",{className:"list-unstyled double_flat_list"},H.map((function(e){var t;return s.a.createElement(rs,{history:v.props.history,isShowProgress:x,key:e.id,onAddActivityLog:D,redirect_url:null,track:e,user_level:v.user.general.user_level_id,is_trial_platform_mode:null===(t=v.user.general)||void 0===t?void 0:t.trial_platform_mode})})))),!0===_e&&s.a.createElement("div",{className:"tracks_section"},s.a.createElement("h6",null,"Unlock All Available Courses"),s.a.createElement("ul",{className:"list-unstyled single_flat_list"},s.a.createElement(rs,{track:ce,key:ce.id,onSetActiveTrack:this.setActiveTrack,history:this.props.history,isShowProgress:x,user_level:this.user.general.user_level_id,redirect_url:"".concat(u.X,"/login_lp3_user/").concat(L.enc_user_id,"/").concat(L.enc_applicant_id,"/").concat(u.Z),onAddActivityLog:D,is_trial_platform_mode:null===(_=this.user.general)||void 0===_?void 0:_.trial_platform_mode}))))),void 0!==j&&s.a.createElement(os,{show:S,track:j,toggleShowModal:function(e){return Object(p.W)(v,"is_show_track_courses_modal",!1)},onAddActivityLog:D,sence_session:de,showFailedSenceLoginModal:function(e,t){return v.setState({is_show_failed_sence_login_modal:e,redirect_to:t})},showFailedSenceRequestModal:function(e,t){return v.setState({is_show_failed_sence_request_modal:e,redirect_to:t})}}),s.a.createElement(us,{show:G,tuition_data:z,toggleShowModal:function(e){return Object(p.W)(v,"is_show_installment_due_reminder_modal",!1)}}),s.a.createElement(fs,{show:V,toggleShowModal:function(e){return Object(p.W)(v,"is_show_installment_overdue_modal",!1)}}),s.a.createElement(As,{show:q,toggleShowModal:function(e){return Object(p.W)(v,"is_show_withdrawal_request_form_modal",!1)}}),s.a.createElement(ws,{show:Y,toggleShowModal:function(e){return Object(p.W)(v,"is_show_withdrawal_request_modal",!1)}}),s.a.createElement(Ns,{show:Q,toggleShowModal:function(e){return Object(p.W)(v,"is_show_enrollment_agreement_modal",!1)}}),s.a.createElement(Ms,{show:$,toggleShowModal:function(e){return Object(p.W)(v,"is_show_enrollment_agreement_amendment_modal",!1)}}),(null===(l=this.state)||void 0===l||null===(d=l.profile)||void 0===d||null===(m=d.workspace)||void 0===m?void 0:m.active_workspaces)&&s.a.createElement(Ks,{active_workspaces:this.state.profile.workspace.active_workspaces,is_dark_mode:this.props.is_dark_mode,show:this.state.profile.workspace.active_workspaces.length>1&&!this.state.profile.workspace.switch_workspace,onProcessSwitchWorkspace:this.processSwitchWorkspace,toggleShowModal:function(e){return Object(p.W)(v,"is_show_workspace_switch_modal",!1)}}),!I.is_reset_dq_modal&&(null===ne||void 0===ne?void 0:ne.length)>0&&s.a.createElement(Hs,{show:(null===ne||void 0===ne?void 0:ne.length)>0,discussion_notifications:ne,dismissDiscussionReminderModal:this.props.dismissDiscussionReminderModal}),R.user_details&&R.user_details.workspace_custom_data&&R.user_details.workspace_custom_data.stack_info&&!R.user_details.workspace_custom_data.customizations.is_show_platform_demo&&(ee.length&&!u.t.includes(ee[0].cd_survey_schedule_id)||se)&&s.a.createElement(In,{show:oe,surveys:ee,user_info:L,current_url:null,custom_survey:re,hideModal:this.hideModal,toggleShowModal:function(e){return Object(p.W)(v,"is_show_survey_modal",!1)},onAddActivityLog:D}),(null===(h=me)||void 0===h?void 0:h.length)>0&&s.a.createElement(is,{show:!0,new_custom_survey:me,toggleShowModal:function(){return Object(p.W)(v,"is_show_new_survey_modal",!1)},processTakenSurvey:this.props.processTakenSurvey,history:N,onAddActivityLog:D,profile:this.state.profile}),ae&&s.a.createElement(Zs,{show:ae,cd_survey_scheds:ee,user_details:R.user_details}),s.a.createElement(Qs,{show:this.props.dashboard.user_data.is_show_google_rating_modal,toggleShowModal:function(){return Object(p.W)(v,"is_show_google_rating_modal",!0)},review_data:this.props.dashboard.user_data.review_data,onAddActivityLog:D}),this.state.is_show_failed_sence_login_modal&&de&&!(null===de||void 0===de?void 0:de.is_sence_session_on)&&s.a.createElement(Pn,{show:this.state.is_show_failed_sence_login_modal,toggleShowModal:function(){return Object(p.W)(v,"is_show_failed_sence_login_modal",!1)},history:this.props.history,user_details:this.state.profile,redirect_to:this.state.redirect_to}),ue&&de&&s.a.createElement(Xe,{show:ue,toggleShowModal:function(){return Object(p.W)(v,"is_show_failed_sence_request_modal",!1)},error_code:this.state.error_code,is_sence_session_expired:null===de||void 0===de?void 0:de.has_expired,updateParentStateFromChild:function(e){v.setState(e)},history:this.props.history}),k&&(null===(E=R.user_details)||void 0===E||null===(g=E.general)||void 0===g?void 0:g.trial_platform_mode)&&!!localStorage.getItem("is_show_trial_platform_modal")&&s.a.createElement(er,{show:k,is_dark_mode:this.props.is_dark_mode,toggleShowModal:function(){Object(p.W)(v,"is_show_trial_platform_message_modal",!1),localStorage.removeItem("is_show_trial_platform_modal")}})))}}]),a}(n.Component)),ar=ts.a.get_user_dashboard,nr=ts.a.get_track_courses,sr=ts.a.get_tracks_progress,rr=ts.a.check_current_user,or=ts.a.switchWorkspace,ir=ts.a.dismissDiscussionReminderModal,cr=yn.processTakenSurvey,_r=Object(p.J)(["dashboard","checklists","user"],{get_user_dashboard:ar,get_track_courses:nr,get_tracks_progress:sr,check_current_user:rr,switchWorkspace:or,dismissDiscussionReminderModal:ir,processTakenSurvey:cr}),lr=_r.mapStateToProps,dr=_r.mapDispatchToProps,ur=Object(ue.b)(lr,dr)(tr),pr=(a(1201),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){return Object(ce.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){var e=this.props.exam_rule,t=e.name,a=e.description;return s.a.createElement("li",null,s.a.createElement("span",null,t),a)}}]),a}(n.Component)),mr=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).handleProcessExamForm=function(e){e.preventDefault(),n.state.user_code===n.state.exam.code?n.props.history.push("/taking_exam"):n.setState({valid_user_code:!1})},n.handleOnchangeExamInput=function(e){n.setState({user_code:e.target.value,valid_user_code:!0})},n.state={exam:{code:"123",rules:{bootcamp_type:"Onsite",stacks:"Mean",general:[{id:1,name:"Unlocking",description:"You may use the exam code given by your instructor only once, or use manual unlock option once every 24 hours."},{id:2,name:"Time Limit",description:"You have 5.0 hours to complete the exam."},{id:3,name:"Codes",description:"Do not push/upload your code on GitHub or any where on the web."},{id:4,name:"Video Demo",description:"Your video demo should not be publicly accessible, make it unlisted or password protected."},{id:5,name:"Concerns",description:"Email your instructor and remote-instructor@codingdojo.com for issues in taking the exam."}]}},user_code:"",valid_user_code:!0,has_redirected_to_lp2:!1},n}return Object(_e.a)(a,[{key:"componentDidMount",value:function(){Object(p.D)()&&(window.location.href="/dashboard"),this.props.onsaveUserSessionPage({page_type_id:u.K})}},{key:"render",value:function(){var e=this.state.exam.rules,t=e.general,a=e.bootcamp_type,n=e.stacks,r=this.state,o=r.valid_user_code,i=r.user_code;return s.a.createElement(s.a.Fragment,null,s.a.createElement(He,{handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,onAddActivityLog:this.props.onAddActivityLog,onAddBookmark:this.props.onAddBookmark,onRemoveBookmark:this.props.onRemoveBookmark,onUpdateUserSessionPage:this.props.onUpdateUserSessionPage}),s.a.createElement("div",{className:"container",id:"exam_container"},s.a.createElement(et,{title:u.lb.student_page.exams}),s.a.createElement(tn,{bookmarks:this.props.bookmarks,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,history:this.props.history,is_dark_mode:this.props.is_dark_mode,is_show_links:!0,location:this.props.location.pathname,onAddActivityLog:this.props.onAddActivityLog,onAddBookmark:this.props.onAddBookmark,onRemoveBookmark:this.props.onRemoveBookmark}),s.a.createElement("div",{className:"blk"},s.a.createElement("h6",null,"Unlock Your Exam"),s.a.createElement("form",{action:"#",onSubmit:this.handleProcessExamForm},s.a.createElement("input",{className:o?"":"invalid",placeholder:"Enter Your Exam Code Here",value:i,onChange:this.handleOnchangeExamInput,type:"text"}),o?"":s.a.createElement("small",{className:"color_red"},"Invalid Exam Code"),s.a.createElement("button",{type:"submit"},"Unlock and Start Your Exam"))),s.a.createElement("div",{className:"blk"},s.a.createElement("h6",null,"Exam Rules"),s.a.createElement("ol",null,t.map((function(e){return s.a.createElement(pr,{exam_rule:e,key:e.id})})))),s.a.createElement("div",{className:"blk"},s.a.createElement("h6",null,"Exam Rules for ",a," (",n," Exam)"),s.a.createElement("ol",null,t.map((function(e){return s.a.createElement(pr,{exam_rule:e,key:e.id})}))))))}}]),a}(n.Component),hr=Object(p.J)(["exams"],{get_lp2_exam_link:Na.a.get_lp2_exam_link}),Er=hr.mapStateToProps,fr=hr.mapDispatchToProps,gr=Object(ue.b)(Er,fr)(mr),vr=(a(1202),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={input:{name:"email_address",type:"email",value:"",is_valid:!0,placeholder:"example@codingdojo.com",error_message:""}},e.componentDidUpdate=function(){if(!1===e.props.user.is_password_retrieved&&void 0!==e.props.user.error_message&&(""===e.state.input.error_message||e.state.input.error_message!==e.props.user.error_message)){var t=Object(d.a)({},e.state.input);t.error_message=e.props.user.error_message,e.setState({input:t})}},e.handleInputChange=function(t){var a=Object(d.a)({},e.state.input);a.value=t.target.value,e.setState({input:a})},e}return Object(_e.a)(a,[{key:"submitRetrievePassword",value:function(e){var t=this;if(!1===this.props.user.forgot_password_ongoing){e.preventDefault();var a=Object(d.a)({},this.state.input);a.is_valid=""!==a.value,a.error_message=""===a.value?"Please enter a valid email address.":"",this.setState({input:a},(function(){if(!0===a.is_valid){var e=(t.props.location&&t.props.location.state||{from:{pathname:"/forgot_password"}}).from;t.props.forgotPassword(a.value,e)}}))}}},{key:"hideModal",value:function(){this.props.toggleShowModal(!1);var e=Object(d.a)({},this.state.input);e.error_message="",e.value="",this.setState({input:e}),this.props.user.is_password_retrieved=!1,this.props.user.error_message=void 0}},{key:"render",value:function(){var e=this,t=this.state.input,a=this.props.user,n=a.is_password_retrieved,r=a.error_message;return s.a.createElement(De.a,{show:this.props.show,"aria-labelledby":"contained-modal-title-vcenter",onHide:function(){return e.hideModal()},centered:!0,id:"retrieve_password_modal"},s.a.createElement(De.a.Header,null,s.a.createElement(De.a.Title,null,"Retrieve Your Password"),s.a.createElement("button",{onClick:function(){return e.hideModal()}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/close_icon.png",alt:"Close Icon"}))),s.a.createElement(De.a.Body,null,n?s.a.createElement("div",{id:"request_submitted_container"},s.a.createElement("div",{className:"lock_icon is_unlocked"}),s.a.createElement("p",null,"Your request has been submitted."),s.a.createElement("p",null,"Check your email inbox or spam folder to retrieve your password!")):s.a.createElement("form",{action:"",id:"retrieve_password_form",onSubmit:function(t){return e.submitRetrievePassword(t)}},s.a.createElement("div",{className:"lock_icon is_locked"}),s.a.createElement("p",null,"Enter the email address associated with your enrollment to retrieve your password."),r&&s.a.createElement("span",{className:"input_error"},r),s.a.createElement("div",{className:"form-group ".concat(t.is_valid?"":"error"),key:t.name},s.a.createElement("input",{type:t.type,name:t.name,className:"form-control ".concat(r?"border_red":""),placeholder:t.placeholder,onChange:function(t){return e.handleInputChange(t)},value:t.value})),s.a.createElement("button",{type:"submit",className:"btn btn-primary ".concat(this.props.user.forgot_password_ongoing?"disabled":"")},"Submit"))))}}]),a}(n.Component)),br=Object(p.J)(void 0,{forgotPassword:Ce.a.forgotPassword}),Sr=br.mapStateToProps,Ar=br.mapDispatchToProps,kr=Object(ue.b)(Sr,Ar)(vr),Or=(a(315),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e,t){void 0!==e.user.error_message&&"USERS_FORGOT_PASSWORD_REQUEST"!==n.props.user.type?n.setState({input_error:e.user.error_message,is_disable_login_button:!1}):"/learn_autologin"===window.location.pathname&&(window.location.href="/dashboard")},n.handleInputChange=function(e,t){var a=Object(f.a)(n.state.inputs),s=a.indexOf(t);a[s]=Object(d.a)({},t),a[s].value=e.target.value,n.setState({inputs:a}),a.map((function(e){return e.is_valid=""!==e.value,e})),n.setState({is_disable_login_button:a.filter((function(e){return!1===e.is_valid})).length>0})},n.submitLoginForm=function(e){e.preventDefault();var t=Object(f.a)(n.state.inputs);if(t.map((function(e){return e.is_valid=""!==e.value,e})),n.setState({inputs:t}),0===t.filter((function(e){return!1===e.is_valid})).length){var a=Object(A.a)(t,2),s=a[0],r=a[1];n.props.login(s.value,r.value),n.setState({inputs:t,is_disable_login_button:!0})}},n.showForgotPasswordModal=function(){n.props.user.error_message=void 0,Object(p.W)(Object(Se.a)(n),"is_show_retrieve_password_modal",!0)},n.state={inputs:[{name:"email",type:"email",value:"",placeholder:"example@codingdojo.com",is_valid:!1},{name:"password",type:"password",value:"",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",is_valid:!1}],input_error:"",is_show_reset_password_modal:!1,is_show_retrieve_password_modal:!1,is_disable_login_button:!0},n}return Object(_e.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match;if(e&&e.params&&e.params.autologin_key){var t=e.params.redirect_page||null,a=e.params.user_level||"user";this.props.login(null,null,!0,e.params.autologin_key,t,a)}else{var n=void 0;window.location.pathname.indexOf("/learn_autologin")>-1&&(this.setState({is_disable_login_button:!0}),e.params.redirect_page&&(n="/"+e.params.redirect_page.split(":").join("/"))),this.props.check_current_user(n)}}},{key:"render",value:function(){var e=this,t=this.state,a=t.input_error,n=t.inputs,r=t.is_disable_login_button;return void 0!==this.props.user.redirect_to_enroll_app&&window.open(this.props.user.redirect_url,"_blank"),s.a.createElement("div",{id:"login_container"},s.a.createElement(et,{title:u.lb.student_page.login}),s.a.createElement("div",{className:"left_container"},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/user/login/coding_dojo_black_new_version.svg",alt:"CodingDojo Logo"}),s.a.createElement("h5",null,"Sign In"),s.a.createElement("form",{action:"",onSubmit:function(t){return e.submitLoginForm(t)}},a&&""!==a&&s.a.createElement("div",{className:"input_error"},a.includes("href")?s.a.createElement("p",{dangerouslySetInnerHTML:{__html:a}}):s.a.createElement("p",null,a)),n.map((function(t){return s.a.createElement("div",{key:t.name,className:"form-group"},s.a.createElement("input",{type:t.type,name:t.name,className:"form-control ".concat(void 0!==a&&""!==a?"border_red":""),placeholder:t.placeholder,onChange:function(a){return e.handleInputChange(a,t)}}))})),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"checkbox hidden"},s.a.createElement("input",{type:"checkbox",className:"hidden",id:"remember_me_checkbox"}),s.a.createElement("label",{htmlFor:"remember_me_checkbox"},s.a.createElement("div",{className:"checkbox_container"},s.a.createElement(Te.a,{icon:["fas","check"]})),s.a.createElement("span",null,"Remember Me"))),s.a.createElement("button",{type:"button",id:"show_forgot_password",onClick:function(t){return e.showForgotPasswordModal()}},"Forgot password?")),s.a.createElement("button",{disabled:r,type:"submit",className:"btn btn-primary"},"Let's Go!"))),s.a.createElement("div",{className:"right_container"},s.a.createElement("h1",null,"Redefine Possible"),s.a.createElement("span",{id:"block_background_1"}),s.a.createElement("span",{id:"block_background_2"}),s.a.createElement("span",{id:"block_background_3"})),s.a.createElement(kr,{show:this.state.is_show_retrieve_password_modal,toggleShowModal:function(t){return Object(p.W)(e,"is_show_retrieve_password_modal",!1)}}))}}]),a}(n.Component)),Tr=Object(p.J)("user",{login:Ce.a.login,check_current_user:Ce.a.check_current_user}),Cr=Tr.mapStateToProps,wr=Tr.mapDispatchToProps,yr=Object(ue.b)(Cr,wr)(Or),Rr=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){localStorage.setItem("is_show_trial_platform_modal",!0),n.props.resetErrorMessage()},n.acceptLettersOnly=function(e){var t=e.target.value;return t==t.match(/^[a-zA-Z\s]+$/)},n.state={first_name:null,last_name:null,email_address:null,is_valid_email:!1,is_valid_first_name:!1,is_valid_last_name:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.first_name,n=t.last_name,r=t.email_address,o=t.is_valid_email,i=t.is_valid_first_name,c=t.is_valid_last_name,_=this.props.user,l=_.signup_error_message,d=_.is_processing_trial_platform;return s.a.createElement("div",{id:"login_container"},s.a.createElement(et,{title:u.lb.student_page.signup}),s.a.createElement("div",{className:"left_container"},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/user/login/coding_dojo_black_new_version.svg",alt:"CodingDojo Logo"}),s.a.createElement("h5",null,"Sign Up"),s.a.createElement("form",{action:"",onSubmit:function(t){var s;(t.preventDefault(),""===a||""===n||""===r||""!==r&&!o||""!==a&&!i||""!==n&&!c||d)||e.props.registerTrialAccount({first_name:a,last_name:n,email_address:r,landing_page_url:window.location.href,page_url_params:null===(s=window.location)||void 0===s?void 0:s.search})}},""!==l&&s.a.createElement("p",{className:"color_red"},l),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",name:"first_name",onChange:function(t){return e.setState({is_valid_first_name:e.acceptLettersOnly(t)})},className:"form-control ".concat(""===a||null!==a&&!i?"border_red":""),placeholder:"First Name",onBlur:function(t){return e.setState({first_name:t.target.value,is_valid_first_name:" "!==t.target.value[0]&&e.acceptLettersOnly(t)})}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",name:"last_name",onChange:function(t){return e.setState({is_valid_last_name:e.acceptLettersOnly(t)})},className:"form-control ".concat(""===n||null!==n&&!c?"border_red":""),placeholder:"Last Name",onBlur:function(t){return e.setState({last_name:t.target.value,is_valid_last_name:" "!==t.target.value[0]&&e.acceptLettersOnly(t)})}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"email",name:"email_address",className:"form-control ".concat(""===r||null!==r&&!o?"border_red":""),placeholder:"example@codingdojo.com",onChange:function(t){return e.setState({is_valid_email:u.ob.email_validation.test(t.target.value)})},onBlur:function(t){Object(p.C)(t,e)}})),s.a.createElement("button",{disabled:""===a||""===n||""===r||""!==r&&!o||""!==a&&!i||""!==n&&!c||d,type:"submit",tabIndex:0,className:"btn btn-primary"},d?"Processing...":"Start Free Trial"),s.a.createElement("p",{className:"trial_link"},"Already registered? ",s.a.createElement(pe.b,{to:"/t/signin",tabIndex:0}," Sign In here"),"."))),s.a.createElement("div",{className:"right_container"},s.a.createElement("h1",null,"Redefine Possible"),s.a.createElement("span",{id:"block_background_1"}),s.a.createElement("span",{id:"block_background_2"}),s.a.createElement("span",{id:"block_background_3"})))}}]),a}(n.Component),Dr=Ce.a.registerTrialAccount,Ur=Ce.a.resetErrorMessage,Nr=Object(p.J)(["user"],{registerTrialAccount:Dr,resetErrorMessage:Ur}),Ir=Nr.mapStateToProps,Pr=Nr.mapDispatchToProps,jr=(Object(ue.b)(Ir,Pr)(Rr),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){localStorage.setItem("is_show_trial_platform_modal",!0),n.props.resetErrorMessage()},n.state={email_address:null,is_valid_email:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.is_valid_email,n=t.email_address,r=this.props.user,o=r.signin_error_message,i=r.is_processing_trial_platform;return s.a.createElement("div",{id:"login_container"},s.a.createElement(et,{title:u.lb.student_page.signin}),s.a.createElement("div",{className:"left_container"},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/user/login/coding_dojo_black_new_version.svg",alt:"CodingDojo Logo"}),s.a.createElement("h5",null,"Sign In"),s.a.createElement("form",{action:"",onSubmit:function(t){t.preventDefault(),e.props.signInTrialAccount({email_address:n,password:!0,is_trial_platform:!0})}},""!==o&&s.a.createElement("p",{className:"color_red"},o),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"email",name:"email_address",className:"form-control ".concat(""===n||null!==n&&!a?"border_red":""),placeholder:"example@codingdojo.com",onChange:function(t){Object(p.C)(t,e),e.setState({is_valid_email:!0})},onBlur:function(t){e.setState({is_valid_email:u.ob.email_validation.test(t.target.value)})}})),s.a.createElement("button",{tabIndex:0,disabled:""===n||""!==n&&!a||i,type:"submit",className:"btn btn-primary"}," ",i?"Processing...":"Let's Go!"," "),s.a.createElement("p",{className:"trial_link"},"Don't have an account yet? ",s.a.createElement(pe.b,{tabIndex:0,to:"/t/signup"}," Sign Up here"),"."))),s.a.createElement("div",{className:"right_container"},s.a.createElement("h1",null,"Redefine Possible"),s.a.createElement("span",{id:"block_background_1"}),s.a.createElement("span",{id:"block_background_2"}),s.a.createElement("span",{id:"block_background_3"})))}}]),a}(n.Component)),Lr=Ce.a.signInTrialAccount,Mr=Ce.a.resetErrorMessage,Fr=Object(p.J)(["user"],{signInTrialAccount:Lr,resetErrorMessage:Mr}),xr=Fr.mapStateToProps,Br=Fr.mapDispatchToProps,Wr=(Object(ue.b)(xr,Br)(jr),a(1203),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;Object(ce.a)(this,a),n=t.call(this,e);var s=Object(p.y)();if(n.state={is_logged_out:!1,is_show_stop_sence_modal:!1},!0===s.status){n.state=Object(d.a)(Object(d.a)({},n.state),{},{profile:s.user_details});var r=s.user_details.workspace_custom_data.sence_integration;r&&(n.state.is_show_stop_sence_modal=r.is_sence_user&&r.is_logged_in&&r.is_sence_session_on)}return n.user={user_level_id:1},n}return Object(_e.a)(a,[{key:"componentDidMount",value:function(){(!this.state.is_show_stop_sence_modal||this.props.location.pathname.indexOf("/logout/sence_stopped")>-1)&&this.props.logout()}},{key:"render",value:function(){var e=this,t=this.props,a=t.onRemoveBookmark,n=t.onAddBookmark,r=(t.location,t.onAddActivityLog);return s.a.createElement(s.a.Fragment,null,this.state.is_show_stop_sence_modal&&this.props.location.pathname.indexOf("/logout/sence_stopped")<0?s.a.createElement(Ge.a,{show:this.state.is_show_stop_sence_modal,toggleShowModal:function(){return Object(p.W)(e,"is_show_stop_sence_modal",!1)},user_details:this.state.profile,is_logout:!0,location:this.props.location}):s.a.createElement(s.a.Fragment,null,s.a.createElement(He,{user_info:this.state.profile,onAddActivityLog:r,onAddBookmark:n,onRemoveBookmark:a,onUpdateUserSessionPage:this.props.onUpdateUserSessionPage}),s.a.createElement(De.a,{show:"true",centered:!0,backdrop:"static",keyboard:!1,className:"logout_modal"},s.a.createElement(De.a.Header,null,s.a.createElement(De.a.Title,null,"Logout")),s.a.createElement(De.a.Body,null,s.a.createElement("p",null,"You have successfully logged out."),s.a.createElement("p",null,"You will be redirected to the Login Page")))))}}]),a}(n.Component)),Hr=Object(p.J)("user",{logout:Ce.a.logout}),Kr=Hr.mapStateToProps,Gr=Hr.mapDispatchToProps,Vr=Object(ue.b)(Kr,Gr)(Wr),qr=new(function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e,n,s;Object(ce.a)(this,a),(s=t.call(this)).markFeedbackAsRead=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/feedbacks/update_feedback"),e,!0).then(p.z).then((function(e){return e}))},s.CurrentTrack=new da.a(null);var r=Object(p.y)();return s.API_pre_link=(null===r||void 0===r||null===(e=r.user_details)||void 0===e||null===(n=e.general)||void 0===n?void 0:n.trial_platform_mode)?"/t":"",s}return a}(Ee.a)),Yr=new function e(){Object(ce.a)(this,e),this.markFeedbackAsRead=function(e){return function(t){t(Object(p.A)({type:u.Qb.SET_FEEDBACK_AS_READ_REQUEST},{})),qr.markFeedbackAsRead(e).then((function(e){!0===e.status?t(Object(p.A)({type:u.Qb.SET_FEEDBACK_AS_READ_SUCCESS},{assignments:e.result})):t(Object(p.A)({type:u.Qb.SET_FEEDBACK_AS_READ_FAILURE},{error:e.result}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.Qb.SET_FEEDBACK_AS_READ_FAILURE},{error:a}))}))}}},Qr=a(182),$r=(a(1204),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).renderAssignmentStatus=function(e,t,a){return e?t&&!a?s.a.createElement("span",{className:"outside_sched_status"},s.a.createElement(Te.a,{icon:["fas","check"]}),"Out-of-schedule"):a?s.a.createElement("span",{className:"review_pending_status"},"Review Pending"):s.a.createElement(Te.a,{icon:["fas","check"]}):""},n.downloadFiles=function(e){if(e.includes(".amazonaws.com")){var t=Object(p.t)(e,"user-assignments");n.setState({download_assignment:!0}),n.props.handleIsDownloading(!0),n.props.generateS3Url(t,"download","checklists")}else Object(p.b)({url_link:e},!1)},n.componentDidUpdate=function(){var e;n.props.assignment_file&&n.state.download_assignment&&(n.setState({download_assignment:!1}),n.props.handleIsDownloading(!1),Object(gn.a)({url:null===(e=n.props.assignment_file)||void 0===e?void 0:e.pre_signed_url,method:"GET",responseType:"blob"}).then((function(e){var t=new Blob([e.data]),a=window.URL.createObjectURL(t);Object(p.b)(Object(d.a)(Object(d.a)({},n.props.assignment_file),{},{pre_signed_url:a,blob:t})),n.props.clearPresignedURL()})))},n.state={download_assignment:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t=this,a=this.props.tracks.filter((function(e){return e.id===t.props.current_track_id})),n=Object(A.a)(a,1)[0],r=this.props.assignment,o=r.title,i=r.type,c=r.week,_=r.day,l=r.completed,d=r.difficulty_level,u=r.estimated_time,p=r.file,m=r.due_date,h=r.id,E=r.chapter_id,f=r.track_id,g=r.is_outside,v=r.is_for_review,b=p.user_files?p.user_files.file_url:"",S=p.user_files?p.user_files.file_url:"";if(""!==S&&(null===(e=S)||void 0===e?void 0:e.includes("/boomyeah2015/codingdojo/"))){var k=S.split("/");S=decodeURI(k[k.length-1])}return null===m&&(parseInt(c)>0?(m="Week ".concat(c),parseInt(_)>0&&(m+=" - ".concat(["","Mon","Tue","Wed","Thu","Fri","Sat","Sun"][parseInt(_)]))):m=""),"Optional"===i&&(m=""),s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("div",{className:"assignment_name_container"},s.a.createElement(pe.b,{to:"m/".concat(f,"/").concat(E,"/").concat(h),target:"_blank"},o),this.props.assignment.feedback&&this.props.assignment.completed&&s.a.createElement("button",{type:"button",className:"feedback_icon ".concat(this.props.assignment.feedback.is_read?"":"unread_feedback"),onClick:function(){return t.props.onShowAssignmentFeedbackModal(n,t.props.course,t.props.assignment)}}))),s.a.createElement("td",null,i),s.a.createElement("td",null,m),s.a.createElement("td",null,this.renderAssignmentStatus(l,g,v)),s.a.createElement("td",null,d),s.a.createElement("td",null,u),s.a.createElement("td",null,null!==l&&""!==b&&s.a.createElement("div",{className:"assignment_file_container"},s.a.createElement("button",{type:"button",disabled:this.props.downloading_assignment_id,onClick:function(){b.includes("s3")&&t.props.handleChangeId(t.props.assignment.id),t.downloadFiles(b)}},this.props.downloading_assignment_id===this.props.assignment.id?s.a.createElement("span",{className:"download_loader"}):s.a.createElement(Te.a,{icon:["fas","file-code"]})))))}}]),a}(n.Component)),zr=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.handleAutoTriggerChangeCarret()},n.componentDidUpdate=function(e){n.handleAutoTriggerChangeCarret(),e.checklists.assignment_file!==n.props.checklists.assignment_file&&(n.state.is_downloading||n.setState({downloading_assignment_id:void 0}))},n.handleOnClickChangeCarret=function(e,t){return function(){var a=n.state.is_auto_display_assignment_feedback,s=n.props.current_track_course===t&&!a&&!n.state.accordion_status;!s&&n.props.get_checklist_course_assignments({track_id:e,track_course_id:t}),n.props.hanldeChangeTrackCourse(n.props.current_track_course===t?null:t),n.setState({accordion_status:s,is_auto_display_assignment_feedback:!1,downloading_assignment_id:void 0})}},n.handleAutoTriggerChangeCarret=function(){var e=n.props,t=e.checklists.assignment_feedback_details,a=e.current_track_course,s=e.course;(null===t||void 0===t?void 0:t.is_auto_fetch_course_assignment)&&a===s.id&&(n.setState({accordion_status:!1,is_auto_display_assignment_feedback:!0}),n.props.trigger_show_assignment_feedback({is_auto_fetch_course_assignment:!1}))},n.state={accordion_status:!0,is_auto_display_assignment_feedback:!1,downloading_assignment_id:void 0,is_downloading:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props.course,a=t.id,n=t.track_id,r=t.course_alias,o=t.course_icon_src,i=t.progress,c=this.props.checklists.assignments;return s.a.createElement(ka.a,null,s.a.createElement(Aa.a.Toggle,{as:ka.a.Header,eventKey:a,onClick:this.handleOnClickChangeCarret(n,a)},s.a.createElement("div",{className:"left_container"},s.a.createElement("img",{src:o,alt:"track icon"}),s.a.createElement("h6",null,r)),s.a.createElement("div",{className:"right_container"},s.a.createElement("span",{className:"badge ".concat(i<100?"blue":"")},i||0,"%"),s.a.createElement("button",{type:"button"},s.a.createElement(Te.a,{icon:["fas","".concat(this.props.current_track_course===a?"chevron-down":"chevron-up")]})))),s.a.createElement(Aa.a.Collapse,{eventKey:a},s.a.createElement(s.a.Fragment,null,c||this.state.accordion_status?s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Assignment"),s.a.createElement("th",null,"Type"),s.a.createElement("th",{className:"due_date_th"},"Due Date"),s.a.createElement("th",null,"Completed"),s.a.createElement("th",null,"Difficulty"),s.a.createElement("th",{className:"estimate_time_th"},"Est. Time"),s.a.createElement("th",null,"File"))),s.a.createElement("tbody",null,c&&c.map((function(t){var a;return s.a.createElement($r,{key:t.id,tracks:e.props.tracks,current_track_id:e.props.current_track_id,course:e.props.course,assignment_file:null===(a=e.props.checklists)||void 0===a?void 0:a.assignment_file,generateS3Url:e.props.generateS3Url,clearPresignedURL:e.props.clearPresignedURL,assignment:t,onShowAssignmentFeedbackModal:e.props.onShowAssignmentFeedbackModal,downloading_assignment_id:e.state.downloading_assignment_id,handleChangeId:function(t){return e.setState({downloading_assignment_id:t})},is_downloading:e.state.is_downloading,handleIsDownloading:function(t){return e.setState({is_downloading:t})}})})))):s.a.createElement("span",null,"Fetching content. Please wait."))))}}]),a}(n.Component),Jr=Object(p.J)("checklists",{get_checklist_course_assignments:Ia.a.get_checklist_course_assignments,generateS3Url:vn.a.generateS3Url,clearPresignedURL:vn.a.clearPresignedURL,trigger_show_assignment_feedback:Ia.a.triggerShowAssignmentFeedback}),Xr=Jr.mapStateToProps,Zr=Jr.mapDispatchToProps,eo=Object(ue.b)(Xr,Zr)(zr),to=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){return Object(ce.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props.track,a=t.id,n=t.title,r=t.stack_schedule,o=t.track_alias,i=this.props.current_track,c=Object(p.y)().user_details;[u.Sb.INSTRUCTOR,u.Sb.SUPER_ADMIN_USER].includes(c.general.user_level_id);return s.a.createElement("li",null,s.a.createElement("button",{type:"button",onClick:function(){return e.props.onChangeStack(a,n,null===r||void 0===r?void 0:r.cc_stack_sched_id)},className:a===i?"active":""},[u.Sb.INSTRUCTOR,u.Sb.ADMIN_USER].includes(c.general.user_level_id)&&o?o:n,(null===r||void 0===r?void 0:r.start_date)&&(null===r||void 0===r?void 0:r.end_date)?s.a.createElement("span",null,"(",s.a.createElement(En.a,{format:"L"},r.start_date)," - ",s.a.createElement(En.a,{format:"L"},r.end_date),")"):"",s.a.createElement(st.a,{maxWidth:768},s.a.createElement(Te.a,{icon:["fas","chevron-right"]}))))}}]),a}(n.Component),ao=(a(1205),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props.assignment,a=t.feedback,n=t.track_id,r=t.chapter_id,o=t.id,i=t.title,c=a.image_url,_=a.name,l=a.posted_date,d=a.content,p=this.props.track.title,m=this.props.course.course_alias,h="".concat(u.f.LP3_FRONTEND_URL,"m/").concat(n,"/").concat(r,"/").concat(o);return s.a.createElement(De.a,{id:"view_feedback_modal",show:this.props.show,keyboard:!1,backdrop:"static",centered:!0,onHide:function(){return e.props.toggleShowModal(!1)}},s.a.createElement(De.a.Header,null,s.a.createElement("button",{onClick:function(){return e.props.toggleShowModal(!1)}},s.a.createElement("span",{className:"close_icon"})),s.a.createElement("img",{src:c||"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:"Instructor Image"}),s.a.createElement("div",{className:"right_container"},s.a.createElement("h5",null,_)," ",s.a.createElement("span",null,v()(l).format("MMM D, YYYY"))," ",s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("li",null,s.a.createElement("a",{href:h,target:"_blank"},p)),s.a.createElement("li",null,s.a.createElement("a",{href:h,target:"_blank"},m)),s.a.createElement("li",null,s.a.createElement("a",{href:h,target:"_blank"},i))))),s.a.createElement(De.a.Body,null,s.a.createElement("p",null,d)))}}]),a}(n.Component)),no=(a(1206),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidUpdate=function(e,t){var a=n.props.checklists,s=a.assignments,r=a.track_courses,o=a.assignment_feedback_details,i=a.user_checklist,c=a.current_track,_=o||{},l=_.track_id,d=_.cc_stack_schedule_id,u=_.track_course_id,p=_.chapter_module_id,m=_.is_auto_fetch_track_course,h=_.is_auto_show_assignment_feedback_modal,E=_.is_auto_fetch_course_assignment,f=i.filter((function(e){return e.id===l})),g=Object(A.a)(f,1)[0];if(m&&(g?((l!==c||l===c&&!r.length)&&n.handleChangeStacks(l,"",d),n.hanldeChangeTrackCourse(u),n.props.trigger_show_assignment_feedback({is_auto_fetch_track_course:!1,is_auto_fetch_course_assignment:!0})):c&&(n.fetchChecklistTrackCourses(c),n.props.trigger_show_assignment_feedback({is_auto_fetch_track_course:!1})),document.body.click()),E&&r.length&&(n.props.get_checklist_course_assignments({track_id:l,track_course_id:u}),n.props.trigger_show_assignment_feedback({is_auto_show_assignment_feedback_modal:!0})),h&&s){var v=r.filter((function(e){return e.id===u})),b=Object(A.a)(v,1)[0],S=s.filter((function(e){return e.id===p})),k=Object(A.a)(S,1)[0];b&&k&&k.completed&&(n.showAssignmentFeedbackModal(g,b,k),n.props.trigger_show_assignment_feedback({is_auto_show_assignment_feedback_modal:!1}),n.setState({is_show_feedback_modal:!0}))}},n.resizeBrowser=function(){n.setState({is_mobile:window.innerWidth<=768})},n.componentWillUnmount=function(){n.currentStackSubscription.unsubscribe(),window.removeEventListener("resize",n.resizeBrowser.bind(Object(Se.a)(n)))},n.handleChangeStacks=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;(void 0!==e&&e!==n.props.checklists.current_track||a!==n.props.checklists.selected_cc_stack_schedule_id)&&(n.fetchChecklistTrackCourses(e,a),window.scrollTo(0,0)),n.state.is_mobile?(n.fetchChecklistTrackCourses(e,a),n.setState({show_courses:!0,active_track_title:t})):n.setState({show_courses:!1})},n.fetchTrackChecklist=function(){n.props.get_user_checklist()},n.fetchChecklistTrackCourses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;n.props.get_checklist_track_courses({track_id:e,cc_stack_schedule_id:t})},n.showAssignmentFeedbackModal=function(e,t,a){a.feedback.is_read===u.P&&(a.feedback.is_read=u.Db,n.props.mark_feedback_as_read({id:a.feedback.id,is_read:u.Db})),n.setState({is_show_feedback_modal:!0,track:e,course:t,chapter_module:a})},n.hanldeChangeTrackCourse=function(e){n.setState({current_track_course:e})},n.current_user=Object(p.y)()||null,n.state={is_show_feedback_modal:!1,track:null,course:null,chapter_module:null,show_courses:!1,is_mobile:!1,active_track_title:"",current_track_course:null,is_show_sence_countdown_timer:!0,is_show_failed_sence_request_modal:!1,error_code:null},n}return Object(_e.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(p.D)()&&(window.location.href="/dashboard"),this.fetchTrackChecklist(),this.currentStackSubscription=Qr.a.getCurrentTrack().subscribe((function(t){var a,n,s=t||{},r=s.current_track,o=s.selected_cc_stack_schedule_id;r&&!(null===(a=e.props.checklists)||void 0===a||null===(n=a.assignment_feedback_details)||void 0===n?void 0:n.is_auto_fetch_track_course)&&e.fetchChecklistTrackCourses(r,o)})),this.props.onSaveUserSessionPage({page_type_id:u.kb,track_id:0,course_id:0,chapter_id:0,chapter_module_id:0}),window.addEventListener("resize",this.resizeBrowser.bind(this)),this.resizeBrowser(),this.setState({show_courses:!1,active_track_title:0!==this.props.checklists.user_checklist.length&&this.props.checklists.user_checklist[0].title})}},{key:"render",value:function(){var e,t=this,a=this.props.checklists,n=a.current_track,r=a.track_courses,o=a.user_checklist,i=this.state,c=i.track,_=i.course,l=i.chapter_module,d=i.current_track_course,m=Object(p.y)(),h=m.status?null===(e=m.user_details.workspace_custom_data)||void 0===e?void 0:e.sence_integration:null;return s.a.createElement(s.a.Fragment,null,s.a.createElement(et,{title:u.lb.student_page.assignment_checklist}),s.a.createElement(He,{user_info:this.current_user.user_details,onAddActivityLog:this.props.onAddActivityLog,onAddBookmark:this.props.onAddBookmark,onRemoveBookmark:this.props.onRemoveBookmark,history:this.props.history,is_dark_mode:this.props.is_dark_mode,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,onUpdateUserSessionPage:this.props.onUpdateUserSessionPage}),(null===h||void 0===h?void 0:h.is_sence_session_on)&&this.state.is_show_sence_countdown_timer&&s.a.createElement(Je,{history:this.props.history,updateParentStateFromChild:function(e){t.setState(e)}}),s.a.createElement("div",{id:"progress_container",className:"container"},s.a.createElement(tn,{bookmarks:this.props.bookmarks,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,history:this.props.history,is_dark_mode:this.props.is_dark_mode,is_show_links:!0,location:this.props.location.pathname,onAddActivityLog:this.props.onAddActivityLog,onAddBookmark:this.props.onAddBookmark,onRemoveBookmark:this.props.onRemoveBookmark}),0===o.length?s.a.createElement("div",{className:"blk",id:"no_tracks_progress_indicator"},"No unlocked course yet."):s.a.createElement("div",{className:"blk ".concat(this.state.show_courses?"show_courses":" hide_courses")},s.a.createElement("ul",{className:"list-unstyled"},o.map((function(e){return s.a.createElement(to,{key:e.id,current_track:n,onChangeStack:t.handleChangeStacks,track:e})}))),s.a.createElement("div",{id:"accordion_container"},s.a.createElement(st.a,{maxWidth:768},s.a.createElement("h5",null,s.a.createElement("button",{type:"button",onClick:function(){return t.setState({show_courses:!1})}},s.a.createElement(Te.a,{icon:["fas","chevron-left"]}))," ",this.props.checklists.user_checklist.length&&this.props.checklists.user_checklist.filter((function(e){if(e.id===t.props.checklists.current_track)return e.title}))[0].title)),s.a.createElement(Aa.a,{activeKey:d},r.map((function(e){return s.a.createElement(eo,{tracks:o,current_track_id:n,course:e,key:e.id,onShowAssignmentFeedbackModal:t.showAssignmentFeedbackModal,current_track_course:d,hanldeChangeTrackCourse:t.hanldeChangeTrackCourse})}))))),this.state.is_show_feedback_modal?s.a.createElement(ao,{track:c,course:_,assignment:l,show:this.state.is_show_feedback_modal,centered:!0,toggleShowModal:function(e){return Object(p.W)(t,"is_show_feedback_modal",!1)}}):null,this.state.is_show_failed_sence_request_modal&&s.a.createElement(Xe,{show:this.state.is_show_failed_sence_request_modal,toggleShowModal:function(){return Object(p.W)(t,"is_show_failed_sence_request_modal",!1)},error_code:this.state.error_code,is_sence_session_expired:null===h||void 0===h?void 0:h.has_expired,updateParentStateFromChild:function(e){t.setState(e)},history:this.props.history})))}}]),a}(n.Component)),so=Object(p.J)(["checklists","feedbacks"],{get_user_checklist:Ia.a.get_user_checklist,get_checklist_track_courses:Ia.a.get_checklist_track_courses,mark_feedback_as_read:Yr.markFeedbackAsRead,trigger_show_assignment_feedback:Ia.a.triggerShowAssignmentFeedback,get_checklist_course_assignments:Ia.a.get_checklist_course_assignments}),ro=so.mapStateToProps,oo=so.mapDispatchToProps,io=Object(ue.b)(ro,oo)(no),co=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){return Object(ce.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){return s.a.createElement(Ae.a,{id:"exam_header",expand:"lg"},s.a.createElement("div",{className:"container"},s.a.createElement(Ae.a.Brand,{href:"/dashboard"},"Coding Dojo ",s.a.createElement("span",{className:"belt_exam"},"BELT EXAM")),s.a.createElement(Ae.a.Collapse,{id:"basic-navbar-nav"},s.a.createElement(Oe.a,{className:"mr-auto"},s.a.createElement(pe.b,{to:"/dashboard",id:"back_to_learn_btn"},"BACK TO LEARN"),s.a.createElement(we.a,null)))))}}]),a}(n.Component);var _o=function(e){var t=e.start_date,a=function(){var e=(new Date).setHours((new Date).getHours()-5),a=t-e,n={};return a>0&&(n={Days:Math.floor(a/864e5),Hours:Math.floor(a/36e5%24),Minutes:Math.floor(a/1e3/60%60),Seconds:Math.floor(a/1e3%60)}),n},r=Object(n.useState)(a()),o=Object(A.a)(r,2),i=o[0],c=o[1],_=Object(n.useState)((new Date).getFullYear()),l=(Object(A.a)(_,1)[0],[]);return Object(n.useEffect)((function(){setTimeout((function(){c(a())}),1e3)})),Object.keys(i).forEach((function(e){i[e]&&l.push(s.a.createElement("span",{key:Math.random()*i[e]},s.a.createElement("small",null,i[e]),e," "))})),s.a.createElement(s.a.Fragment,null,l.length?l:s.a.createElement("span",null,"Time's up!"))},lo=(a(1207),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).handleAnswerForm=function(e){e.preventDefault();var t=n.state.user,a=t.file,s=t.video;a.is_valid&&s.is_valid&&alert("valid to submit")},n.handleOnBlurVideoUrl=function(e){var t=Object(d.a)({},n.state.user);n.checkValidURL(e.target.value)?t.video.url=e.target.value:t.video.url="",n.setState({user:t})},n.checkValidURL=function(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)},n.handleValidateFileSize=function(e){var t=e.target.files[0];if(void 0!==t){var a=Object(d.a)({},n.state.user),s=!(t.size/1024/1024>10);a.file.is_valid=s,a.file.name=s?t.name:"",n.setState({user:a})}},n.state={exam:{started:{date:"15 July 2020 PST",time:"23:18"},end:{date:"16 July 2020 PST",time:"04:18"}},time_remaining:{hour:5,minutes:0,seconds:0},user:{file:{is_valid:!0,name:""},video:{is_valid:!0,url:""}},start_date:(new Date).getTime()},n}return Object(_e.a)(a,[{key:"componentDidMount",value:function(){Object(p.D)()&&(window.location.href="/dashboard")}},{key:"render",value:function(){var e=this.state,t=e.exam,a=e.start_date,n=e.user;return s.a.createElement(s.a.Fragment,null,s.a.createElement(co,null),s.a.createElement("div",{id:"taking_exam_container",className:"container"},s.a.createElement("div",{className:"blk"},s.a.createElement("div",{className:"top"},s.a.createElement("h6",null,"You have unlocked the Belt Exam (HTML + CSS) ",s.a.createElement(Te.a,{icon:["fas","info-circle"]})),s.a.createElement("a",{href:"/exam"},"Option B (Dominion)"),s.a.createElement("a",{href:"/dashboard",className:"link"},"Cancel the exam")),s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("li",null,s.a.createElement("h6",null,"Exam Started"),s.a.createElement("h4",null,t.started.time),s.a.createElement("h5",null,t.started.date)),s.a.createElement("li",{className:"timer"},s.a.createElement(_o,{start_date:a})," Left"),s.a.createElement("li",{className:"exam_end_item"},s.a.createElement("h6",null,"Exam Ends"),s.a.createElement("h4",null,t.end.time),s.a.createElement("h5",null,t.end.date)))),s.a.createElement("form",{className:"blk",onSubmit:this.handleAnswerForm},s.a.createElement("div",{className:"left_container"},s.a.createElement("h6",null,"Zip your exam files and upload it here"),s.a.createElement("p",{className:n.file.is_valid?"":"invalid"},"Maximum file size 10 MB"),s.a.createElement("label",{htmlFor:"upload_files_input"},"Upload Files",s.a.createElement("input",{id:"upload_files_input",onChange:this.handleValidateFileSize,className:"hidden",type:"file",accept:"zip,application/octet-stream,application/zip,application/x-zip,application/x-zip-compressed"})),""===n.file.name?"":s.a.createElement("small",null,n.file.name)),s.a.createElement("div",{className:"right_container"},s.a.createElement("h6",null,"Provide us your exam video demo"),s.a.createElement("p",null,"You can still provide the url even after the given time limit"),s.a.createElement("input",{type:"url",id:"video_url_input",required:!0,onBlur:this.handleOnBlurVideoUrl,placeholder:"Add Video URL"}),s.a.createElement("button",{type:"submit"},"Save")))))}}]),a}(n.Component)),uo=ge.saveUserSessionPage,po=ge.updateUserSessionPage,mo=Object(p.J)(["analytics"],{saveUserSessionPage:uo,updateUserSessionPage:po}),ho=mo.mapStateToProps,Eo=mo.mapDispatchToProps,fo=Object(ue.b)(ho,Eo)(lo),go=(a(1208),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).clickCourseLink=function(t,a){var n,s,r={link:t,is_open_new_tab:a},o=t.split("/")[2];(null===(n=e.props.sence_session)||void 0===n?void 0:n.is_sence_user)&&!(null===(s=e.props.sence_session)||void 0===s?void 0:s.is_sence_session_on)&&e.props.sence_session.cd_stack_ids.includes(parseInt(o))&&(e.props.sence_session.has_expired?e.props.showFailedSenceRequestModal(!0,t):e.props.showFailedSenceLoginModal(!0,t),r=null),e.props.onAddActivityLog("1.15.3",r)},e}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.course,n=t.is_major_track;return s.a.createElement("li",{className:"course_item ".concat(a[0].course_progress&&a[0].course_progress.overall.percentage>=100?"completed":"")},!1===a[0].link.includes("http://")&&s.a.createElement("button",{type:"button",onClick:function(){return e.clickCourseLink(a[0].link,!1,n)}},s.a.createElement("img",{src:a[0].image_src.includes("/assets/tracks")?"https://assets.codingdojo.com/boomyeah2015/codingdojo/course_icons/workshop.png":a[0].image_src,alt:a[0].name}),s.a.createElement("span",null,a[0].name)),!0===a[0].link.includes("http://")&&s.a.createElement("button",{type:"button",onClick:function(){return e.clickCourseLink(a[0].link,!0,n)}},s.a.createElement("img",{src:a[0].image_src,alt:a[0].name}),s.a.createElement("span",null,a[0].name)))}}]),a}(n.Component)),vo=(a(1209),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;Object(ce.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){Object(p.D)()&&(window.location.href="/dashboard"),window.addEventListener("beforeunload",(function(){n.props.onUpdateUserSessionPage()})),n.props.get_user_enrolled_tracks({is_track_page:!0}),n.props.onSaveUserSessionPage({page_type_id:u.bb})},n.isToggleShowTrack=function(e){var t=n.props.tracks.enrolled_tracks;if(t){for(var a in t)t[a].id===e&&(t[a].is_open=!t[a].is_open);n.props.isToggleShowTrack(t)}},n.state={profile:null,is_show_failed_sence_login_modal:!1,is_show_failed_sence_request_modal:!1,is_show_sence_countdown_timer:!0,redirect_to:null,error_code:null};var s=Object(p.y)();return!0===s.status&&(n.state=Object(d.a)(Object(d.a)({},n.state),{},{profile:s.user_details})),n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t,a,n,r,o=this,i=Object(p.y)(),c=i.status?null===i||void 0===i||null===(e=i.user_details)||void 0===e||null===(t=e.workspace_custom_data)||void 0===t?void 0:t.sence_integration:null;return s.a.createElement(s.a.Fragment,null,s.a.createElement(et,{title:u.lb.student_page.courses}),s.a.createElement(He,{user_info:this.state.profile,onAddActivityLog:this.props.onAddActivityLog,onAddBookmark:this.props.onAddBookmark,onRemoveBookmark:this.props.onRemoveBookmark,history:this.props.history,is_dark_mode:this.props.is_dark_mode,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,onUpdateUserSessionPage:this.props.onUpdateUserSessionPage}),(null===c||void 0===c?void 0:c.is_sence_session_on)&&this.state.is_show_sence_countdown_timer&&s.a.createElement(Je,{history:this.props.history,updateParentStateFromChild:function(e){o.setState(e)}}),s.a.createElement("div",{id:"tracks_container",className:"container"},s.a.createElement(tn,{bookmarks:this.props.bookmarks,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,history:this.props.history,is_dark_mode:this.props.is_dark_mode,is_show_links:!0,location:this.props.location.pathname,onAddActivityLog:this.props.onAddActivityLog,onAddBookmark:this.props.onAddBookmark,onRemoveBookmark:this.props.onRemoveBookmark}),(null===(a=this.props.tracks)||void 0===a?void 0:a.is_loading)?s.a.createElement("img",{className:"loading",src:"https://assets.codingdojo.com/learn_platform/global/loader.gif",alt:"loading icon"}):s.a.createElement("ul",{className:"list-unstyled",id:"tracks_list"},(null===(n=this.props.tracks)||void 0===n||null===(r=n.enrolled_tracks)||void 0===r?void 0:r.length)&&this.props.tracks.enrolled_tracks.map((function(e){var t,a;return e.courses&&s.a.createElement("li",{key:e.id,className:e.is_open?"is_open":""},s.a.createElement("h5",{onClick:function(){return o.isToggleShowTrack(e.id)},role:"button"},e.title,e.track_alias&&u.d.includes(null===i||void 0===i||null===(t=i.user_details)||void 0===t||null===(a=t.general)||void 0===a?void 0:a.user_level_id)&&s.a.createElement("span",{className:"track_alias"},"(",e.track_alias,")"),s.a.createElement(st.a,{maxWidth:768},s.a.createElement("button",{type:"button"},s.a.createElement(Te.a,{icon:["fas","chevron-up"]})))),s.a.createElement("ul",{className:"list-unstyled courses_list"},(null===e||void 0===e?void 0:e.courses.map((function(t){return s.a.createElement(go,{track:o.props.track,course:t,key:t[0].id,onAddActivityLog:o.props.onAddActivityLog,sence_session:c,is_major_track:e.is_major_track,history:o.props.history,showFailedSenceLoginModal:function(e,t){return o.setState({is_show_failed_sence_login_modal:e,redirect_to:t})},showFailedSenceRequestModal:function(e,t){return o.setState({is_show_failed_sence_request_modal:e,redirect_to:t})}})})))||s.a.createElement("li",{id:"no_tracks_found"},"No courses found.")))}))||s.a.createElement("li",{id:"no_tracks_found"},"No courses found."))),this.state.is_show_failed_sence_login_modal&&c&&s.a.createElement(Pn,{show:this.state.is_show_failed_sence_login_modal,toggleShowModal:function(){return Object(p.W)(o,"is_show_failed_sence_login_modal",!1)},history:this.props.history,user_details:this.state.profile,redirect_to:this.state.redirect_to}),this.state.is_show_failed_sence_request_modal&&c&&s.a.createElement(Xe,{show:this.state.is_show_failed_sence_request_modal,toggleShowModal:function(){return Object(p.W)(o,"is_show_failed_sence_request_modal",!1)},error_code:this.state.error_code,is_sence_session_expired:null===c||void 0===c?void 0:c.has_expired,updateParentStateFromChild:function(e){o.setState(e)},history:this.props.history}))}}]),a}(n.Component)),bo=Re.get_user_enrolled_tracks,So=Re.isToggleShowTrack,Ao=Object(p.J)("tracks",{get_user_enrolled_tracks:bo,isToggleShowTrack:So}),ko=Ao.mapStateToProps,Oo=Ao.mapDispatchToProps,To=Object(ue.b)(ko,Oo)(vo),Co=(a(1210),a(1211),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).changeActiveOption=function(e){Object(f.a)(n.props.dropdown_data).map((function(t){e.id===t.id?t.is_active=!0:t.is_active=!1})),n.props.onChangeDropdownSelect(e,"tracks"===n.props.key_role?1:2)},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props.dropdown_data;return s.a.createElement("div",{className:"dropdown_select"},s.a.createElement(ke.a,{"data-toggle":"dropdown",title:t.map((function(e){if(e.is_active)return e.name})),onSelect:function(){return null}},t.map((function(t,a){return s.a.createElement("button",{key:a,type:"button",onClick:function(){return e.changeActiveOption(t)},className:"nav-link ".concat(t.is_active?"active":"")},t.name," ",t.is_active?s.a.createElement(Te.a,{icon:["fas","check"]}):"")}))),s.a.createElement(Te.a,{icon:["fas","chevron-down"]}))}}]),a}(n.Component)),wo=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){return Object(ce.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){var e,t,a,n,r,o=this.props,i=o.table_data,c=o.attendance_breakdown;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"attendance_rate_container"},s.a.createElement("h3",null,"Breakdown Data For Attendance"),s.a.createElement("div",{className:"dropdown_select_container"},(null===i||void 0===i||null===(e=i.track_data)||void 0===e?void 0:e.length)&&s.a.createElement(Co,{key_role:"tracks",onChangeDropdownSelect:this.props.onChangeDropdownSelect,dropdown_data:i.track_data})||"",(null===i||void 0===i||null===(t=i.weeks)||void 0===t?void 0:t.length)&&s.a.createElement(Co,{key_role:"weeks",onChangeDropdownSelect:this.props.onChangeDropdownSelect,dropdown_data:i.weeks})||""),s.a.createElement("div",{className:"scroll_container"},s.a.createElement("table",{id:"attendance_rate_table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Unit"),s.a.createElement("th",null,"Date"),c.data.length?null===(a=c.data[0])||void 0===a?void 0:a.periods.map((function(e,t){return s.a.createElement("th",null,c.is_part_time?u.sb.PART_TIME[t]:u.sb.FULL_TIME[t])})):"")),s.a.createElement("tbody",null,(null===(n=c.data)||void 0===n?void 0:n.length)?c.data.map((function(e,t){var a;return s.a.createElement("tr",{key:t},s.a.createElement("td",null,e.course),s.a.createElement("td",null,e.date),(null===(a=e.periods)||void 0===a?void 0:a.length)?e.periods.map((function(e){return s.a.createElement("td",{className:u.k[e.status].class},u.k[e.status].status)})):"")})):"",0===(null===(r=c.data)||void 0===r?void 0:r.length)&&s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"5",className:"no_results_found"},"No results found.")))))))}}]),a}(n.Component),yo=(a(1212),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).state={},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.active_user_exam,n=t.exam_feedback;return s.a.createElement("div",null,s.a.createElement(De.a,{id:"exam_feedback_modal",show:this.props.show,centered:!0,onHide:function(){return e.props.toggleShowModal(!1)}},s.a.createElement(De.a.Header,null,s.a.createElement("img",{src:n.added_by_admin_image_url||"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:"Instructor Image"}),s.a.createElement("div",{className:"right_container"},s.a.createElement("h5",null,n.added_by_admin_full_name),s.a.createElement("span",null,n.posted_at?v()(n.posted_at).format("MM/DD/YYYY"):""),s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("li",null,s.a.createElement("span",null,n.track_title)),s.a.createElement("li",null,s.a.createElement("span",null,n.course_title)))),s.a.createElement("div",{className:"belt_status_container"},s.a.createElement("h6",null,a.score>8?a.score:null),s.a.createElement("h6",null,a.belt_earned_color))),s.a.createElement(De.a.Body,null,s.a.createElement("p",null,n.content))))}}]),a}(n.Component)),Ro=(a(1213),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).handleOnClickFeedback=function(e){var t=e.track_id,a=e.id;n.props.getExamFeedback({track_id:t,user_exam_id:a,is_mark_as_read:!0}),n.setState({is_show_exam_feedback_modal:!0,has_unread_comment:!1,active_user_exam:e})},n.state={active_user_exam:{},is_show_exam_feedback_modal:!1,has_comment:!0,has_unread_comment:!0},n}return Object(_e.a)(a,[{key:"componentDidMount",value:function(){this.props.getStatExamHistories()}},{key:"componentDidUpdate",value:function(){var e,t=this.props.user_stats,a=t.track_id,n=t.exam_history_breakdown,s=t.exam_feedback_details,r=s.is_auto_show_exam_feedback_modal,o=s.user_exam_id,i=s.is_auto_fetch_exam_feedback,c=s.is_fetching_exam_feedback;(null===n||void 0===n||null===(e=n.all_user_exams)||void 0===e?void 0:e.length)&&r&&i&&!c&&this.handleOnClickFeedback({track_id:a,id:o})}},{key:"navigateExamHistories",value:function(e){this.props.getStatExamHistories(e)}},{key:"render",value:function(){var e,t,a,n=this,r=this.props.user_stats,o=r.exam_history_breakdown,i=r.exam_feedback_details,c=this.state,_=c.active_user_exam,l=c.is_show_exam_feedback_modal;c.has_comment,c.has_unread_comment;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"stats_belt_exam_history_container"},s.a.createElement("h3",null,"Breakdown Data For Exam History"),s.a.createElement("div",{className:"scroll_container"},s.a.createElement("table",{id:"belt_exam_history_table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"EXAM"),s.a.createElement("th",null,"BELT EARNED"),s.a.createElement("th",null,"DATE UNLOCKED"),s.a.createElement("th",null,"DURATION"),s.a.createElement("th",null,"STATUS"),s.a.createElement("th",null,"SCORE"))),s.a.createElement("tbody",null,o&&(null===o||void 0===o||null===(e=o.all_user_exams)||void 0===e?void 0:e.length)>0&&(null===(t=o.all_user_exams)||void 0===t?void 0:t.map((function(e){var t,a;return s.a.createElement("tr",{key:e.id},s.a.createElement("td",null,e.title," ",(null===(t=e.feedback)||void 0===t?void 0:t.id)&&s.a.createElement("button",{type:"button",onClick:function(){return n.handleOnClickFeedback(e)},className:(null===(a=e.feedback)||void 0===a?void 0:a.is_read)?"":"has_comment"}," ",s.a.createElement(Te.a,{className:"comment_icon",icon:["fas","comment"]}))),s.a.createElement("td",null,e.belt_earned_color),s.a.createElement("td",null,e.formatted_date_unlocked),s.a.createElement("td",null,e.duration),s.a.createElement("td",null," ",null!==e.belt_earned?"PASS":"".concat(null!==e.score&&"-"!==e.score?"FAILED":"PENDING")),s.a.createElement("td",null,e.score&&"-"!==e.score?e.score:""))}))),0===(null===o||void 0===o||null===(a=o.all_user_exams)||void 0===a?void 0:a.length)&&s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"6",className:"no_results_found"},"No results found.")))),o&&o.max_page_number>1&&s.a.createElement("div",{id:"pagination_btns_container"},s.a.createElement("button",{id:"left_btn_pagination",onClick:function(){return n.navigateExamHistories(o.history_index-1)},className:o.history_index<=0?"disabled":"",type:"button"},s.a.createElement(Te.a,{icon:["fas","chevron-left"]})),s.a.createElement("ul",{className:"list-unstyled"},Array.from(new Array(o.max_page_number),(function(e,t){return t+1})).map((function(e){return s.a.createElement("li",{key:e},s.a.createElement("button",{onClick:function(){return n.navigateExamHistories(e-1)},type:"button",className:o.history_index===e-1?"active":""},parseInt(e)))}))),s.a.createElement("button",{id:"right_btn_pagination",type:"button",onClick:function(){return n.navigateExamHistories(o.history_index+1)},className:o.history_index+1>=o.max_page_number?"disabled":""},s.a.createElement(Te.a,{icon:["fas","chevron-right"]}))))),l&&s.a.createElement(yo,{show:l,active_user_exam:_,exam_feedback:(null===o||void 0===o?void 0:o.selected_user_exam_feedback)||{},toggleShowModal:function(e){return Object(p.W)(n,"is_show_exam_feedback_modal",!1)},all_user_exams:null===o||void 0===o?void 0:o.all_user_exams,exam_feedback_details:i,triggerShowExamFeedback:this.props.triggerShowExamFeedback}))}}]),a}(n.Component)),Do=ja.a.getStatExamHistories,Uo=ja.a.getExamFeedback,No=ja.a.triggerShowExamFeedback,Io=Object(p.J)(["user_stats"],{getStatExamHistories:Do,getExamFeedback:Uo,triggerShowExamFeedback:No}),Po=Io.mapStateToProps,jo=Io.mapDispatchToProps,Lo=Object(ue.b)(Po,jo)(Ro),Mo=(a(1214),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){return Object(ce.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){var e=this.props,t=e.setActiveWidget,a=e.component_index,n=e.active_index,r=e.widget_data,o=e.to_date,i=e.is_dark_mode?"dark_mode/stats/dark-mode-notepad-icon.png":"user/stats/light-mode-notepad-icon.png",c=0===r.length;return s.a.createElement("div",{id:"belt_exam_history_block",role:"button",onClick:function(){return t()},className:"widget_block ".concat(a===n?"is_active":""," ").concat(c?"disabled":"")},s.a.createElement("h3",null,"Belt Exam Results"),c?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/"+i,alt:"notepad-icon"}),s.a.createElement("p",{className:"note"},"You  don\u2019t have any exam results for the time being!")):s.a.createElement(s.a.Fragment,null,s.a.createElement("ul",{id:"belt_exam_history_list"},r.map((function(e,t){return s.a.createElement("li",{key:t},s.a.createElement("span",{className:"belt_icon ".concat(e.belt_class," ").concat(e.belt_color_class)}),e.belt_description)}))),s.a.createElement("p",{className:"note"},"As of ",o,", you meet the Belt Exam results requirement for graduation")))}}]),a}(n.Component)),Fo=(a(1215),{CORE_ASSIGNMENT_DATA:1,CONTENT_COMPLETION_RATE_DATA:2,QUIZ_ACCURACY_DATA:3,BELT_EXAM_RESULTS_DATA:4}),xo={0:"",1:"No Submission",2:"On-time",3:"Out-of-schedule",4:"Review Pending",NOT_SUBMITTED:[0,1],SUBMITTED:[2,3]},Bo=(Object.assign({},{SDA_ONE_TIME_MANDATORY_SURVEYS:[21]},{USER_STATS_WIDGETS:Fo},{TRACK_DIFFICULTY_LEVEL:{1:"beginner",2:"advanced"}},{CONTENT_BREAKDOWN_MODULE_TYPES:{0:"Lecture",1:"Quiz",2:"Assignment"}},{RECURRENCE_END_TYPE:{NEVER:1,CUSTOM_DATE:2,AFTER:3}},{RECURRING_TYPE:{DAILY:1,WEEKLY:2,MONTHLY:3}},{RECURRENCE_TYPE:{ONE_TIME:1,DAILY:2,WEEKDAYS:3,ONCE_A_WEEK:4,CUSTOM:5}},{IS_RECURRING:{ONE_TIME:0,MULTIPLE:1}},{LECTURE_STATUS:{LIVE:1,EXPIRED:2,DISABLED:3,RECORD:4}},{CORE_ASSIGNMENT_BREAKDOWN_SUBMISSION_STATUS:xo}),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).renderAssignmentStatus=function(e){return 0!==e&&s.a.createElement("span",{className:"assignment_status_".concat(e)}," ",xo[e]," ")},e}return Object(_e.a)(a,[{key:"render",value:function(){var e,t,a,n=this,r=this.props,o=r.table_data,i=r.changeActivePage;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"core_assignment_completion_rate_container"},s.a.createElement("h3",null,"Breakdown Data For Core Assignment Completion"),s.a.createElement("div",{className:"dropdown_select_container"},(null===o||void 0===o||null===(e=o.tracks)||void 0===e?void 0:e.length)>0&&s.a.createElement(Co,{key_role:"tracks",onChangeDropdownSelect:this.props.onChangeDropdownSelect,dropdown_data:o.tracks}),(null===o||void 0===o||null===(t=o.weeks)||void 0===t?void 0:t.length)>0&&s.a.createElement(Co,{key_role:"weeks",onChangeDropdownSelect:this.props.onChangeDropdownSelect,dropdown_data:o.weeks})),s.a.createElement("div",{className:"scroll_container"},s.a.createElement("table",{id:"core_assignment_completion_rate_table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"UNIT"),s.a.createElement("th",null,"CHAPTER"),s.a.createElement("th",null,"MODULE"),s.a.createElement("th",null,"SUBMISSION DATE"),s.a.createElement("th",null,"STATUS"))),s.a.createElement("tbody",null,o&&(null===o||void 0===o?void 0:o.table_data)&&(null===o||void 0===o?void 0:o.table_data.map((function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,e.course),s.a.createElement("td",null,e.chapter),s.a.createElement("td",null,s.a.createElement("a",{href:e.link},e.module)),s.a.createElement("td",null,""===e.submission_date?"":s.a.createElement(En.a,{format:"L"},e.submission_date)),s.a.createElement("td",null,n.renderAssignmentStatus(e.status)))}))),0===(null===o||void 0===o||null===(a=o.table_data)||void 0===a?void 0:a.length)&&s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"5",className:"no_results_found"},"No results found.")))),o.max_pagination_key>0?s.a.createElement("div",{id:"pagination_btns_container"},s.a.createElement("button",{id:"left_btn_pagination",onClick:function(){return i(o.active_pagination_key-1)},className:o.active_pagination_key<=0?"disabled":"",type:"button"},s.a.createElement(Te.a,{icon:["fas","chevron-left"]})),s.a.createElement("ul",{className:"list-unstyled"},Array.from(new Array(o.max_pagination_key),(function(e,t){return t+1})).map((function(e){return s.a.createElement("li",{key:e},s.a.createElement("button",{onClick:function(){return i(parseInt(e)-1,1)},type:"button",className:parseInt(e-1)===o.active_pagination_key?"active":""},parseInt(e)))}))),s.a.createElement("button",{id:"right_btn_pagination",type:"button",onClick:function(){return i(o.active_pagination_key+1)},className:o.active_pagination_key+1>=o.max_pagination_key?"disabled":""},s.a.createElement(Te.a,{icon:["fas","chevron-right"]}))):"")))}}]),a}(n.Component)),Wo=(a(1216),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){return Object(ce.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){var e=this.props.is_dark_mode?"https://assets.codingdojo.com/learn_platform/dark_mode/stats/default_content.png":"https://assets.codingdojo.com/learn_platform/user/stats/default_content.png";return s.a.createElement("div",{id:"default_content_block"},s.a.createElement("img",{src:e,alt:"Desktop icon"}),s.a.createElement("p",null,"Select a widget above to view details"))}}]),a}(n.Component)),Ho=a(350),Ko=(a(1217),a(1218),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).setActiveBarColor=function(){var e=n.props,t=e.is_dark_mode,a=(e.component_index,e.widget_data),s=null===a||void 0===a?void 0:a.ratings[n.state.active_tab_index];return("Core Assignment Completion Rate"===a.name?Math.round(null===s||void 0===s?void 0:s.rate)>=90:Math.round(null===s||void 0===s?void 0:s.rate)>=((null===a||void 0===a?void 0:a.required_attendance_rate)||80))?{track_color:t?"#157F26":"#E3FFE8",bar_color:"#4CE164"}:"TO DATE"===(null===s||void 0===s?void 0:s.name)?{track_color:t?"#98750B":"#FFF6E4",bar_color:"#F2C94C"}:{track_color:t?"#414348":"#EFF4FF",bar_color:t?"#81A0EA":"#2C6BFF"}},n.state={active_tab_index:0},n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t,a=this,n=this.state.active_tab_index,r=this.props,o=r.active_index,i=r.component_index,c=r.setActiveWidget,_=r.widget_data,l=r.to_date,d=r.is_disabled_attendance_block;return s.a.createElement("div",{className:"widget_block ".concat(i==o?"is_active":""," ").concat((null===_||void 0===_||null===(e=_.name)||void 0===e||null===(t=e.toLowerCase())||void 0===t?void 0:t.replace(/ /g,"_"))||""),role:"button",onClick:function(){return c()}},s.a.createElement("h3",null,(null===_||void 0===_?void 0:_.name)||""),d&&i===u.Lb.ATTENDANCE_DATA?s.a.createElement("div",{id:"maintenance_widget"},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/maintenance_icon.svg",alt:"Maintenance Icon"}),s.a.createElement("p",null,"Your total attendance is not currently visible as feature improvements are underway. View detailed attendance by clicking this widget. For further assistance, please contact your Instructor. Thank you for your patience!")):s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,(null===_||void 0===_?void 0:_.required_completion_rate)||""),s.a.createElement("div",{className:"button_container"},Array.isArray(_.ratings)&&_.ratings.map((function(e,t){return s.a.createElement("button",{key:t,type:"button",onClick:function(){return a.setState({active_tab_index:t})},className:t==n?"active":""},e.name)}))),s.a.createElement("div",{className:"progress_container"},s.a.createElement(Ho.a,{value:Number(_.ratings[n].rate),text:"".concat(Math.round(_.ratings[n].rate),"%"),strokeWidth:8,styles:Object(Ho.b)({textColor:"#333333",pathColor:this.setActiveBarColor().bar_color,trailColor:this.setActiveBarColor().track_color,textSize:"16px"})})),s.a.createElement("p",{className:"note"},i===u.Lb.CORE_ASSIGNMENT_DATA?"As of ".concat(l,", you ").concat(Math.round(_.ratings[n].rate)<(i===u.Lb.CORE_ASSIGNMENT_DATA?90:80)?"do not":""," meet the assignment completion requirement for graduation"):"")))}}]),a}(n.Component)),Go=(a(1219),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).state={is_show_release_notes_banner:!1,is_show_release_notes_modal:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{id:"maintenance_container"},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/maintenance_icon.svg",alt:"Maintenance Icon"}),s.a.createElement("h1",null,"This page is undergoing maintenance."),s.a.createElement("p",null,"We apologize for the inconvenience as we are making some changes to improve your experience. This page will be back soon."))}}]),a}(n.Component)),Vo=(a(1220),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;Object(ce.a)(this,a),(n=t.call(this,e)).activeTableToShow=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=n.state.is_show_loading,a=n.props.user_stats,r=a.attendance_breakdown,o=a.breakdown_data,i=(a.dropdown_options,n.props.is_dark_mode?"https://codingdojo_assets.s3.us-east-1.amazonaws.com/learn_platform/dark_mode/stats/loading_dot_white.gif":"https://codingdojo_assets.s3.us-east-1.amazonaws.com/learn_platform/user/stats/loading.gif");if(t)return s.a.createElement("img",{id:"stats_loading_img",src:i,alt:"loading-icon"});var c={1:s.a.createElement(Bo,{changeActivePage:n.handleChangeActivePage,simulationForOnChangeDropdownSelect:n.simulationForOnChangeDropdownSelect,onChangeDropdownSelect:n.handleOnChangeDropdownSelect,table_data:o}),2:s.a.createElement(wo,{changeActivePage:n.handleChangeActivePage,simulationForOnChangeDropdownSelect:n.simulationForOnChangeDropdownSelect,onChangeDropdownSelect:n.handleOnChangeDropdownSelect,table_data:o,attendance_breakdown:r}),3:s.a.createElement(Lo,null)};return c[e]},n.handleChangeActivePage=function(e){var t=n.state.stats_index,a=n.props.getCoreAssignmentBreakdown,s=n.props.user_stats.breakdown_data;n.state.active_widget_index===t.assignment&&a(s.track_id,s.cc_stack_schedule_id,e)},n.onSetActiveWidgetClassic=function(e){var t,a,s=n.state,r=s.active_selected_track_data,o=r.cc_stack_schedule_id,i=r.track_id,c=s.stats_index,_=n.props.user_stats,l=_.active_track_option,d=_.exam_feedback_details,u=o||(null===(t=l[0])||void 0===t?void 0:t.cc_stack_schedule_id)||0,p=i||(null===(a=l[0])||void 0===a?void 0:a.track_id)||0;u&&p&&(e===c.assignment?n.props.getCoreAssignmentBreakdown(p,u):e===c.attendance&&n.props.getUserAttendanceBreakdown(u,p)),e!==c.belt&&(null===d||void 0===d?void 0:d.is_auto_show_exam_feedback_modal)&&n.props.triggerShowExamFeedback({is_auto_show_exam_feedback_modal:!1}),n.setState({active_widget_index:e})},n.handleOnChangeDropdownSelect=function(e,t){var a=n.state,s=a.active_widget_index,r=a.stats_index,o=a.active_selected_track_data,i=n.props.user_stats.breakdown_data,c=t===u.tb.track?e.track_id:i.track_id,_=t===u.tb.track?e.cc_stack_schedule_id:i.cc_stack_schedule_id;if(s===r.assignment)n.props.getCoreAssignmentBreakdown(c,_);else if(s===r.attendance){var l=t===u.tb.track?u.G:e.id;n.props.getUserAttendanceBreakdown(_,c,l)}else s===r.no_selected&&(n.props.getCoreAssignmentBreakdown(c,_),n.props.getUserAttendanceBreakdown(_,c));n.setState({active_selected_track_data:{cc_stack_schedule_id:_,track_id:c,start_date:(null===e||void 0===e?void 0:e.start_date)||(null===o||void 0===o?void 0:o.start_date)}})},n.state={active_widget_index:0,active_selected_track_data:{cc_stack_schedule_id:0,track_id:0,start_date:""},is_show_loading:!1,is_show_main_loading:!1,is_set_default_widget:null,is_show_failed_sence_request_modal:!1,is_show_sence_countdown_timer:!0,is_show_maintenance:!1,profile:null,stats_index:{no_selected:0,assignment:1,attendance:2,belt:3},to_date:v()().format("L"),error_code:null};var r=Object(p.y)();return!0===r.status&&(n.state=Object(d.a)(Object(d.a)({},n.state),{},{profile:r.user_details})),n}return Object(_e.a)(a,[{key:"componentDidMount",value:function(){Object(p.D)()&&(window.location.href="/dashboard"),this.props.getStats()}},{key:"render",value:function(){var e,t,a,n,r=this,o=this.props,i=o.onAddActivityLog,c=o.onAddBookmark,_=o.onRemoveBookmark,l=o.bookmarks,d=o.is_dark_mode,m=o.handleOnChangeDarkMode,h=o.history,E=o.onUpdateUserSessionPage,f=o.location,g=this.state,v=g.active_widget_index,b=g.to_date,S=g.profile,k=(g.stack_dropdown_options,g.stack_dropdown_value,g.active_selected_track_data,this.props.user_stats),O=k.belts,T=k.core_completion_data,C=k.dropdown_options,w=k.widget_data,y=k.active_track_option,R=k.is_show_main_loading,D=k.attendance_rate_data,U=(k.breakdown_data,k.exam_feedback_details);if(v=(null===U||void 0===U?void 0:U.is_auto_show_exam_feedback_modal)?this.state.stats_index.belt:v,(null===(e=f.pathname)||void 0===e||null===(t=e.match(/\/stats\/belt_exams\/\d+\/\d+/gm))||void 0===t?void 0:t.length)&&(null===w||void 0===w?void 0:w.data)){var N=parseInt(f.pathname.split("/")[3]);if(y=y||C.filter((function(e){return e.track_id===N}))[0],this.state.is_set_default_widget===Fo.BELT_EXAM_RESULTS_DATA)for(var I=0,P=Object.entries(w.data);I<P.length;I++){var j=Object(A.a)(P[I],2),L=j[0],M=j[1];w.data[L].active=M.id===Fo.BELT_EXAM_RESULTS_DATA}}var F=Object(p.y)(),x=F.status?null===F||void 0===F||null===(a=F.user_details)||void 0===a||null===(n=a.workspace_custom_data)||void 0===n?void 0:n.sence_integration:null;return s.a.createElement(s.a.Fragment,null,s.a.createElement(et,{title:u.lb.student_page.stats}),s.a.createElement(He,{is_dark_mode:this.props.is_dark_mode,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,user_info:S,onAddActivityLog:i,onAddBookmark:c,onRemoveBookmark:_,onUpdateUserSessionPage:E}),(null===x||void 0===x?void 0:x.is_sence_session_on)&&this.state.is_show_sence_countdown_timer&&s.a.createElement(Je,{history:this.props.history,updateParentStateFromChild:function(e){r.setState(e)}}),s.a.createElement("div",{id:"stats_container",className:"container"},s.a.createElement(tn,{bookmarks:l,handleOnChangeDarkMode:m,history:h,is_dark_mode:d,is_show_links:!0,location:this.props.location.pathname,onAddActivityLog:i,onAddBookmark:c,onRemoveBookmark:_}),this.state.is_show_maintenance?s.a.createElement(Go,null):R?s.a.createElement("div",{id:"loading_container"},d?s.a.createElement("img",{src:"https://codingdojo_assets.s3.us-east-1.amazonaws.com/learn_platform/dark_mode/stats/loading_dot_white.gif",alt:"loading icon"}):s.a.createElement("img",{src:"https://codingdojo_assets.s3.us-east-1.amazonaws.com/learn_platform/user/stats/loading.gif",alt:"loading icon"}),s.a.createElement("p",null,"Loading...")):s.a.createElement(s.a.Fragment,null,s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",null,"My Performance ",s.a.createElement("a",{id:"catalog_link",href:"https://cd-student-files.s3.us-west-2.amazonaws.com/boomyeah2015/codingdojo/catalogs/2021-Master-Student-Catalog.pdf",target:"_blank"},"Catalog Version: 2021")),(null===C||void 0===C?void 0:C.length)?s.a.createElement(es.a,{id:"stats_dropdown_select",placeholder:"Select a Course",searchable:!1,labelField:"label",valueField:"track_id",values:y,options:C,onChange:function(e){return r.handleOnChangeDropdownSelect(e[0],u.tb.track)}}):null,s.a.createElement("div",{id:"stats_widget_container"},s.a.createElement(Ko,{active_index:v,is_dark_mode:d,component_index:1,setActiveWidget:function(){return r.onSetActiveWidgetClassic(1)},to_date:b,widget_data:T}),s.a.createElement(Ko,{active_index:v,is_dark_mode:d,component_index:2,setActiveWidget:function(){return r.onSetActiveWidgetClassic(2)},to_date:b,widget_data:D,is_disabled_attendance_block:!1}),s.a.createElement(Mo,{active_index:v,component_index:3,setActiveWidget:function(){return r.setState({active_widget_index:3})},to_date:b,is_dark_mode:d,widget_data:O,exam_feedback_details:U})),0===v?s.a.createElement(Wo,{is_dark_mode:d}):this.activeTableToShow(v)))),this.state.is_show_failed_sence_request_modal&&s.a.createElement(Xe,{show:this.state.is_show_failed_sence_request_modal,toggleShowModal:function(){return Object(p.W)(r,"is_show_failed_sence_request_modal",!1)},error_code:this.state.error_code,is_sence_session_expired:null===x||void 0===x?void 0:x.has_expired,updateParentStateFromChild:function(e){r.setState(e)},history:this.props.history}))}}]),a}(n.Component)),qo=ja.a.fetchContentBreakdown,Yo=ja.a.getStats,Qo=ja.a.getUserBelts,$o=ja.a.getCoreAssignmentCompletionRate,zo=ja.a.getCoreAssignmentBreakdown,Jo=ja.a.getUserAttendanceBreakdown,Xo=ja.a.triggerShowExamFeedback,Zo=Object(p.J)(["user_stats","user","courses"],{fetchContentBreakdown:qo,getStats:Yo,getUserBelts:Qo,getCoreAssignmentCompletionRate:$o,getCoreAssignmentBreakdown:zo,getUserAttendanceBreakdown:Jo,triggerShowExamFeedback:Xo}),ei=Zo.mapStateToProps,ti=Zo.mapDispatchToProps,ai=Object(ue.b)(ei,ti)(Vo),ni=a(38),si=(a(435),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){Object(p.D)()&&(window.location.href="/dashboard"),n.props.fetchCourseDetails({track_id:parseInt(n.props.match.params.course_id)})},n.componentDidUpdate=function(e,t){var a=n.props.courses,s=a.active_track,r=a.tracks;(null===s||void 0===s?void 0:s.id)&&s.id!==parseInt(n.props.match.params.course_id)&&"0"===n.props.match.params.course_id&&window.history.pushState("","","/course_intro/".concat(s.id)),JSON.stringify(t.active_track)!==JSON.stringify(s)&&n.setState({active_track:s}),JSON.stringify(t.tracks)!==JSON.stringify(r)&&n.setState({tracks:r})},n.state={active_track:void 0,is_join_live_lecture:!1,track_search_value:"",tracks:[],is_show_add_bookmark_modal:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t,a=this,n=this.props,r=n.onRemoveBookmark,o=n.onAddBookmark,i=n.location,c=n.bookmarks,_=n.onAddActivityLog,l=this.state,d=l.active_track,m=l.tracks,h=l.track_search_value,E=l.is_show_add_bookmark_modal,f=(d&&d.total_module&&Math.round(d.completed_module/d.total_module*100),d&&d.completed_module===d.total_module),g=d&&m.filter((function(e){return e.title.toLowerCase().includes(h.toLowerCase())})),v=(null===(e=this.props.user.user_details)||void 0===e||null===(t=e.general)||void 0===t?void 0:t.trial_platform_mode)?"/t":"";return s.a.createElement(s.a.Fragment,null,s.a.createElement(et,{title:u.lb.student_page.course_overview}),s.a.createElement(He,{location:i.pathname,user_info:this.props.user.user_details,onAddActivityLog:_,onAddBookmark:o,onRemoveBookmark:r,history:this.props.history,is_dark_mode:this.props.is_dark_mode,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,onUpdateUserSessionPage:this.props.onUpdateUserSessionPage}),s.a.createElement("div",{className:"container",id:"course_intro_container"},s.a.createElement(tn,{history:this.props.history,is_dark_mode:this.props.is_dark_mode,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,is_show_links:!1,onRemoveBookmark:r,onAddBookmark:o,location:i.pathname,bookmarks:c,onAddActivityLog:_}),d&&s.a.createElement(s.a.Fragment,null,s.a.createElement(ni.a,null,s.a.createElement("h2",null,"Courses"),s.a.createElement(ni.a.Toggle,{id:"course_intro_dropdown"},d.title),s.a.createElement(ni.a.Menu,null,s.a.createElement("input",{className:"form-control",type:"text",name:"track_search_value",placeholder:"Search Course Name",value:h,onChange:function(e){return Object(p.C)(e,a)}}),s.a.createElement("div",{className:"track_list"},g.map((function(e){return s.a.createElement(pe.b,{to:"".concat(v,"/course_intro/").concat(e.id),className:"dropdown-item",onClick:function(){document.body.click(),a.props.fetchCourseDetails({track_id:e.id})}},e.title)})),!g.length&&s.a.createElement("p",null,"No results found.")))),s.a.createElement("div",{id:"course_intro_content"},s.a.createElement("div",{id:"course_details_widget"},s.a.createElement("h1",null,d.title),d.started_date&&s.a.createElement("span",null,"Started on ",d.started_date),s.a.createElement("button",{type:"button",onClick:function(e){return d.is_bookmarked?r(e,0,d.user_bookmark_id,d.id):a.setState({is_show_add_bookmark_modal:!0})},id:"add_to_bookmarked_button"},s.a.createElement("span",{className:"icon ".concat(d.is_bookmarked?"is_bookmarked":"")}))),s.a.createElement("div",{id:"course_intro_widget"},s.a.createElement("h3",null,"Overview"),s.a.createElement("div",{id:"course_overview_container"},!!(null===d||void 0===d?void 0:d.instructors.length)&&s.a.createElement("ul",{id:"instructor_container"},d.instructors.map((function(e){return s.a.createElement("li",null,s.a.createElement("img",{src:e.profile_image_link||"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:e.name}),s.a.createElement("h6",null,e.name,s.a.createElement("span",null,"Instructor")))}))),s.a.createElement("div",{id:"course_description",dangerouslySetInnerHTML:{__html:d.description||"<p>No available course description.</p>"}})),s.a.createElement("div",{id:"courses_container"},s.a.createElement("h4",null,"Units"),s.a.createElement("ul",{className:"list-unstyled courses_list"},d.courses&&(null===d||void 0===d?void 0:d.courses.map((function(e){return s.a.createElement("li",{className:"course_item ".concat(e[0].course_progress&&e[0].course_progress.overall.percentage>=100?"completed":""),key:e[0].id},s.a.createElement(go,{course:e,key:e[0].id,onAddActivityLog:_}))})))))),s.a.createElement("div",{id:"course_progress_widget"},s.a.createElement("h2",null,d.title),s.a.createElement(pe.b,{to:null===d||void 0===d?void 0:d.current_module_link,className:"".concat(f?"revisit_btn":"")},f?"Revisit":d.started_date?"Continue":"Start"))))),E&&s.a.createElement(ht,{active_module:this.props.courses.active_track,track_details:this.props.courses.active_track,show:E,toggleShowModal:function(){return Object(p.W)(a,"is_show_add_bookmark_modal",!1)},onAddActivityLog:this.props.onAddActivityLog,is_track_overview:!0}))}}]),a}(n.Component)),ri=ot.fetchCourseDetails,oi=ot.fetchLiveLectures,ii=ot.joinLiveLecture,ci=ot.check_current_user,_i=ot.updateBookmarkStatus,li=Object(p.J)(["courses","user","lecture","user_bookmarks"],{fetchCourseDetails:ri,fetchLiveLectures:oi,joinLiveLecture:ii,check_current_user:ci,updateBookmarkStatus:_i}),di=li.mapStateToProps,ui=li.mapDispatchToProps,pi=Object(ue.b)(di,ui)(si),mi=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.props.fetchCourseDetails({track_id:parseInt(n.props.match.params.course_id)})},n.componentDidUpdate=function(e,t){var a=n.props.courses,s=a.active_track,r=a.tracks;(null===s||void 0===s?void 0:s.id)&&s.id!==parseInt(n.props.match.params.course_id)&&"0"===n.props.match.params.course_id&&window.history.pushState("","","/course_intro/".concat(s.id)),JSON.stringify(t.active_track)!==JSON.stringify(s)&&n.setState({active_track:s}),JSON.stringify(t.tracks)!==JSON.stringify(r)&&n.setState({tracks:r})},n.submitUpdateCourseDescription=function(e){e.preventDefault();var t=n.state,a=t.active_track,s=t.is_updated_course_description,r=Object(Se.a)(n);r.props.updateCourseDescription({track_id:a.id,description:a.description}),s||(r.setState({is_updated_course_description:!0}),setTimeout((function(){r.setState({is_updated_course_description:!1})}),u.Ab.normal))},n.state={active_track:void 0,is_join_live_lecture:!1,track_search_value:"",tracks:[],is_show_add_bookmark_modal:!1,is_updated_course_description:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.onRemoveBookmark,n=t.onAddBookmark,r=t.location,o=t.bookmarks,i=t.onAddActivityLog,c=this.state,_=c.active_track,l=c.tracks,d=c.track_search_value,m=c.is_show_add_bookmark_modal,h=c.is_updated_course_description,E=(_&&_.description,_&&_.total_module&&Math.round(_.completed_module/_.total_module*100),_&&_.completed_module===_.total_module),f=_&&l.filter((function(e){return e.title.toLowerCase().includes(d.toLowerCase())}));return s.a.createElement(s.a.Fragment,null,s.a.createElement(et,{title:u.lb.student_page.course_overview}),s.a.createElement(He,{location:r.pathname,user_info:this.props.user.user_details,onAddActivityLog:i,onAddBookmark:n,onRemoveBookmark:a,history:this.props.history,is_dark_mode:this.props.is_dark_mode,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,onUpdateUserSessionPage:this.props.onUpdateUserSessionPage}),s.a.createElement("div",{className:"container",id:"course_intro_container"},s.a.createElement(tn,{history:this.props.history,is_dark_mode:this.props.is_dark_mode,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,is_show_links:!1,onRemoveBookmark:a,onAddBookmark:n,location:r.pathname,bookmarks:o,onAddActivityLog:i}),_&&s.a.createElement(s.a.Fragment,null,s.a.createElement(ni.a,null,s.a.createElement("h2",null,"Courses"),s.a.createElement(ni.a.Toggle,{id:"course_intro_dropdown"},_.title),s.a.createElement(ni.a.Menu,null,s.a.createElement("input",{className:"form-control",type:"text",name:"track_search_value",placeholder:"Search Course Name",value:d,onChange:function(t){return Object(p.C)(t,e)}}),s.a.createElement("div",{className:"track_list"},f.map((function(t){return s.a.createElement(pe.b,{to:"/course_intro/".concat(t.id),className:"dropdown-item",onClick:function(){document.body.click(),e.props.fetchCourseDetails({track_id:t.id})}},t.title)})),!f.length&&s.a.createElement("p",null,"No results found.")))),s.a.createElement("div",{id:"course_intro_content"},s.a.createElement("div",{id:"course_details_widget"},s.a.createElement("h1",null,_.title),_.started_date&&s.a.createElement("span",null,"Started on ",_.started_date),s.a.createElement("button",{type:"button",onClick:function(t){return _.is_bookmarked?a(t,0,_.user_bookmark_id,_.id):e.setState({is_show_add_bookmark_modal:!0})},id:"add_to_bookmarked_button"},s.a.createElement("span",{className:"icon ".concat(_.is_bookmarked?"is_bookmarked":"")}))),s.a.createElement("div",{id:"course_intro_widget"},s.a.createElement("h3",null,"Overview"),s.a.createElement("div",{id:"course_overview_container"},!!(null===_||void 0===_?void 0:_.instructors.length)&&s.a.createElement("ul",{id:"instructor_container"},_.instructors.map((function(e){return s.a.createElement("li",null,s.a.createElement("img",{src:e.profile_image_link||"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:e.name}),s.a.createElement("h6",null,e.name,s.a.createElement("span",null,"Instructor")))}))),s.a.createElement("form",{action:"",onSubmit:function(t){return e.submitUpdateCourseDescription(t)},id:"course_description_edit"},s.a.createElement("textarea",{onChange:function(e){return _.description=e.target.value},placeholder:"No available course description."},_.description||"<p></p>"),s.a.createElement("button",{disabled:h,class:h?"disabled":"",type:"submit"},"Update"))),s.a.createElement("div",{id:"courses_container"},s.a.createElement("h4",null,"Units"),s.a.createElement("ul",{className:"list-unstyled courses_list"},_.courses&&(null===_||void 0===_?void 0:_.courses.map((function(e){return s.a.createElement("li",{className:"course_item ".concat(e[0].course_progress&&e[0].course_progress.overall.percentage>=100?"completed":""),key:e[0].id},s.a.createElement(go,{course:e,key:e[0].id,onAddActivityLog:i}))})))))),s.a.createElement("div",{id:"course_progress_widget"},s.a.createElement("h2",null,_.title),s.a.createElement(pe.b,{to:null===_||void 0===_?void 0:_.current_module_link,className:"".concat(E?"revisit_btn":"")},E?"Revisit":_.started_date?"Continue":"Start"))))),m&&s.a.createElement(ht,{active_module:this.props.courses.active_track,track_details:this.props.courses.active_track,show:m,toggleShowModal:function(){return Object(p.W)(e,"is_show_add_bookmark_modal",!1)},onAddActivityLog:this.props.onAddActivityLog,is_track_overview:!0}))}}]),a}(n.Component),hi=ot.fetchCourseDetails,Ei=ot.fetchLiveLectures,fi=ot.joinLiveLecture,gi=ot.check_current_user,vi=ot.updateBookmarkStatus,bi=ot.updateCourseDescription,Si=Object(p.J)(["courses","user","lecture","user_bookmarks"],{fetchCourseDetails:hi,fetchLiveLectures:Ei,joinLiveLecture:fi,check_current_user:gi,updateBookmarkStatus:vi,updateCourseDescription:bi}),Ai=Si.mapStateToProps,ki=Si.mapDispatchToProps,Oi=Object(ue.b)(Ai,ki)(mi),Ti=(a(1221),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={belt_name:"Webfun",finished_count:723},e}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(De.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,id:"belt_achievement_modal"},s.a.createElement(De.a.Header,null,s.a.createElement(De.a.Title,null,"Congratulations!"),s.a.createElement("button",{onClick:function(t){return e.props.toggleShowModal(!1)}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/close_icon.png",alt:"Close Icon"}))),s.a.createElement(De.a.Body,null,s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/big_webfun_belt.png",alt:"Installment Due Reminder Icon"}),s.a.createElement("p",null,"You just earned the ",s.a.createElement("span",null,this.state.belt_name," Belt"),"!"),s.a.createElement("p",null,this.state.finished_count," other Coding Dojo community members just like you have unlocked this achievement.")),s.a.createElement(De.a.Footer,null,s.a.createElement("p",null,"Spread the news. Make \u2018em jealous."),s.a.createElement("a",{href:"#",className:"twitter_icon"}),s.a.createElement("a",{href:"#",className:"instagram_icon"}),s.a.createElement("a",{href:"#",className:"linkedin_icon"}),s.a.createElement("a",{href:"#",className:"facebook_icon"}),s.a.createElement("a",{href:"#",className:"reddit_icon"})))}}]),a}(n.Component)),Ci=a(485),wi=a(486),yi=a(361),Ri=Object(me.h)((function(e){return e.history.listen((function(e,t){yi.a.set({page:e.pathname}),yi.a.pageview(e.pathname)})),s.a.createElement("div",null)})),Di=(a(1225),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).handleSubmitResume=function(e){e.preventDefault(),n.handleValidation()&&alert("Saved")},n.state={fields:{},errors:{},is_success:!1},n}return Object(_e.a)(a,[{key:"handleOnChangeField",value:function(e,t){var a=this.state.fields;a[e]=t.target.value,this.setState({fields:a})}},{key:"handleValidation",value:function(){var e={},t=!0;return this.state.fields.resume_url||(t=!1,e.resume_url=!0),this.setState({errors:e}),t}},{key:"render",value:function(){var e=this,t=this.state,a=t.errors,n=t.fields;return s.a.createElement(De.a,{id:"upload_resume_modal",show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)}},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,"Upload Your Resume"),s.a.createElement("button",{onClick:function(t){return e.props.toggleShowModal(!1)}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/close_icon.png",alt:"Close Icon"}))),s.a.createElement(De.a.Body,null,s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/modals/resume_file.png",alt:"Upload Resume Icon"}),s.a.createElement("p",null,"Please upload your most updated resume for career services."),s.a.createElement("form",{action:"",onSubmit:this.handleSubmitResume},s.a.createElement("label",{htmlFor:"upload_resume_input",className:a.resume_url?"border_red":""},"Click to ",void 0===n.resume_url?"attach":"change","  your resume",s.a.createElement("input",{id:"upload_resume_input",className:"hidden",onChange:this.handleOnChangeField.bind(this,"resume_url"),type:"file"}),s.a.createElement("small",null,n.resume_url)),s.a.createElement("button",{type:"submit"},"Continue"))))}}]),a}(n.Component)),Ui=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidUpdate=function(){n.getUserDetails(),n.state.is_dark_mode?document.body.classList.add("is_dark_mode"):document.body.classList.remove("is_dark_mode"),n.initializeIntercomWidget()},n.initializeIntercomWidget=function(){var e,t;if((null===(e=n.current_user)||void 0===e||null===(t=e.workspace)||void 0===t?void 0:t.workspace_id)===u.Xb.codingdojo){var a=n.current_user.general,s=a.email_address,r=a.first_name,o=a.last_name,i=a.access_started_at;window.Intercom("boot",{api_base:"https://api-iam.intercom.io",app_id:"rpf3h5c2",name:r+" "+o,email:s,created_at:i}),window.Intercom("update")}},n.getUserDetails=function(){var e=Object(p.y)();!0===e.status&&e.user_details.general&&(n.current_user=e.user_details)},n.removeBookmark=function(e,t,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e.preventDefault(),(parseInt(t)||parseInt(s))&&parseInt(a)&&n.props.remove_user_bookmark(t,{user_bookmark_id:a,track_id:s})},n.addBookmark=function(e,t){e.preventDefault(),void 0!==t&&n.props.save_new_user_bookmarks(t.chapter_module_id,{title:t.title,track_course_id:t.track_course_id,bookmark_url:parseInt(t.chapter_module_id)?"m/".concat(t.track_id,"/").concat(t.chapter_id,"/").concat(t.chapter_module_id):"course_intro/".concat(t.track_id),track_id:t.track_id})},n.saveUserSessionPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(n.current_user&&n.current_user.general&&!n.current_user.general.disable_ua_tracking&&!n.props.analytics.is_session_page_saving&&u.Hb.includes(parseInt(n.current_user.general.user_level_id))){var a=Object(d.a)(Object(d.a)({},e),{},{page_title:document.title,page_url:window.location.pathname,prev_user_session_page_id:n.props.analytics.active_user_session_page_id});n.last_session_page_post_data=a,n.is_ended_session_page=!1,n.updateUserSessionPage(window.location.pathname,t),n.props.saveUserSessionPage(a)}},n.updateUserSessionPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(n.current_user&&n.current_user.general&&!n.current_user.general.disable_ua_tracking){var a=n.props.analytics,s=!0;if("object"===typeof e&&(n.mouse_leave_at=(new Date).getTime(),n.mouse_enter_at=void 0,s=!1),a.activity_logs.length>0&&!1===a.is_saving_logs&&n.props.saveSessionActivitylog({user_session_page_id:a.active_user_session_page_id,activity_logs:a.activity_logs}),a.active_user_session_page_id&&!1===n.props.analytics.is_session_page_updating&&u.Hb.includes(parseInt(n.current_user.general.user_level_id))&&!0===s){var r={user_session_page_id:a.active_user_session_page_id};t&&(r.ended_at_override=t.ended_at_override||void 0),r.active_sence_user_session_page_id=null===a||void 0===a?void 0:a.active_sence_user_session_page_id,n.props.updateUserSessionPage(r),n.is_ended_session_page=!0}}},n.createNewUserSessionPage=function(){if(n.current_user&&n.current_user.general&&!n.current_user.general.disable_ua_tracking){var e=!0;n.mouse_enter_at=(new Date).getTime();var t=void 0,a=0;void 0!==n.mouse_enter_at&&void 0!==n.mouse_leave_at&&(e=(a=Math.round((n.mouse_enter_at-n.mouse_leave_at)/1e3))>=60,n.is_ended_session_page=a>=60,a>=60&&(t={ended_at_override:n.mouse_leave_at})),n.is_ended_session_page&&void 0!==n.last_session_page_post_data&&!0===e&&(0===a||a>=60&&a<1800)&&n.saveUserSessionPage(n.last_session_page_post_data,t)}},n.addActivityLog=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(n.current_user&&n.current_user.general&&!n.current_user.general.disable_ua_tracking){var a=n.props.analytics;a&&a.active_user_session_page_id&&u.Hb.includes(parseInt(n.current_user.general.user_level_id))?(n.props.storeActivitylog([a.active_user_session_page_id,e,new Date],t),n.props.analytics.activity_logs.length>=10&&!1===n.props.analytics.is_saving_logs&&n.props.saveSessionActivitylog({user_session_page_id:n.props.analytics.active_user_session_page_id,activity_logs:n.props.analytics.activity_logs})):t&&(t.is_open_new_tab?window.open(t.link,"_blank"):window.location.replace(t.link))}},n.onChangeDarkMode=function(){var e=!0!==n.state.is_dark_mode;!0===e?document.body.classList.add("is_dark_mode"):document.body.classList.remove("is_dark_mode"),n.addActivityLog(!0===e?"3.1.23":"3.1.24"),localStorage.setItem("PANAGSIPNGET",e),n.setState({is_dark_mode:e})},n.startAFKTimer=function(){n.current_user&&n.current_user.general&&!n.current_user.general.disable_ua_tracking&&(n.timeoutID=window.setTimeout(n.userGoInactive,2e3))},n.resetAFKTimer=function(e){n.current_user&&n.current_user.general&&!n.current_user.general.disable_ua_tracking&&(window.clearTimeout(n.timeoutID),n.userGoActive())},n.userGoInactive=function(){n.current_user&&n.current_user.general&&!n.current_user.general.disable_ua_tracking&&(n.mouse_activity_stop_at=(new Date).getTime(),n.mouse_activity_continued_at=void 0)},n.userGoActive=function(){if(n.current_user&&n.current_user.general&&!n.current_user.general.disable_ua_tracking){if(void 0!==n.mouse_activity_stop_at){var e=n.mouse_activity_stop_at;n.mouse_activity_continued_at=(new Date).getTime();var t=Math.round((n.mouse_activity_continued_at-n.mouse_activity_stop_at)/1e3);if(n.mouse_activity_stop_at=void 0,n.mouse_activity_continued_at=void 0,t>=1800){var a=n.props.analytics;void 0!==a&&!1===a.is_resetting_session&&null!==a.active_user_session_id&&null!==a.active_user_session_page_id&&(a.activity_logs.length>0&&!1===a.is_saving_logs&&n.props.saveSessionActivitylog({user_session_page_id:a.active_user_session_page_id,activity_logs:a.activity_logs}),n.props.resetAnalyticsSession({user_session_id:n.props.analytics.active_user_session_id,user_session_page_id:n.props.analytics.active_user_session_page_id,ended_at_override:e,last_session_page_post_data:n.last_session_page_post_data,sence_student_progress_id:null===a||void 0===a?void 0:a.active_sence_user_session_page_id}))}}n.startAFKTimer()}},n.storeInitialURL=function(){null!==n.current_user||["/login","/learn_autologin","/logout"].includes(window.location.pathname)||localStorage.setItem("visited_urls",window.location.pathname)},n.getInitialURL=function(){var e=localStorage.getItem("visited_urls");return localStorage.removeItem("visited_urls"),e},n.current_user=null,n.onDocumentMouseLeaveSubscription=void 0,n.onDocumentMouseEnterSubscription=void 0,n.onDocumentMouseMoveSubscription=void 0,n.onDocumentMouseWheelSubscription=void 0,n.onDocumentDOMMouseScrollSubscription=void 0,n.is_ended_session_page=!1,n.last_session_page_post_data=void 0,n.current_page_link=void 0,n.mouse_leave_at=void 0,n.mouse_enter_at=void 0,n.mouse_activity_stop_at=void 0,n.mouse_activity_continued_at=void 0,n.timeoutID=void 0,n.state={bookmarks:[],is_dark_mode:!0===Object(p.G)()},n.userSubscription=be.a.getCurrentUser().subscribe((function(e){var t;if(void 0!==e&&null!==e&&!0===e.is_logged_in){if(n.current_user=e.user_details,n.current_user&&(null===(t=n.current_user)||void 0===t?void 0:t.general)){var a,s=(null===(a=n.current_user)||void 0===a?void 0:a.general).is_dark_mode,r=s&&s===u.bc||null;r&&r!==n.state.is_dark_mode&&n.setState({is_dark_mode:r})}}else n.current_user=null})),n}return Object(_e.a)(a,[{key:"componentDidMount",value:function(){this.getUserDetails(),this.state.is_dark_mode?document.body.classList.add("is_dark_mode"):document.body.classList.remove("is_dark_mode"),this.initializeIntercomWidget()}},{key:"componentWillMount",value:function(){this.getUserDetails(),this.onDocumentMouseLeaveSubscription=document.addEventListener("mouseleave",this.updateUserSessionPage,!1),this.onDocumentMouseEnterSubscription=document.addEventListener("mouseenter",this.createNewUserSessionPage,!1),this.onDocumentMouseMoveSubscription=document.addEventListener("mousemove",this.resetAFKTimer,!1),this.onDocumentMouseWheelSubscription=document.addEventListener("mousewheel",this.resetAFKTimer,!1),this.onDocumentDOMMouseScrollSubscription=document.addEventListener("DOMMouseScroll",this.resetAFKTimer,!1),this.startAFKTimer(),this.storeInitialURL()}},{key:"componentWillUnmount",value:function(){void 0!==this.userSubscription&&this.userSubscription.unsubscribe(),void 0!==this.onDocumentMouseLeaveSubscription&&this.onDocumentMouseLeaveSubscription.unsubscribe(),void 0!==this.onDocumentMouseEnterSubscription&&this.onDocumentMouseEnterSubscription.unsubscribe(),void 0!==this.onDocumentMouseMoveSubscription&&this.onDocumentMouseMoveSubscription.unsubscribe(),void 0!==this.onDocumentMouseWheelSubscription&&this.onDocumentMouseWheelSubscription.unsubscribe(),void 0!==this.onDocumentDOMMouseScrollSubscription&&this.onDocumentDOMMouseScrollSubscription.unsubscribe()}},{key:"render",value:function(){var e,t,a,n,r=this,o=this.state.bookmarks;(void 0===this.current_page_link||void 0!==this.current_page_link&&this.current_page_link!==window.location.pathname)&&(this.current_page_link=window.location.pathname);var i=null===this||void 0===this||null===(e=this.props)||void 0===e||null===(t=e.user)||void 0===t||null===(a=t.user_details)||void 0===a||null===(n=a.general)||void 0===n?void 0:n.trial_platform_mode;return s.a.createElement(s.a.Fragment,null,s.a.createElement(pe.a,{history:p.F},s.a.createElement(Ri,null),s.a.createElement(me.d,null,s.a.createElement(me.b,{exact:!0,path:"/",render:function(){return null!==r.current_user?s.a.createElement(me.a,{to:{pathname:i?"/t/dashboard":"/dashboard",state:{from:"/"}}}):s.a.createElement(me.a,{to:{pathname:i?"/t/login":"/login",state:{from:"/"}}})}}),s.a.createElement(me.b,{path:"/login",render:function(e){return null!==r.current_user?s.a.createElement(me.a,{to:{pathname:r.getInitialURL()||"/dashboard",state:{from:e.location}}}):s.a.createElement(yr,null)}}),s.a.createElement(me.b,{path:"/learn_autologin/:redirect_page?",render:function(e){return s.a.createElement(yr,e)}}),s.a.createElement(me.b,{path:i?"/t/logout":"/logout",render:function(e){return null!==r.current_user?s.a.createElement(Vr,Object.assign({},e,{handleOnChangeDarkMode:r.onChangeDarkMode,is_dark_mode:r.state.is_dark_mode,onRemoveBookmark:r.removeBookmark,onAddBookmark:r.addBookmark,bookmarks:o,onSaveUserSessionPage:r.saveUserSessionPage,onAddActivityLog:r.addActivityLog,onUpdateUserSessionPage:r.updateUserSessionPage})):s.a.createElement(me.a,{to:{pathname:i?"/t/signin":"/login",state:{from:e.location}}})}}),s.a.createElement(me.b,{path:"/autologin/:autologin_key/:redirect_page?/:user_level?",render:function(e){return null!==r.current_user?s.a.createElement(me.a,{to:{pathname:"/dashboard",state:{from:"/login"}}}):s.a.createElement(yr,e)}}),s.a.createElement(me.b,{path:i?"/t/contact":"/contact",render:function(e){var t,a,n;return s.a.createElement(tt,Object.assign({},e,{onSaveUserSessionPage:r.saveUserSessionPage,onAddActivityLog:r.addActivityLog,onRemoveBookmark:r.removeBookmark,onAddBookmark:r.addBookmark,handleOnChangeDarkMode:r.onChangeDarkMode,onUpdateUserSessionPage:r.updateUserSessionPage,workspace_id:null===(t=r.props.user)||void 0===t||null===(a=t.user_details)||void 0===a||null===(n=a.workspace)||void 0===n?void 0:n.workspace_id}))}}),s.a.createElement(me.b,{path:i?"/t/dashboard/:custom_feature":"/dashboard/:custom_feature",render:function(e){return null!==r.current_user?s.a.createElement(ur,Object.assign({},e,{handleOnChangeDarkMode:r.onChangeDarkMode,is_dark_mode:r.state.is_dark_mode,onRemoveBookmark:r.removeBookmark,onAddBookmark:r.addBookmark,bookmarks:o,onSaveUserSessionPage:r.saveUserSessionPage,onAddActivityLog:r.addActivityLog,onUpdateUserSessionPage:r.updateUserSessionPage})):s.a.createElement(me.a,{to:{pathname:"/login",state:{from:e.location}}})}}),s.a.createElement(me.b,{path:i?"/t/dashboard":"/dashboard",render:function(e){return null!==r.current_user?s.a.createElement(ur,Object.assign({},e,{handleOnChangeDarkMode:r.onChangeDarkMode,is_dark_mode:r.state.is_dark_mode,onRemoveBookmark:r.removeBookmark,onAddBookmark:r.addBookmark,bookmarks:o,onSaveUserSessionPage:r.saveUserSessionPage,onAddActivityLog:r.addActivityLog,onUpdateUserSessionPage:r.updateUserSessionPage})):s.a.createElement(me.a,{to:{pathname:"/login",state:{from:e.location}}})}}),s.a.createElement(me.b,{path:i?"/t/courses":"/courses",render:function(e){return null!==r.current_user?s.a.createElement(To,Object.assign({},e,{handleOnChangeDarkMode:r.onChangeDarkMode,is_dark_mode:r.state.is_dark_mode,onRemoveBookmark:r.removeBookmark,onAddBookmark:r.addBookmark,bookmarks:o,onSaveUserSessionPage:r.saveUserSessionPage,onAddActivityLog:r.addActivityLog,onUpdateUserSessionPage:r.updateUserSessionPage})):s.a.createElement(me.a,{to:{pathname:"/login",state:{from:e.location}}})}}),s.a.createElement(me.b,{path:i?"/t/m/:track_id/:chapter_id/:module_id":"/m/:track_id/:chapter_id/:module_id",render:function(e){var t,a,n;return null===r.current_user||(null===(t=r.current_user.workspace_custom_data)||void 0===t||null===(a=t.surveys)||void 0===a||null===(n=a.incomplete_mandatory_survey_ids)||void 0===n?void 0:n.length)?s.a.createElement(me.a,{to:{pathname:"/login",state:{from:e.location}}}):s.a.createElement(Xn,Object.assign({},e,{is_online_discussion:"false",handleOnChangeDarkMode:r.onChangeDarkMode,is_dark_mode:r.state.is_dark_mode,onRemoveBookmark:r.removeBookmark,onAddBookmark:r.addBookmark,bookmarks:r.state.bookmarks,onSaveUserSessionPage:r.saveUserSessionPage,onAddActivityLog:r.addActivityLog,onUpdateUserSessionPage:r.updateUserSessionPage}))}}),s.a.createElement(me.b,{path:i?"/t/d/:track_id/:week_id/:question_id":"/d/:track_id/:week_id/:question_id",render:function(e){return null!==r.current_user?s.a.createElement(Xn,Object.assign({},e,{is_online_discussion:"true",handleOnChangeDarkMode:r.onChangeDarkMode,is_dark_mode:r.state.is_dark_mode,onRemoveBookmark:r.removeBookmark,onAddBookmark:r.addBookmark,bookmarks:r.state.bookmarks,onSaveUserSessionPage:r.saveUserSessionPage,onAddActivityLog:r.addActivityLog,onUpdateUserSessionPage:r.updateUserSessionPage})):s.a.createElement(me.a,{to:{pathname:"/login",state:{from:e.location}}})}}),s.a.createElement(me.b,{path:i?"/t/progress":"/progress",render:function(e){return null!==r.current_user?s.a.createElement(io,Object.assign({},e,{handleOnChangeDarkMode:r.onChangeDarkMode,is_dark_mode:r.state.is_dark_mode,onRemoveBookmark:r.removeBookmark,onAddBookmark:r.addBookmark,bookmarks:r.state.bookmarks,onSaveUserSessionPage:r.saveUserSessionPage,onAddActivityLog:r.addActivityLog,onUpdateUserSessionPage:r.updateUserSessionPage})):s.a.createElement(me.a,{to:{pathname:"/login",state:{from:e.location}}})}}),s.a.createElement(me.b,{path:i?"/t/exams":"/exams",render:function(e){return null!==r.current_user?s.a.createElement(gr,Object.assign({},e,{handleOnChangeDarkMode:r.onChangeDarkMode,is_dark_mode:r.state.is_dark_mode,onRemoveBookmark:r.removeBookmark,onAddBookmark:r.addBookmark,bookmarks:r.state.bookmarks,onsaveUserSessionPage:r.saveUserSessionPage,onAddActivityLog:r.addActivityLog,onUpdateUserSessionPage:r.updateUserSessionPage})):s.a.createElement(me.a,{to:{pathname:"/login",state:{from:e.location}}})}}),s.a.createElement(me.b,{path:i?"/t/taking_exam":"/taking_exam",render:function(e){return null!==r.current_user?s.a.createElement(fo,e):s.a.createElement(me.a,{to:{pathname:"/login",state:{from:e.location}}})}}),s.a.createElement(me.b,{path:i?"/t/stats":"/stats",render:function(e){return r.current_user?s.a.createElement(ai,Object.assign({},e,{handleOnChangeDarkMode:r.onChangeDarkMode,is_dark_mode:r.state.is_dark_mode,onRemoveBookmark:r.removeBookmark,onAddBookmark:r.addBookmark,bookmarks:r.state.bookmarks,onSaveUserSessionPage:r.saveUserSessionPage,onAddActivityLog:r.addActivityLog,onUpdateUserSessionPage:r.updateUserSessionPage})):s.a.createElement(me.a,{to:{pathname:"/login",state:{from:e.location}}})}}),s.a.createElement(me.b,{path:i?"/t/course_intro/:course_id":"/course_intro/:course_id",render:function(e){return r.current_user?s.a.createElement(pi,Object.assign({},e,{handleOnChangeDarkMode:r.onChangeDarkMode,is_dark_mode:r.state.is_dark_mode,onRemoveBookmark:r.removeBookmark,onAddBookmark:r.addBookmark,bookmarks:o,onSaveUserSessionPage:r.saveUserSessionPage,onAddActivityLog:r.addActivityLog,onUpdateUserSessionPage:r.updateUserSessionPage})):s.a.createElement(me.a,{to:{pathname:"/login",state:{from:e.location}}})}}),s.a.createElement(me.b,{path:i?"/t/course_intro_edit/:course_id":"/course_intro_edit/:course_id",render:function(e){return r.current_user?r.current_user.general.email_address.search("@village88.com")>0?s.a.createElement(Oi,Object.assign({},e,{handleOnChangeDarkMode:r.onChangeDarkMode,is_dark_mode:r.state.is_dark_mode,onRemoveBookmark:r.removeBookmark,onAddBookmark:r.addBookmark,bookmarks:o,onSaveUserSessionPage:r.saveUserSessionPage,onAddActivityLog:r.addActivityLog,onUpdateUserSessionPage:r.updateUserSessionPage})):s.a.createElement(me.a,{to:{pathname:"/dashboard",state:{from:e.location}}}):s.a.createElement(me.a,{to:{pathname:"/login",state:{from:e.location}}})}}),s.a.createElement(me.a,{from:"*",to:"/"})),s.a.createElement(Ci.a,{history:p.F}),s.a.createElement(wi.a,{history:p.F})),s.a.createElement(Ti,{show:!1,toggleShowModal:function(){return Object(p.W)(r,"is_show_belt_achievement_modal",!1)}}),s.a.createElement(Di,{show:!1,toggleShowModal:function(){return Object(p.W)(r,"is_show_upload_resume_modal",!1)}}),s.a.createElement(he.a,{onBeforeunload:function(e){return r.updateUserSessionPage}}))}}]),a}(n.Component),Ni=ge.saveUserSessionPage,Ii=ge.updateUserSessionPage,Pi=ge.storeActivitylog,ji=ge.saveSessionActivitylog,Li=ge.createUserSession,Mi=ge.resetAnalyticsSession,Fi=Object(p.J)(void 0,{remove_user_bookmark:ve.a.remove_user_bookmark,save_new_user_bookmarks:ve.a.save_new_user_bookmarks,saveUserSessionPage:Ni,updateUserSessionPage:Ii,storeActivitylog:Pi,saveSessionActivitylog:ji,createUserSession:Li,resetAnalyticsSession:Mi}),xi=Fi.mapStateToProps,Bi=Fi.mapDispatchToProps,Wi=Object(ue.b)(xi,Bi)(Ui),Hi=(a(1226),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;Object(ce.a)(this,a),(n=t.call(this,e)).submitted_bug=function(e){!1===n.state.will_submit&&n.setState({will_submit:!0})},n.state={will_submit:!1},window.location="https://bugtracker.zoho.com/portal/village88dotcom/bugiframe.do?projId=0d2e05f11be2295c83b121cfbb3127d3d43abb253aaa6ba1&fId=0d2e05f11be2295c83b121cfbb3127d3e821f6e6e45f96ea&action=getiframe&embed=false";var s=Object(p.y)();return!0===s.status&&(n.state=Object(d.a)(Object(d.a)({},n.state),{},{profile:s.user_details})),n}return Object(_e.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(He,{location:this.props.location.pathname,report_issue:!0,user_info:this.state.profile}),s.a.createElement("iframe",{id:"report_issue_iframe",onLoad:this.submitted_bug(),src:"https://bugtracker.zoho.com/portal/village88dotcom/bugiframe.do?projId=0d2e05f11be2295c83b121cfbb3127d3d43abb253aaa6ba1&fId=0d2e05f11be2295c83b121cfbb3127d3e821f6e6e45f96ea&action=getiframe&embed=false"}))}}]),a}(n.Component)),Ki=a(362),Gi=(a(1227),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;Object(ce.a)(this,a);var s=Object(p.y)().user_details.general.user_capabilities;return(n=t.call(this,e)).componentDidUpdate=function(){var e=Object(p.y)().user_details.general.user_capabilities,t=Object(p.u)(e,[]);JSON.stringify(t)!==JSON.stringify(n.state.navigations)&&n.setState({navigations:t})},n.state={navigations:Object(p.u)(s,[])},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"sidebar_container"},s.a.createElement("ul",{className:"list-unstyled",id:"sidebar_buttons_list"},this.state.navigations.map((function(t){return s.a.createElement("li",{key:t.link,className:e.props.active_icon===t.icon_name?"active":""},s.a.createElement(pe.b,{to:"/admin/"+t.link},s.a.createElement("span",{className:t.icon_name})))}))))}}]),a}(n.Component));a(1228);var Vi=function(e){var t,a=e.navigation,r=e.admin_page,o=Object(p.y)(),i=o.status,c=o.user_details;i&&r&&(a=Object(p.w)(null===(t=c.general)||void 0===t?void 0:t.user_capabilities,r));var _=Object(n.useState)(!1),l=Object(A.a)(_,2),d=l[0],u=l[1],m=Object(me.g)().pathname.split("/");return s.a.createElement("div",{id:"admin_navigation_container",className:"".concat(d?"collapse":"")},s.a.createElement("h3",null,a.title),s.a.createElement("button",{onClick:function(){return u(!d)},id:"toggle_collapse_sidebar_btn"},s.a.createElement(Te.a,{icon:["fas","chevron-left"]})),s.a.createElement("ul",{className:"list-unstyled",id:"navigation_list"},a.links.map((function(e){return s.a.createElement("li",{className:"".concat(e.name.replace(" ","_").toLowerCase()===m[2]||(null===e||void 0===e?void 0:e.active_link)===m[2]?"active":""),key:e.name},s.a.createElement(pe.b,{to:e.link},e.name),e.sub_links&&e.sub_links.length>0&&s.a.createElement("ul",{className:"list-unstyled"},e.sub_links.map((function(t,a){return s.a.createElement("li",{className:m[m.length-1]===t.link.split("/")[1]?"active":"",key:t.name},s.a.createElement(pe.b,{to:"/admin/".concat(t.link)},t.name,"Student Rostering"===e.name&&e.sub_links.length&&s.a.createElement(s.a.Fragment,null,"(step ",a+1,"/2)")))}))))}))))},qi=(a(1229),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).customContentRenderer=function(){var e=n.props.dropdown;return s.a.createElement(s.a.Fragment,null,e.selected.length>0?e.selected[0].label:e.name,e.is_multi_select&&e.selected.length>1&&s.a.createElement("span",{className:"multi_select_indicator"},"+ ".concat(e.selected.length-1)),e.selected.length<=0&&s.a.createElement("span",{className:"dropdown_handle_icon add"}))},n.customClearRenderer=function(e){var t=e.methods;return s.a.createElement(s.a.Fragment,null,n.props.dropdown.selected.length>0&&s.a.createElement("span",{className:"dropdown_handle_icon clear",onClick:function(){return t.clearAll()}}))},n.customDropdownRenderer=function(e){var t=e.props,a=e.state,r=e.methods,o=n.state.search,i=n.props.dropdown;o=o.replace(/[\xb0"\xa7%()*\[\]{}=\\?\xb4`'#<>|;.:+_]+/g,"");var c=new RegExp(o,"i"),_=t.options.filter((function(e){return c.test(e[t.searchBy]||e[t.labelField])}));return s.a.createElement(s.a.Fragment,null,i.is_show_search&&s.a.createElement("div",{className:"dropdown_search_container"},s.a.createElement("input",{autoFocus:!0,type:"text",value:o,onChange:function(e){return n.searchDropdownMenuOption(e,r)},placeholder:n.props.custom_placeholder||"Type anything"})),s.a.createElement("div",{className:"dropdown_menu"},_.length?s.a.createElement(s.a.Fragment,null,i.is_categorized?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"major_stack"},s.a.createElement("span",null,"major"),n.dropdownItems(_,a,t,r,i.filter_name,!0)),s.a.createElement("div",{className:"minor_stack"},s.a.createElement("span",null,"minor"),n.dropdownItems(_,a,t,r,i.filter_name,!1))):n.dropdownItems(_,a,t,r,i.filter_name)):s.a.createElement("div",{className:"no_results_found"},"No results found.")))},n.dropdownItems=function(e,t,a,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return e.map((function(e,c){var _,l;if(!a.keepSelectedInList&&r.isSelected(e))return null;if("cc_stack_instructor_id"===o||"sem_user_id"===o){var d,u,p,m=null===e||void 0===e||null===(d=e.label)||void 0===d?void 0:d.split(" ").pop(),h=null===e||void 0===e||null===(u=e.label)||void 0===u?void 0:u.lastIndexOf(" ");l=null===e||void 0===e||null===(p=e.label)||void 0===p?void 0:p.substring(0,h),_=(null===m||void 0===m?void 0:m.substring(0,1))+"."}return i&&e.is_major||!1===i&&!e.is_major||void 0===i?s.a.createElement("div",{className:"dropdown_item ".concat(t.cursor===c?"active":""),disabled:e.disabled,key:e[a.valueField],tabIndex:"-1","aria-label":e[a.labelField],role:"option","aria-selected":-1!==t.values.indexOf(e)},"cc_stack_instructor_id"===o||"sem_user_id"===o?s.a.createElement(va.a,{placement:"top",overlay:s.a.createElement(Sa.a,{id:"instructor_name_tooltip"},e[a.labelField])},s.a.createElement("span",{onClick:e.disabled?null:function(){return r.addItem(e)}},l+" "+_)):s.a.createElement("span",{onClick:e.disabled?null:function(){return r.addItem(e)}},e[a.labelField]),t.cursor===c?n.autoFocusActiveDropdownItem(c):null,n.props.dropdown.is_multi_select&&s.a.createElement("div",{className:"checkbox"},s.a.createElement("input",{id:"".concat(e[a.valueField],"_dropdown_checkbox"),checked:n.props.dropdown.selected.filter((function(t){return t.value===e.value})).length>0,type:"checkbox",onChange:function(){return e.disabled?void 0:r.addItem(e)}}),s.a.createElement("label",{htmlFor:"".concat(e[a.valueField],"_dropdown_checkbox")},s.a.createElement("div",{className:"checkbox_container"},s.a.createElement(Te.a,{icon:["fas","check"]}))))):void 0}))},n.searchDropdownMenuOption=function(e,t){n.setState({search:e.target.value}),t.setSearch(e)},n.autoFocusActiveDropdownItem=function(e){var t=document.querySelector(".react-dropdown-select[aria-expanded='true'] .dropdown_menu"),a=document.querySelector(".react-dropdown-select[aria-expanded='true'] .dropdown_item:nth-child("+(e+1)+")");if(a){var n=a.offsetTop+a.offsetHeight;n>t.offsetHeight&&(t.scrollTop=n-t.offsetHeight+10)}0===e&&(t.scrollTop=0)},n.state={search:""},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.dropdown,n=t.custom_content_renderer,r=t.clearable,o=void 0===r||r;return s.a.createElement(es.a,{backspaceDelete:!1,className:"".concat(a.selected.length>0&&"has_value"),clearable:o,clearRenderer:this.customClearRenderer,contentRenderer:n||this.customContentRenderer,dropdownHandle:!1,dropdownRenderer:this.customDropdownRenderer,handleKeyDownFn:this.autoScrollDropdownMenu,multi:!!a.is_multi_select,onChange:function(t){return e.props.onUpdateFilterDropdownSelectedValue(t,a)},onDropdownClose:function(){return e.setState({search:""})},options:a.options,placeholder:a.name,values:a.selected})}}]),a}(n.Component)),Yi=(a(1230),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(_e.a)(a,[{key:"render",value:function(){var e,t=this;return s.a.createElement("form",{className:"filter_container",action:"",onSubmit:function(e){return t.props.submitFilters(e,"filter",!0)}},(null===(e=this.props.filter_dropdowns)||void 0===e?void 0:e.length)&&this.props.filter_dropdowns.map((function(e){if(!e.is_hide_filter||t.props.is_used_by_program&&"Student Experience Manager"!==e.name)return s.a.createElement(qi,{key:e.name,dropdown:e,onUpdateFilterDropdownSelectedValue:t.props.updateFilterDropdownSelectedValue})}))||"",s.a.createElement("button",{id:"table_filter_btn",type:"submit"},"Fetch Results"),s.a.createElement("button",{type:"button",onClick:function(){return t.props.clearAllFilters(t)}},"Clear Filter"))}}]),a}(n.Component)),Qi=a(64),$i=(a(1231),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).changeWorkspace=function(e){var t=Object(f.a)(n.state.workspaces);t.map((function(t){t.is_selected=t.id===e})),n.setState({workspaces:t}),n.props.onchangeActiveWorkspace(t)},n.state={workspaces:[{id:0,name:"Coding Dojo Domestic",is_selected:!0},{id:1,name:"Saudi Arabia",is_selected:!1},{id:2,name:"Chile",is_selected:!1},{id:3,name:"Amazon Corporate",is_selected:!1},{id:4,name:"Microsoft Program",is_selected:!1},{id:5,name:"Microsoft Program 2",is_selected:!1},{id:6,name:"Microsoft Program 3",is_selected:!1}]},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;this.state.workspaces=this.props.available_workspaces;var t=this.state.workspaces;return s.a.createElement(ni.a,{id:"workspace_dropdown"},s.a.createElement(ni.a.Toggle,{variant:"default"},t.filter((function(e){return e.is_selected}))[0].name," ",s.a.createElement("i",{className:"arrow_down"})),s.a.createElement(ni.a.Menu,null,s.a.createElement(ni.a.Header,null,"Select your workspace"),t.map((function(t){return s.a.createElement(ni.a.Item,{key:t.id,onClick:function(){return e.changeWorkspace(t.id)},as:"button",className:"".concat(t.is_selected?"active":"")}," ",t.name," ")}))))}}]),a}(n.Component)),zi=(a(1232),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e,t){var a=Object(f.a)(n.state.inputs),s=a.indexOf(t);a[s]=Object(d.a)({},t),a[s].value=e.target.value,n.setState({inputs:a})},n.handleSubmitRetrieveForm=function(e){e.preventDefault();var t=Object(f.a)(n.state.inputs);if(t.map((function(e){return e.is_valid=""!==e.value,e})),t[1].value!==t[2].value){t[1].error_message="Password doesn\u2019t match";for(var a=1;a<t.length;a++)t[a].is_valid=!1}if(n.setState({inputs:t}),0===t.filter((function(e){return!1===e.is_valid})).length){var s=Object(A.a)(t,3),r=s[0],o=s[1],i=s[2],c=(n.props.location&&n.props.location.state||{from:{pathname:"/change_password"}}).from;n.props.resetPassword(r.value,o.value,i.value,c)}},n.resetModalOnHide=function(){var e=Object(f.a)(n.state.inputs);e.map((function(e){e.is_valid=!0,e.value=""})),n.setState({inputs:e}),n.state.is_password_reset=!1,n.props.toggleShowModal(!1)},n.state={is_password_reset:!1,inputs:[{name:"old_password",type:"password",error_message:"Password doesn\u2019t match our record. Please try again.",label:"Current Password",value:"",is_valid:!0},{name:"new_password",type:"password",error_message:"Password does not match",label:"New Password",value:"",is_valid:!0},{name:"confirm_password",type:"password",error_message:"Password does not match",label:"Confirm New Password",value:"",is_valid:!0}]},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;return null!=this.props.user.is_current_password&&(this.props.user.is_current_password?(this.state.is_password_reset=!0,this.props.user.is_current_password=null):this.state.inputs[0].is_valid=!1),s.a.createElement(De.a,{show:this.props.show,onHide:function(){return e.resetModalOnHide()},centered:!0,id:"change_password_modal"},s.a.createElement(De.a.Header,null,!this.state.is_password_reset&&s.a.createElement(s.a.Fragment,null,s.a.createElement("h6",null,"Change Your Password"),s.a.createElement("p",null,"Your new password must be different from your current password.")),this.state.is_password_reset&&s.a.createElement(s.a.Fragment,null,s.a.createElement("h6",null,"New Password Saved!"),s.a.createElement("p",null,"You can now use your new password to log in to your account."))),s.a.createElement(De.a.Body,null,!this.state.is_password_reset&&s.a.createElement("form",{action:"",id:"reset_password_form",onSubmit:this.handleSubmitRetrieveForm},this.state.inputs.map((function(t,a){return s.a.createElement(s.a.Fragment,{key:a},s.a.createElement("label",{htmlFor:""},t.label),s.a.createElement("input",{type:t.type,name:t.name,className:"form-control ".concat(t.is_valid?"":"error"),onChange:function(a){return e.handleInputChange(a,t)},value:t.value}),t.is_valid?"":s.a.createElement("p",null,t.error_message))})),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save New Password"))))}}]),a}(n.Component)),Ji=Object(p.J)(void 0,{resetPassword:Ce.a.resetPassword}),Xi=Ji.mapStateToProps,Zi=Ji.mapDispatchToProps,ec=Object(ue.b)(Xi,Zi)(zi);a(1233),a(1234);var tc=Object(p.J)(["user","dashboard","admin"],{upload_user_profile_pic:Ce.a.upload_user_profile_pic,navigateToLP2Admin:Qi.a.navigateToLP2Admin}),ac=tc.mapStateToProps,nc=tc.mapDispatchToProps,sc=Object(ue.b)(ac,nc)((function(e){var t=Object(n.useState)(e.profile.general.image_url),a=Object(A.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)(!1),c=Object(A.a)(i,2),_=c[0],l=c[1],d=Object(n.useState)(!1),p=Object(A.a)(d,2),m=p[0],h=p[1],E=[],f=window.location.href;if((E="access_control"===f.substring(f.lastIndexOf("/")+1)&&(null===e||void 0===e?void 0:e.is_access_control)?e.admin.profile.acl_authorized_workspaces:e.admin.profile.available_workspaces)&&E[0]&&!Object.keys(E[0]).includes("is_selected"))for(var g=0;g<E.length;g++)E[g].is_selected=E[g].id===e.profile.workspace.workspace_id;var v=s.a.createElement(ga.a,{id:"user_profile_popover"},s.a.createElement(ga.a.Title,null,s.a.createElement("p",null,"Coding Dojo Domestic Workspace"),s.a.createElement("div",{id:"info_container"},s.a.createElement("label",{title:"Upload profile picture"},s.a.createElement("input",{onChange:function(t){return function(t){var a=t.target.files[0];if(0!=a.length){var n=new FileReader;n.readAsDataURL(a),e.upload_user_profile_pic({pic_upload:t.target.files[0]}),n.onload=function(){o(n.result)},l(!0),setTimeout((function(){l(!1)}),2e3)}}(t)},accept:"image/*",className:"hidden",type:"file"}),s.a.createElement(Te.a,{icon:["fas","upload"]}),s.a.createElement("img",{className:_?"is_uploading":"hidden",src:"https://assets.codingdojo.com/learn_platform/global/loader.gif",alt:"loading icon"}),s.a.createElement("img",{src:r,alt:"profile-picture"})),s.a.createElement("h6",null,s.a.createElement(va.a,{overlay:s.a.createElement(Sa.a,{className:"user_name_tooltip"},e.profile.general.first_name," ",e.profile.general.last_name)},s.a.createElement("span",{className:"name"},e.profile.general.first_name," ",e.profile.general.last_name)),s.a.createElement("span",{className:"user_level"},void 0!=u.b[e.profile.general.user_level_id]?u.b[e.profile.general.user_level_id]:"Admin")),s.a.createElement("p",null,e.profile.general.email_address))),s.a.createElement(ga.a.Content,null,s.a.createElement("h6",null,"ACCESS"),s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement("a",{href:"/dashboard"},s.a.createElement("span",{id:"lp3_user_view_icon",className:"icon"})," Learn Platform V3 User View")),s.a.createElement("li",null,s.a.createElement("a",{href:"#",onClick:function(t){t.preventDefault(),e.navigateToLP2Admin()}},s.a.createElement("span",{id:"lp2_admin_view_icon",className:"icon"})," Learn Platform V2 Admin View")),s.a.createElement("li",null,s.a.createElement("a",{href:"https://letsrock.codingdojo.com"},s.a.createElement("span",{className:"icon",id:"lets_rock_crm_view_icon"})," Letsrock CRM"))),s.a.createElement("h6",null,"ACCOUNT"),s.a.createElement("ul",null,s.a.createElement("li",null," ",s.a.createElement("button",{onClick:function(e){return h(!0)},type:"button"},s.a.createElement("span",{className:"icon",id:"change_password_icon"})," Change Password")),s.a.createElement("li",null,s.a.createElement("a",{href:"/logout"},s.a.createElement("span",{className:"icon",id:"logout_icon"})," Log Out")))));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"header_container"},s.a.createElement("div",{className:"left_container"},void 0!==e.onSearchStudents&&s.a.createElement("form",{onSubmit:function(t){return e.onSearchStudents(t)}},s.a.createElement(Te.a,{icon:["fas","search"]}),s.a.createElement("input",{className:"",autoComplete:"off",type:"text",name:"search",value:e.search_student_keyword,placeholder:"Search by name or email address",onChange:function(t){return e.onSetSearchStudentsKeyword(t)}}),s.a.createElement("p",null,"To search multiple values, separate emails by space e.g. \u201ctest@codingdojo.com demo@codingdojo.com\u201d"))),s.a.createElement("div",{className:"right_container"},s.a.createElement($i,{available_workspaces:E,onchangeActiveWorkspace:e.onchangeActiveWorkspace}),s.a.createElement("div",{id:"admin_profile"},s.a.createElement("span",{id:"user_level"},void 0!=u.b[e.profile.general.user_level_id]?u.b[e.profile.general.user_level_id]:"Admin"),s.a.createElement("span",{className:"name"},e.profile.general.first_name," ",e.profile.general.last_name[0],"."),s.a.createElement(va.a,{trigger:"click",placement:"left",rootClose:!0,overlay:v},s.a.createElement("img",{src:r||"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:"Profile Image"}))))),s.a.createElement(ec,{toggleShowModal:function(){return h(!1)},show:m}))})),rc=(a(441),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).state={is_show_delete_success_message:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.toggleShowModal,n=t.show,r=t.submitDeleteUser,o=t.active_user,i=t.active_workspace,c=i.workspace_id,_=i.workspace_name;return s.a.createElement(De.a,{id:"delete_user_access_modal",show:n,onHide:function(){e.setState({is_show_delete_success_message:!1}),a(!1)}},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,"Confirm to Delete"),s.a.createElement("button",{type:"button",onClick:function(){e.setState({is_show_delete_success_message:!1}),a(!1)}})),s.a.createElement(De.a.Body,null,this.state.is_show_delete_success_message?s.a.createElement("p",null,"This account has been successfully deleted."):s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"Are you sure that you would like to delete the account of ",s.a.createElement("span",null,o.full_name)," in ",s.a.createElement("span",null,c===u.Xb.codingdojo?"Coding Dojo Domestic":_)," workspace?"),s.a.createElement("form",{action:"",onSubmit:function(t){e.setState({is_show_delete_success_message:!0}),r(t,o.id)}},s.a.createElement("button",{type:"button",onClick:function(){return a(!1)}},"Cancel"),s.a.createElement("button",{type:"submit"},"Yes, delete it")))))}}]),a}(n.Component)),oc=new(function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;return Object(ce.a)(this,a),(e=t.call(this)).fetchTotalWorkspaceUsers=function(e){return this.sendRequest("".concat(u.f.URL,"/workspace_user/fetch_total_workspace_users"),e,!0).then(p.z).then((function(e){return e}))},e.fetchWorkspaceUser=function(e){return this.sendRequest("".concat(u.f.URL,"/workspace_user/fetch_workspace_users"),e,!0).then(p.z).then((function(e){return e}))},e.updateWorkspaceUserRecord=function(e){return this.sendRequest("".concat(u.f.URL,"/workspace_user/update_workspace_user_record"),e,!0).then(p.z).then((function(e){return e}))},e.resendWorkspaceUserInvite=function(e){return this.sendRequest("".concat(u.f.URL,"/workspace_user/resend_workspace_user_invite"),e,!0).then(p.z).then((function(e){return e}))},e.fetchEmailAddressSuggestions=function(e){return this.sendRequest("".concat(u.f.URL,"/workspace_user/fetch_email_address_suggestions"),e,!0).then(p.z).then((function(e){return e}))},e.processAddUserAccess=function(e){return this.sendRequest("".concat(u.f.URL,"/workspace_user/process_add_user_access"),e,!0).then(p.z).then((function(e){return e}))},e.fetchAccessControlFilterOptions=function(e){return this.sendRequest("".concat(u.f.URL,"/workspace_user/fetch_filter_options"),e,!0).then(p.z).then((function(e){return e}))},e}return a}(Ee.a)),ic=new function e(){Object(ce.a)(this,e),this.fetchTotalWorkspaceUsers=function(e){return function(t){t(Object(p.A)({type:u.l.FETCH_ACL_TOTAL_WORKSPACE_USER_REQUEST},{})),oc.fetchTotalWorkspaceUsers(e).then((function(e){e.status?t(Object(p.A)({type:u.l.FETCH_ACL_TOTAL_WORKSPACE_USER_SUCCESS},{total_workspace_user_count:e.result.total_workspace_user_count})):t(Object(p.A)({type:u.l.FETCH_ACL_TOTAL_WORKSPACE_USER_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.l.FETCH_ACL_TOTAL_WORKSPACE_USER_FAILURE},{error:a}))}))}},this.fetchWorkspaceUser=function(e){return function(t){t(Object(p.A)({type:u.l.FETCH_ACL_LIST_REQUEST},{})),oc.fetchWorkspaceUser(e).then((function(e){e.status?t(Object(p.A)({type:u.l.FETCH_ACL_LIST_SUCCESS},{users_data:e.result})):t(Object(p.A)({type:u.l.FETCH_ACL_LIST_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.l.FETCH_ACL_LIST_FAILURE},{error:a}))}))}},this.updateWorkspaceUserRecord=function(e){return function(t){t(Object(p.A)({type:u.l.UPDATE_WORKSPACE_USER_RECORD_REQUEST},{})),oc.updateWorkspaceUserRecord(e).then((function(e){e.status?t(Object(p.A)({type:u.l.UPDATE_WORKSPACE_USER_RECORD_SUCCESS},{})):t(Object(p.A)({type:u.l.UPDATE_WORKSPACE_USER_RECORD_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.l.UPDATE_WORKSPACE_USER_RECORD_FAILURE},{error:a}))}))}},this.resendWorkspaceUserInvite=function(e){return function(t){t(Object(p.A)({type:u.l.RESEND_WORKSPACE_USER_INVITE_REQUEST},{})),oc.resendWorkspaceUserInvite(e).then((function(e){e.status?t(Object(p.A)({type:u.l.RESEND_WORKSPACE_USER_INVITE_SUCCESS},{})):t(Object(p.A)({type:u.l.RESEND_WORKSPACE_USER_INVITE_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.l.RESEND_WORKSPACE_USER_INVITE_FAILURE},{error:a}))}))}},this.fetchEmailAddressSuggestions=function(e){return function(t){t(Object(p.A)({type:u.l.FETCH_EMAIL_ADDRESS_SUGGESTION_REQUEST},{})),oc.fetchEmailAddressSuggestions(e).then((function(e){e.status?t(Object(p.A)({type:u.l.FETCH_EMAIL_ADDRESS_SUGGESTION_SUCCESS},{suggestion_email_list:e.result,is_existing_in_database:e.is_existing_in_database})):t(Object(p.A)({type:u.l.FETCH_EMAIL_ADDRESS_SUGGESTION_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.l.FETCH_EMAIL_ADDRESS_SUGGESTION_FAILURE},{error:a}))}))}},this.processAddUserAccess=function(e,t){return function(a){a(Object(p.A)({type:u.l.PROCESS_ADD_USER_ACCESS_REQUEST},{})),oc.processAddUserAccess(e).then((function(e){e.status?a(Object(p.A)({type:u.l.PROCESS_ADD_USER_ACCESS_SUCCESS},{user_access_data:e.result,filter:t})):a(Object(p.A)({type:u.l.PROCESS_ADD_USER_ACCESS_FAILURE},{error:e.message}))}),(function(e){var t=Object(p.c)(e);a(Object(p.A)({type:u.l.PROCESS_ADD_USER_ACCESS__FAILURE},{error:t}))}))}},this.fetchAccessControlFilterOptions=function(e){return function(t){t(Object(p.A)({type:u.l.FETCH_ACCESS_CONTROL_FILTER_OPTIONS_REQUEST},{})),oc.fetchAccessControlFilterOptions(e).then((function(e){e.status?t(Object(p.A)({type:u.l.FETCH_ACCESS_CONTROL_FILTER_OPTIONS_SUCCESS},{result:e.result})):t(Object(p.A)({type:u.l.FETCH_ACCESS_CONTROL_FILTER_OPTIONS_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.l.FETCH_ACCESS_CONTROL_FILTER_OPTIONS_FAILURE},{error:a}))}))}}},cc=[{name:"User Role",is_show_search:!0,is_multi_select:!1,filter_name:"user_level",selected:[],options:[{label:"Business Admin",value:9},{label:"Admin",value:10},{label:"Super Admin",value:99},{label:"Instructor",value:7},{label:"Teaching Assistant",value:13}]},{name:"Account Status",is_show_search:!0,is_multi_select:!1,filter_name:"status",selected:[],options:[{label:"Active",value:1},{label:"Pending",value:2},{label:"Disabled",value:3}]}],_c=[{name:"Name",width:180,sort_data:"full_name"},{name:"User Role",width:180,sort_data:"level_name"},{name:"Account status",width:180,sort_data:"status"},{name:"Last Log In",width:180,sort_data:"last_accessed_at"},{name:"Joined Since",width:180,sort_data:"joined_at"},{name:"Action",width:180}],lc=[{id:6,value:13,name:"Teaching Assistant"},{id:1,value:7,name:"Instructor"},{id:3,value:9,name:"Business Admin"},{id:4,value:10,name:"Admin"},{id:5,value:99,name:"Super Admin"}],dc=[{id:1,name:"Coding Dojo"},{id:2,name:"Saudi Arabia"},{id:3,name:"Palestine"},{id:4,name:"Chile"},{id:5,name:"Chile"},{id:6,name:"Ecuador"},{id:7,name:"Peru"},{id:8,name:"Costa Rica"},{id:9,name:"Philippines"}],uc=(a(1235),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).onFilterSuggestion=function(e,t){n.props.access_control.suggestion_email_list=[],Object(p.C)(e,Object(Se.a)(n));var a="",s=e.target,r=s.value,o=s.selectionStart,i=s.selectionEnd;if(n.props.access_control.is_existing_email_in_db=!0,t){var c=e.clipboardData.getData("text");a=(r.substring(0,o)+c+r.substring(i,r.length)).trim()}else a=r.trim();""!==a&&a.length>=3?(n.props.fetchEmailAddressSuggestions({workspace_id:n.state.current_workspace_id,search_email_address:a}),n.setState({is_blur:!1,is_valid_email:new RegExp(/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,15}/g).test(a),is_hide_suggestion_list:!1})):(n.setState({is_valid_email:!0,is_suggestion_clicked:!1,is_selected_admin:!1,is_show_workspace_message:!1}),n.props.access_control.suggestion_email_list=[])},n.onBlurEmailInput=function(e){var t=e.target.value;if(t.length>0){n.props.fetchEmailAddressSuggestions({workspace_id:n.state.current_workspace_id,search_email_address:t});var a=n.props.access_control.suggestion_email_list;n.setState({is_valid_email:new RegExp(/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,15}/g).test(t),is_blur:!0,is_focus_first_name:!1,is_focus_last_name:!1,is_suggestion_clicked:!1,first_name:1===a.length?a[0].first_name:n.state.first_name,last_name:1===a.length?a[0].last_name:n.state.last_name,is_selected_admin:1===a.length&&u.d.join(",").includes(a[0].user_level_ids.toString()),is_show_workspace_message:1===a.length&&!a[0].workspace_ids.includes(n.state.current_workspace_id.toString())})}else n.setState({is_valid_email:!0,is_suggestion_clicked:!0,first_name:"",last_name:"",is_selected_admin:!1,is_show_workspace_message:!1,is_hide_suggestion_list:!0})},n.addUserAccess=function(e){e.preventDefault();var t=n.state,a=t.first_name,s=t.last_name,r=t.email_address,o=t.role_select_value,i=t.is_existing_email_in_db,c=t.current_workspace_id,_=t.is_valid_email,l=t.is_provide_crm_access;if(o.length&&_&&a.trim()&&s.trim()&&!n.props.access_control.is_processing){var d={last_name:s,first_name:a,email_address:r,is_provide_crm_access:l,workspace_id:c,is_resend:!i,full_name:a+" "+s,id:Math.floor(100*Math.random()+1),user_level_id:o[0].value,joined_at:i?"12 Mar, 2017":"",last_login_at:i?"19:47:12, 18 Oct, 2021":"",status:i?u.l.STATUS.active:u.l.STATUS.pending};n.props.processAddUserAccess(d,n.props.filter_params)}return!1},n.hideAddUserAccessModal=function(){n.setState({role_select_value:[],email_address:"",first_name:"",last_name:"",is_valid_email:!0,is_existing_email_in_db:!0,is_show_success_message:!1,is_show_workspace_message:!1}),n.props.access_control.is_show_success_message=!1,n.props.access_control.process_failed=!1,n.props.access_control.process_error_message="",n.props.access_control.is_existing_email_in_db=!0,n.props.access_control.suggestion_email_list=[],n.props.toggleShowModal(!1)},n.getWorkSpaceData=function(e){return n.state.workspaces.filter((function(t){return t.id==e}))[0]},n.state={dropdown_option_data:lc,is_disabled_submit_btn:!0,workspaces:dc,role_select_value:[],email_address:"",first_name:"",last_name:"",is_valid_email:!0,is_provide_crm_access:!1,is_blur:!1,is_show_success_message:!1,current_workspace_id:n.props.user.user_details.workspace.workspace_id,selected_user_workspace:"",is_selected_admin:!1,is_show_workspace_message:!1,is_suggestion_clicked:!1,is_hide_suggestion_list:!0,is_focus_last_name:!1,is_focus_first_name:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t,a=this;this.state.current_workspace_id=this.props.user.user_details.workspace.workspace_id;var n=this.props.access_control,r=n.is_show_success_message,o=n.process_failed,i=n.process_error_message,c=n.is_existing_email_in_db,_=n.is_fetching_email,l=n.suggestion_email_list,d=this.state,m=d.is_valid_email,h=d.email_address,E=d.current_workspace_id,f=d.is_suggestion_clicked,g=d.is_selected_admin,v=d.is_show_workspace_message,b=(d.selected_user_workspace,d.is_hide_suggestion_list),S=d.first_name,A=d.last_name,k=d.dropdown_option_data,O=d.role_select_value,T=d.is_blur,C=d.is_focus_first_name,w=d.is_focus_last_name,y=d.is_provide_crm_access,R=(c||f)&&""!==S.trim()&&""!==A.trim(),D={instructor:7,admin:10};return s.a.createElement(De.a,{id:"add_user_access_modal",show:this.props.show,onHide:function(){return a.hideAddUserAccessModal()}},s.a.createElement(De.a.Header,null,!r&&s.a.createElement("h4",null,"Invite New Members to ",this.props.user.user_details.workspace.workspace_name),r&&s.a.createElement("h4",null," ",c?"User Added to ".concat(this.props.user.user_details.workspace.workspace_name):"Invite Sent"),s.a.createElement("button",{type:"button",onClick:function(){return a.hideAddUserAccessModal()}})),s.a.createElement("form",{action:"",onSubmit:function(e){return a.addUserAccess(e)}},s.a.createElement(De.a.Body,{id:"add_user_access_body_modal",onClick:function(e){return a.setState({is_hide_suggestion_list:!0})}},!r&&s.a.createElement(s.a.Fragment,null,s.a.createElement("label",{htmlFor:"user_email_input"},"To"),s.a.createElement("input",{id:"user_email_input",onPaste:function(e){a.onFilterSuggestion(e,!0)},onChange:function(e){return a.onFilterSuggestion(e,!1)},onBlur:function(e){return a.onBlurEmailInput(e)},name:"email_address",type:"email",className:"".concat(m?"":"border_red"," ").concat(_?"disabled":""),value:h,placeholder:"name@emaildomain.com",autoComplete:"off"}),0!==l.length&&s.a.createElement("ul",{id:"suggestion_email_list",className:b?"hidden":""},l.map((function(e){return s.a.createElement("li",{role:"button",onClick:function(){a.props.access_control.is_existing_email_in_db=!0,l=[],a.setState({email_address:e.email_address,is_valid_email:!0,first_name:e.first_name,last_name:e.last_name,is_suggestion_clicked:!0,selected_user_workspace:e.workspaces_name,is_selected_admin:u.d.join(",").includes(e.user_level_ids.toString()),is_show_workspace_message:!e.workspace_ids.includes(E.toString())})}},e.email_address)}))),!c&&m&&!f&&0===l.length&&s.a.createElement("p",null,"You are inviting someone outside ",this.props.user.user_details.workspace.workspace_name,". Please manually input their full name below. The user will receive an email invite to register and activate their account."),v&&c&&g&&s.a.createElement("p",null,"You are inviting a user from ",this.state.selected_user_workspace," Workspace to ",this.props.user.user_details.workspace.workspace_name," Workspace. This action won't affect their account status in ",this.state.selected_user_workspace," Workspace."),!m&&T&&s.a.createElement("p",{className:"invalid_text"},"The email is invalid. Please try again."),(o||!f)&&s.a.createElement("p",{className:"invalid_text"},i),s.a.createElement("label",{id:"who_label",htmlFor:"first_name_input"},"Who"),s.a.createElement("div",{className:"form-content"},s.a.createElement("input",{id:"first_name_input",className:R&&!C?"disabled":"",tabIndex:R?-1:"",value:S,onFocus:function(e){return a.setState({is_focus_first_name:!0})},onChange:function(e){return Object(p.C)(e,a)},name:"first_name",placeholder:"User's First Name",autoComplete:"nope",type:"text"}),s.a.createElement("input",{id:"last_name_input",className:R&&!w?"disabled":"",value:A,tabIndex:R?-1:"",onFocus:function(e){return a.setState({is_focus_last_name:!0})},onChange:function(e){return Object(p.C)(e,a)},name:"last_name",placeholder:"User's Last Name",autoComplete:"nope",type:"text"})),s.a.createElement("label",null,"Invite as"),s.a.createElement(es.a,{name:"role",className:"user_role_select",placeholder:"Select a user role for the user",searchable:!1,labelField:"name",options:k,values:[],onChange:function(e){return a.setState({role_select_value:e})}}),O.length>0&&[D.instructor,D.admin].includes(null===(e=O[0])||void 0===e?void 0:e.value)&&s.a.createElement("label",{className:"provide_access_label"},s.a.createElement("input",{type:"checkbox",defaultChecked:y,onChange:function(){return a.setState({is_provide_crm_access:!y})}}),"Provide access to",s.a.createElement("span",null,"Let's Rock CRM"))),r&&s.a.createElement("div",{id:"success_container"},c?s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"You have successfully added ",h," to ",this.props.user.user_details.workspace.workspace_name," Workspace as ",null===O||void 0===O||null===(t=O[0])||void 0===t?void 0:t.name,"."),s.a.createElement("p",null,"You can adjust their user type and account status later.")):s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"You have successfully sent an invite to ",h,"."),s.a.createElement("p",null,"User's access will be activated after they accept your invite."),s.a.createElement("p",null,"You can resend the invite later in the table view.")))),!r&&s.a.createElement(De.a.Footer,null,s.a.createElement("button",{tabindex:"-1",type:"submit",className:0!==O.length&&m&&m&&S.trim()&&A.trim()&&!this.props.access_control.is_processing?"":"disabled"},"Confirm"))))}}]),a}(n.Component)),pc=ic.fetchEmailAddressSuggestions,mc=ic.processAddUserAccess,hc=Object(p.J)(["user","access_control"],{fetchEmailAddressSuggestions:pc,processAddUserAccess:mc}),Ec=hc.mapStateToProps,fc=hc.mapDispatchToProps,gc=Object(ue.b)(Ec,fc)(uc),vc=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){return Object(ce.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){var e=this.props,t=e.toggleShowModal,a=e.show,n=e.is_enabled;return s.a.createElement(De.a,{id:"success_confirmation_modal",show:a,onHide:function(){return t(!1)}},s.a.createElement(De.a.Body,null,s.a.createElement("p",null,n?"The account has been enabled.":"The account has been disabled. You can re-enable it later."," ")))}}]),a}(n.Component),bc=a(21),Sc=(a(1237),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).requestSort=function(e){var t,a=Object(d.a)({},n.state.sort_config);if("full_name"===e){var s,r=Object(d.a)({},n.state.selected_name_sort_config),o=n.state.name_sort_config;if(r&&0!==Object.keys(r).length)o.map((function(e,t){e.key===r.key&&e.direction===r.direction&&(s=t+1)})),r=o[o.length===s?0:s];else r=o[0];a.key=r.key,a.direction=r.direction,n.setState({selected_name_sort_config:r})}else t="caret-down",(a=Object(d.a)({},n.state.sort_config))&&a.key===e&&"caret-down"===a.direction&&(t="caret-up"),a.key=e,a.direction=t,n.setState({selected_name_sort_config:void 0});n.setState({sort_config:a},(function(){n.props.onSortTable(n.state.sort_config,e,n.state.selected_view_type)}))},n.renderTableHead=function(e){if("Name"===e.name){var t=n.state,a=t.selected_name_sort_config;t.sort_config;return a&&0!==Object.keys(a).length?s.a.createElement("div",{id:"name_sort_table_head"},a.title,s.a.createElement("div",{id:"name_sort_icon"},s.a.createElement(Te.a,{className:"".concat("caret-down"===a.direction?"":"light"),icon:["fas","caret-up"]}),s.a.createElement(Te.a,{className:"".concat("caret-up"===a.direction?"":"light"),icon:["fas","caret-down"]}))):s.a.createElement(s.a.Fragment,null,"Name")}return e.name},n.setAccountStatus=function(e){var t={};return Object(f.a)(n.state.user_status).map((function(a){a.value===e&&(t.class=a.title.toLowerCase(),t.text=a.title)})),t},n.handleDropdownOpen=function(){var e=n.sticky_table_ref.current.tableNode,t=e.offsetParent;t.scrollWidth>t.clientWidth&&e.offsetParent.scrollTo(0,t.scrollTop)},n.sticky_table_ref=s.a.createRef(),n.state={sort_config:null,user_status:[{value:1,title:"Active"},{value:2,title:"Pending"},{value:3,title:"Disabled"}],role_status:lc,selected_name_sort_config:{key:"last_name_first_name",title:"Last, First Name (A-Z)",direction:"caret-down"},name_sort_config:[{key:"last_name_first_name",title:"Last, First Name (A-Z)",direction:"caret-down"},{key:"last_name_first_name",title:"Last, First Name (Z-A)",direction:"caret-up"},{key:"first_name_last_name",title:"First, Last Name (A-Z)",direction:"caret-down"},{key:"first_name_last_name",title:"First, Last Name (Z-A)",direction:"caret-up"}]},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.table_head_column_data,n=t.is_show_loading,r=t.users_data,o=t.set_admin_account_access,i=this.state.sort_config,c=function(e){if(i)return i.key===e?i.direction:"caret-down"};return s.a.createElement(bc.StickyTable,{id:"access_control_table",borderWidth:"0px",ref:this.sticky_table_ref},s.a.createElement(bc.Row,null,a.map((function(t){return s.a.createElement(bc.Cell,{key:t.name,style:{minWidth:t.width},onClick:function(){return void 0!==t.sort_data?e.requestSort(t.sort_data):null}},e.renderTableHead(t),t.sort_data&&"full_name"!==t.sort_data&&s.a.createElement(Te.a,{className:"".concat((null===i||void 0===i?void 0:i.key)===t.sort_data?"":"light"),icon:["fas",c(t.sort_data)?c(t.sort_data):"caret-down"]}))}))),0===(null===r||void 0===r?void 0:r.length)&&!n&&s.a.createElement("div",{id:"no_results_found"},"No results found."),n?s.a.createElement("div",{id:"table_loading_container"},s.a.createElement("div",null),s.a.createElement("span",null,"Loading...")):r.map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.user_level_id?e.state.role_status.filter((function(e){return e.value===t.user_level_id})):[];return s.a.createElement(bc.Row,null,s.a.createElement(bc.Cell,null,t.full_name," ",s.a.createElement("span",null,t.email_address)),s.a.createElement(bc.Cell,null,s.a.createElement(es.a,{disabled:!o,className:"user_role_select",placeholder:"Select a user role for the user",searchable:!1,labelField:"name",options:e.state.role_status,values:a,onDropdownOpen:function(){return e.handleDropdownOpen()},onChange:function(a){return e.props.processUserAccountRole(t,a)}})),s.a.createElement(bc.Cell,null," ",s.a.createElement("span",{className:e.setAccountStatus(t.status).class},e.setAccountStatus(t.status).text)," ",1==t.is_resend&&s.a.createElement("button",{type:"button",disabled:!o,onClick:function(){return o&&e.props.processResendInvite(t)},className:"resend_invite_button"},"Resend Invite")," "),s.a.createElement(bc.Cell,null,t.last_login_at),s.a.createElement(bc.Cell,null,t.joined_at),s.a.createElement(bc.Cell,{className:o?"":"disabled"},s.a.createElement(va.a,{trigger:"click",placement:"bottom",rootClose:!0,overlay:s.a.createElement(ga.a,{id:"access_control_action_popover"},s.a.createElement(ga.a.Content,null,t.status!==u.l.STATUS.pending&&s.a.createElement("button",{type:"button",onClick:function(){return e.props.processUserAccountStatus(t)}},s.a.createElement("span",{className:"icon ".concat(t.status===u.l.STATUS.disabled?"enable_icon":"disabled_icon"," ")})," ",t.status===u.l.STATUS.disabled?"Enable":"Disable","  Account"),s.a.createElement("button",{type:"button",disabled:!o,onClick:function(){return o&&e.props.onShowDeleteUserModal(t)}},s.a.createElement("span",{className:"icon delete_icon"}),"Delete Account")))},s.a.createElement("button",{disabled:!o,className:"access_action_btn"}))))})))}}]),a}(n.Component)),Ac=(a(1238),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.props.selected_page_control&&n.handleSelectPaginationControl(n.props.selected_page_control)},n.handleSelectPaginationControl=function(e){var t=Object(f.a)(n.state.page_control_radio_options);t.map((function(t){t.is_checked=t.value===e.value})),n.setState({page_control_radio_options:t})},n.state={page_control_radio_options:[{id:0,value:15,is_recommended:!0,is_checked:!1},{id:1,value:10,is_checked:!1},{id:2,value:30,is_checked:!1},{id:3,value:100,is_checked:!1},{id:4,value:"Show All",is_checked:!1}]},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.state.page_control_radio_options.filter((function(e){return e.is_checked}))[0];return s.a.createElement(s.a.Fragment,null,s.a.createElement(De.a,{className:"admin_modal",id:"pagination_controls_modal",show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,"Pagination Control"),s.a.createElement("button",{onClick:function(){return e.props.toggleShowModal(!1)}})),s.a.createElement("form",{onSubmit:function(a){return e.props.submitPageControlForm(a,t)}},s.a.createElement(De.a.Body,null,s.a.createElement("h6",null,"How many results do you wish to see on one page?"),s.a.createElement("ul",{className:"list-unstyled"},this.state.page_control_radio_options.map((function(t){return s.a.createElement("li",{key:t.id},s.a.createElement("input",{type:"radio",name:"pagination_control_radio",id:"pagination_control_".concat(t.id),checked:t.is_checked,value:t.value,onChange:function(){return e.handleSelectPaginationControl(t)}}),s.a.createElement("label",{htmlFor:"pagination_control_".concat(t.id)},s.a.createElement("div",{className:"fill_container"},s.a.createElement("span",{className:"fill"})),s.a.createElement("span",{className:"radio_label"},t.value,t.is_recommended&&"(Recommended)")))})))),s.a.createElement(De.a.Footer,null,s.a.createElement("button",{type:"button",onClick:function(){return e.props.toggleShowModal(!1)}},"Cancel"),s.a.createElement("button",{type:"submit"},"Save Changes")))))}}]),a}(n.Component)),kc=(a(1239),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).submitPageControlForm=function(e,t){e.preventDefault(),n.setState({selected_page_control:{value:t.value},is_show_pagination_control_modal:!1},(function(){n.props.onUpdatPageCount({page_count:t.value})}))},n.state={is_show_pagination_control_modal:!1,selected_page_control:void 0},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.total_results,n=t.pagination,r=t.onPaginateData,o=t.page_count,i=n.students_per_page,c=n.current_page;this.state.selected_page_control={value:o};for(var _="Show All"===n.students_per_page?a:n.students_per_page,l=n.current_page*_,d=l-_+1,u=[],m=1;m<=Math.ceil(a/i);m++)u.push(m);var h=u.map((function(e){return s.a.createElement("li",{key:e,className:"".concat(c===Number(e)?"active":"")},s.a.createElement("button",{type:"button",onClick:function(){return r(e)}},e))}));return s.a.createElement("div",{id:"pagination_container"},a>0&&s.a.createElement("div",null,s.a.createElement("span",null,"Showing ",d," to ",l>a?a:l),a>=n.students_per_page&&s.a.createElement("div",{id:"pagination_btns_container"},c>1&&s.a.createElement("button",{type:"button",onClick:function(){return r(c-1)}},s.a.createElement(Te.a,{icon:["fas","chevron-left"]})),s.a.createElement("ul",{className:"list-unstyled",activePage:c},h),c!==u[u.length-1]&&s.a.createElement("button",{type:"button",onClick:function(){return r(c+1)}},s.a.createElement(Te.a,{icon:["fas","chevron-right"]})))),s.a.createElement("button",{type:"button",id:"show_pagination_control_button",onClick:function(){return Object(p.W)(e,"is_show_pagination_control_modal",!0)}},s.a.createElement(Te.a,{icon:["fas","cog"]})),this.state.is_show_pagination_control_modal&&s.a.createElement(Ac,{show:this.state.is_show_pagination_control_modal,selected_page_control:this.state.selected_page_control,submitPageControlForm:this.submitPageControlForm,toggleShowModal:function(){return Object(p.W)(e,"is_show_pagination_control_modal",!1)}}))}}]),a}(n.Component)),Oc=(a(1240),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).submitFilters=function(e){e&&e.preventDefault();var t=n.state.filter_params,a=n.props.access_control,s=a.filter_dropdown,r=a.page_count,o=n.state.pagination;t.search_keyword=n.state.search,t.order_field=u.l.DEFAULT_VALUES.order_field,t.sort_order=u.l.DEFAULT_VALUES.sort_order,delete t.status,delete t.user_level,s.map((function(e){e.selected.length>0&&(t[e.filter_name]=e.selected.length>1?e.selected.map((function(e){return e.value})):e.selected[0].value)})),t.page_number=u.l.DEFAULT_VALUES.first_page,t.selected_sort=n.state.selected_sort,t.page_count=r,o.current_page=u.l.DEFAULT_VALUES.first_page,o.students_per_page=r,n.props.fetchTotalWorkspaceUsers(t),n.props.fetchWorkspaceUser(t)},n.updateFilterDropdownSelectedValue=function(e,t){n.props.access_control.filter_dropdown.map((function(a){a.name===t.name&&(t.is_multi_select?a.selected=e.length>0?Object(f.a)(e):[]:a.selected=e.length>0?[Object(d.a)(Object(d.a)({},e[0]),{},{filter_name:t.filter_name})]:[])}))},n.clearAllFilters=function(){n.props.access_control.filter_dropdown.map((function(e){e.selected.length>0&&(e.selected=[])}));var e=n.state.filter_params;e.order_field=u.l.DEFAULT_VALUES.order_field,e.sort_order=u.l.DEFAULT_VALUES.sort_order,delete e.status,delete e.user_level,n.setState({filter_params:e,total_results:0})},n.onSubmitDeleteUser=function(e,t){e.preventDefault();var a=Object(f.a)(n.props.access_control.users_data);a.splice(a.findIndex((function(e){return e.id===t})),1),n.props.updateWorkspaceUserRecord({user_id:t,status:u.l.STATUS.deleted,workspace_id:n.state.filter_params.workspace_id}),n.setState({users_data:a}),n.props.access_control.users_data=a},n.processUserAccountStatus=function(e){var t=Object(f.a)(n.props.access_control.users_data),a=0,s={ACTIVE:u.l.STATUS.active,DISABLED:u.l.STATUS.disabled};t.map((function(t){t.id===e.id&&(a=t.status===s.DISABLED?s.ACTIVE:s.DISABLED,t.status=a)})),document.body.click(),n.setState({users_data:t,is_enabled:a===s.ACTIVE,is_show_success_confirmation_modal:!0}),n.props.access_control.users_data=t,n.props.updateWorkspaceUserRecord({user_id:e.id,status:a,workspace_id:n.state.filter_params.workspace_id})},n.processUserAccountRole=function(e,t){var a=Object(f.a)(n.props.access_control.users_data);a.map((function(a){a.id===e.id&&(a.user_level_id=t[0].value)})),n.props.updateWorkspaceUserRecord({user_id:e.id,user_level_id:t[0].value,workspace_id:n.state.filter_params.workspace_id}),n.props.access_control.users_data=a,n.setState({users_data:a})},n.sortTable=function(e){var t=Object(f.a)(n.props.access_control.users_data);["first_name_last_name","last_name_first_name"].includes(e.key)?n.setState({selected_sort:e},(function(){n.submitFilters(null)})):e&&(["last_accessed_at","joined_at"].includes(e.key)?t.sort((function(t,a){return"caret-down"===e.direction?(new Date(a[e.key]).getTime()||-1/0)-(new Date(t[e.key]).getTime()||-1/0):(new Date(t[e.key]).getTime()||-1/0)-(new Date(a[e.key]).getTime()||-1/0)})):["full_name","level_name","status"].includes(e.key)?t.sort((function(t,a){return t[e.key]<a[e.key]?"caret-down"===e.direction?1:-1:t[e.key]>a[e.key]?"caret-down"===e.direction?-1:1:0})):t.sort((function(t,a){return"caret-down"===e.direction?t[e.key]-a[e.key]:a[e.key]-t[e.key]}))),n.setState({users_data:t}),n.props.access_control.users_data=t},n.processResendInvite=function(e){var t=Object(f.a)(n.props.access_control.users_data);t.map((function(t){t.id===e.id&&(t.is_resend=0)})),n.props.access_control.users_data=t,n.props.resendWorkspaceUserInvite({user_id:e.id,workspace_id:n.state.filter_params.workspace_id}),n.setState({users_data:t,is_show_invite_toast:!0,active_user:e})},n.processAddUserAccess=function(e){n.setState({users_data:[].concat(Object(f.a)(n.state.users_data),[e])}),n.props.processAddUserAccess(e)},n.processSearchUser=function(e){e.preventDefault();var t=n.state.filter_params;if(n.props.access_control.users_data=[],!t.page_count){var a=n.props.access_control.page_count;t.page_count=a}t.search_keyword=n.state.search,n.props.fetchTotalWorkspaceUsers(t),n.props.fetchWorkspaceUser(t);var s=n.props.access_control.total_workspace_user_count,r=Object(f.a)(n.props.access_control.users_data);return n.setState({users_data:r,filter_params:t,total_results:s}),!1},n.paginateData=function(e){var t=n.state.filter_params;n.state.pagination.current_page=Number(e),t.page_number=n.state.pagination.current_page,n.props.fetchWorkspaceUser(t),n.setState({filter_params:t})},n.updatePageCount=function(e){n.state.pagination.students_per_page!==e.page_count&&(n.props.access_control.page_count=e.page_count,n.setState({pagination:{current_page:1,students_per_page:e.page_count}},(function(){n.submitFilters(null)})))},n.switchWorkspace=function(e){var t=e.filter((function(e){return e.is_selected&&e}))[0].id,a=n.state.filter_params;a.workspace_id=t,n.setState({filter_params:a}),n.props.switchWorkspace({workspace_id:t}),document.getElementById("table_filter_btn").click()},n.state={is_loading:!1,navigation:{title:"",links:[]},filter_dropdowns:cc,table_head_column_data:_c,profile:n.props.rostering.profile,is_show_delete_user_access_modal:!1,is_show_success_confirmation_modal:!1,is_show_add_user_access_modal:!1,users_data:[],active_user:[],is_show_invite_toast:!1,pagination:{current_page:u.l.DEFAULT_VALUES.first_page,students_per_page:u.l.DEFAULT_VALUES.records_per_page},total_results:0,is_account_status:!1,filter_params:{page_number:u.l.DEFAULT_VALUES.first_page,workspace_id:u.l.DEFAULT_VALUES.codingdojo_workspace_id,order_field:u.l.DEFAULT_VALUES.order_field,sort_order:u.l.DEFAULT_VALUES.sort_order,search_keyword:""},filtered_email:[],is_enabled:!1,is_fetch_onload:!0,is_filtering:!1,selected_sort:{key:"last_name_first_name",direction:"caret-down"}},n}return Object(_e.a)(a,[{key:"componentDidMount",value:function(){var e,t,a=Object(p.y)();if(a.status)if(Object(p.i)(null===(e=a.user_details)||void 0===e||null===(t=e.general)||void 0===t?void 0:t.user_capabilities,"admin.access_control_list.visibility")){var n,s;this.props.fetchAccessControlFilterOptions({});var r=this.state.filter_params;r.workspace_id=a.user_details.workspace.workspace_id;var o=Object(p.w)(null===(n=a.user_details)||void 0===n||null===(s=n.general)||void 0===s?void 0:s.user_capabilities,"access_control");this.setState({filter_params:r,navigation:o})}else window.location.href="/dashboard";else window.location.href="/login"}},{key:"componentDidUpdate",value:function(e,t){var a=e.admin.profile.general.user_level_id;if(this.props.access_control.page_count&&!this.state.filter_params.page_count){var n=this.state.filter_params,s=this.state.pagination,r=this.props.access_control,o=r.filter_dropdown,i=r.page_count;o.map((function(e){e.selected.length&&(n[e.filter_name]=e.selected.length>1?e.selected.map((function(e){return e.value})):e.selected[0].value)})),n.selected_sort=this.state.selected_sort,n.page_count=i,s.students_per_page=i,this.setState({filter_params:n}),this.props.fetchTotalWorkspaceUsers(n),this.props.fetchWorkspaceUser(n)}if(a&&this.props.admin.profile.general.user_level_id!==a){var c,_,l=Object(p.y)(),d=Object(p.w)(null===(c=l.user_details)||void 0===c||null===(_=c.general)||void 0===_?void 0:_.user_capabilities,"access_control");this.setState({navigation:d})}}},{key:"render",value:function(){var e,t,a,n,r=this,o=Object(p.y)(),i=this.state,c=i.navigation,_=(i.filter_dropdowns,i.profile,i.table_head_column_data),l=i.is_show_delete_user_access_modal,d=i.active_user,m=i.is_show_add_user_access_modal,h=i.is_show_invite_toast,E=i.pagination,f=i.is_show_success_confirmation_modal,g=i.is_enabled,v=i.filter_params,b=this.props.access_control,S=b.users_data,A=b.is_loading,k=b.total_workspace_user_count,O=b.filter_dropdown,T=b.page_count,C=this.props.admin.profile.workspace;T&&(E.students_per_page=T);var w=E.current_page*E.students_per_page,y=w-E.students_per_page,R=Object(p.i)(null===(e=o.user_details)||void 0===e||null===(t=e.general)||void 0===t?void 0:t.user_capabilities,"admin.access_control_list.set_admin_account"),D=Object(p.i)(null===(a=o.user_details)||void 0===a||null===(n=a.general)||void 0===n?void 0:n.user_capabilities,"admin.access_control_list.visibility");return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"admin_access_control_container"},s.a.createElement(et,{title:u.lb.admin_page.access_control}),s.a.createElement(Gi,{active_icon:"key"}),s.a.createElement(Vi,{navigation:c}),s.a.createElement("div",{id:"admin_right_container"},s.a.createElement("form",{id:"search_acl_form",onSubmit:function(e){return r.processSearchUser(e)}},s.a.createElement(Te.a,{icon:["fas","search"]}),s.a.createElement("input",{autoComplete:"off",onChange:function(e){return Object(p.C)(e,r)},type:"text",name:"search",placeholder:"Search by name or email address"}),s.a.createElement("p",null,"To search multiple values, separate emails by space e.g. \u201ctest@codingdojo.com demo@codingdojo.com\u201d")),D&&s.a.createElement(sc,{is_access_control:!0,onchangeActiveWorkspace:this.switchWorkspace,profile:this.props.admin.profile}),s.a.createElement("div",{id:"access_control_table_filter_container"},s.a.createElement(Yi,{filter_dropdowns:O||[],submitFilters:this.submitFilters,updateFilterDropdownSelectedValue:this.updateFilterDropdownSelectedValue,clearAllFilters:this.clearAllFilters}),s.a.createElement("button",{id:"add_access_control_btn",className:!R&&"disabled",disabled:!R,onClick:function(){return R&&r.setState({is_show_add_user_access_modal:!0})},type:"button"})),s.a.createElement(Sc,{onShowDeleteUserModal:function(e){return r.setState({is_show_delete_user_access_modal:!0,active_user:e})},table_head_column_data:_,users_data:S,processUserAccountStatus:this.processUserAccountStatus,processUserAccountRole:this.processUserAccountRole,processResendInvite:this.processResendInvite,onSortTable:this.sortTable,is_show_loading:A||C.workspace_id!==v.workspace_id,set_admin_account_access:R}),s.a.createElement(kc,{pagination:E,total_results:k,index_of_last_student:w,index_of_first_student:y+1,onPaginateData:this.paginateData,onUpdatPageCount:this.updatePageCount,page_count:T}))),s.a.createElement(rc,{show:l,active_user:{id:d.id,full_name:d.full_name},submitDeleteUser:this.onSubmitDeleteUser,toggleShowModal:function(){return Object(p.W)(r,"is_show_delete_user_access_modal",!1)},active_workspace:C}),s.a.createElement(vc,{is_enabled:g,show:f,toggleShowModal:function(){return Object(p.W)(r,"is_show_success_confirmation_modal",!1)}}),m&&s.a.createElement(gc,{onfetchEmailAddressSuggestions:this.fetchEmailAddressSuggestions,show:m,filter_params:this.state.filter_params,toggleShowModal:function(){return Object(p.W)(r,"is_show_add_user_access_modal",!1)}}),s.a.createElement(Ki.a,{id:"acl_toast",onClose:function(){return r.setState({is_show_invite_toast:!1})},show:h,delay:3e3,autohide:!0},s.a.createElement(Ki.a.Body,null,"An invite has been successfully resent to ",d.email_address,".")))}}]),a}(n.Component)),Tc=ts.a.switchWorkspace,Cc=ic.fetchTotalWorkspaceUsers,wc=ic.fetchWorkspaceUser,yc=ic.updateWorkspaceUserRecord,Rc=ic.resendWorkspaceUserInvite,Dc=ic.fetchEmailAddressSuggestions,Uc=ic.processAddUserAccess,Nc=ic.fetchAccessControlFilterOptions,Ic=Object(p.J)(["dashboard","rostering","access_control","admin"],{fetchTotalWorkspaceUsers:Cc,fetchWorkspaceUser:wc,updateWorkspaceUserRecord:yc,resendWorkspaceUserInvite:Rc,fetchEmailAddressSuggestions:Dc,processAddUserAccess:Uc,fetchAccessControlFilterOptions:Nc,switchWorkspace:Tc}),Pc=Ic.mapStateToProps,jc=Ic.mapDispatchToProps,Lc=Object(ue.b)(Pc,jc)(Oc),Mc=a(77),Fc=new(function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e,n,s;Object(ce.a)(this,a),(s=t.call(this)).fetchSurveyManagementData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/survey_management/fetch_initial_survey_data"),e,!0).then(p.z).then((function(e){return e}))},s.processSurveyStatus=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/survey_management/process_survey_status"),e,!0).then(p.z).then((function(e){return e}))},s.addSurveyItem=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/survey_management/add_survey_item"),e,!0).then(p.z).then((function(e){return e}))},s.updateCustomSurveyType=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/survey_management/upsert_survey_type"),e,!0).then(p.z).then((function(e){return e}))},s.deleteSurvey=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/survey_management/delete_survey"),e,!0).then(p.z).then((function(e){return e}))},s.updateSurveyDetails=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/survey_management/update_survey_details"),e,!0).then(p.z).then((function(e){return e}))},s.updateSurveyManagementFilters=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/admin/update_filter_options"),e,!0).then(p.z).then((function(e){return e}))},s.fetchByFilters=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/survey_management/filter"),e,!0).then(p.z).then((function(e){return e}))},s.fetchAdminSurveyDropdowns=function(){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/survey_management/fetch_admin_survey_dropdowns"),{},!0).then(p.z).then((function(e){return e}))},s.updateAdminSurveyDropdown=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/admin/update_filter_options"),e,!0).then(p.z).then((function(e){return e}))},s.checkDuplicateSurveyName=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/survey_management/check_duplicate_name"),e,!0).then(p.z).then((function(e){return e}))};var r=Object(p.y)();return s.API_pre_link=(null===r||void 0===r||null===(e=r.user_details)||void 0===e||null===(n=e.general)||void 0===n?void 0:n.trial_platform_mode)?"/t":"",s}return a}(Ee.a)),xc=function(e){return e.map((function(e){return e.audience=JSON.parse(e.audience),e.schedule=JSON.parse(e.schedule),e.survey_type=JSON.parse(e.survey_type),e.schedule.frequency_days={label:u.yb.SURVEY_FREQUENCY_DAYS_LABEL[e.schedule.frequency_days.value],value:e.schedule.frequency_days.value},e}))},Bc=function(e){var t={};e.map((function(e){t[e.name]=e}));var a=[];return t[u.yb.ADMIN_SURVEY_DROPDOWNS.course_start_date].options.map((function(e){var t;(t=a).push.apply(t,Object(f.a)(JSON.parse(e.cc_stack_ids_json||"[]"))),delete e.cc_stack_ids_json})),a=Object(f.a)(new Set(a)),t[u.yb.ADMIN_SURVEY_DROPDOWNS.course].options=t[u.yb.ADMIN_SURVEY_DROPDOWNS.course].options.filter((function(e){return a.includes(e.value)})),t},Wc=new function e(){Object(ce.a)(this,e),this.fetchSurveyManagementData=function(e){return function(t){t(Object(p.A)({type:u.yb.FETCH_SURVEY_MANAGEMENT_DATA_REQUEST},{})),Fc.fetchSurveyManagementData(e).then((function(e){var a=e.status,n=e.message,s=e.result;a?(s.survey_list=s.survey_list.length?xc(s.survey_list):[],t(Object(p.A)({type:u.yb.FETCH_SURVEY_MANAGEMENT_DATA_SUCCESS},s))):t(Object(p.A)({type:u.yb.FETCH_SURVEY_MANAGEMENT_DATA_FAILURE},{error:n}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.yb.FETCH_SURVEY_MANAGEMENT_DATA_FAILURE},{error:a}))}))}},this.processSurveyStatus=function(e){return function(t){t(Object(p.A)({type:u.yb.PROCESS_SURVEY_STATUS_REQUEST},{})),Fc.processSurveyStatus(e).then((function(e){e.status?t(Object(p.A)({type:u.yb.PROCESS_SURVEY_STATUS_SUCCESS},{survey_list:e.result})):t(Object(p.A)({type:u.yb.PROCESS_SURVEY_STATUS_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.yb.PROCESS_SURVEY_STATUS_FAILURE},{error:a}))}))}},this.addSurveyItem=function(e){return function(t){t(Object(p.A)({type:u.yb.ADD_SURVEY_MANAGEMENT_ITEM_REQUEST},{})),Fc.addSurveyItem(e).then((function(a){a.status?t(Object(p.A)({type:u.yb.ADD_SURVEY_MANAGEMENT_ITEM_SUCCESS},{new_survey_record:e.created_survey_data,new_cd_survey_schedule_id:a.result.new_cd_survey_schedule_id})):t(Object(p.A)({type:u.yb.ADD_SURVEY_MANAGEMENT_ITEM_FAILURE},{error:a.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.yb.ADD_SURVEY_MANAGEMENT_ITEM_FAILURE},{error:a}))}))}},this.updateCustomSurveyType=function(e){return function(t){t(Object(p.A)({type:u.yb.UPDATE_CUSTOM_SURVEY_TYPE_REQUEST},{}));var a=e.original_custom_survey_type_list,n=Object(Mc.a)(e,["original_custom_survey_type_list"]);n.switched_is_mandatory_survey_type_ids=[],n.custom_survey_type_list=n.custom_survey_type_list.map((function(e){e.value.constructor===String&&(e.value=null),e.is_mandatory=e.is_mandatory?u.s.YES_VALUE:u.s.NO_VALUE;var t=a.filter((function(t){return t.value===e.value})),s=Object(A.a)(t,1)[0];return s&&e.value&&e.is_mandatory!==s.is_mandatory&&n.switched_is_mandatory_survey_type_ids.push(e.value),e})),Fc.updateCustomSurveyType(n).then((function(e){var a=e.status,s=e.message,r=e.result;t(a?Object(p.A)({type:u.yb.UPDATE_CUSTOM_SURVEY_TYPE_SUCCESS},Object(d.a)(Object(d.a)({},r),{},{switched_is_mandatory_survey_type_ids:n.switched_is_mandatory_survey_type_ids})):Object(p.A)({type:u.yb.UPDATE_CUSTOM_SURVEY_TYPE_FAILURE},{error:s}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.yb.UPDATE_CUSTOM_SURVEY_TYPE_FAILURE},{error:a}))}))}},this.deleteSurvey=function(e){return function(t){t(Object(p.A)({type:u.yb.DELETE_SURVEY_REQUEST},{})),Fc.deleteSurvey(e).then((function(e){e.status?t(Object(p.A)({type:u.yb.DELETE_SURVEY_SUCCESS},Object(d.a)({},e.result))):t(Object(p.A)({type:u.yb.DELETE_SURVEY_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.yb.DELETE_SURVEY_FAILURE},{error:a}))}))}},this.updateSurveyDetails=function(e){return function(t){t(Object(p.A)({type:u.yb.UPDATE_SURVEY_DETAILS_REQUEST},{})),Fc.updateSurveyDetails(e).then((function(a){a.status?t(Object(p.A)({type:u.yb.UPDATE_SURVEY_DETAILS_SUCCESS},{updated_survey_data:e.updated_survey_data})):t(Object(p.A)({type:u.yb.UPDATE_SURVEY_DETAILS_FAILURE},{error:a.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.yb.UPDATE_SURVEY_DETAILS_FAILURE},{error:a}))}))}},this.updateSurveyManagementFilters=function(e){return function(t){t(Object(p.A)({type:u.yb.UPDATE_SURVEY_MANAGEMENT_FILTERS_REQUEST},{})),Fc.updateSurveyManagementFilters(e).then((function(e){e.status?t(Object(p.A)({type:u.yb.UPDATE_SURVEY_MANAGEMENT_FILTERS_SUCCESS},{filter_data:e.result})):t(Object(p.A)({type:u.yb.UPDATE_SURVEY_MANAGEMENT_FILTERS_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.yb.UPDATE_SURVEY_MANAGEMENT_FILTERS_FAILURE},{error:a}))}))}},this.fetchByFilters=function(e){return function(t){t(Object(p.A)({type:u.yb.FETCH_BY_FILTER_SURVEY_RECORDS_REQUEST},{})),Fc.fetchByFilters(e).then((function(e){if(e.status){var a,n=(null===(a=e.result)||void 0===a?void 0:a.length)?xc(e.result):[];t(Object(p.A)({type:u.yb.FETCH_BY_FILTER_SURVEY_RECORDS_SUCCESS},{survey_list:n}))}else t(Object(p.A)({type:u.yb.FETCH_BY_FILTER_SURVEY_RECORDS_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.yb.FETCH_BY_FILTER_SURVEY_RECORDS_FAILURE},{error:a}))}))}},this.fetchAdminSurveyDropdowns=function(e){return function(t){t(Object(p.A)({type:u.yb.FETCH_ADMIN_SURVEY_DROPDOWNS_REQUEST},{})),Fc.fetchAdminSurveyDropdowns(e).then((function(e){var a=e.status,n=e.result,s=e.message;if(a){var r=Bc(n.admin_survey_dropdowns_array);t(Object(p.A)({type:u.yb.FETCH_ADMIN_SURVEY_DROPDOWNS_SUCCESS},{admin_survey_dropdown_object:r}))}else t(Object(p.A)({type:u.yb.FETCH_ADMIN_SURVEY_DROPDOWNS_FAILURE},{error:s}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.yb.FETCH_ADMIN_SURVEY_DROPDOWNS_FAILURE},{error:a}))}))}},this.updateAdminSurveyDropdown=function(e){return function(t){t(Object(p.A)({type:u.yb.UPDATE_SURVEY_DROPDOWN_DATA_REQUEST},{})),Fc.updateAdminSurveyDropdown(e).then((function(e){e.status?Fc.fetchAdminSurveyDropdowns().then((function(a){var n,s;if(null===(n=a.result)||void 0===n||null===(s=n.admin_survey_dropdowns_array)||void 0===s?void 0:s.length){var r=Bc(a.result.admin_survey_dropdowns_array);e.result[e.result.findIndex((function(e){return e.name===u.yb.ADMIN_SURVEY_DROPDOWNS.course}))]=r[u.yb.ADMIN_SURVEY_DROPDOWNS.course]}t(Object(p.A)({type:u.yb.UPDATE_SURVEY_DROPDOWN_DATA_SUCCESS},{admin_survey_dropdown_array:e.result}))})):t(Object(p.A)({type:u.yb.UPDATE_SURVEY_DROPDOWN_DATA_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.yb.UPDATE_SURVEY_DROPDOWN_DATA_FAILURE},{error:a}))}))}},this.checkDuplicateSurveyName=function(e){return function(t){t(Object(p.A)({type:u.yb.CHECK_DUPLICATE_SURVEY_NAME_REQUEST},{})),Fc.checkDuplicateSurveyName(e).then((function(e){e.status?t(Object(p.A)({type:u.yb.CHECK_DUPLICATE_SURVEY_NAME_SUCCESS},{})):t(Object(p.A)({type:u.yb.CHECK_DUPLICATE_SURVEY_NAME_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.yb.CHECK_DUPLICATE_SURVEY_NAME_FAILURE},{error:a}))}))}}},Hc=(a(442),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.setState({is_show_delete_success_message:!1})},n.state={is_show_delete_success_message:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.toggleShowModal,n=t.show,r=t.submitDeleteCustomSurvey,o=t.survey_type_id;return s.a.createElement(De.a,{id:"delete_custom_survey_modal",show:n,onHide:function(){return a(!1)}},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,"Confirm to Delete"),s.a.createElement("button",{type:"button",onClick:function(){a(!1)}})),s.a.createElement(De.a.Body,null,this.state.is_show_delete_success_message?s.a.createElement("p",null,"This Survey Type has been successfully deleted."):s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"Are you sure that you would like to delete this Custom Survey Type? ".concat(parseInt(o)?"All surveys under this type will be disabled.":"")),s.a.createElement("form",{action:"",onSubmit:function(t){t.preventDefault(),e.setState({is_show_delete_success_message:!0}),r()}},s.a.createElement("button",{type:"button",onClick:function(){return a(!1)}},"Cancel"),s.a.createElement("button",{type:"submit"},"Yes, delete it")))))}}]),a}(n.Component)),Kc=(a(1241),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){return Object(ce.a)(this,a),t.call(this,e)}return Object(_e.a)(a,[{key:"render",value:function(){var e=this.props,t=e.toggleShowModal,a=e.show;return s.a.createElement(De.a,{id:"save_changes_modal",show:a,onHide:function(){return t(!1)}},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,"Save Changes"),s.a.createElement("button",{type:"button",onClick:function(){t(!1)}})),s.a.createElement(De.a.Body,null,s.a.createElement("p",null,"Changes have been successfully saved.")))}}]),a}(n.Component)),Gc=(a(1242),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){return Object(ce.a)(this,a),t.call(this,e)}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.toggleShowModal,n=t.show,r=t.dismissAllModal;return s.a.createElement(De.a,{id:"save_changes_before_leaving_modal",show:n,onHide:function(){return a(!1)}},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,"Save changes before leaving"),s.a.createElement("button",{type:"button",onClick:function(){a(!1)}})),s.a.createElement(De.a.Body,null,s.a.createElement("p",null,"Leaving this page without saving will abandon any unsaved changes.")),s.a.createElement("form",{action:"",onSubmit:function(t){t.preventDefault(),e.props.onSubmitSaving(),a(!1)}},s.a.createElement("button",{type:"button",onClick:function(){return r()}},"Leave Without Saving"),s.a.createElement("button",{type:"submit"},"Save Changes")))}}]),a}(n.Component)),Vc=(a(1243),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentWillMount=function(){var e=n.props.admin_survey_filters_array.filter((function(e){return e.name===u.yb.ADMIN_SURVEY_DROPDOWNS.type})),t=Object(A.a)(e,1)[0];n.setState({custom_survey_type_list:t.options,original_custom_survey_type_list:JSON.parse(JSON.stringify(t.options))})},n.componentDidUpdate=function(e,t){e.is_updating_data&&!n.props.is_updating_data&&n.setState({custom_survey_type_list:n.props.custom_survey_type_list})},n.addCustomSurveyType=function(){var e=n.state,t=e.custom_survey_type_list,a=e.draft_id;n.setState({custom_survey_type_list:[].concat(Object(f.a)(t),[{value:"draft_id_"+a,label:"",url:"",is_mandatory:u.s.NO_VALUE}]),is_disable_save_custom_survey:!0,draft_id:a+1})},n.deleteCustomSurveyType=function(){var e=n.state,t=e.active_delete_custom_survey_id,a=e.to_archive_survey_type_ids,s=e.custom_survey_type_list,r=[],o=!1;s.map((function(e){e.value!==n.state.active_delete_custom_survey_id&&(r.push(e),o||(o=""===e.url.replaceAll(" ","")||""===e.label.replaceAll(" ","")))})),parseInt(t)&&a.push(t),n.setState({custom_survey_type_list:r,to_archive_survey_type_ids:a,is_disable_save_custom_survey:o,active_delete_custom_survey_id:null})},n.updateCustomSurveyDetails=function(e,t){var a=n.state.custom_survey_type_list,s=!1;a.map((function(a){a.value===t&&("is_mandatory"===e.name?a[e.name]=e.checked?u.s.YES_VALUE:u.s.NO_VALUE:a[e.name]=e.value),s||(s=""===a.label.replaceAll(" ","")||""===a.url.replaceAll(" ","")||!a.url.includes("typeform.com"))})),n.setState({custom_survey_type_list:a,is_disable_save_custom_survey:s,save_changes_before_leaving_modal:!0})},n.onBlurCheckIfValidLink=function(e,t){var a=Object(f.a)(n.state.custom_survey_type_list),s=!1;a.map((function(a){a.value===e&&(a.is_invalid_url=!t.includes("typeform.com")),s||(s=a.is_invalid_url||""===a.label.replaceAll(" ","")||""===a.url.replaceAll(" ","")||!a.url.includes("typeform.com"))})),n.setState({custom_survey_type_list:a,is_disable_save_custom_survey:s,save_changes_before_leaving_modal:!0})},n.state={custom_survey_type_list:[],original_custom_survey_type_list:[],is_show_delete_custom_survey_modal:!1,is_disable_save_custom_survey:!0,is_show_save_changes_modal:!1,is_show_save_changes_before_leaving_modal:!1,to_archive_survey_type_ids:[],is_show_custom_survey_type:!0,draft_id:0},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.custom_survey_type_list,n=t.is_show_delete_custom_survey_modal,r=t.is_disable_save_custom_survey,o=t.is_show_save_changes_modal,i=t.is_show_save_changes_before_leaving_modal,c=t.is_show_custom_survey_type,_=t.to_archive_survey_type_ids,l=t.active_delete_custom_survey_id,d=t.original_custom_survey_type_list;return r=r||JSON.stringify(d)===JSON.stringify(a),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"custom_survey_type_container",className:c?"show":""},s.a.createElement("div",{className:"header_container"},s.a.createElement("button",{type:"button",onClick:function(){return r?e.props.hideCustomSurvey():e.setState({is_show_save_changes_before_leaving_modal:!0})}},s.a.createElement(Te.a,{icon:["fas","chevron-left"]})),s.a.createElement("h6",null,"Surveys ",s.a.createElement(Te.a,{icon:["fa","circle"]})," Settings")),s.a.createElement("div",{className:"content"},s.a.createElement("h6",null,"Custom Survey Types"),s.a.createElement("p",null,"Custom survey types will allow you to create frequently used surveys."),s.a.createElement("table",null,s.a.createElement("tbody",null,a.length?a.map((function(t){var a=t.value,n=t.label,r=t.url,o=t.is_mandatory,i=t.is_invalid_url;return s.a.createElement("tr",{key:a},s.a.createElement("td",null,s.a.createElement("label",{htmlFor:"survey_type_name_".concat(a)},"Survey Type Name"),s.a.createElement("input",{className:"survey_type_name_input",name:"label",id:"survey_type_name_".concat(a),defaultValue:n,onChange:function(t){return e.updateCustomSurveyDetails(t.target,a)},placeholder:"SURVEY TYPE NAME",type:"text"})),s.a.createElement("td",null,s.a.createElement("label",{htmlFor:"typeform_link_".concat(a)},"Typeform Link"),s.a.createElement("input",{className:"typeform_link_input ".concat(i?"border_error":""," "),id:"typeform_link_".concat(a),defaultValue:r,name:"url",onBlur:function(t){return e.onBlurCheckIfValidLink(a,t.target.value)},onChange:function(t){return e.updateCustomSurveyDetails(t.target,a)},placeholder:"www.typeform.com/link",type:"url"})),s.a.createElement("td",null,s.a.createElement("h5",null,"Required to Progress ",s.a.createElement(Te.a,{icon:["fas","info-circle"]})),s.a.createElement("div",{className:"switch_container"},s.a.createElement("input",{type:"checkbox",id:"switch_checkbox_".concat(a),onChange:function(t){return e.updateCustomSurveyDetails(t.target,a)},checked:o,name:"is_mandatory"}),s.a.createElement("label",{htmlFor:"switch_checkbox_".concat(a)}))),s.a.createElement("td",null,s.a.createElement("button",{type:"button",onClick:function(){return e.setState({is_show_delete_custom_survey_modal:!0,active_delete_custom_survey_id:a})}},s.a.createElement(Te.a,{icon:["fas","trash"]}))))})):s.a.createElement("p",null,"No Custom Survey Type Available."))),s.a.createElement("button",{id:"add_custom_survey_type_button",onClick:function(){return e.addCustomSurveyType()},type:"button"},s.a.createElement(Te.a,{icon:["fas","plus"]})," Add Custom Survey Type")),s.a.createElement("div",{id:"save_custom_survey_container"},s.a.createElement("button",{type:"button",className:r?"disabled":"",onClick:function(){e.props.updateCustomSurveyType({custom_survey_type_list:a,original_custom_survey_type_list:d,to_archive_survey_type_ids:_}),e.setState({is_show_save_changes_modal:!0})},disabled:r},"Save Changes"))),n&&s.a.createElement(Hc,{show:n,submitDeleteCustomSurvey:this.deleteCustomSurveyType,toggleShowModal:function(){return Object(p.W)(e,"is_show_delete_custom_survey_modal",!1)},survey_type_id:l}),o&&s.a.createElement(Kc,{show:o,toggleShowModal:function(){e.setState({is_show_custom_survey_type:!1}),setTimeout((function(){e.props.hideCustomSurvey()}),500),Object(p.W)(e,"is_show_save_changes_modal",!1)}}),i&&s.a.createElement(Gc,{show:i,dismissAllModal:function(){return setTimeout((function(){e.props.hideCustomSurvey()}),500)},onSubmitSaving:function(){e.props.updateCustomSurveyType({custom_survey_type_list:a,original_custom_survey_type_list:d,to_archive_survey_type_ids:_}),setTimeout((function(){e.props.hideCustomSurvey()}),500)},toggleShowModal:function(){Object(p.W)(e,"is_show_save_changes_before_leaving_modal",!1)}}))}}]),a}(n.Component)),qc=Wc.updateCustomSurveyType,Yc=Object(p.J)(["survey_management"],{updateCustomSurveyType:qc}),Qc=Yc.mapStateToProps,$c=Yc.mapDispatchToProps,zc=Object(ue.b)(Qc,$c)(Vc),Jc=(a(1244),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidUpdate=function(e){e.survey_data.id!==n.props.survey_data.id&&n.setState({is_show_delete_success_message:!1})},n.state={is_show_delete_success_message:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.toggleShowModal,n=t.show,r=t.survey_data;return s.a.createElement(De.a,{id:"delete_survey_modal",show:n,onHide:function(){return a(!1)}},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,"Confirm to Delete"),s.a.createElement("button",{type:"button",onClick:function(){return a(!1)}})),s.a.createElement(De.a.Body,null,this.state.is_show_delete_success_message?s.a.createElement("p",null,"This ",r.survey_name," has been successfully deleted."):s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"Are you sure that you would like to delete this ",r.survey_name,". This survey will be permanently deleted along with its associated data."),s.a.createElement("form",{action:"",onSubmit:function(){e.setState({is_show_delete_success_message:!0}),e.props.onDeleteSurvey({survey_id:r.id})}},s.a.createElement("button",{type:"button",onClick:function(){return a(!1)}},"Cancel"),s.a.createElement("button",{type:"submit"},"Yes, delete it")))))}}]),a}(n.Component)),Xc=(a(1245),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).customContentRenderer=function(){var e,t=n.props.dropdown;return s.a.createElement(s.a.Fragment,null,t.selected.length>0?null===(e=t.selected[0])||void 0===e?void 0:e.label:t.name)},n.customDropdownRenderer=function(e){var t=e.props,a=e.state,r=e.methods,o=n.props,i=o.dropdown,c=o.is_show_search,_=i.options.filter((function(e){return e.label.toLowerCase().includes(a.search.toLowerCase())}));return s.a.createElement(s.a.Fragment,null,c&&s.a.createElement("div",{className:"dropdown_search_container"},s.a.createElement("input",{type:"text",value:a.search,autoFocus:!0,onChange:r.setSearch,placeholder:"Search here..."})),s.a.createElement("div",{className:"dropdown_menu"},_.length>0?_.map((function(e){return s.a.createElement("div",{className:"dropdown_item",disabled:e.disabled,key:e[t.valueField],onClick:e.disabled?null:function(){return r.addItem(e)}},s.a.createElement("input",{type:"checkbox",onChange:function(){return e.disabled?void 0:r.addItem(e)},checked:-1!==a.values.indexOf(e)}),s.a.createElement("span",null,e[t.labelField]))})):s.a.createElement("div",{className:"no_results_found"},"No results found.")))},n.state={search:""},n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.dropdown,r=a.survey_dropdown_type,o=a.is_disabled,i=void 0!==o&&o;return s.a.createElement(es.a,{className:"survey_select ".concat((null===(e=n.selected)||void 0===e?void 0:e.length)&&"has_value"),contentRenderer:this.customContentRenderer,dropdownHandle:!0,onChange:function(e){return t.props.onUpdateSelectedSurveyDropdownValue(e,n,r)},onDropdownClose:function(){return t.setState({search:""})},options:n.options,disabled:i,placeholder:n.name,dropdownRenderer:this.customDropdownRenderer,dropdownHandleRenderer:function(){return s.a.createElement(Te.a,{icon:["fas","caret-down"]})},values:n.selected})}}]),a}(n.Component)),Zc=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){return Object(ce.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){var e=this.props,t=e.toggleShowModal,a=e.show,n=e.setStatusAsActive;return s.a.createElement(De.a,{id:"delete_custom_survey_modal",show:a,onHide:function(){return t()}},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,"Update Status"),s.a.createElement("button",{type:"button",onClick:function(){t()}})),s.a.createElement(De.a.Body,null,s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"You have changed the duration of this survey. Would you like to update its status ",s.a.createElement("b",null,"Active"),"?"),s.a.createElement("form",{action:"",onSubmit:function(e){e.preventDefault(),n()}},s.a.createElement("button",{type:"button",onClick:function(){return t()}},"No, keep it inactive"),s.a.createElement("button",{className:"activate_btn",type:"submit"},"Yes, activate it")))))}}]),a}(n.Component),e_=(a(1246),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;Object(ce.a)(this,a),(n=t.call(this,e)).componentDidUpdate=function(e,t){var a=u.yb.ADMIN_SURVEY_DROPDOWNS,s=u.yb.ADMIN_SURVEY_DROPDOWN_TEMPLATE,r=n.state.admin_survey_dropdown_object;if(e.survey_management.is_updating_data&&!n.props.survey_management.is_updating_data&&n.props.survey_management.admin_survey_dropdown_object){var o=n.props.survey_management.admin_survey_dropdown_object;r[a.type].options=o[a.type].options,r[a.course].options=o[a.course].options,r[a.course_start_date].options=o[a.course_start_date].options,r[a.programs].options=o[a.programs].options,n.setState({admin_survey_dropdown_object:r})}t.is_show_update_status_modal&&!n.state.is_show_update_status_modal&&n.state.draft_survey_data.status&&(r[a.status].selected=s[a.status].options.filter((function(e){return e.value===n.state.draft_survey_data.status})),n.setState({admin_survey_dropdown_object:r})),e.survey_management.is_fetching_survey_list&&!n.props.survey_management.is_fetching_survey_list&&n.setState({is_show_save_changes_modal:!0})},n.onchangeInputSurveyDetails=function(e){n.setState({draft_survey_data:Object(d.a)(Object(d.a)({},n.state.draft_survey_data),{},Object(l.a)({},e.target.name,e.target.value))})},n.setSendSurveyCheckbox=function(e){var t=n.state.draft_survey_data;t.audience.all_current_students=e.target.checked,n.setState({draft_survey_data:t})},n.updateSelectedSurveyDropdownValue=function(e,t,a){if(e){var s=Object(A.a)(e,1)[0],r=n.state,o=r.draft_survey_data,i=r.admin_survey_dropdown_object,c=u.yb.ADMIN_SURVEY_DROPDOWNS;i[a].selected=s?[Object(d.a)(Object(d.a)({},s),{},{survey_name:t.survey_name})]:[],a===c.type?(s&&delete s.is_mandatory,o.survey_type=s||{},o.type_form_link=s.url||"",o.cd_survey_type_id=s.value):a===c.schedule?o.schedule.frequency_days=s||[]:[c.course,c.course_start_date,c.programs].includes(a)?(o.audience.recipient||(o.audience.recipient={}),a===c.course?(n.props.updateAdminSurveyDropdown({filters_needed:[c.programs,c.course_start_date],admin_page:u.c.survey_management.survey_management,cc_stack_id:s.value}),s&&delete s.is_major,i[c.programs].selected=[],i[c.course_start_date].selected=[],o.audience.recipient={stack:s,program:{},stack_start_date:{}}):a===c.course_start_date?o.audience.recipient.stack_start_date=s||{}:a===c.programs&&(o.audience.recipient.program=s||{})):a===c.status?o.status=s.value:o.audience.recipient&&(o.audience.recipient[a]=s,o.audience.recipient.stack_name=i[u.yb.ADMIN_SURVEY_DROPDOWNS.course].survey_name===u.yb.ADMIN_SURVEY_DROPDOWNS.course?s.stack_name:o.audience.recipient.stack_name),n.setState({draft_survey_data:o,admin_survey_dropdown_object:i})}},n.setSurveyDate=function(e,t){n.setState({draft_survey_data:Object(d.a)(Object(d.a)({},n.state.draft_survey_data),{},{schedule:Object(d.a)(Object(d.a)({},n.state.draft_survey_data.schedule),{},{duration:Object(d.a)(Object(d.a)({},n.state.draft_survey_data.schedule.duration),{},Object(l.a)({},t,v()(e||null).format("YYYY-MM-DD")))})})})},n.showSaveChangesWithoutSavingModal=function(e){n.setState({is_show_save_changes_before_leaving_modal:e}),e||n.props.hideEditSurvey()},n.onChangeDate=function(e){var t=Object(A.a)(e,2),a=t[0],s=t[1],r=n.state,o=r.draft_survey_data,i=r.draft_survey_data.schedule.frequency_days,c=r.is_show_update_status_modal,_=s?v()(s).format("YYYY-MM-DD"):null;o.schedule.duration={hide_at_date:_,show_at_date:a?v()(a).format("YYYY-MM-DD"):null},c=!o.status&&!i.value&&_&&new Date(_+" 23:59:59")>=new Date,n.setState({draft_survey_data:o,is_show_update_status_modal:c})},n.setStatusAsActive=function(){var e=n.state.draft_survey_data;n.setState({draft_survey_data:Object(d.a)(Object(d.a)({},e),{},{status:u.s.YES_VALUE}),is_show_update_status_modal:!1})};var s=n.props.active_survey_data,r=u.yb.ADMIN_SURVEY_DROPDOWNS,o=u.yb.ADMIN_SURVEY_DROPDOWN_TEMPLATE,i=JSON.parse(JSON.stringify(o));i[r.status].selected=o[r.status].options.filter((function(e){return e.value===s.status})),i[r.type].selected=[s.survey_type],i[r.schedule].selected=[s.schedule.frequency_days],s.audience.recipient&&(i[r.course].selected=s.audience.recipient.stack?[s.audience.recipient.stack]:[],i[r.course_start_date].selected=s.audience.recipient.stack_start_date?[s.audience.recipient.stack_start_date]:[],i[r.programs].selected=s.audience.recipient.program?[s.audience.recipient.program]:[]),n.state={admin_survey_dropdown_object:i,is_show_save_changes_before_leaving_modal:!1,is_show_save_changes_modal:!1,draft_survey_data:JSON.parse(JSON.stringify(s)),is_show_update_status_modal:!1};var c=Object(p.y)();return c.status&&(n.state.profile=c.user_details),n}return Object(_e.a)(a,[{key:"componentWillMount",value:function(){var e,t;this.props.survey_management.is_duplicate_survey_name=!1;var a=u.yb.ADMIN_SURVEY_DROPDOWNS;this.props.updateAdminSurveyDropdown({filters_needed:[a.programs,a.course_start_date,a.course,a.type],admin_page:u.c.survey_management.survey_management,cc_stack_id:null===(e=this.props.active_survey_data.audience.recipient)||void 0===e||null===(t=e.stack)||void 0===t?void 0:t.value,selected_workspace_id:this.state.profile.workspace.workspace_id})}},{key:"render",value:function(){var e=this,t=u.yb.ADMIN_SURVEY_DROPDOWNS,a=this.state,r=a.is_show_save_changes_modal,o=a.draft_survey_data,i=a.is_show_save_changes_before_leaving_modal,c=a.admin_survey_dropdown_object,_=a.is_show_update_status_modal,l=a.profile,d=o.survey_name,m=o.description,h=o.type_form_link,E=o.audience,f=o.schedule.duration,g=f.show_at_date,b=f.hide_at_date,S=this.props,A=S.show,k=S.active_survey_data,O=S.survey_management,T=JSON.stringify(o)===JSON.stringify(k),C=d.charAt(0).toUpperCase()+d.slice(1);if(!T){var w,y,R,D=E.all_current_students,U=E.recipient;T=!D&&(!U||!(null===(w=U.program)||void 0===w?void 0:w.value)||!(null===(y=U.stack)||void 0===y?void 0:y.value)||!(null===(R=U.stack_start_date)||void 0===R?void 0:R.value))||g&&!b||!d.replaceAll(" ","").length||!h.replaceAll(" ","").length||O.is_duplicate_survey_name||O.is_checking_duplicate_survey_name}var N=Object(n.forwardRef)((function(e,t){e.value;var a=e.onClick;return s.a.createElement("button",{className:"survey_duration_button",onClick:a,ref:t},s.a.createElement(Te.a,{icon:["far","calendar"]}),s.a.createElement("span",null,g?v()(new Date(g+" 00:00:00")).format("MMM D, YYYY"):"Survey Open"),s.a.createElement(Te.a,{icon:["fa","arrow-right"]}),s.a.createElement("span",null,b?v()(new Date(b+" 23:59:59")).format("MMM D, YYYY"):"Survey Close"))}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"edit_survey_container",className:A?"show":""},s.a.createElement("div",{className:"header_container"},s.a.createElement("button",{type:"button",onClick:function(){return e.showSaveChangesWithoutSavingModal(!T)}},s.a.createElement(Te.a,{icon:["fas","chevron-left"]})),s.a.createElement("h6",null,"Surveys ",s.a.createElement(Te.a,{icon:["fa","circle"]})," ",C)),s.a.createElement("div",{className:"edit_content"},s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"left_container"},s.a.createElement("span",{className:"label_title"},"SURVEY NAME *"),s.a.createElement("input",{type:"text",name:"survey_name",placeholder:"SURVEY NAME",onChange:function(t){e.onchangeInputSurveyDetails(t),e.props.checkDuplicateSurveyName({survey_name:t.target.value,cd_survey_schedule_id:o.id})},autoComplete:"off",value:C}),s.a.createElement("p",{className:"info_text ".concat(O.is_duplicate_survey_name?"error_message":"")},O.is_duplicate_survey_name?"Survey name already exists.":"(e.g. Program Course - MM YYYY)"),s.a.createElement("span",{className:"label_title"},"SURVEY TYPE *"),s.a.createElement(Xc,{dropdown:c[t.type],survey_dropdown_type:t.type,onUpdateSelectedSurveyDropdownValue:this.updateSelectedSurveyDropdownValue}),s.a.createElement("span",{className:"label_title"},"DESCRIPTION (Optional)"),s.a.createElement("textarea",{name:"description",id:"description",defaultValue:m,onChange:function(t){return e.onchangeInputSurveyDetails(t)},placeholder:"Type something to help describe your survey. Max 64 characters",maxLength:64})),s.a.createElement("div",{className:"right_container"},s.a.createElement("span",{className:"label_title"},"STATUS *"),s.a.createElement(Xc,{dropdown:c[t.status],survey_dropdown_type:t.status,onUpdateSelectedSurveyDropdownValue:this.updateSelectedSurveyDropdownValue,is_disabled:!o.status&&!o.schedule.frequency_days.value&&new Date(o.schedule.duration.hide_at_date+" 23:59:59")<=new Date}))),s.a.createElement("div",{className:"content"},s.a.createElement("h5",null,"Audience"),s.a.createElement("p",null,"Your Survey will be shown to students within the program and course."),s.a.createElement("span",{className:"label_title"},"COURSE *"),s.a.createElement(Xc,{dropdown:c[t.course],is_disabled:E.all_current_students,survey_dropdown_type:t.course,onUpdateSelectedSurveyDropdownValue:this.updateSelectedSurveyDropdownValue}),s.a.createElement("span",{className:"label_title"},"COURSE START DATE *"),s.a.createElement(Xc,{dropdown:c[t.course_start_date],is_disabled:E.all_current_students,survey_dropdown_type:t.course_start_date,onUpdateSelectedSurveyDropdownValue:this.updateSelectedSurveyDropdownValue}),s.a.createElement("span",{className:"label_title"},"PROGRAM *"),s.a.createElement(Xc,{is_show_search:!0,dropdown:c[t.programs],is_disabled:o.audience.all_current_students,survey_dropdown_type:t.programs,onUpdateSelectedSurveyDropdownValue:this.updateSelectedSurveyDropdownValue})),s.a.createElement("div",{className:"content"},s.a.createElement("h5",null,"Schedule"),s.a.createElement("p",null,"Surveys will be shown within the scheduled duration."),s.a.createElement("span",{className:"label_title"},"Survey Duration"),s.a.createElement(Ut.a,{selected:g?new Date(g+" 00:00:00"):null,customInput:s.a.createElement(N,null),endDate:b?new Date(b+" 23:59:59"):null,selectsRange:!0,minDate:new Date(v()().tz(l.general.timezone.acronym).format("YYYY-MM-DD HH:mm:ss")),startDate:g?new Date(g+" 00:00:00"):null,monthsShown:2,onChange:function(t){return e.onChangeDate(t)},placeholderText:"MM/DD/YY"}))),s.a.createElement("div",{id:"save_survey_container"},s.a.createElement("button",{type:"button",className:T?"disabled":"",disabled:T,onClick:function(){e.props.updateSurveyDetails({updated_survey_data:o})}},"Save Changes"))),r&&s.a.createElement(Kc,{show:r,toggleShowModal:function(){setTimeout((function(){e.props.hideEditSurvey()}),500),Object(p.W)(e,"is_show_save_changes_modal",!1)}}),_&&s.a.createElement(Zc,{show:_,toggleShowModal:function(){e.setState({is_show_update_status_modal:!1})},setStatusAsActive:this.setStatusAsActive}),i&&s.a.createElement(Gc,{show:i,onSubmitSaving:function(){e.props.updateSurveyDetails({updated_survey_data:o})},dismissAllModal:function(){setTimeout((function(){e.props.hideEditSurvey()}),500)},toggleShowModal:function(){Object(p.W)(e,"is_show_save_changes_before_leaving_modal",!1)}}))}}]),a}(n.Component)),t_=Wc.updateAdminSurveyDropdown,a_=Wc.checkDuplicateSurveyName,n_=Object(p.J)(["survey_management"],{updateAdminSurveyDropdown:t_,checkDuplicateSurveyName:a_}),s_=n_.mapStateToProps,r_=n_.mapDispatchToProps,o_=Object(ue.b)(s_,r_)(e_),i_=(a(1247),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;Object(ce.a)(this,a),(n=t.call(this,e)).isRequiredDataValid=function(e,t){var a=[];for(var n in t){var s,r=t[n];e[r]&&((null===(s=e[r])||void 0===s?void 0:s.constructor)!==Object||Object.keys(e[r]).length)||a.push(r)}return a.length>0},n.changeInputCreateSurveyDetails=function(e){n.setState({draft_survey_data:Object(d.a)(Object(d.a)({},n.state.draft_survey_data),{},Object(l.a)({},e.target.name,e.target.value))})},n.updateNextCreateSurvey=function(){n.setState({is_create_survey:!1,is_audience:!0,is_schedule:!1})},n.backToCreateSurveyBlock=function(){n.setState({is_create_survey:!0,is_audience:!1,is_schedule:!1})},n.setSendSurveyCheckbox=function(e){n.setState({draft_survey_data:Object(d.a)(Object(d.a)({},n.state.draft_survey_data),{},{audience:Object(d.a)(Object(d.a)({},n.state.draft_survey_data.audience),{},{all_current_students:e.target.checked})})})},n.isNextToSchedule=function(){n.setState({is_create_survey:!1,is_audience:!1,is_schedule:!0})},n.setSurveyDate=function(e,t){n.setState({draft_survey_data:Object(d.a)(Object(d.a)({},n.state.draft_survey_data),{},{schedule:Object(d.a)(Object(d.a)({},n.state.draft_survey_data.schedule),{},{duration:Object(d.a)(Object(d.a)({},n.state.draft_survey_data.schedule.duration),{},Object(l.a)({},t,e))})})})},n.updateSelectedSurveyDropdownValue=function(e,t,a){var s=u.yb.ADMIN_SURVEY_DROPDOWNS,r=u.yb.SURVEY_FREQUENCY_DAYS_LABEL,o=n.state,i=o.draft_survey_data,c=o.admin_survey_dropdown_object,_=Object(A.a)(e,1)[0];if(c[a].selected=_?[Object(d.a)(Object(d.a)({},_),{},{survey_name:t.survey_name})]:[],a===s.type)i.survey_type=_||{},i.type_form_link=(null===_||void 0===_?void 0:_.url)||"";else if(a===s.schedule)i.schedule.frequency_days=Object(d.a)(Object(d.a)({},_),{},{label:r[null===_||void 0===_?void 0:_.value]})||{};else if(a===s.course_start_date)i.audience.recipient.stack_start_date=_;else if(a===s.programs)i.audience.recipient.program=_;else if(a===s.course){var l,p,m;i.audience.recipient.stack=_,i.audience.recipient.stack_name=null===_||void 0===_?void 0:_.label,c[s.programs].selected=[],c[s.course_start_date].selected=[],n.props.updateAdminSurveyDropdown({filters_needed:[s.programs,s.course_start_date],admin_page:u.c.survey_management.survey_management,cc_stack_id:null===(l=i.audience)||void 0===l||null===(p=l.recipient)||void 0===p||null===(m=p.stack)||void 0===m?void 0:m.value})}n.setState({draft_survey_data:i,admin_survey_dropdown_object:c})},n.onSubmitCreateSurvey=function(){var e=n.state.draft_survey_data,t=e.schedule,a=t.duration,s=a.hide_at_date,r=a.show_at_date;t.frequency_days.value||(e.schedule.duration={hide_at_date:v()(s).format("YYYY-MM-DD"),show_at_date:v()(r).format("YYYY-MM-DD")}),n.props.addSurveyItem({created_survey_data:e}),n.props.toggleShowModal(!1)},n.onChangeDate=function(e){var t=Object(A.a)(e,2),a=t[0],s=t[1],r=n.state.draft_survey_data;r.schedule.duration={show_at_date:a?new Date(v()(a).startOf("day")):null,hide_at_date:s?new Date(v()(s).endOf("day")):null},n.setState({draft_survey_data:r})},n.state={is_create_survey:!0,is_audience:!1,is_schedule:!1,admin_survey_dropdown_object:JSON.parse(JSON.stringify(u.yb.ADMIN_SURVEY_DROPDOWN_TEMPLATE)),is_valid_type_form:!1,draft_survey_data:{survey_name:"",type_form_link:"",survey_type:{},status:u.s.YES_VALUE,description:"",is_mandatory:u.s.YES_VALUE,audience:{all_current_students:!1,recipient:{program:{},stack:{},stack_name:{},stack_start_date:{}}},schedule:{frequency_days:{label:"Duration",value:0},duration:{show_at_date:"",hide_at_date:""}}}};var s=Object(p.y)();return s.status&&(n.state.profile=s.user_details),n}return Object(_e.a)(a,[{key:"componentWillMount",value:function(){this.props.survey_management.is_duplicate_survey_name=!1,this.props.fetchAdminSurveyDropdowns()}},{key:"componentDidUpdate",value:function(e,t){if(e.survey_management.is_updating_data&&!this.props.survey_management.is_updating_data){var a=this.props.survey_management.admin_survey_dropdown_object;this.setState({admin_survey_dropdown_object:Object(d.a)(Object(d.a)({},this.state.admin_survey_dropdown_object),a)})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.is_create_survey,r=t.is_audience,o=t.is_schedule,i=t.draft_survey_data,c=t.admin_survey_dropdown_object,_=t.profile.general,l=i.schedule.duration,d=l.show_at_date,p=l.hide_at_date,m=this.props.survey_management,h=m.is_duplicate_survey_name,E=m.is_checking_duplicate_survey_name,f=m.is_updating_data,g=u.yb.ADMIN_SURVEY_DROPDOWNS,b=Object(n.forwardRef)((function(e,t){e.value;var a=e.onClick;return s.a.createElement("button",{className:"survey_duration_button",onClick:a,ref:t},s.a.createElement(Te.a,{icon:["far","calendar"]}),s.a.createElement("span",null,d?v()(new Date(d)).format("MMM D, YYYY"):"Survey Open"),s.a.createElement(Te.a,{icon:["fa","arrow-right"]}),s.a.createElement("span",null,p?v()(new Date(p)).format("MMM D, YYYY"):"Survey Close"))}));return s.a.createElement(De.a,{id:"schedule_survey_modal",show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},backdrop:"static",keyboard:!1},s.a.createElement(De.a.Body,null,a&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"survey_wrapper"},s.a.createElement("div",{className:"survey_header"},s.a.createElement("h2",null,"Schedule Survey"),s.a.createElement("button",{onClick:function(){return e.props.toggleShowModal(!1)}},s.a.createElement("span",{className:"close_icon"}))),s.a.createElement("span",{className:"required_text"},"* Required"),s.a.createElement("div",{className:"survey_details"},s.a.createElement("div",{className:"input_details_block"},s.a.createElement("span",{className:"label_title"},"SURVEY NAME *"),s.a.createElement("input",{type:"text",placeholder:"SURVEY NAME",name:"survey_name",value:i.survey_name.charAt(0).toUpperCase()+i.survey_name.slice(1),id:"survey_name",autoComplete:"off",onBlur:function(t){e.changeInputCreateSurveyDetails(t),e.props.checkDuplicateSurveyName({survey_name:t.target.value})},onChange:function(t){e.changeInputCreateSurveyDetails(t),e.props.checkDuplicateSurveyName({survey_name:t.target.value})}}),s.a.createElement("p",{className:"info_text ".concat(h?"error_message":"")},h?"Survey name already exists.":"(e.g. Program Course - MM YYYY)")),s.a.createElement("div",{className:"input_details_block"},s.a.createElement("span",{className:"label_title"},"SURVEY TYPE *"),s.a.createElement(Xc,{dropdown:c[g.type],survey_dropdown_type:g.type,onUpdateSelectedSurveyDropdownValue:this.updateSelectedSurveyDropdownValue})),i.survey_type&&"Others"===i.survey_type.label&&s.a.createElement("div",{className:"input_details_block"},s.a.createElement("span",{className:"label_title"},"TYPEFORM LINK *"),s.a.createElement("input",{type:"text",name:"type_form_link",onBlur:function(t){return e.setState({is_valid_type_form:t.target.value.includes("typeform.com")})},id:"type_form_link",defaultValue:i.type_form_link,onChange:function(t){return e.changeInputCreateSurveyDetails(t)}})),s.a.createElement("div",{className:"input_details_block"},s.a.createElement("span",{className:"label_title"},"DESCRIPTION (Optional) "),s.a.createElement("textarea",{name:"description",id:"description",defaultValue:i.description,onChange:function(t){return e.changeInputCreateSurveyDetails(t)},placeholder:"Type something to help describe your survey. Max 64 characters",maxLength:64}))),s.a.createElement("div",{className:"survey_footer"},s.a.createElement("button",{className:this.isRequiredDataValid(i,["survey_name","type_form_link"])||!i.survey_type.value&&!this.state.is_valid_type_form||h||E?"next_btn disabled":"next_btn",onClick:this.updateNextCreateSurvey},"Next")))),r&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"survey_wrapper"},s.a.createElement("div",{className:"survey_header"},s.a.createElement("h2",null,"Select an Audience"),s.a.createElement("button",{onClick:function(){return e.props.toggleShowModal(!1)}},s.a.createElement("span",{className:"close_icon"}))),s.a.createElement("span",{className:"required_text is_audience ".concat(i.audience.all_current_students?"is_checked":"")},"* Required"),s.a.createElement("div",{className:"survey_details"},s.a.createElement("p",null,"Your Survey will be shown to students within the program and course."),s.a.createElement("div",{className:"input_details_block "+(i.audience.all_current_students?"disabled":"")},s.a.createElement("span",{className:"label_title"},"COURSE *"),s.a.createElement(Xc,{is_show_search:!0,dropdown:c[g.course],survey_dropdown_type:g.course,onUpdateSelectedSurveyDropdownValue:this.updateSelectedSurveyDropdownValue})),s.a.createElement("div",{className:"input_details_block "+(i.audience.all_current_students||f?"disabled":"")},s.a.createElement("span",{className:"label_title"},"COURSE START DATE *"),s.a.createElement(Xc,{is_show_search:!0,dropdown:c[g.course_start_date],survey_dropdown_type:g.course_start_date,onUpdateSelectedSurveyDropdownValue:this.updateSelectedSurveyDropdownValue})),s.a.createElement("div",{className:"input_details_block "+(i.audience.all_current_students?"disabled":"")},s.a.createElement("span",{className:"label_title"},"PROGRAM *"),s.a.createElement(Xc,{is_show_search:!0,dropdown:c[g.programs],survey_dropdown_type:g.programs,onUpdateSelectedSurveyDropdownValue:this.updateSelectedSurveyDropdownValue}))),s.a.createElement("div",{className:"survey_footer"},s.a.createElement("button",{onClick:this.backToCreateSurveyBlock},"Back"),s.a.createElement("button",{className:this.isRequiredDataValid(i.audience.recipient,["program","stack","stack_start_date"])&&!i.audience.all_current_students?"next_btn disabled":"next_btn",onClick:this.isNextToSchedule},"Next")))),o&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"survey_wrapper"},s.a.createElement("div",{className:"survey_header"},s.a.createElement("h2",null,"Schedule"),s.a.createElement("button",{onClick:function(){return e.props.toggleShowModal(!1)}},s.a.createElement("span",{className:"close_icon"}))),s.a.createElement("div",{className:"survey_details"},s.a.createElement("p",null,"Surveys will be shown within the scheduled duration."),s.a.createElement("div",{className:"input_details_block"},s.a.createElement("span",{className:"label_title"},"Survey Duration *"),s.a.createElement(Ut.a,{selected:""!==d&&(d||new Date(v()().tz(_.timezone.acronym).format("YYYY-MM-DD HH:"))),customInput:s.a.createElement(b,null),endDate:p,selectsRange:!0,minDate:new Date(v()().tz(_.timezone.acronym).format("YYYY-MM-DD HH:mm:ss")),startDate:d,monthsShown:2,onChange:function(t){return e.onChangeDate(t)},placeholderText:"MM/DD/YY"}))),s.a.createElement("div",{className:"survey_footer"},s.a.createElement("button",{onClick:this.updateNextCreateSurvey},"Back"),s.a.createElement("button",{className:d&&p?"next_btn":"next_btn disabled",onClick:this.onSubmitCreateSurvey},"Done"))))))}}]),a}(n.Component)),c_=Wc.addSurveyItem,__=Wc.updateAdminSurveyDropdown,l_=Wc.fetchAdminSurveyDropdowns,d_=Wc.checkDuplicateSurveyName,u_=Object(p.J)(["survey_management"],{addSurveyItem:c_,updateAdminSurveyDropdown:__,fetchAdminSurveyDropdowns:l_,checkDuplicateSurveyName:d_}),p_=u_.mapStateToProps,m_=u_.mapDispatchToProps,h_=Object(ue.b)(p_,m_)(i_),E_=(a(1248),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).container_ref=s.a.createRef(),n.state={user_status:[{value:1,title:"Active"},{value:2,title:"Pending"},{value:3,title:"Disabled"}]},n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t,a=this,n=this.props,r=n.table_columns_and_settings,o=n.sort_by,i=n.survey_management,c=n.set_admin_survey,_=i.is_fetching_survey_list,l=i.is_updating_data,d=i.survey_list,u=i.is_initial_data,m=Object(p.y)().user_details,h=null===m||void 0===m||null===(e=m.general)||void 0===e||null===(t=e.timezone)||void 0===t?void 0:t.acronym;return s.a.createElement("div",{ref:this.container_ref,className:"table_container",id:"survey_management_table"},s.a.createElement(bc.StickyTable,{borderWidth:"0px"},s.a.createElement(bc.Row,null,Object.entries(r).map((function(e){var t=Object(A.a)(e,2),n=t[0],r=t[1],i=r.width,c=r.id;return s.a.createElement(bc.Cell,{key:n,style:{minWidth:i},onClick:function(){return c?a.props.toggleSort(c):null}},n,c&&s.a.createElement(Te.a,{className:"".concat(o&&o.column_name===c?"":"light"),icon:["fas","caret-".concat(o&&o.column_name===c&&!o.is_ascending?"up":"down")]}))}))),u&&(_||l)?s.a.createElement("div",{id:"table_loading_container"},s.a.createElement("div",null),s.a.createElement("span",null,"Loading...")):s.a.createElement(s.a.Fragment,null,(null===d||void 0===d?void 0:d.length)?d.map((function(e){var t,n,r,o,i,_,l,d,u=(null===(t=e.audience.recipient)||void 0===t||null===(n=t.stack_start_date)||void 0===n?void 0:n.label)?e.audience.recipient.stack_start_date.label.split(" - "):[];return s.a.createElement(bc.Row,{key:e.id},s.a.createElement(bc.Cell,null,e.survey_name),s.a.createElement(bc.Cell,null,e.survey_type.label),s.a.createElement(bc.Cell,null,0===e.schedule.frequency_days.value?"".concat(v()(new Date(e.schedule.duration.show_at_date+" 00:00:00")).format("MMM D, YYYY")," - ").concat(v()(new Date(e.schedule.duration.hide_at_date+" 23:59:59")).format("MMM D, YYYY")):e.schedule.frequency_days.label),s.a.createElement(bc.Cell,null,s.a.createElement("span",{className:e.status?"green_bg":"red_bg"},e.status?"Active":"Inactive")),s.a.createElement(bc.Cell,null,null===(r=e.audience.recipient)||void 0===r||null===(o=r.program)||void 0===o?void 0:o.label),s.a.createElement(bc.Cell,null,(null===(i=e.audience.recipient)||void 0===i||null===(_=i.stack)||void 0===_?void 0:_.label)&&s.a.createElement("span",{className:"blue_bg"},e.audience.recipient.stack.label)),s.a.createElement(bc.Cell,null,(null===(l=e.audience.recipient)||void 0===l||null===(d=l.stack_start_date)||void 0===d?void 0:d.label)?v()(new Date(u[0])).format("MMM D, YYYY"):""),s.a.createElement(bc.Cell,null,s.a.createElement("p",null,e.description)),s.a.createElement(bc.Cell,null,s.a.createElement(va.a,{trigger:"click",placement:"auto",rootClose:!0,container:a.container_ref.current,overlay:s.a.createElement(ga.a,{container:"survey_management_table",id:"survey_management_action_popover"},s.a.createElement(ga.a.Content,null,s.a.createElement("button",{type:"button",onClick:function(){return c&&a.props.setEditActiveSurveyData(e)}},s.a.createElement("span",{className:"icon edit_icon"}),"Edit Details"),s.a.createElement("button",{type:"button",className:!e.status&&!e.schedule.frequency_days.value&&new Date(e.schedule.duration.hide_at_date+" 23:59:59")<=new Date((h?v()().tz(h):v()()).format("YYYY-MM-DD HH:mm:ss"))?"disabled":"",onClick:function(){c&&document.body.click(),c&&a.props.processSurveyStatus({survey_id:e.id,status:e.status})}},s.a.createElement("span",{className:"icon ".concat(e.status?"disable_icon":"enable_icon")}),e.status?"Deactivate":"Activate"," Survey"),s.a.createElement("button",{type:"button",onClick:function(){return c&&a.props.onShowConfirmDeleteSurveyModal(e)}},s.a.createElement("span",{className:"icon delete_icon"}),"Delete Survey")))},s.a.createElement("button",{disabled:!c,className:"survey_action_btn"}))))})):s.a.createElement("p",{id:"no_results_found"},"No Results found."))))}}]),a}(n.Component)),f_=Wc.processSurveyStatus,g_=Object(p.J)(["survey_management"],{processSurveyStatus:f_}),v_=g_.mapStateToProps,b_=g_.mapDispatchToProps,S_=Object(ue.b)(v_,b_)(E_),A_=(a(1249),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n,s,r;return Object(ce.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){var e,t=Object(p.y)();if(t.status&&(null===(e=t.user_details)||void 0===e?void 0:e.workspace)){var a,n=(null===(a=t.user_details)||void 0===a?void 0:a.workspace).workspace_id;u.yb.EXCLUDED_WORKSPACE_IDS.includes(n)?window.location.replace("/dashboard"):r.props.fetchSurveyManagementData({workspace_id:n})}},r.componentDidUpdate=function(e){var t={};if(e.survey_management.is_updating_data&&!r.props.survey_management.is_updating_data){var a=Object.assign({},r.props.survey_management);e.survey_management.is_initial_data||a.is_initial_data||delete a.search_survey_keyword,t=Object.assign(t,Object(d.a)(Object(d.a)({},r.state),a))}r.state.is_fetch_survey_list&&(r.submitFilters(),t=Object.assign(t,{is_fetch_survey_list:!1})),Object.keys(t).length&&r.setState(t)},r.showConfirmDeleteSurveyModal=function(e){r.setState({is_show_delete_survey_modal:!0,active_survey_data:e})},r.updateFilterDropdownSelectedValue=function(e,t){var a=r.state.admin_survey_filters_array,n=JSON.parse(JSON.stringify(a));(n=Object.values(n)).map((function(a){a.name===t.name&&(t.is_multi_select?a.selected=e.length?Object(f.a)(e):[]:(a.selected=e.length?[Object(d.a)(Object(d.a)({},e[0]),{},{filter_name:t.filter_name})]:[],"cc_stack_id"===a.filter_name&&(r.state.selected_cc_stack_id=t.selected.length>0?t.selected[0].value:null)))})),"cc_stack_id"===t.filter_name&&n.map((function(e){"program_type_id"===e.filter_name&&(e.selected=[])})),r.setState({admin_survey_filters_array:n})},r.clearAllFilters=function(){var e=r.state.admin_survey_filters_array;e.map((function(e){e.name===u.yb.ADMIN_SURVEY_DROPDOWNS.general?e.selected=e.options.filter((function(e){return e.label===u.yb.ADMIN_SURVEY_DROPDOWNS.general})):e.selected=[]})),r.setState({admin_survey_filters_array:e,total_results:0})},r.submitFilters=function(e){var t;e&&e.preventDefault();var a=r.state,n=a.admin_survey_filters_array,s=a.sort_by,o=a.search_survey_keyword,i={};n.map((function(e){var t=e.selected,a=e.filter_name;i[a]=t.length?t.map((function(e){return e.value})):null})),o=(null===(t=o)||void 0===t?void 0:t.replaceAll(" ",""))||"",r.props.fetchByFilters({filters_selected:i,sort_by:s,search_survey_keyword:o,is_update_last_used_filters:!0})},r.toggleSort=function(e){var t;if(null===(t=r.props.survey_management.survey_list)||void 0===t?void 0:t.length){var a=r.state.sort_by;a={column_name:e,is_ascending:!a||a.column_name!==e||!a.is_ascending},r.setState({sort_by:a,is_fetch_survey_list:!0})}},r.changeActiveWorkspace=function(e){var t,a,n=null,s=e.filter((function(e){return e.is_selected})),o=Object(A.a)(s,1)[0].id,i=u.yb.EXCLUDED_WORKSPACE_IDS.includes(o);if(i)if(null===(t=r.state.navigation)||void 0===t||null===(a=t.links)||void 0===a?void 0:a.length){var c=r.state.navigation.links.filter((function(e){if(e.link.indexOf(u.c.survey_management.survey_management)<0)return e}));n=Object(A.a)(c,1)[0].link}else n="/dashboard";r.props.switchWorkspace({workspace_id:o},n),i||setTimeout((function(){r.props.fetchSurveyManagementData({workspace_id:o})}),u.Ab.normal),r.setState({is_show_edit_survey_slider:!1})},r.state={navigation:Object(p.w)(null===(n=r.props.survey_management.profile)||void 0===n||null===(s=n.general)||void 0===s?void 0:s.user_capabilities,"admin_survey_management"),profile:r.props.survey_management.profile,admin_survey_filters_array:[],admin_survey_dropdown_object:{},is_show_delete_survey_modal:!1,is_show_custom_survey_slider:!1,active_survey_data:void 0,create_survey_data:[],table_columns_and_settings:{"Survey Name":{id:"survey_name",width:110},Type:{id:"survey_type",width:100},Schedule:{id:"show_at_date",width:140},Status:{id:"status",width:97},Program:{id:"program",width:92},Course:{id:"course",width:140},"Course Start Date":{id:"course_start_date",width:150},Description:{id:"description",width:110},Action:{width:20}},sort_by:null,is_fetch_survey_list:!1,search_survey_keyword:""},r}return Object(_e.a)(a,[{key:"render",value:function(){var e,t=this,a=!1,n=this.state,r=n.navigation,o=n.profile,i=n.admin_survey_filters_array,c=n.is_show_delete_survey_modal,_=n.active_survey_data,l=n.is_show_custom_survey_slider,d=n.is_show_edit_survey_slider,m=n.is_show_create_survey_modal,h=n.search_survey_keyword,E=Object(p.y)(),f=E.status,g=E.user_details;return f&&(null===g||void 0===g||null===(e=g.general)||void 0===e?void 0:e.user_capabilities)&&(a=Object(p.i)(g.general.user_capabilities,"admin.admin_survey_page.set_admin_survey"),o=g),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"admin_access_control_container"},s.a.createElement(et,{title:u.lb.admin_page.survey_management}),s.a.createElement(Gi,{active_icon:"users"}),s.a.createElement(Vi,{navigation:r,admin_page:"admin_survey_management"}),s.a.createElement("div",{id:"admin_right_container"},s.a.createElement("form",{id:"search_admin_survey_form",onSubmit:function(e){t.submitFilters(e)}},s.a.createElement(Te.a,{icon:["fas","search"]}),s.a.createElement("input",{autoComplete:"off",onChange:function(e){return Object(p.C)(e,t)},type:"text",name:"search_survey_keyword",value:h,placeholder:"Search for a Survey"})),s.a.createElement(sc,{profile:o,onchangeActiveWorkspace:this.changeActiveWorkspace}),s.a.createElement("div",{id:"access_control_table_filter_container"},s.a.createElement(Yi,{filter_dropdowns:i,submitFilters:this.submitFilters,updateFilterDropdownSelectedValue:this.updateFilterDropdownSelectedValue,clearAllFilters:this.clearAllFilters}),s.a.createElement("button",{id:"create_survey_btn",disabled:!a,className:"".concat(a?"":"disabled"),onClick:function(){return a&&t.setState({is_show_create_survey_modal:!0})},type:"button"},"Schedule Survey")),s.a.createElement(S_,{survey_management:this.props.survey_management,updateSurveyManagementState:function(e){t.setState(e)},table_columns_and_settings:this.state.table_columns_and_settings,sort_by:this.state.sort_by,toggleSort:this.toggleSort,set_admin_survey:a,setEditActiveSurveyData:function(e){return t.setState({active_survey_data:e,is_show_edit_survey_slider:!0})},onShowConfirmDeleteSurveyModal:this.showConfirmDeleteSurveyModal}),l&&a&&s.a.createElement(zc,{show:l,admin_survey_filters_array:i,hideCustomSurvey:function(){return t.setState({is_show_custom_survey_slider:!1})}}),d&&a&&s.a.createElement(o_,{show:d,active_survey_data:_,updateSurveyDetails:this.props.updateSurveyDetails,hideEditSurvey:function(){return t.setState({is_show_edit_survey_slider:!1,active_survey_data:null})}}),_&&a&&s.a.createElement(Jc,{show:c,survey_data:_,onDeleteSurvey:this.props.deleteSurvey,toggleShowModal:function(){return Object(p.W)(t,"is_show_delete_survey_modal",!1)}}))),m&&a&&s.a.createElement(h_,{show:m,toggleShowModal:function(){return Object(p.W)(t,"is_show_create_survey_modal",!1)}}))}}]),a}(n.Component)),k_=Object(p.J)(["survey_management"],{deleteSurvey:Wc.deleteSurvey,fetchSurveyManagementData:Wc.fetchSurveyManagementData,updateSurveyManagementFilters:Wc.updateSurveyManagementFilters,fetchByFilters:Wc.fetchByFilters,updateCustomSurveyType:Wc.updateCustomSurveyType,switchWorkspace:ts.a.switchWorkspace,updateSurveyDetails:Wc.updateSurveyDetails}),O_=k_.mapStateToProps,T_=k_.mapDispatchToProps,C_=Object(ue.b)(O_,T_)(A_),w_=(a(443),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){return Object(ce.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},this.props.filter_data.title),s.a.createElement(es.a,{key:this.props.filter_data.name,multi:!("duration"===this.props.filter_data.name),clearable:"duration"===this.props.filter_data.name&&this.props.is_selected.length>0,values:[],options:this.props.filter_data.options,labelField:"label",valueField:"value",onChange:function(t){return e.props.onChangeSelect(t,e.props.filter_data.name)}}))}}]),a}(n.Component)),y_=new(function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e,n,s;Object(ce.a)(this,a),(s=t.call(this)).fetchAssignmentMonitoringFilters=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/admin/assignment_monitoring/filter_options"),e,!0).then(p.z).then((function(e){return e}))},s.fetchAssignmentMonitoringData=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/admin/assignment_monitoring/filtered_data"),e,!0).then(p.z).then((function(e){return e}))},s.updateFilterDropdownList=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/admin/assignment_monitoring/update_filters"),e,!0).then(p.z).then((function(e){return e}))};var r=Object(p.y)();return s.API_pre_link=(null===r||void 0===r||null===(e=r.user_details)||void 0===e||null===(n=e.general)||void 0===n?void 0:n.trial_platform_mode)?"/t":"",s}return a}(Ee.a)),R_=new function e(){Object(ce.a)(this,e),this.fetchAssignmentMonitoringFilters=function(){return function(e){e(Object(p.A)({type:u.q.FETCH_ASSIGNMENT_MONITORING_FILTER_OPTIONS_REQUEST},{})),y_.fetchAssignmentMonitoringFilters().then((function(t){e(Object(p.A)({type:u.q.FETCH_ASSIGNMENT_MONITORING_FILTER_OPTIONS_SUCCESS},{filters:t.result}))}),(function(t){var a=Object(p.c)(t);e(Object(p.A)({type:u.q.FETCH_ASSIGNMENT_MONITORING_FILTER_OPTIONS_FAILURE},{error:a}))}))}},this.fetchFilteredAssignmentMonitoringData=function(e){return function(t){Object.keys(e).length>0?(t(Object(p.A)({type:u.q.FETCH_ASSIGNMENT_MONITORING_DATA_REQUEST},{})),y_.fetchAssignmentMonitoringData(e).then((function(e){t(Object(p.A)({type:u.q.FETCH_ASSIGNMENT_MONITORING_DATA_SUCCESS},{assignment_monitoring_data_list:e.result}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.q.FETCH_ASSIGNMENT_MONITORING_DATA_FAILURE},{error:a}))}))):t(Object(p.A)({type:u.q.FETCH_ASSIGNMENT_MONITORING_DATA_SUCCESS},{assignment_monitoring_data_list:{filtered_data:[]}}))}},this.updateFilterDropdownList=function(e){return function(t){t(Object(p.A)({type:u.q.UPDATE_ASSIGNMENT_MONITORING_FILTER_OPTIONS_REQUEST},{})),y_.updateFilterDropdownList(e).then((function(e){e&&!e.status&&alert(e.error),t(Object(p.A)({type:u.q.UPDATE_ASSIGNMENT_MONITORING_FILTER_OPTIONS_SUCCESS},{updated_filters:e.result}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.q.UPDATE_ASSIGNMENT_MONITORING_FILTER_OPTIONS_FAILURE},{error:a}))}))}}},D_=u.q.ASSIGNMENT_MONITORING_FILTERS,U_=u.q.DEFAULT_VALUES,N_=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).onChangeSelect=function(e,t){var a=Object(Se.a)(n),s=a.state,r=a.dependent_filters,o=Object(f.a)(s.filter_values),i=o.map((function(e){return e.name})).indexOf(t),c=[];if(e.length>0){if(0===o.filter((function(e){return e.name==t})).length?(o.push({name:t,values:t===D_.user?e[0].value:[e[0].value]}),c=[e[0].value]):(c=e.map((function(e){return e.value})),t===D_.user&&e.length>1&&(c=e[0].value.concat(e[1].value)),o[i].values=c),r.includes(t)){var _={admin_page:"assignment_monitoring"};c.length>0?(t===D_.stack?_.cc_stack_id=c:t===D_.stack_start_date&&(_.cc_stack_start_date=c),n.props.updateFilterDropdownList(_)):n.props.fetchAssignmentMonitoringFilters({requested_filters:t})}}else o[i]=o[o.length-1],o.pop();n.setState({filter_values:o})},n.updateFilterDropdownSelectedValue=function(e,t){var a=Object(f.a)(n.props.assignment_monitoring.filters);a.map((function(a){a.name===t.name&&(t.is_multi_select?a.selected=e.length>0?Object(f.a)(e):[]:(a.selected=e.length>0?[Object(d.a)(Object(d.a)({},e[0]),{},{filter_name:t.filter_name})]:[],"cc_stack_id"===a.filter_name&&(n.state.selected_cc_stack_id=t.selected.length>0?t.selected[0].value:null)))})),n.setState({filter_dropdowns:a})},n.onSubmitAssignmentMonitoringFilterForm=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;e&&e.preventDefault();var s=n.state,r=s.filter_values,o=s.last_used_sort,i=s.sort_config,c={};if(r.length>0){var _=i[o]?"DESC":"ASC";c={sort_by:a||[o,_]},r.map((function(e){c[e.name]=e.values})),c.limit=(null===t||void 0===t?void 0:t.limit)||U_.records_per_page,c.go_to_page=(null===t||void 0===t?void 0:t.go_to_page)||U_.first_page}return n.props.fetchFilteredAssignmentMonitoringData(c),n.setState({is_loading:!0}),!1},n.convertDateFormat=function(e){var t=v()(e).tz(n.iana_local_timezone).format("z"),a="MM/DD h:mm a";return a+="+"===t[0]||"-"===t[0]?" (UTC Z)":" (z)",v()(e).tz(n.iana_local_timezone).format(a)},n.onSwitchToAnotherPage=function(e){var t={go_to_page:e,limit:U_.records_per_page};n.onSubmitAssignmentMonitoringFilterForm(null,t)},n.toggleSort=function(e,t){var a=n.state.sort_config,s=Object.entries(a),r={go_to_page:n.state.pagination.current_page,limit:U_.records_per_page};s.map((function(e){e[0]===t?a[t]=!a[t]:a[e[0]]=!1})),n.setState({sort_config:a,last_used_sort:t}),n.onSubmitAssignmentMonitoringFilterForm(e,r,[t,a[t]?"DESC":"ASC"])},n.state={last_used_sort:u.q.SORTABLE_COLUMNS.time_asked,is_loading:!1,current_page:null,filters:[],filter_values:[],results:[],sort_config:{date_posted:!0,reply_count:!1,upvote_count:!1,total_answers_likes:!1,total_endorsed_answers:!1}},n.dependent_filters=[D_.stack,D_.stack_start_date],n.iana_local_timezone=v.a.tz.guess(),n}return Object(_e.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchAssignmentMonitoringFilters()}},{key:"render",value:function(){var e=this,t=this.state,a=t.filters,n=t.results,r=t.is_loading,o=t.filter_values,i=t.sort_config,c=t.pagination,_=u.q.SORTABLE_COLUMNS,l=n.length>0;return s.a.createElement("div",{id:"assignment_monitoring"},s.a.createElement("div",{id:"assignment_monitoring_container"},s.a.createElement("form",{action:"",updateFilterDropdownSelectedValue:function(t){return e.updateFilterDropdownSelectedValue(t)},onSubmit:function(t){return e.onSubmitAssignmentMonitoringFilterForm(t)}},a.map((function(t){return s.a.createElement(w_,{onChangeSelect:e.onChangeSelect,filter_data:t,name:t.name,is_selected:o.filter((function(e){return e.name===t.name}))})})),s.a.createElement("button",{type:"submit",className:"btn outline-primary"},"Submit")),r?s.a.createElement("div",{id:"table_loading_container"},s.a.createElement("div",null),s.a.createElement("span",null,"Loading...")):s.a.createElement("div",{className:"scroll_container"},s.a.createElement("table",{className:"table striped bordered"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Question"),s.a.createElement("th",null,"Track Name"),s.a.createElement("th",null,"Course Name"),s.a.createElement("th",null,"Chapter Name"),s.a.createElement("th",null,"Assignment Title"),s.a.createElement("th",null,"Question Title"),s.a.createElement("th",null,"Who Asked"),s.a.createElement("th",null,"Time Asked ",l&&s.a.createElement("button",{onClick:function(t){return e.toggleSort(t,_.time_asked)}},s.a.createElement(Te.a,{icon:"caret-".concat(i.date_posted?"up":"down")}))),s.a.createElement("th",null,"Reply ",l&&s.a.createElement("button",{onClick:function(t){return e.toggleSort(t,_.reply_view)}},s.a.createElement(Te.a,{icon:"caret-".concat(i.reply_count?"up":"down")}))),s.a.createElement("th",null,"# of likes for questions ",l&&s.a.createElement("button",{onClick:function(t){return e.toggleSort(t,_.total_question_likes)}},s.a.createElement(Te.a,{icon:"caret-".concat(i.upvote_count?"up":"down")}))),s.a.createElement("th",null,"# of Liked Answers ",l&&s.a.createElement("button",{onClick:function(t){return e.toggleSort(t,_.total_answers_likes)}},s.a.createElement(Te.a,{icon:"caret-".concat(i.total_answers_likes?"up":"down")}))),s.a.createElement("th",null,"# Endorsed Answers ",l&&s.a.createElement("button",{onClick:function(t){return e.toggleSort(t,_.endorsed_answers)}},s.a.createElement(Te.a,{icon:"caret-".concat(i.total_endorsed_answers?"up":"down")}))),s.a.createElement("th",null,"Last Answered Time"),s.a.createElement("th",null,"Last Answered by"))),s.a.createElement("tbody",null,l?n.map((function(t){return s.a.createElement("tr",null,s.a.createElement("td",null,t.question_id),s.a.createElement("td",null,t.track),s.a.createElement("td",null,t.course),s.a.createElement("td",null,t.chapter_name),s.a.createElement("td",null,s.a.createElement(pe.b,{to:"/m/".concat(t.track_id,"/").concat(t.chapter_id,"/").concat(t.chapter_module_id),target:"_blank"},t.assignment_title)),s.a.createElement("td",null,s.a.createElement(va.a,{placement:"top",overlay:s.a.createElement(Sa.a,{id:"assignment_monitoring_tooltip"},t.question_title)},s.a.createElement(pe.b,{to:"/m/".concat(t.track_id,"/").concat(t.chapter_id,"/").concat(t.chapter_module_id,"/forum_question/").concat(t.question_id),target:"_blank"},t.question_title))),s.a.createElement("td",null,t.querier),s.a.createElement("td",null,e.convertDateFormat(t.date_posted)),s.a.createElement("td",null,t.reply_count),s.a.createElement("td",null,t.upvote_count),s.a.createElement("td",null,t.total_answers_likes?t.total_answers_likes:"0"),s.a.createElement("td",null,t.total_endorsed_answers),s.a.createElement("td",null,t.last_replier_details?e.convertDateFormat(t.last_replier_details.replied_on):"N/A"),s.a.createElement("td",null,t.last_replier_details?t.last_replier_details.last_replier_name:"N/A"," "))})):s.a.createElement("tr",{id:"no_results_found_tr"}," ",s.a.createElement("td",{colSpan:"14"},"No results found. Use the filters to fetch the records.")," ")))),l&&!r&&c.total_records/c.records_per_page>1&&s.a.createElement("div",null,s.a.createElement(kc,{pagination:c,total_results:c.total_records,index_of_last_student:c.last_record_index,index_of_first_student:c.first_record_index,onPaginateData:this.onSwitchToAnotherPage}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.assignment_monitoring;return a.filters!==t.filters?{filters:a.filters}:a.results!==t.results?{results:a.results,is_loading:a.is_loading,pagination:a.pagination}:null}}]),a}(n.Component),I_=R_.fetchAssignmentMonitoringFilters,P_=R_.fetchFilteredAssignmentMonitoringData,j_=R_.updateFilterDropdownList,L_=Object(p.J)("assignment_monitoring",{fetchAssignmentMonitoringFilters:I_,fetchFilteredAssignmentMonitoringData:P_,updateFilterDropdownList:j_}),M_=L_.mapStateToProps,F_=L_.mapDispatchToProps,x_=Object(ue.b)(M_,F_)(N_),B_=(a(1250),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!1===t){var a=null===n.state?Object(d.a)({},n.props.module):Object(d.a)({},n.state.chapter_module);if("link_title"===e.target.name)a.content.title=e.target.value;else if("is_online"===e.target.name||"is_onsite"===e.target.name){var s=a.program_types,r="is_online"===e.target.name?u.ib:u.jb;s.length>0&&(s=s.map((function(e){return parseInt(e)})).filter((function(e){return!1===isNaN(e)}))),!0===e.target.checked&&!1===s.includes(r)?s.push(r):!1===e.target.checked&&!0===s.includes(r)&&(s=s.filter((function(e){return e!==r}))),a.program_types=s}else a[e.target.name]=e.target.value;n.setState({chapter_module:a})}},n.handleSubmitEditModule=function(e){var t=null===n.state?Object(d.a)({},n.props.module):Object(d.a)({},n.state.chapter_module);n.props.toggleShowModal(!1),n.props.onHandleSubmitEditModule(e,t.chapter_module_id,n.props.active_chapter_id,t)},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.module,n=t.show,r=t.toggleShowModal;return null!==this.state&&void 0!==this.state.chapter_module&&null!==this.state.chapter_module&&(a=this.state.chapter_module),s.a.createElement(De.a,{show:n,onHide:function(){return r(!1)},centered:!0,id:"edit_module_modal"},s.a.createElement(De.a.Header,null,s.a.createElement(De.a.Title,null,"Editing Module"),s.a.createElement("button",{onClick:function(e){return r(!1)}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/admin/edit_course/close_icon.png",alt:"Close Icon"}))),s.a.createElement(De.a.Body,null,s.a.createElement("div",{className:"form_group_container"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"module_title"},"Module Title"),s.a.createElement("input",{onChange:function(t){return e.handleInputChange(t)},type:"text",name:"chapter_module_title",id:"module_title",value:a.chapter_module_title}),s.a.createElement("label",{htmlFor:"module_title"},s.a.createElement(Te.a,{icon:["fas","pencil-alt"]}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"link_title"},"Link Title"),s.a.createElement("input",{onChange:function(t){return e.handleInputChange(t)},type:"text",name:"link_title",id:"link_title",value:a.content.title}),s.a.createElement("label",{htmlFor:"link_title"},s.a.createElement(Te.a,{icon:["fas","pencil-alt"]})))),s.a.createElement("div",{className:"form-group",id:"module_type"},s.a.createElement("span",null,"Module Type"),s.a.createElement("div",{className:"btn-group",role:"group"},u.cb.map((function(t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("input",{onChange:function(t){return e.handleInputChange(t,!0)},id:"".concat(t.title.replace(" ","_"),"_module"),type:"radio",name:"module_options",value:t.id,checked:t.id===a.module_type}),s.a.createElement("label",{htmlFor:"".concat(t.title.replace(" ","_"),"_module")},s.a.createElement("span",null,t.title.toUpperCase())))})))),s.a.createElement("div",{className:"form_group_container"},s.a.createElement("span",null,"This Module Is Going To Be Visible:"),u.mb.map((function(t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"checkbox"},s.a.createElement("input",{onChange:function(t){return e.handleInputChange(t)},name:"is_".concat(t.title),type:"checkbox",id:"".concat(t.title,"_checkbox"),defaultChecked:!0===a.program_types.includes(t.id)}),s.a.createElement("label",{htmlFor:"".concat(t.title,"_checkbox")},s.a.createElement("div",{className:"checkbox_container"},s.a.createElement(Te.a,{icon:["fas","check"]})),s.a.createElement("span",null,t.title.toUpperCase()))))})))),s.a.createElement(De.a.Footer,null,s.a.createElement("form",{action:"",onSubmit:function(t){return e.handleSubmitEditModule(t)}},s.a.createElement("button",{className:"btn btn-default",type:"button",onClick:function(e){return r(!1)}},"Cancel"),s.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Save"))))}}]),a}(n.Component)),W_=(a(444),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).handleDeleteModule=function(e){n.props.toggleShowModal(!1),n.props.onHandleDeleteModule(e,n.props.module.chapter_module_id,n.props.active_chapter_id)},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.show,n=t.toggleShowModal;return s.a.createElement(De.a,{show:a,onHide:function(){return n(!1)},centered:!0,id:"delete_module_modal"},s.a.createElement(De.a.Header,null,s.a.createElement(De.a.Title,null,"Delete This Module"),s.a.createElement("button",{onClick:function(e){return n(!1)}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/admin/edit_course/close_icon.png",alt:"Close Icon"}))),s.a.createElement(De.a.Body,null,s.a.createElement("p",null,"Do you want to delete this module?")),s.a.createElement(De.a.Footer,null,s.a.createElement("form",{action:"",onSubmit:function(t){return e.handleDeleteModule(t)}},s.a.createElement("button",{className:"btn btn-default",type:"button",onClick:function(e){return n(!1)}},"Cancel "),s.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Confirm"))))}}]),a}(n.Component)),H_=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).handleCopyModule=function(e){n.props.toggleShowModal(!1),n.props.onHandleCopyModule(e,Object(d.a)({},n.props.module),n.props.chapter.chapter_id)},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.show,n=t.toggleShowModal,r=t.chapter;return s.a.createElement(De.a,{show:a,onHide:function(){return n(!1)},centered:!0,id:"copy_module_modal"},s.a.createElement(De.a.Header,null,s.a.createElement(De.a.Title,null,"Copy This Module"),s.a.createElement("button",{onClick:function(e){return n(!1)}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/admin/edit_course/close_icon.png",alt:"Close Icon"}))),s.a.createElement(De.a.Body,null,s.a.createElement("p",null,"Do you want to copy this module to ",r.chapter_title,"?")),s.a.createElement(De.a.Footer,null,s.a.createElement("form",{action:"",onSubmit:function(t){return e.handleCopyModule(t)}},s.a.createElement("button",{className:"btn btn-default",type:"button",onClick:function(e){return n(!1)}},"Cancel "),s.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Confirm"))))}}]),a}(n.Component),K_=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).renderModuleColor=function(e){return{0:"lesson_module",1:"quiz_module",2:"todo_module",3:"lesson_module",4:"chapter_survey_module"}[null!==e.content?e.content.type:0]},n.showModuleActionModal=function(e,t,a){n.setState({active_module:e,active_chapter_id:t}),Object(p.W)(Object(Se.a)(n),a,!0)},n.navigateChapterModule=function(e){e.indexOf(u.f.LEARNV2_URL)>-1?window.open(e,"_blank"):window.location.href=e},n.showCopyToList=function(e){n.setState({is_show_copy_to_list:e})},n.showCopyModuleModal=function(e,t,a){n.setState({selected_chapter_to_move:t},(function(){n.showModuleActionModal(e,t.chapter_id,a)}))},n.state={is_show_edit_module_modal:!1,is_show_delete_module_modal:!1,is_show_copy_module_modal:!1,is_show_copy_to_list:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.track,n=t.pathParams;return s.a.createElement("aside",null,s.a.createElement("ul",{className:"list-unstyled",id:"chapter_list"},void 0!==a.chapters&&a.chapters.map((function(t){return s.a.createElement("li",{className:"".concat(Number(n.chapter_id)===t.chapter_id?"active":""),key:t.chapter_title},s.a.createElement(pe.b,{className:"chapter_name"},t.chapter_title),s.a.createElement("ul",{className:"list-unstyled module_list"},void 0!==t.chapter_modules&&t.chapter_modules.map((function(r){return s.a.createElement("li",{className:"".concat(Number(n.module_id)===r.chapter_module_id?"active":""),key:r.chapter_module_id},s.a.createElement("button",{type:"button",onClick:function(){return e.navigateChapterModule("".concat(1===r.module_type?"":u.f.LEARNV2_URL,"/modules/edit/").concat(a.track_id,"/").concat(t.chapter_id,"/").concat(r.chapter_module_id))},className:"".concat(e.renderModuleColor(r)," module_name")},r.chapter_module_title),1===r.content.type&&s.a.createElement(ni.a,{onToggle:function(t){return!1===t?e.showCopyToList(t):""}},s.a.createElement(ni.a.Toggle,null,s.a.createElement(Te.a,{icon:["fas","ellipsis-v"]})),s.a.createElement(ni.a.Menu,null,s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("li",null,s.a.createElement(ni.a.Item,{onClick:function(){return e.showModuleActionModal(r,t.chapter_id,"is_show_edit_module_modal")}},"Edit")),s.a.createElement("li",null,s.a.createElement("button",{onClick:function(t){return e.showCopyToList(!0)}},"Copy To ",s.a.createElement(Te.a,{icon:["fas","chevron-right"]})),e.state.is_show_copy_to_list&&s.a.createElement("ul",{className:"list-unstyled dropdown_sub_menu"},a.chapters.map((function(t){return s.a.createElement("li",{key:t.chapter_id,onClick:function(){return e.showCopyModuleModal(r,t,"is_show_copy_module_modal")}},t.chapter_title)})))),s.a.createElement("li",null,s.a.createElement(ni.a.Item,{onClick:function(){return e.showModuleActionModal(r,t.chapter_id,"is_show_delete_module_modal")}},"Delete"))))))}))))}))),void 0!==a&&s.a.createElement("a",{id:"exit_edit_mode_btn",href:"/m/".concat(a.track_id,"/").concat(a.chapter_id,"/").concat(a.chapter_module_id)},s.a.createElement("span",null)," Exit Edit Mode"),void 0!==this.state.active_module&&s.a.createElement(s.a.Fragment,null,s.a.createElement(B_,{show:this.state.is_show_edit_module_modal,module:this.state.active_module,active_chapter_id:this.state.active_chapter_id,onHandleSubmitEditModule:this.props.onHandleSubmitEditModule,toggleShowModal:function(t){return Object(p.W)(e,"is_show_edit_module_modal",!1)}}),s.a.createElement(W_,{show:this.state.is_show_delete_module_modal,module:this.state.active_module,active_chapter_id:this.state.active_chapter_id,onHandleDeleteModule:this.props.onHandleDeleteModule,toggleShowModal:function(t){return Object(p.W)(e,"is_show_delete_module_modal",!1)}})),void 0!==this.state.selected_chapter_to_move&&s.a.createElement(H_,{chapter:this.state.selected_chapter_to_move,show:this.state.is_show_copy_module_modal,module:this.state.active_module,onHandleCopyModule:this.props.onHandleCopyModule,toggleShowModal:function(t){return Object(p.W)(e,"is_show_copy_module_modal",!1)}}))}}]),a}(n.Component),G_=a(44),V_=a.n(G_),q_=a(63),Y_=a(351),Q_=(a(1252),a(1253),a(97)),$_=a.n(Q_);$_.a.add("plugin","alignment",{translations:{en:{align:"Align","align-left":"Align Left","align-center":"Align Center","align-right":"Align Right","align-justify":"Align Justify"}},init:function(e){this.app=e,this.opts=e.opts,this.lang=e.lang,this.block=e.block,this.toolbar=e.toolbar},start:function(){var e={};e.left={title:this.lang.get("align-left"),api:"plugin.alignment.set",args:"left"},e.center={title:this.lang.get("align-center"),api:"plugin.alignment.set",args:"center"},e.right={title:this.lang.get("align-right"),api:"plugin.alignment.set",args:"right"},e.justify={title:this.lang.get("align-justify"),api:"plugin.alignment.set",args:"justify"};var t=this.toolbar.addButton("alignment",{title:this.lang.get("align")});t.setIcon('<i class="re-icon-alignment"></i>'),t.setDropdown(e)},set:function(e){if("left"===e&&"ltr"===this.opts.direction)return this._remove();var t={style:{"text-align":e}};this.block.toggle(t)},_remove:function(){this.block.remove({style:"text-align"})}}),function(e){e.add("plugin","video",{translations:{en:{video:"Video","video-html-code":"Video Embed Code or Youtube/Vimeo Link"}},modals:{video:'<form action="">                     <div class="form-item">                         <label for="modal-video-input">## video-html-code ##</label>                         <textarea id="modal-video-input" name="video" style="height: 160px;"></textarea>                     </div>                 </form>'},init:function(e){this.app=e,this.lang=e.lang,this.opts=e.opts,this.toolbar=e.toolbar,this.component=e.component,this.insertion=e.insertion,this.inspector=e.inspector},onmodal:{video:{opened:function(e,t){t.getField("video").focus()},insert:function(e,t){var a=t.getData();this._insert(a)}}},oncontextbar:function(e,t){var a=this.inspector.parse(e.target);if(a.isComponentType("video")){var n=a.getComponent(),s={remove:{title:this.lang.get("delete"),api:"plugin.video.remove",args:n}};t.set(e,n,s,"bottom")}},start:function(){var e={title:this.lang.get("video"),api:"plugin.video.open"};this.toolbar.addButtonAfter("image","video",e).setIcon('<i class="re-icon-video"></i>')},open:function(){var e={title:this.lang.get("video"),width:"600px",name:"video",handle:"insert",commands:{insert:{title:this.lang.get("insert")},cancel:{title:this.lang.get("cancel")}}};this.app.api("module.modal.build",e)},remove:function(e){this.component.remove(e)},_insert:function(e){if(this.app.api("module.modal.close"),""!==e.video.trim()&&(e.video=this._matchData(e.video),this._isVideoIframe(e.video))){var t=this.component.create("video",e.video);this.insertion.insertHtml(t)}},_isVideoIframe:function(e){return null!==e.match(/<iframe|<video/gi)},_matchData:function(e){var t='<iframe style="width: 500px; height: 281px;" src="',a='" frameborder="0" allowfullscreen></iframe>';if(this._isVideoIframe(e)){var n=["iframe","video","source"];e=(e=e.replace(/<p(.*?[^>]?)>([\w\W]*?)<\/p>/gi,"")).replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(function(e,t){return-1===n.indexOf(t.toLowerCase())?"":e}))}else e.match(this.opts.regex.youtube)?e=e.replace(this.opts.regex.youtube,t+"//www.youtube.com/embed/$1"+a):e.match(this.opts.regex.vimeo)&&(e=e.replace(this.opts.regex.vimeo,t+"//player.vimeo.com/video/$2"+a));return e}})}($_.a),function(e){e.add("plugin","filemanager",{translations:{en:{choose:"Choose"}},init:function(e){this.app=e,this.lang=e.lang,this.opts=e.opts},onmodal:{file:{open:function(e,t){this.opts.fileManagerJson&&this._load(e)}}},_load:function(t){var a=t.getBody();this.$box=e.dom("<div>"),this.$box.attr("data-title",this.lang.get("choose")),this.$box.addClass("redactor-modal-tab"),this.$box.hide(),this.$box.css({overflow:"auto",height:"300px","line-height":1}),a.append(this.$box),e.ajax.get({url:this.opts.fileManagerJson,success:this._parse.bind(this)})},_parse:function(t){var a=e.dom('<ul id="redactor-filemanager-list">');for(var n in t){var s=t[n];if("object"===typeof s){var r=e.dom("<li>"),o=e.dom("<a>");o.attr("href","#"),o.addClass("redactor-file-manager-link"),o.attr("data-params",encodeURI(JSON.stringify(s))),o.text(s.title||s.name),o.on("click",this._insert.bind(this));var i=e.dom("<span>");i.addClass("r-file-name"),i.text(s.name),o.append(i);var c=e.dom("<span>");c.addClass("r-file-size"),c.text("("+s.size+")"),o.append(c),r.append(o),a.append(r)}}this.$box.append(a)},_insert:function(t){t.preventDefault();var a=e.dom(t.target).closest(".redactor-file-manager-link"),n=JSON.parse(decodeURI(a.attr("data-params")));this.app.api("module.file.insert",{file:n})}})}($_.a),function(e){e.add("plugin","table",{translations:{en:{table:"Table","insert-table":"Insert table","insert-row-above":"Insert row above","insert-row-below":"Insert row below","insert-column-left":"Insert column left","insert-column-right":"Insert column right","add-head":"Add head","delete-head":"Delete head","delete-column":"Delete column","delete-row":"Delete row","delete-table":"Delete table"}},init:function(e){this.app=e,this.lang=e.lang,this.opts=e.opts,this.caret=e.caret,this.editor=e.editor,this.toolbar=e.toolbar,this.component=e.component,this.inspector=e.inspector,this.insertion=e.insertion,this.selection=e.selection},ondropdown:{table:{observe:function(e){this._observeDropdown(e)}}},onbottomclick:function(){this.insertion.insertToEnd(this.editor.getLastNode(),"table")},start:function(){var e={observe:"table","insert-table":{title:this.lang.get("insert-table"),api:"plugin.table.insert"},"insert-row-above":{title:this.lang.get("insert-row-above"),classname:"redactor-table-item-observable",api:"plugin.table.addRowAbove"},"insert-row-below":{title:this.lang.get("insert-row-below"),classname:"redactor-table-item-observable",api:"plugin.table.addRowBelow"},"insert-column-left":{title:this.lang.get("insert-column-left"),classname:"redactor-table-item-observable",api:"plugin.table.addColumnLeft"},"insert-column-right":{title:this.lang.get("insert-column-right"),classname:"redactor-table-item-observable",api:"plugin.table.addColumnRight"},"add-head":{title:this.lang.get("add-head"),classname:"redactor-table-item-observable",api:"plugin.table.addHead"},"delete-head":{title:this.lang.get("delete-head"),classname:"redactor-table-item-observable",api:"plugin.table.deleteHead"},"delete-column":{title:this.lang.get("delete-column"),classname:"redactor-table-item-observable",api:"plugin.table.deleteColumn"},"delete-row":{title:this.lang.get("delete-row"),classname:"redactor-table-item-observable",api:"plugin.table.deleteRow"},"delete-table":{title:this.lang.get("delete-table"),classname:"redactor-table-item-observable",api:"plugin.table.deleteTable"}},t={title:this.lang.get("table")},a=this.toolbar.addButtonBefore("link","table",t);a.setIcon('<i class="re-icon-table"></i>'),a.setDropdown(e)},insert:function(){for(var e=this.component.create("table"),t=0;t<2;t++)e.addRow(3);e=this.insertion.insertHtml(e),this.caret.setStart(e)},addRowAbove:function(){var e=this._getComponent();if(e){var t=this.selection.getCurrent(),a=e.addRowTo(t,"before");this.caret.setStart(a)}},addRowBelow:function(){var e=this._getComponent();if(e){var t=this.selection.getCurrent(),a=e.addRowTo(t,"after");this.caret.setStart(a)}},addColumnLeft:function(){var e=this._getComponent();if(e){var t=this.selection.getCurrent();this.selection.save(),e.addColumnTo(t,"left"),this.selection.restore()}},addColumnRight:function(){var e=this._getComponent();if(e){var t=this.selection.getCurrent();this.selection.save(),e.addColumnTo(t,"right"),this.selection.restore()}},addHead:function(){var e=this._getComponent();e&&(this.selection.save(),e.addHead(),this.selection.restore())},deleteHead:function(){var t=this._getComponent();if(t){var a=this.selection.getCurrent();0!==e.dom(a).closest("thead").length?(t.removeHead(),this.caret.setStart(t)):(this.selection.save(),t.removeHead(),this.selection.restore())}},deleteColumn:function(){var t=this._getComponent();if(t){var a=this.selection.getCurrent(),n=e.dom(a).closest("td, th"),s=n.nextElement().get(),r=n.prevElement().get();t.removeColumn(a),s?this.caret.setStart(s):r?this.caret.setEnd(r):this.deleteTable()}},deleteRow:function(){var t=this._getComponent();if(t){var a=this.selection.getCurrent(),n=e.dom(a).closest("tr"),s=n.nextElement().get(),r=n.prevElement().get();t.removeRow(a),s?this.caret.setStart(s):r?this.caret.setEnd(r):this.deleteTable()}},deleteTable:function(){var e=this._getTable();e&&this.component.remove(e)},_getTable:function(){var e=this.selection.getCurrent(),t=this.inspector.parse(e);if(t.isTable())return t.getTable()},_getComponent:function(){var e=this.selection.getCurrent(),t=this.inspector.parse(e);if(t.isTable()){var a=t.getTable();return this.component.create("table",a)}},_observeDropdown:function(e){var t=this._getTable(),a=e.getItemsByClass("redactor-table-item-observable"),n=e.getItem("insert-table");t?(this._observeItems(a,"enable"),n.disable()):(this._observeItems(a,"disable"),n.enable())},_observeItems:function(e,t){for(var a=0;a<e.length;a++)e[a][t]()}})}($_.a),function(e){e.add("class","table.component",{mixins:["dom","component"],init:function(e,t){return this.app=e,t&&void 0!==t.cmnt?t:this._init(t)},addHead:function(){this.removeHead();var t=this.$element.find("tr").first().children("td, th").length,a=e.dom("<thead>"),n=this._buildRow(t,"<th>");a.append(n),this.$element.prepend(a)},addRow:function(e){var t=this._buildRow(e);return this.$element.append(t),t},addRowTo:function(e,t){return this._addRowTo(e,t)},addColumnTo:function(t,a){var n=e.dom(t),s=n.closest("tr"),r=n.closest("td, th"),o=0;s.find("td, th").each((function(e,t){e===r.get()&&(o=t)})),this.$element.find("tr").each((function(t){var n=e.dom(t).find("td, th").get(o),s=e.dom(n),r=s.clone();r.html('<div data-redactor-tag="tbr"></div>'),"right"===a?s.after(r):s.before(r)}))},removeHead:function(){var e=this.$element.find("thead");0!==e.length&&e.remove()},removeRow:function(t){e.dom(t).closest("tr").remove()},removeColumn:function(t){var a=e.dom(t),n=a.closest("tr"),s=a.closest("td, th"),r=0;n.find("td, th").each((function(e,t){e===s.get()&&(r=t)})),this.$element.find("tr").each((function(t){var a=e.dom(t).find("td, th").get(r);e.dom(a).remove()}))},_init:function(t){var a,n;if("undefined"!==typeof t){var s=e.dom(t),r=s.get(),o=s.closest("figure");0!==o.length?(a=o,n=o.find("table").get()):"TABLE"===r.tagName&&(n=r)}this._buildWrapper(a),this._buildElement(n),this._initWrapper()},_addRowTo:function(t,a){var n=e.dom(t).closest("tr");if(0!==n.length){var s=n.children("td, th").length,r=this._buildRow(s);return n[a](r),r}},_buildRow:function(t,a){a=a||"<td>";for(var n=e.dom("<tr>"),s=0;s<t;s++){var r=e.dom(a);r.attr("contenteditable",!0),r.html('<div data-redactor-tag="tbr"></div>'),n.append(r)}return n},_buildElement:function(t){t?this.$element=e.dom(t):(this.$element=e.dom("<table>"),this.append(this.$element))},_buildWrapper:function(e){e=e||"<figure>",this.parse(e)},_initWrapper:function(){this.addClass("redactor-component"),this.attr({"data-redactor-type":"table",tabindex:"-1",contenteditable:!1}),this.app.detector.isIe()&&this.removeAttr("contenteditable")}})}($_.a);var z_=a(83),J_=(a(1254),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){return Object(ce.a)(this,a),t.call(this,e)}return Object(_e.a)(a,[{key:"render",value:function(){var e=this.props,t=e.show,a=e.toggleShowModal,n=e.onHandleSelectQuestionAnswer,r=e.question,o=e.choice;return s.a.createElement(De.a,{show:t,onHide:function(){return a(!1)},centered:!0,id:"change_right_answer_modal"},s.a.createElement(De.a.Header,null,s.a.createElement(De.a.Title,null,"Change the Right Answer"),s.a.createElement("button",{onClick:function(e){return a(!1)}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/admin/edit_course/close_icon.png",alt:"Close Icon"}))),s.a.createElement(De.a.Body,null,s.a.createElement("p",null,"Are you sure you want to change the right answer?")),s.a.createElement(De.a.Footer,null,s.a.createElement("button",{className:"btn btn-default",onClick:function(e){return a(!1)}},"Cancel "),s.a.createElement("button",{className:"btn btn-primary",onClick:function(){n(r,o),a(!1)}},"Confirm")))}}]),a}(n.Component)),X_=(a(1255),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).handleSubmitCreateWriteFunctionQuestion=function(e){e.preventDefault(),""!==n.state.dc_editor_link&&(n.props.onHandleAddNewQuestion(2,n.state.dc_editor_link),n.props.toggleShowModal(!1))},n.hideModal=function(){n.setState({dc_editor_link:""}),n.props.toggleShowModal(!1)},n.state={dc_editor_link:""},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.show,n=t.toggleShowModal;return s.a.createElement(De.a,{show:a,onHide:function(){return e.hideModal()},centered:!0,id:"write_function_modal"},s.a.createElement(De.a.Header,null,s.a.createElement(De.a.Title,null,"Adding a \u201cWrite a Function\u201d Question"),s.a.createElement("button",{onClick:function(e){return n(!1)}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/close_icon.png",alt:"Close Icon"}))),s.a.createElement(De.a.Body,null,s.a.createElement("form",{action:"",onSubmit:function(t){return e.handleSubmitCreateWriteFunctionQuestion(t)}},s.a.createElement("div",{id:"write_function_editor_container"},s.a.createElement("p",null,"Paste Data Compass iFrame Here"),s.a.createElement("textarea",{onChange:function(t){return Object(p.C)(t,e)},className:"form-control",name:"dc_editor_link",value:this.state.dc_editor_link})),s.a.createElement("div",{className:"btn_container"},s.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Add")))))}}]),a}(n.Component)),Z_=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=n.props,t=e.active_module,a=e.onHandleEditModuleDescription,s=e.track_id,r=e.chapter_id;$_()("#content",{buttons:["format","bold","italic","underline","lists","alignment","image","video","file","table","undo","redo"],plugins:["alignment","video","table"],imageUpload:function(){var e=Object(q_.a)(V_.a.mark((function e(a,n,o,i){return V_.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z_.a.uploadModuleFiles({track_id:s,chapter_id:r,chapter_module_id:t.chapter_module_id,files:n},i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n,s){return e.apply(this,arguments)}}(),fileUpload:function(){var e=Object(q_.a)(V_.a.mark((function e(a,n,o,i){return V_.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z_.a.uploadModuleFiles({track_id:s,chapter_id:r,chapter_module_id:t.chapter_module_id,files:n},i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n,s){return e.apply(this,arguments)}}(),styles:!0,callbacks:{started:function(){this.insertion.insertHtml(t.content.description)},changed:function(e){a(e)}}})},n.handleInputChange=function(e){n.setState({choice_input:e.target.value})},n.handleCreateQuestionChoice=function(e,t){e.preventDefault(),""!==n.state.choice_input&&(e.target.reset(),n.props.onHandleCreateQuestionChoice(t,n.state.choice_input),n.setState({choice_input:""}))},n.handleSelectQuestionAnswer=function(e,t){0===e.choices.filter((function(e){return!0===e.is_answer})).length?n.props.onHandleSelectQuestionAnswer(e,t):n.setState({selected_question:e,selected_choice:t},(function(){Object(p.W)(Object(Se.a)(n),"is_show_change_right_answer_modal",!0)}))},n.gotoPreview=function(e){window.location.href=e},n.state={choice_input:"",is_show_change_right_answer_modal:!1,is_show_add_write_function_modal:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.active_module,n=t.track_id,r=t.chapter_id,o=t.onHandleSelectQuestionAnswer,i=t.onHandleChangeQuestionName,c=t.onHandleSubmitSaveModule,_=t.onHandleChangeChoiceName,l=t.onHandleDeleteQuestion,d=t.onHandleDeleteQuestionChoice,u=t.onHandleSortQuestion,m=t.onHandleSortQuestionChoice,h=t.onHandleAddNewQuestion,E=t.onHandleChangeCodeValue;return s.a.createElement("div",null,s.a.createElement("div",{id:"module_controls_container"},s.a.createElement("span",{id:"module_updated_at"},"Updated ",a.last_updated_at),s.a.createElement("form",{onSubmit:function(e){return c(e)}},s.a.createElement(pe.b,{key:"".concat((new Date).getTime()),onClick:function(){return e.gotoPreview("/m/".concat(n,"/").concat(r,"/").concat(a.chapter_module_id))},to:"/m/".concat(n,"/").concat(r,"/").concat(a.chapter_module_id)},"Preview"),s.a.createElement("button",{type:"submit"},"Save Changes"))),s.a.createElement("div",{id:"module_description_container"},s.a.createElement("div",{id:"content"})),s.a.createElement("div",{id:"questions_container",className:"card"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h6",null,"Questions(",void 0!==a.content.data.questions?a.content.data.questions.length:0,")"),s.a.createElement(ni.a,null,s.a.createElement(ni.a.Toggle,{id:"add_new_question_btn"},"New Question ",s.a.createElement(Te.a,{icon:["fas","plus"]})),s.a.createElement(ni.a.Menu,null,s.a.createElement(ni.a.Item,{onClick:function(){return h(0)}},"Multi-Choice Question"),s.a.createElement(ni.a.Item,{onClick:function(){return h(1)}},"Predict Outcome"),s.a.createElement(ni.a.Item,{onClick:function(){return Object(p.W)(e,"is_show_add_write_function_modal",!0)}},"Write a function")))),s.a.createElement("div",{className:"card-body"},s.a.createElement(Y_.ReactSortable,{tag:"ul",className:"list-unstyled",id:"questions_list",handle:".question_drag_handle",animation:200,delayOnTouchStart:!0,delay:2,list:a.content.data.questions,setList:function(e){return u(e)}},a.content.data.questions.map((function(t){return s.a.createElement("li",{key:t.id},s.a.createElement("div",null,s.a.createElement("span",{className:"drag_handle question_drag_handle"}),s.a.createElement("input",{type:"text",id:"textbox_question_".concat(t.id),onChange:function(e){return i(e,t)},value:t.question}),s.a.createElement("button",{type:"button",className:"delete_btn",onClick:function(){return l(t)}})),s.a.createElement("div",{className:"code_editor_container"},1===t.type&&s.a.createElement(_a.a,{value:t.code,onValueChange:function(e){return E(t,e)},highlight:function(e){return t=e,a=la.languages.js,Object(la.highlight)(t,a).split("\n").map((function(e,t){return"<span class='editorLineNumber'>".concat(t+1,"</span>").concat(e)})).join("\n");var t,a},padding:10,className:"editor",style:{outline:0}}),2===t.type&&s.a.createElement("div",{className:"dc_iframe",dangerouslySetInnerHTML:{__html:t.dc_editor_link}})),s.a.createElement(Y_.ReactSortable,{tag:"ul",className:"list-unstyled options_list",handle:".choice_drag_handle",animation:200,delayOnTouchStart:!0,delay:2,list:t.choices,setList:function(e){return m(t,e)}},t.choices.map((function(a){return s.a.createElement("li",{key:a.id},s.a.createElement("span",{className:"drag_handle choice_drag_handle"}),s.a.createElement("input",{type:"radio",checked:void 0!==a.is_answer&&!0===a.is_answer,name:"choice_".concat(t.id),className:"hidden",onChange:function(){return e.handleSelectQuestionAnswer(t,a)},id:"choice_".concat(t.id,"_").concat(a.id)}),s.a.createElement("label",{htmlFor:"choice_".concat(t.id,"_").concat(a.id)},s.a.createElement("span",{className:"fill"})),s.a.createElement("input",{type:"text",onChange:function(e){return _(e,t,a)},value:a.content}),s.a.createElement("button",{type:"button",className:"delete_btn",onClick:function(){return d(t,a)}}))}))),2!==t.type&&s.a.createElement("form",{onSubmit:function(a){return e.handleCreateQuestionChoice(a,t)}},s.a.createElement("input",{type:"text",placeholder:"Type something",onChange:function(t){return e.handleInputChange(t)}}),s.a.createElement("button",{type:"submit"},"Add Another Choice")))}))))),s.a.createElement(J_,{show:this.state.is_show_change_right_answer_modal,choice:this.state.selected_choice,question:this.state.selected_question,onHandleSelectQuestionAnswer:o,toggleShowModal:function(){return Object(p.W)(e,"is_show_change_right_answer_modal",!1)}}),s.a.createElement(X_,{show:this.state.is_show_add_write_function_modal,onHandleAddNewQuestion:h,toggleShowModal:function(){return Object(p.W)(e,"is_show_add_write_function_modal",!1)}}))}}]),a}(n.Component),el=(a(1256),a(293),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){void 0!==n.props&&(n.props.fetchAdminCoursePageData({track_id:n.props.match.params.track_id,chapter_id:n.props.match.params.chapter_id,chapter_module_id:n.props.match.params.module_id}),window.scrollTo(0,0))},n.componentDidUpdate=function(e){void 0!==n.props&&e.match.params.module_id!==n.props.match.params.module_id&&n.setActiveModuleContent()},n.setActiveModuleContent=function(){var e=Number(n.props.match.params.chapter_id),t=Number(n.props.match.params.module_id),a=Object(f.a)(n.state.track.chapters),s=a.map((function(e){return e.chapter_id})).indexOf(e),r=a[s].chapter_modules.filter((function(e){return e.chapter_module_id===t}))[0];n.setState({active_module:r})},n.handleCreateQuestionChoice=function(e,t){var a=((n.props.admin||{}).courses||{}).track,s=a.active_module.content.data.questions.filter((function(t){return t.id===e.id}))[0],r=0;s.choices.length>0&&(s.choices.sort((function(e,t){return t.id-e.id})),r=s.choices[0].id+1),s.choices.push({id:r,content:t,chosen:!1,selected:!1}),s.choices_order=s.choices.map((function(e){return e.id})),n.props.updateQuizOrders({track:a})},n.handleSelectQuestionAnswer=function(e,t){var a=((n.props.admin||{}).courses||{}).track;a.active_module.content.data.questions.filter((function(t){return t.id===e.id}))[0].choices.map((function(e){e.is_answer=e.id===t.id})),n.props.updateQuizOrders({track:a})},n.handleChangeQuestionName=function(e,t){var a=((n.props.admin||{}).courses||{}).track;a.active_module.content.data.questions.filter((function(e){return e.id===t.id}))[0].question=e.target.value,n.props.updateQuizOrders({track:a})},n.handleChangeChoiceName=function(e,t,a){var s=((n.props.admin||{}).courses||{}).track;s.active_module.content.data.questions.filter((function(e){return e.id===t.id}))[0].choices.filter((function(e){return e.id===a.id}))[0].content=e.target.value,n.props.updateQuizOrders({track:s})},n.handleDeleteQuestion=function(e){var t=((n.props.admin||{}).courses||{}).track;t.active_module.content.data.questions=t.active_module.content.data.questions.filter((function(t){return t.id!==e.id})),t.active_module.content.data.questions_order=t.active_module.content.data.questions.map((function(e){return e.id})),n.props.updateQuizOrders({track:t})},n.handleDeleteQuestionChoice=function(e,t){var a=((n.props.admin||{}).courses||{}).track,s=a.active_module.content.data.questions.filter((function(t){return t.id===e.id}))[0];s.choices=s.choices.filter((function(e){return e.id!==t.id})),s.choices_order=s.choices.map((function(e){return e.id})),n.props.updateQuizOrders({track:a})},n.handleSortQuestion=function(e){var t=((n.props.admin||{}).courses||{}).track;t.active_module.content.data.questions=e,t.active_module.content.data.questions_order=e.map((function(e){return e.id})),n.props.updateQuizOrders({track:t})},n.handleSortQuestionChoice=function(e,t){var a=((n.props.admin||{}).courses||{}).track,s=a.active_module.content.data.questions.filter((function(t){return t.id===e.id}))[0];s.choices=t,s.choices_order=t.map((function(e){return e.id})),n.props.updateQuizOrders({track:a})},n.handleAddNewQuestion=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=n.props.admin||{},s=a.courses,r=s||{},o=r.track,i=0;if(o.active_module.content.data.questions.length>0){for(var c=0,_=0;_<o.active_module.content.data.questions.length;_++){var l=o.active_module.content.data.questions[_];c=l.id>c?l.id:c}i=c+1}var d={id:i,question:"",choices:[],type:e,chosen:!1,selected:!1};1===e?d.code="\n\n\n":2===e&&(d.dc_editor_link=t),o.active_module.content.data.questions.push(d),o.active_module.content.data.questions_order=o.active_module.content.data.questions.map((function(e){return e.id})),n.props.updateQuizOrders({track:o}),setTimeout((function(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"}),document.getElementById("textbox_question_".concat(i)).focus()}),0)},n.handleChangeCodeValue=function(e,t){var a=((n.props.admin||{}).courses||{}).track;a.active_module.content.data.questions.filter((function(t){return t.id===e.id}))[0].code=t,n.props.updateQuizOrders({track:a})},n.handleEditModuleDescription=function(e){var t=((n.props.admin||{}).courses||{}).track;t.active_module.content.description=e,n.props.updateQuizOrders({track:t})},n.handleSubmitSaveModule=function(e){e.preventDefault(),n.props.updateChapterModule({track_id:n.props.match.params.track_id,chapter_id:n.props.match.params.chapter_id,chapter_module_id:n.props.match.params.module_id,selected_module:n.props.admin.courses.track.active_module})},n.handleDeleteModule=function(e,t,a){e.preventDefault();var s=((n.props.admin||{}).courses||{}).track;if(void 0!==s&&void 0!==s.active_chapter){var r="/courses",o=s.active_chapter,i=o.chapter_module_ids_order.indexOf(t);if(i>-1)if((i=i+1<=o.chapter_module_ids_order.length?i-1:i+1)<0&&s.chapters.length>1){for(var c=0;c<s.chapters.length;c++)if(s.chapters[c].chapter_id===a)return void(o=c+1<s.chapters.length?s.chapters[c+1]:s.chapters[c-1]);void 0!==o&&o.chapter_module_ids_order.length>0&&(r="/m/".concat(s.track_id,"/").concat(o.chapter_id,"/").concat(o.chapter_module_ids_order[0]),s.active_chapter.chapter_modules[0].module_type===u.nb&&(r=r.replace("/m","/modules/edit")))}else i>=0&&(r="/m/".concat(s.track_id,"/").concat(o.chapter_id,"/").concat(o.chapter_module_ids_order[i]),s.active_chapter.chapter_modules[i].module_type===u.nb&&(r=r.replace("/m","/modules/edit")));n.props.removeChapterModule({track_id:n.props.match.params.track_id,chapter_id:n.props.match.params.chapter_id,chapter_module_id:t,redirect_url:r})}},n.handleSubmitEditModule=function(e,t,a,s){e.preventDefault(),void 0!==t&&void 0!==a&&n.props.updateChapterModule({track_id:n.props.match.params.track_id,chapter_id:a,chapter_module_id:t,selected_module:s})},n.handleCopyModule=function(e,t,a){e.preventDefault();var s=((n.props.admin||{}).courses||{}).track,r=s.chapters.filter((function(e){return e.chapter_id===a}))[0];n.props.duplicateChapterModule({track_id:s.track_id,chapter_id:s.active_chapter.chapter_id,new_chapter_id:r.chapter_id,chapter_module_id:t.chapter_module_id})},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this.props.admin||{},t=e.courses,a=e.profile.general,n=(t||{}).track;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"admin_header_container"},s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("li",null,s.a.createElement(pe.b,null,n&&n.track_title||"Track Title")),n.track_course_alias&&s.a.createElement("li",null,s.a.createElement(pe.b,null,n.track_course_alias)),s.a.createElement("li",null,s.a.createElement(pe.b,null,n.active_chapter&&n.active_chapter.chapter_title||"Chapter Title")),s.a.createElement("li",null,s.a.createElement(pe.b,null,n.active_module&&n.active_module.content.title||"Quiz Module"))),s.a.createElement("div",{id:"profile_container"},s.a.createElement("img",{src:a?a.image_url:"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:"Profile placeholder"}),s.a.createElement("div",null,"Hello, ",s.a.createElement("span",null,a?a.first_name:""," ",a?a.last_name.slice(0,1):"")))),s.a.createElement("div",{id:"course_container",className:"admin_container"},s.a.createElement(K_,{track:n,onHandleDeleteModule:this.handleDeleteModule,onHandleSubmitEditModule:this.handleSubmitEditModule,onHandleCopyModule:this.handleCopyModule,pathParams:this.props.match.params}),s.a.createElement("div",{className:"right_container"},void 0!==n.active_module&&s.a.createElement(Z_,{active_module:n.active_module,track_id:this.props.match.params.track_id,chapter_id:this.props.match.params.chapter_id,onHandleSelectQuestionAnswer:this.handleSelectQuestionAnswer,onHandleCreateQuestionChoice:this.handleCreateQuestionChoice,onHandleChangeQuestionName:this.handleChangeQuestionName,onHandleChangeChoiceName:this.handleChangeChoiceName,onHandleDeleteQuestion:this.handleDeleteQuestion,onHandleDeleteQuestionChoice:this.handleDeleteQuestionChoice,onHandleSortQuestion:this.handleSortQuestion,onHandleSortQuestionChoice:this.handleSortQuestionChoice,onHandleAddNewQuestion:this.handleAddNewQuestion,onHandleChangeCodeValue:this.handleChangeCodeValue,onHandleEditModuleDescription:this.handleEditModuleDescription,onHandleSubmitSaveModule:this.handleSubmitSaveModule}))))}}]),a}(n.Component)),tl=Qi.a.fetchAdminCoursePageData,al=Qi.a.updateChapterModule,nl=Qi.a.updateQuizOrders,sl=Qi.a.removeChapterModule,rl=Qi.a.duplicateChapterModule,ol=Object(p.J)("admin",{fetchAdminCoursePageData:tl,updateChapterModule:al,updateQuizOrders:nl,removeChapterModule:sl,duplicateChapterModule:rl}),il=ol.mapStateToProps,cl=ol.mapDispatchToProps,_l=Object(ue.b)(il,cl)(el),ll=a(125),dl=(a(1257),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).customContentRenderer=function(t){t.props;var a=t.state,n=e.props.dropdown;return s.a.createElement(s.a.Fragment,null,n.selected.length?s.a.createElement(va.a,{placement:"top",overlay:s.a.createElement(Sa.a,{id:"stack_schedule_tooltip"},n.selected[0].label)},s.a.createElement("input",{type:"text",onClick:function(e){e.target.select(),document.execCommand("copy")},value:n.selected[0].label})):"Select a course schedule",a.values.length<=0&&s.a.createElement(Te.a,{icon:["fas","caret-down"]}))},e.customClearRenderer=function(e){e.props;var t=e.state;e.methods;return s.a.createElement(s.a.Fragment,null,t.values.length>0&&s.a.createElement(Te.a,{icon:["fas","caret-down"]}))},e.customDropdownRenderer=function(t){var a=t.props,n=t.state,r=t.methods,o=e.props.offered_stack_schedules.filter((function(e){return(e.name.toLowerCase()+" ("+e.date.toLowerCase()+")").includes(n.search.toLowerCase())}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"dropdown_search_container"},s.a.createElement("input",{type:"text",value:n.search,onChange:r.setSearch,placeholder:"Search Course"})),s.a.createElement("div",{className:"dropdown_menu"},o.length>0?o.map((function(e){return s.a.createElement("div",{className:"dropdown_item",disabled:e.disabled,key:e[a.valueField],onClick:e.disabled?null:function(){return r.addItem(e)}},s.a.createElement("input",{type:"checkbox",onChange:function(){return e.disabled?void 0:r.addItem(e)},checked:-1!==n.values.indexOf(e)}),s.a.createElement("span",null,e[a.labelField]))})):s.a.createElement("div",{className:"no_results_found"},"No results found.")))},e}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.dropdown,n=t.user_id,r=t.applicant_id,o=t.schedule_index;return s.a.createElement(es.a,{className:"is_normal_select ".concat(a.selected.length>0&&"has_value"),placeholder:a.name,dropdownHandle:!1,clearable:!0,contentRenderer:this.customContentRenderer,clearRenderer:this.customClearRenderer,dropdownRenderer:this.customDropdownRenderer,onChange:function(t){return e.props.onUpdateFilterDropdownSelectedValue(t,a,n,r,o)},options:a.options})}}]),a}(n.Component)),ul=a(71),pl=new function e(){Object(ce.a)(this,e),this.getStudentRosteringFilters=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(a){a(Object(p.A)({type:u.pb.ADMIN_GET_STUDENT_ROSTER_FILTERS_REQUEST},{})),a(Object(p.A)({type:u.o.FETCH_FILTER_OPTIONS_DATA_REQUEST},{})),ul.a.get_student_rostering_filters(e).then((function(n){a(Object(p.A)({type:u.pb.ADMIN_GET_STUDENT_ROSTER_FILTERS_SUCCESS},{filters:n})),a(Object(p.A)({type:u.o.FETCH_FILTER_OPTIONS_DATA_SUCCESS},{filter_data:n.result,workspace_id:e.is_switch_workspace?e.selected_workspace_id:n.workspace_id,admin_page:e.admin_page})),t&&t()}),(function(e){var t=Object(p.c)(e);a(Object(p.A)({type:u.pb.ADMIN_GET_STUDENT_ROSTER_FILTERS_FAILURE},{error:t}))}))}},this.updateRosteringFilterOptions=function(e){return function(t){t(Object(p.A)({type:u.pb.ADMIN_UPDATE_ROSTERING_FILTER_OPTIONS_REQUEST},{})),ul.a.update_rostering_filter_options(e).then((function(e){t(Object(p.A)({type:u.pb.ADMIN_UPDATE_ROSTERING_FILTER_OPTIONS_SUCCESS},{filters:e}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.pb.ADMIN_UPDATE_ROSTERING_FILTER_OPTIONS_FAILURE},{error:a}))}))}},this.getFilteredStudentRosteringData=function(e){return function(t){var a="export"===e.event;t(Object(p.A)({type:u.pb.ADMIN_GET_FILTERED_STUDENT_ROSTER_DATA_REQUEST,is_export:a},{})),ul.a.get_filtered_student_rostering_list_data(e).then((function(e){e&&!e.status&&window.location.href.indexOf("/survey_management")<0&&alert(e.error),t(Object(p.A)({type:u.pb.ADMIN_GET_FILTERED_STUDENT_ROSTER_DATA_SUCCESS},{student_list:e,is_export:a}))}),(function(e){var n=Object(p.c)(e);t(Object(p.A)({type:u.pb.ADMIN_GET_FILTERED_STUDENT_ROSTER_DATA_FAILURE},{error:n,is_export:a}))}))}},this.getNextStackOptionsList=function(e){return function(t){t(Object(p.A)({type:u.pb.ADMIN_GET_NEXT_STACK_OPTIONS_REQUEST},{})),ul.a.get_next_stack_options_list(e).then((function(e){t(Object(p.A)({type:u.pb.ADMIN_GET_NEXT_STACK_OPTIONS_SUCCESS},{next_stack_options:e}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.pb.ADMIN_GET_NEXT_STACK_OPTIONS_FAILURE},{error:a}))}))}},this.processSelectedStudentsNextStack=function(e){return function(t){t(Object(p.A)({type:u.pb.ADMIN_PROCESS_STUDENTS_NEXT_STACK_REQUEST},{})),ul.a.process_selected_students_next_stack(e).then((function(a){a.status||alert(a.error),t(Object(p.A)({type:u.pb.ADMIN_PROCESS_STUDENTS_NEXT_STACK_SUCCESS},{processed_students_next_stack:a,is_from_student_profile:e.is_from_student_profile}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.pb.ADMIN_PROCESS_STUDENTS_NEXT_STACK_FAILURE},{error:a}))}))}},this.getStudentProfileDetails=function(e){return function(t){t(Object(p.A)({type:u.pb.ADMIN_GET_STUDENT_PROFILE_DATA_REQUEST},{})),ul.a.get_student_profile_details(e).then((function(e){var a;!0===e.status?t(Object(p.A)({type:u.pb.ADMIN_GET_STUDENT_PROFILE_DATA_SUCCESS},{student_details:null===e||void 0===e?void 0:e.result,auto_login_url:null===e||void 0===e||null===(a=e.result)||void 0===a?void 0:a.auto_login_url})):(alert(e.error),t(Object(p.A)({type:u.pb.ADMIN_GET_STUDENT_PROFILE_DATA_FAILURE},{error:e.error})))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.pb.ADMIN_GET_STUDENT_PROFILE_DATA_FAILURE},{error:a}))}))}},this.unlockStudentNextStack=function(e){return function(t){t(Object(p.A)({type:u.pb.ADMIN_UNLOCK_STUDENT_NEXT_STACK_REQUEST},{})),ul.a.unlock_student_next_stack(e).then((function(e){e.status||alert(e.message),t(Object(p.A)({type:u.pb.ADMIN_UNLOCK_STUDENT_NEXT_STACK_SUCCESS},{unlock_stack_response:e}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.pb.ADMIN_UNLOCK_STUDENT_NEXT_STACK_FAILURE},{error:a}))}))}},this.updateStudentAPStatus=function(e){return function(t){t(Object(p.A)({type:u.pb.ADMIN_UPDATE_STUDENT_AP_STATUS_REQUEST},{})),ul.a.update_student_ap_status(e).then((function(e){e.status||alert(e.error),t(Object(p.A)({type:u.pb.ADMIN_UPDATE_STUDENT_AP_STATUS_SUCCESS},{update_ap_response:e}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.pb.ADMIN_UPDATE_STUDENT_AP_STATUS_FAILURE},{error:a}))}))}},this.deleteStudentStackSchedule=function(e){return function(t){t(Object(p.A)({type:u.pb.ADMIN_DELETE_STUDENT_STACK_SCHEDULE_REQUEST},{})),ul.a.delete_student_stack_schedule(e).then((function(e){!0===e.status?t(Object(p.A)({type:u.pb.ADMIN_DELETE_STUDENT_STACK_SCHEDULE_SUCCESS},{student_details:e.results})):t(Object(p.A)({type:u.pb.ADMIN_DELETE_STUDENT_STACK_SCHEDULE_FAILURE},{error:e.error}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.pb.ADMIN_DELETE_STUDENT_STACK_SCHEDULE_FAILURE},{error:a}))}))}},this.updateStudentStackSchedule=function(e){return function(t){t(Object(p.A)({type:u.pb.ADMIN_UPDATE_STUDENT_STACK_SCHEDULE_REQUEST},{})),ul.a.update_student_stack_schedule(e).then((function(e){!0===e.status&&(""!==e.message&&alert("ERROR ON UPDATING THE FOLLOWING COURSE SCHEDULES: \n"+e.message),t(Object(p.A)({type:u.pb.ADMIN_UPDATE_STUDENT_STACK_SCHEDULE_SUCCESS},{student_details:e.results})))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.pb.ADMIN_UPDATE_STUDENT_STACK_SCHEDULE_FAILURE},{error:a}))}))}},this.updateStudentRegion=function(e){return function(t){t(Object(p.A)({type:u.pb.ADMIN_UPDATE_STUDENT_REGION_REQUEST},{})),ul.a.update_student_region(e).then((function(e){e.status?t(Object(p.A)({type:u.pb.ADMIN_UPDATE_STUDENT_REGION_SUCCESS},{student_details:e.results})):t(Object(p.A)({type:u.pb.ADMIN_UPDATE_STUDENT_REGION_FAILURE},{error:e.error}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.pb.ADMIN_UPDATE_STUDENT_REGION_FAILURE},{error:a}))}))}},this.changePropsValue=function(e,t){return function(a){a(Object(p.A)({type:u.pb.CHANGE_PROPS_VALUE_REQUEST},{props_name:e,props_value:t}));var n=t.filter((function(e){return e.is_selected})),s=Object(A.a)(n,1)[0];s&&a(Object(p.A)({type:u.p.UPDATE_STUDENT_PROGRESS_FILTER_WORKSPACE_SUCCESS},{workspace_id:s.id}))}},this.fetchInstructorOptions=function(e){return function(t){t(Object(p.A)({type:u.pb.ADMIN_FETCH_INSTRUCTOR_OPTION_REQUEST},{})),ul.a.fetch_instructor_options(e).then((function(e){e.status?t(Object(p.A)({type:u.pb.ADMIN_FETCH_INSTRUCTOR_OPTION_SUCCESS},{instructor_options:e})):t(Object(p.A)({type:u.pb.ADMIN_FETCH_INSTRUCTOR_OPTION_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.pb.ADMIN_FETCH_INSTRUCTOR_OPTION_FAILURE},{error:a}))}))}}},ml=(a(1258),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n,s;return Object(ce.a)(this,a),(s=t.call(this,e)).showDeleteStackScheduleConfirmation=function(e,t,a){var n=e.nativeEvent.target.parentNode.offsetTop+24;s.setState({show_save_container:!1,delete_confirmation_position:n+"px",active_stack_schedule_index:t,is_show_delete_confirmation:!0,selected_cc_stack_schedule_id:a.value,selected_cc_student_stack_sched_id:a.cc_student_stack_sched_id,selected_crm_stack_schedule_id:a.crm_stack_schedule_id})},s.submitDeleteStackSchedule=function(e,t,a){return e.preventDefault(),s.props.deleteStudentStackSchedule({user_id:t,applicant_id:a,cc_stack_schedule_id:s.state.selected_cc_stack_schedule_id,cc_student_stack_sched_id:s.state.selected_cc_student_stack_sched_id,crm_stack_schedule_id:s.state.selected_crm_stack_schedule_id}),s.setState({is_show_delete_confirmation:!1}),!1},s.toggleShowDropdown=function(){var e=Object(d.a)({},s.state.dropdown);e.show=!s.state.dropdown.show,s.setState({dropdown:e})},s.searchStack=function(e){var t=Object(d.a)({},s.state.dropdown);t.search_input_value=e.target.value,s.setState({dropdown:t})},s.selectStack=function(e){var t=Object(d.a)({},s.state.dropdown),a=s.props.rostering.student_details.stack_schedules;if(a.length>0){var n=a[a.length-1];n.cc_stack_start_date&&n.cc_stack_end_date&&s.checkAssignStackCautionMessage(n.cc_stack_start_date,n.cc_stack_end_date,e.start_date,e.cc_stack_id,n.stack_id)}t.selected_value=e,s.setState({dropdown:t},(function(){s.toggleShowDropdown()}))},s.assignStackSchedule=function(e){var t=s.state.dropdown.selected_value;t&&s.props.processSelectedStudentsNextStack({cc_stack_id:t.cc_stack_id,stack_start_date:t.start_date,stack_end_date:t.end_date,selected_applicants_ids:[e],is_from_student_profile:!0,origin:"admin.student_profile_modal.set_stack_schedule"}),s.setState({is_show_add_stack_schedule_container:!1,show_save_container:!1,show_caution_message:!1})},s.submitUpdateStackSchedule=function(e){var t=s.props.student_data,a=t.id,n=t.applicant_id;e.preventDefault();var r=[];return Object.entries(s.state.to_be_added_stack_scheds).map((function(e){var t=Object(A.a)(e,2),a=(t[0],t[1]);r.push(a)})),s.props.updateStudentStackSchedule({user_id:a,applicant_id:n,add_stack_schedules:r}),s.setState({show_save_container:!1,selected_stack_schedules:[],to_be_added_stack_scheds:{}}),!1},s.handleUpdateFilterDropdownSelectedValue=function(e,t,a,n,r){var o=s.props.rostering.student_details.stack_schedules,i=e[0];t.cc_stack_start_date&&t.cc_stack_end_date&&s.checkAssignStackCautionMessage(t.cc_stack_start_date,t.cc_stack_end_date,i.start_date,i.cc_stack_id,t.stack_id),o.map((function(a,o){a.stack_schedule===t.stack_schedule&&o==r&&(s.state.to_be_added_stack_scheds[r]={cc_stack_id:i.cc_stack_id,is_from_student_profile:!0,to_update_stack_schedule:!0,selected_applicants_ids:[n],stack_start_date:i.start_date,stack_end_date:i.end_date,attempt_order:a.attempt_order,stack_schedule_index:r,delete_student_stack_sched:{cc_stack_schedule_id:a.cc_stack_schedule_id,cc_student_stack_sched_id:a.cc_student_stack_sched_id,crm_stack_schedule_id:a.crm_stack_schedule_id}},a.selected=[Object(d.a)({},e[0])],s.setState({show_save_container:!0}))}))},s.onHideModal=function(){s.props.toggleShowModal(!1),s.setState({show_save_container:!1,show_caution_message:!1,is_show_add_stack_schedule_container:!1,selected_stack_schedules:[],to_be_added_stack_scheds:{}})},s.checkAssignStackCautionMessage=function(e,t,a,n,r){var o=new Date(e),i=new Date(t),c=new Date(a),_=Math.round((i-o)/6048e5);s.setState({show_caution_message:n==r&&_>=8&&i>c})},s.state=(n={show_dropdown:!1,delete_confirmation_position:"0px",is_show_delete_confirmation:!1,active_stack_schedule_index:null,selected_cc_stack_schedule_id:null,selected_cc_student_stack_sched_id:null,selected_crm_stack_schedule_id:null,selected_stack_schedules:[],is_show_add_stack_schedule_container:!1,show_save_container:!1,is_show_students_list:!1,is_form_submitted:!1,to_be_added_stack_scheds:{}},Object(l.a)(n,"is_form_submitted",!1),Object(l.a)(n,"show_caution_message",!1),Object(l.a)(n,"dropdown",{show:!1,search_input_value:"",selected_value:void 0}),n),s}return Object(_e.a)(a,[{key:"render",value:function(){var e,t,a,n=this,r=void 0!==this.props.rostering.student_details&&void 0!==this.props.rostering.student_details.profile_details&&0!=Object.keys(this.props.rostering.student_details.profile_details).length?this.props.rostering.student_details.profile_details:this.props.student_data,o=r.id,i=r.applicant_id,c=r.name,_=r.img_link,l=r.email,d=r.is_veteran,m=r.program,h=r.campus,E=r.region,f=(r.core_acr,r.core_acr_bg,r.attendance_rate,r.att_bg,r.belts),g=this.state.dropdown,v=void 0!==this.props.rostering.student_details?this.props.rostering.student_details.stack_schedules:[],b=Object(p.y)(),S=!!b.status&&Object(p.i)(null===(e=b.user_details)||void 0===e||null===(t=e.general)||void 0===t?void 0:t.user_capabilities,"admin.student_profile_modal.set_stack_schedule");return s.a.createElement(De.a,{show:this.props.show,centered:!0,onHide:function(){return n.onHideModal()},id:"student_profile_modal"},""!=this.props.student_data&&s.a.createElement(De.a.Body,{className:this.state.show_dropdown?"active_dropdown":this.state.is_show_delete_confirmation?"show_delete_stack":""},!this.state.is_show_add_stack_schedule_container&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"left_content"},s.a.createElement("div",{id:"info_block",className:"block"},s.a.createElement("div",{className:"left_container"},s.a.createElement("img",{src:_||"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:"my profile picture"}),s.a.createElement("h6",null,c," ",d?s.a.createElement("span",{className:"is_veteran"}):""," "),s.a.createElement("p",null,l)),s.a.createElement("div",{className:"right_container"},s.a.createElement("a",{className:"button",href:null===(a=this.props.rostering)||void 0===a?void 0:a.student_login_url},s.a.createElement(Te.a,{icon:["fas","eye"]})," View in LP3"))),s.a.createElement("ul",{id:"belt_list",className:"block"},f&&f.map((function(e){return s.a.createElement("li",{key:e.id},s.a.createElement("span",{className:"belt black_belt ".concat(e.icon_class)}),s.a.createElement("span",null,e.name),s.a.createElement("span",null,"9.0(1)"))}))),s.a.createElement("ul",{id:"location_region_list",className:"block"},s.a.createElement("li",null,s.a.createElement("h6",null,s.a.createElement("span",{className:"program"})," Program"),s.a.createElement("h5",null,m)),s.a.createElement("li",null,s.a.createElement("h6",null,s.a.createElement("span",{className:"location"})," Location"),s.a.createElement("h5",null,h)),s.a.createElement("li",null,s.a.createElement("h6",null,s.a.createElement("span",{className:"region"})," Region"),s.a.createElement("h5",null,E))),s.a.createElement("ul",{id:"rating_list",className:"block"})),s.a.createElement("form",{id:"update_stack_schedule_form",onSubmit:function(e){return n.submitUpdateStackSchedule(e)},action:""},s.a.createElement("h5",null,"Course Schedules"),v.map((function(e,t){return s.a.createElement("div",{className:"".concat(e.is_disabled===u.s.YES_VALUE?"disabled_stack_schedule":""," block"),key:e.id},s.a.createElement("h6",null,e.name),e.selected.length!==u.s.NO_VALUE&&e.is_disabled===u.s.NO_VALUE&&S&&s.a.createElement("button",{type:"button",disabled:!S,className:"".concat(S?"":"disabled"," delete_stack_schedule_btn"),onClick:function(a){S&&n.showDeleteStackScheduleConfirmation(a,t,e.selected[0])}},s.a.createElement(Te.a,{icon:["fas","trash"]})),s.a.createElement(dl,{dropdown:e,is_disabled:!S&&!S,schedule_index:t,user_id:o,applicant_id:i,offered_stack_schedules:n.props.offered_stack_schedules,onUpdateFilterDropdownSelectedValue:n.handleUpdateFilterDropdownSelectedValue}))})),s.a.createElement("button",{id:"add_a_new_stack_btn",disabled:!S,className:"".concat(S?"":"disabled"," ").concat(this.state.show_save_container?"is_show_save_container":""),onClick:function(){return S&&n.setState({is_show_add_stack_schedule_container:!0,show_caution_message:!1,dropdown:{search_input_value:"",selected_value:void 0}})},type:"button"},s.a.createElement(Te.a,{icon:["fas","plus"]})," Add a New Course"),this.state.show_save_container&&S&&s.a.createElement("div",{className:"buttons_container"},s.a.createElement("button",{type:"button",onClick:function(){return n.onHideModal()}},"Cancel"),s.a.createElement("button",{type:"submit",disabled:!S,className:"".concat(S?"":"disabled")},"Save Changes"))),s.a.createElement("form",{id:"confirm_delete_stack_container",style:{top:"".concat(this.state.delete_confirmation_position)}},s.a.createElement("p",null,"By deleting this schedule, the system will no longer track any new progress made by student within the respective time range."),s.a.createElement("div",{className:"buttons_container"},s.a.createElement("button",{type:"button",onClick:function(){return n.setState({is_show_delete_confirmation:!1})}},"Cancel"),s.a.createElement("button",{type:"submit",disabled:!S,onClick:function(e){return n.submitDeleteStackSchedule(e,o,i)},id:"delete_stack_confirmation_btn"},"Yes, delete it"))),s.a.createElement("div",{onClick:function(){return n.setState({show_dropdown:!1,is_show_delete_confirmation:!1})},className:"backdrop"})),this.state.is_show_add_stack_schedule_container&&S&&s.a.createElement("div",{id:"assign_student_stack_container"},s.a.createElement("button",{type:"button",onClick:function(){return n.setState({is_show_add_stack_schedule_container:!1,show_caution_message:!1})}},s.a.createElement(Te.a,{icon:["fas","angle-left"]})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Add A New Stack"),s.a.createElement("div",{id:"assign_stack_dropdown"},s.a.createElement("div",{id:"assign_stack_dropdown_toggle"},g.show?s.a.createElement("input",{type:"text",name:"search_stack",placeholder:"Search Course Name",value:g.search_input_value,onChange:function(e){S&&n.searchStack(e)}}):s.a.createElement("button",{type:"button",onClick:function(){S&&n.toggleShowDropdown()}},void 0===g.selected_value?s.a.createElement("span",{className:"placeholder"},"Search Course Name"):s.a.createElement(s.a.Fragment,null,g.selected_value.label)),s.a.createElement("button",{type:"button",onClick:function(){S&&n.toggleShowDropdown()}},s.a.createElement(Te.a,{icon:["fas","caret-down"]}))),g.show&&s.a.createElement("ul",{className:"list-unstyled"},this.props.offered_stack_schedules.filter((function(e){return(e.name.toLowerCase()+" ("+e.date.toLowerCase()+")").includes(g.search_input_value.toLowerCase())})).map((function(e){return s.a.createElement("li",{key:e.id},s.a.createElement("button",{type:"button",onClick:function(){S&&n.selectStack(e)}},e.label))})))),this.state.show_caution_message&&s.a.createElement("p",null,"Proceed with caution: This schedule contradicts with one of the existing schedules. When this schedule unlocks, the schedule it contradicts with will become inactive.")),s.a.createElement("div",{className:"btn_container"},s.a.createElement("button",{type:"button",onClick:function(){return n.setState({is_show_add_stack_schedule_container:!1,show_caution_message:!1})}},"Cancel"),s.a.createElement("button",{type:"button",onClick:function(){return S&&n.assignStackSchedule(i)},id:"add_new_stack_confirm_btn"},"Confirm")))))}}]),a}(n.Component)),hl=pl.processSelectedStudentsNextStack,El=pl.deleteStudentStackSchedule,fl=pl.updateStudentStackSchedule,gl=Qi.a.navigateToLP2Admin,vl=Object(p.J)(["rostering"],{processSelectedStudentsNextStack:hl,deleteStudentStackSchedule:El,updateStudentStackSchedule:fl,navigateToLP2Admin:gl}),bl=vl.mapStateToProps,Sl=vl.mapDispatchToProps,Al=Object(ue.b)(bl,Sl)(ml),kl=(a(1259),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).customContentRenderer=function(){var e=n.props.dropdown;return s.a.createElement(s.a.Fragment,null,e.selected.length>0?e.selected[0].label:"Search Instructor Name")},n.customDropdownRenderer=function(e){var t=e.props,a=e.state,n=e.methods;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"dropdown_search_container"},s.a.createElement("input",{type:"text",value:a.search,onChange:n.setSearch,placeholder:"Search Course"})),s.a.createElement("div",{className:"dropdown_menu"},a.searchResults.length>0?a.searchResults.map((function(e){return s.a.createElement("div",{className:"dropdown_item",disabled:e.disabled,key:e[t.valueField],onClick:e.disabled?null:function(){return n.addItem(e)}},s.a.createElement("input",{type:"checkbox",onChange:function(){return e.disabled?void 0:n.addItem(e)},checked:-1!==a.values.indexOf(e)}),s.a.createElement("span",null,e[t.labelField]))})):s.a.createElement("div",{className:"no_results_found"},"No results found.")))},n.state={search:""},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.dropdown,n=t.is_disabled,r=void 0!==n&&n;return s.a.createElement(es.a,{className:"assign_via_email_dropdown ".concat(a.selected.length>0&&"has_value"),contentRenderer:this.customContentRenderer,dropdownRenderer:this.customDropdownRenderer,dropdownHandle:!0,onChange:function(t){return e.props.onUpdateFetchInstructorDropdown(t,a)},onDropdownClose:function(){return e.setState({search:""})},options:a.options,disabled:r,placeholder:a.name,dropdownHandleRenderer:function(){return s.a.createElement(Te.a,{icon:["fas","caret-down"]})},values:a.selected})}}]),a}(n.Component)),Ol=(a(1260),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).updateFetchInstructorDropdown=function(e,t){t.selected=e,n.setState({assign_data:Object(d.a)(Object(d.a)({},n.state.assign_data),{},{instructor_item_data:e[0]})})},n.submitAssignViaEmailAddress=function(){n.props.assignStudentViaEmail({instructor_index:n.state.assign_data.instructor_item_data.instructor_index,is_from_students_table:!0,is_assign_via_email:!0},n.state.assign_data),n.props.toggleShowModal(!1)},n.state={assign_data:{}},n.email_textarea_ref=s.a.createRef(),n}return Object(_e.a)(a,[{key:"componentDidMount",value:function(){this.email_textarea_ref.current.focus()}},{key:"render",value:function(){var e=this,t=this.props,a=t.show,n=t.toggleShowModal,r=t.instructor_dropdown_data,o=this.state.assign_data;return a||(this.state.assign_data={}),s.a.createElement(De.a,{id:"assign_student_via_email_modal",show:a,onHide:function(){return n(!1)}},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,"Assign via Email Address"),s.a.createElement("button",{onClick:function(){return n(!1)}})),s.a.createElement(De.a.Body,null,s.a.createElement("div",{className:"input_details_block"},s.a.createElement("span",{className:"label_title"},"Students Email Address"),s.a.createElement("textarea",{name:"student_email",id:"student_email",ref:this.email_textarea_ref,onChange:function(t){return Object(p.h)(t,e)}}),s.a.createElement("span",null,"*Separate multiple emails with comma.")),s.a.createElement("div",{className:"input_details_block"},s.a.createElement("span",{className:"label_title"},"Receiving Instructors"),s.a.createElement(kl,{dropdown:r,onUpdateFetchInstructorDropdown:this.updateFetchInstructorDropdown}))),s.a.createElement(De.a.Footer,null,s.a.createElement("div",{className:"action_btn"},s.a.createElement("button",{className:"cancel_btn",onClick:function(){return n(!1)}},"Cancel"),s.a.createElement("button",{className:"confirm_btn ".concat(o.instructor_item_data&&o.student_emails&&o.student_emails.length>0?"":"disabled"),onClick:this.submitAssignViaEmailAddress},"Confirm"))))}}]),a}(n.Component)),Tl=Qi.a.assignStudentViaEmail,Cl=Object(p.J)("admin",{assignStudentViaEmail:Tl}),wl=Cl.mapStateToProps,yl=Cl.mapDispatchToProps,Rl=Object(ue.b)(wl,yl)(Ol),Dl=[{id:17,name:"John Michael Borja",is_selected:!1,is_veteran:!1,gender:0,region:"East",belt_score:6,belt_stack:3,belt_class:"red"},{id:17,name:"John Michael Borja",is_selected:!1,is_veteran:!1,gender:0,region:"East",belt_score:8.5,belt_stack:4,belt_class:"yellow"}],Ul=[{name:"Name",sort_data:"name"},{name:"Vet",sort_data:"is_veteran"},{name:"Course Schedule",sort_data:"stack_schedule_date"},{name:"Program",sort_data:"program_type"},{name:"Region",sort_data:"region"},{name:"Last Belt",sort_data:"belt_score"}],Nl=[{id:1001,instructor_name:"Kevin Lee",region:"East",stack_schedule:"Python April 1-16",male_count:1,female_count:1,others_count:1,veterans_count:2,is_open:!0,students:[{id:4,name:"Bob Latayan",is_selected:!1,is_veteran:!1,gender:0,region:"East",last_belt:"WebFun 8.8",belt_class:"red"},{id:5,name:"Rose ann Mabalacat",is_selected:!1,is_veteran:!0,gender:1,region:"West",last_belt:"WebFun 10",belt_class:"orange"},{id:6,name:"Lester Peralta",is_selected:!1,is_veteran:!0,gender:2,region:"West",last_belt:"WebFun 8.0",belt_class:"red"}]},{id:1002,instructor_name:"Cornellio Agno",region:"West",stack_schedule:"PHP April 1-16",male_count:0,female_count:0,others_count:0,veterans_count:0,students:[],is_open:!0},{id:1003,instructor_name:"Michael Vernon",region:"West",stack_schedule:"PHP April 1-16",male_count:0,female_count:0,others_count:0,veterans_count:0,students:[],is_open:!0},{id:1004,instructor_name:"Miguel Simion",region:"West",stack_schedule:"PHP April 1-16",male_count:0,female_count:0,others_count:0,veterans_count:0,students:[],is_open:!0},{id:1005,instructor_name:"Marka Ordono",region:"West",stack_schedule:"PHP April 1-16",male_count:0,female_count:0,others_count:0,veterans_count:0,students:[],is_open:!0},{id:1006,instructor_name:"Melina Manansala",region:"West",stack_schedule:"PHP April 1-16",male_count:0,female_count:0,others_count:0,veterans_count:0,students:[],is_open:!0}],Il=[{name:"C#/.Net",cc_stack_id:7,label:"C#/.Net (Jun 7, 2021 - Jul 2, 2021)",date:"Jun 7, 2021 - Jul 2, 2021",start_date:"2021-06-07",end_date:"2021-07-02"},{name:"C#/.Net",cc_stack_id:7,label:"C#/.Net (Apr 5, 2021 - Apr 30, 2021)",date:"Apr 5, 2021 - Apr 30, 2021",start_date:"2021-04-05",end_date:"2021-04-30"},{name:"C#/.Net",cc_stack_id:7,label:"C#/.Net (Feb 8, 2021 - Mar 5, 2021)",date:"Feb 8, 2021 - Mar 5, 2021",start_date:"2021-02-08",end_date:"2021-03-05"},{name:"Java",cc_stack_id:8,label:"Java (Jun 7, 2021 - Jul 2, 2021)",date:"Jun 7, 2021 - Jul 2, 2021",start_date:"2021-06-07",end_date:"2021-07-02"},{name:"Java",cc_stack_id:8,label:"Java (Apr 5, 2021 - Apr 30, 2021)",date:"Apr 5, 2021 - Apr 30, 2021",start_date:"2021-04-05",end_date:"2021-04-30"},{name:"Java",cc_stack_id:8,label:"Java (Feb 8, 2021 - Mar 5, 2021)",date:"Feb 8, 2021 - Mar 5, 2021",start_date:"2021-02-08",end_date:"2021-03-05"},{name:"MERN",cc_stack_id:16,label:"MERN (May 3, 2021 - May 28, 2021)",date:"May 3, 2021 - May 28, 2021",start_date:"2021-05-03",end_date:"2021-05-28"},{name:"MERN",cc_stack_id:16,label:"MERN (Mar 8, 2021 - Apr 2, 2021)",date:"Mar 8, 2021 - Apr 2, 2021",start_date:"2021-03-08",end_date:"2021-04-02"},{name:"Programming Basics",cc_stack_id:38,label:"Programming Basics (Jun 7, 2021 - Jun 18, 2021)",date:"Jun 7, 2021 - Jun 18, 2021",start_date:"2021-06-07",end_date:"2021-06-18"},{name:"Programming Basics",cc_stack_id:38,label:"Programming Basics (May 3, 2021 - May 14, 2021)",date:"May 3, 2021 - May 14, 2021",start_date:"2021-05-03",end_date:"2021-05-14"},{name:"Programming Basics",cc_stack_id:38,label:"Programming Basics (Apr 5, 2021 - Apr 16, 2021)",date:"Apr 5, 2021 - Apr 16, 2021",start_date:"2021-04-05",end_date:"2021-04-16"},{name:"Programming Basics",cc_stack_id:38,label:"Programming Basics (Mar 8, 2021 - Mar 19, 2021)",date:"Mar 8, 2021 - Mar 19, 2021",start_date:"2021-03-08",end_date:"2021-03-19"},{name:"Programming Basics",cc_stack_id:38,label:"Programming Basics (Feb 8, 2021 - Feb 19, 2021)",date:"Feb 8, 2021 - Feb 19, 2021",start_date:"2021-02-08",end_date:"2021-02-19"},{name:"Python",cc_stack_id:4,label:"Python (Aug 30, 2021 - Sep 24, 2021)",date:"Aug 30, 2021 - Sep 24, 2021",start_date:"2021-08-30",end_date:"2021-09-24"},{name:"Python",cc_stack_id:4,label:"Python (Jun 7, 2021 - Jul 2, 2021)",date:"Jun 7, 2021 - Jul 2, 2021",start_date:"2021-06-07",end_date:"2021-07-02"},{name:"Python",cc_stack_id:4,label:"Python (May 3, 2021 - May 28, 2021)",date:"May 3, 2021 - May 28, 2021",start_date:"2021-05-03",end_date:"2021-05-28"},{name:"Python",cc_stack_id:4,label:"Python (Apr 5, 2021 - Apr 30, 2021)",date:"Apr 5, 2021 - Apr 30, 2021",start_date:"2021-04-05",end_date:"2021-04-30"},{name:"Python",cc_stack_id:4,label:"Python (Mar 8, 2021 - Apr 2, 2021)",date:"Mar 8, 2021 - Apr 2, 2021",start_date:"2021-03-08",end_date:"2021-04-02"},{name:"Python",cc_stack_id:4,label:"Python (Feb 8, 2021 - Mar 5, 2021)",date:"Feb 8, 2021 - Mar 5, 2021",start_date:"2021-02-08",end_date:"2021-03-05"},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (Aug 16, 2021 - Aug 27, 2021)",date:"Aug 16, 2021 - Aug 27, 2021",start_date:"2021-08-16",end_date:"2021-08-27"},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (Jul 19, 2021 - Jul 30, 2021)",date:"Jul 19, 2021 - Jul 30, 2021",start_date:"2021-07-19",end_date:"2021-07-30"},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (Jun 21, 2021 - Jul 2, 2021)",date:"Jun 21, 2021 - Jul 2, 2021",start_date:"2021-06-21",end_date:"2021-07-02"},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (May 17, 2021 - May 28, 2021)",date:"May 17, 2021 - May 28, 2021",start_date:"2021-05-17",end_date:"2021-05-28"},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (Apr 19, 2021 - Apr 30, 2021)",date:"Apr 19, 2021 - Apr 30, 2021",start_date:"2021-04-19",end_date:"2021-04-30"},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (Mar 22, 2021 - Apr 2, 2021)",date:"Mar 22, 2021 - Apr 2, 2021",start_date:"2021-03-22",end_date:"2021-04-02"},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (Feb 22, 2021 - Mar 5, 2021)",date:"Feb 22, 2021 - Mar 5, 2021",start_date:"2021-02-22",end_date:"2021-03-05"},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (Jan 25, 2021 - Feb 5, 2021)",date:"Jan 25, 2021 - Feb 5, 2021",start_date:"2021-01-25",end_date:"2021-02-05"}],Pl={acr:0,ap:0,applicant_id:125013,attendance_rate:0,belt:null,belt_bg:"red_bg",belt_color:"",belt_level:null,cache_course_count:5,campus:"Online",cc_stack_id:7,email:"hentscaa@gmail.com",gender:0,id:49002,img_link:"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",is_checked:0,is_locked:0,is_veteran:0,location_id:5,name:"Aaron  Hentchel",program:"Online Full-Time Web Development",program_type_id:11,receiving_instructor:"",receiving_stack:"C#/.Net",receiving_stack_is_retake:"0",receiving_stack_status:0,receiving_user_track_id:191561,region:"",retake:0,stack:"C#/.Net",stack_attendance_count:null,stack_end:"2021-07-01T16:00:00.000Z",stack_progress_json:null,stack_start:"2021-06-06T16:00:00.000Z",stack_start_date:"Jun 7, 2021",status:4.5,taught_by:null,total_stack_scheds:2,user_track_id:191560},jl=[{name:"C#/.Net",cc_stack_id:7,label:"C#/.Net (Jun 7, 2021 - Jul 2, 2021) (Neil M.)",date:"Jun 7, 2021 - Jul 2, 2021",start_date:"2021-06-07",end_date:"2021-07-02",cc_stack_instructor_id:3093,crm_stack_schedule_id:2939,cc_stack_schedule_id:932},{name:"Java",cc_stack_id:8,label:"Java (Jun 7, 2021 - Jul 2, 2021) (Sadie  F.)",date:"Jun 7, 2021 - Jul 2, 2021",start_date:"2021-06-07",end_date:"2021-07-02",cc_stack_instructor_id:3046,crm_stack_schedule_id:2889,cc_stack_schedule_id:825},{name:"Java",cc_stack_id:8,label:"Java (Jun 7, 2021 - Jul 2, 2021) (Brendan S.)",date:"Jun 7, 2021 - Jul 2, 2021",start_date:"2021-06-07",end_date:"2021-07-02",cc_stack_instructor_id:2831,crm_stack_schedule_id:2654,cc_stack_schedule_id:825},{name:"Java",cc_stack_id:8,label:"Java (Jun 7, 2021 - Jul 2, 2021) (Nick M.)",date:"Jun 7, 2021 - Jul 2, 2021",start_date:"2021-06-07",end_date:"2021-07-02",cc_stack_instructor_id:3073,crm_stack_schedule_id:2919,cc_stack_schedule_id:825},{name:"Java",cc_stack_id:8,label:"Java (Jun 7, 2021 - Jul 2, 2021) (Saurabh D.)",date:"Jun 7, 2021 - Jul 2, 2021",start_date:"2021-06-07",end_date:"2021-07-02",cc_stack_instructor_id:3070,crm_stack_schedule_id:2916,cc_stack_schedule_id:825},{name:"Programming Basics",cc_stack_id:38,label:"Programming Basics (Jun 7, 2021 - Jun 18, 2021) (Edward I.)",date:"Jun 7, 2021 - Jun 18, 2021",start_date:"2021-06-07",end_date:"2021-06-18",cc_stack_instructor_id:3121,crm_stack_schedule_id:2955,cc_stack_schedule_id:938},{name:"Programming Basics",cc_stack_id:38,label:"Programming Basics (Jun 7, 2021 - Jun 18, 2021) (Jim R.)",date:"Jun 7, 2021 - Jun 18, 2021",start_date:"2021-06-07",end_date:"2021-06-18",cc_stack_instructor_id:3120,crm_stack_schedule_id:2955,cc_stack_schedule_id:938},{name:"Python",cc_stack_id:4,label:"Python (Aug 30, 2021 - Sep 24, 2021) (Devon N.)",date:"Aug 30, 2021 - Sep 24, 2021",start_date:"2021-08-30",end_date:"2021-09-24",cc_stack_instructor_id:2405,crm_stack_schedule_id:2257,cc_stack_schedule_id:742},{name:"Python",cc_stack_id:4,label:"Python (Jun 7, 2021 - Jul 2, 2021) (Kaysee W.)",date:"Jun 7, 2021 - Jul 2, 2021",start_date:"2021-06-07",end_date:"2021-07-02",cc_stack_instructor_id:3067,crm_stack_schedule_id:2913,cc_stack_schedule_id:926},{name:"Python",cc_stack_id:4,label:"Python (Jun 7, 2021 - Jul 2, 2021) (Ryan  M.)",date:"Jun 7, 2021 - Jul 2, 2021",start_date:"2021-06-07",end_date:"2021-07-02",cc_stack_instructor_id:3062,crm_stack_schedule_id:2908,cc_stack_schedule_id:926},{name:"Python",cc_stack_id:4,label:"Python (Jun 7, 2021 - Jul 2, 2021) (Tyler T.)",date:"Jun 7, 2021 - Jul 2, 2021",start_date:"2021-06-07",end_date:"2021-07-02",cc_stack_instructor_id:3049,crm_stack_schedule_id:2892,cc_stack_schedule_id:926},{name:"Python",cc_stack_id:4,label:"Python (Jun 7, 2021 - Jul 2, 2021) (Shawn C.)",date:"Jun 7, 2021 - Jul 2, 2021",start_date:"2021-06-07",end_date:"2021-07-02",cc_stack_instructor_id:3048,crm_stack_schedule_id:2891,cc_stack_schedule_id:926},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (Aug 16, 2021 - Aug 27, 2021) (Narciso L.)",date:"Aug 16, 2021 - Aug 27, 2021",start_date:"2021-08-16",end_date:"2021-08-27",cc_stack_instructor_id:2404,crm_stack_schedule_id:2256,cc_stack_schedule_id:741},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (Jul 19, 2021 - Jul 30, 2021) (Narciso L.)",date:"Jul 19, 2021 - Jul 30, 2021",start_date:"2021-07-19",end_date:"2021-07-30",cc_stack_instructor_id:2403,crm_stack_schedule_id:2255,cc_stack_schedule_id:740},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (Jun 21, 2021 - Jul 2, 2021) (Steven T.)",date:"Jun 21, 2021 - Jul 2, 2021",start_date:"2021-06-21",end_date:"2021-07-02",cc_stack_instructor_id:3047,crm_stack_schedule_id:2890,cc_stack_schedule_id:739},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (Jun 21, 2021 - Jul 2, 2021) (Narciso L.)",date:"Jun 21, 2021 - Jul 2, 2021",start_date:"2021-06-21",end_date:"2021-07-02",cc_stack_instructor_id:2402,crm_stack_schedule_id:2254,cc_stack_schedule_id:739},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (Jun 21, 2021 - Jul 2, 2021) (Mike M.)",date:"Jun 21, 2021 - Jul 2, 2021",start_date:"2021-06-21",end_date:"2021-07-02",cc_stack_instructor_id:3057,crm_stack_schedule_id:2903,cc_stack_schedule_id:739},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (Jun 21, 2021 - Jul 2, 2021) (Edward I.)",date:"Jun 21, 2021 - Jul 2, 2021",start_date:"2021-06-21",end_date:"2021-07-02",cc_stack_instructor_id:3050,crm_stack_schedule_id:2893,cc_stack_schedule_id:739}],Ll=(a(1261),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).showStudentProfileModal=function(e,t){e.stopPropagation(),n.props.getStudentProfileDetails({user_id:45104,applicant_id:118916,next_stack_params:{program_type_ids:[27],location_ids:[5]},is_from_student_matching:!0}),n.setState({is_show_student_profile_modal:!0})},n.requestSort=function(e){var t="caret-down",a=Object(d.a)({},n.state.sort_config);a&&a.key===e&&"caret-down"===a.direction&&(t="caret-up"),a.key=e,a.direction=t,n.setState({sort_config:a},(function(){n.props.onSortTable(n.state.sort_config)}))},n.showAssignViaEmailModal=function(e,t){if(e.preventDefault(),t.length>0){var a=[];t.map((function(e,t){return a.push({cc_instructor_stack_sched_id:e.cc_instructor_stack_sched_id,cc_stack_schedule_id:e.cc_stack_schedule_id,first_name:e.first_name,last_name:e.last_name,program_type:e.program_type,stack_schedule:e.stack_schedule,value:a.length+1,instructor_id:e.instructor_id,label:"".concat(e.first_name," ").concat(e.last_name," - ").concat(e.program_type," (").concat(e.stack_schedule,")"),instructor_index:t})}));var s={is_show_search:!0,is_multi_select:!1,dropdown_name:"receiving_instructor",is_locked:!1,selected:[],options:[].concat(a)};n.setState({is_show_assign_via_email_modal:!0,instructor_dropdown_data:s})}},n.state={sort_config:null,is_show_student_profile_modal:!1,is_show_assign_via_email_modal:!1,student_profile_data:Pl,selected_applicant_id:1,offered_stack_schedules:Il,offered_stack_schedules_with_instructors:jl,instructor_dropdown_data:{}},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.sort_config,n=t.instructor_dropdown_data,r=t.is_show_assign_via_email_modal,o=this.props,i=o.students,c=o.instructors,_=o.all_student_checkbox,l=o.onClickTableRow,d=o.table_head_column_data,m=o.checkedAllStudent,h=o.is_data_processing,E=o.has_instructor_rostering_access,f=function(t){var a=e.state.sort_config;if(a)return a.key===t?a.direction:"caret-down"};return s.a.createElement("div",{id:"student_matching_table_container"},s.a.createElement("div",{className:"student_matching_header ".concat(i.length?"is_assign_email":"")},s.a.createElement("h4",null,"STUDENTS"),i.length?s.a.createElement("button",{disabled:!E,className:"assign_via_email_btn ".concat(E?"":"disabled"),onClick:function(t){e.showAssignViaEmailModal(t,c),e.props.hideAssigntoInstructorPopover()}},"Assign via Email"):""),s.a.createElement(ll.c,{droppableId:"main_student_table"},(function(t,n){return s.a.createElement("div",Object.assign({className:"scroll_container ".concat(!n.draggingFromThisWith&&n.isUsingPlaceholder||n.isUsingPlaceholder&&n.draggingFromThisWith===n.draggingOverWith?"is_selected_ondrag":""),ref:t.innerRef},t.droppableProps),s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,s.a.createElement("input",{disabled:!E,onChange:function(e){return E&&m(e)},name:"student_matching_checkbox",checked:_,type:"checkbox",id:"student_checkbox"}),s.a.createElement("label",{className:"checkbox_label",htmlFor:"student_checkbox"},s.a.createElement(Te.a,{icon:["fas","check"]}))),d.map((function(t){return s.a.createElement("th",{key:t.name},s.a.createElement("button",{type:"button",onClick:function(){return e.requestSort(t.sort_data)}},t.name," ","name"===t.sort_data?"("+i.length+")":"",s.a.createElement(Te.a,{className:"".concat(null!==a&&a.key===t.sort_data?"":"light"),icon:["fas",void 0===f(t.sort_data)?"caret-down":f(t.sort_data)]})))})))),s.a.createElement("tbody",{className:n.isUsingPlaceholder||h?"is_active_dragging":""},i.map((function(t,a){return s.a.createElement(ll.b,{key:t.id,draggableId:t.id.toString(),index:a,isDragDisabled:!t.is_selected},(function(n,r){return s.a.createElement("tr",Object.assign({key:"row_".concat(t.id),onClick:function(e){return E&&l(e,a,void 0,t,void 0,void 0)}},n.draggableProps,n.dragHandleProps,{ref:n.innerRef,className:t.is_selected?r.isDragging?"is_dragging":"is_ghosting":"move_disable"}),s.a.createElement("td",null,s.a.createElement("input",{disabled:!E,name:"student_matching_checkbox",checked:t.is_selected||"",readOnly:!0,type:"checkbox",id:"checkbox_".concat(t.id)}),s.a.createElement("label",{className:"checkbox_label",htmlFor:"checkbox_".concat(t.id)},s.a.createElement(Te.a,{icon:["fas","check"]}))),s.a.createElement("td",null,s.a.createElement("span",null,t.name),r.isDragging&&e.props.selected_students.length>=2?s.a.createElement("span",{id:"student_count_on_drag"}," ","+ "+(e.props.selected_students.length-1)+" student/s"):""),s.a.createElement("td",null,t.is_veteran?s.a.createElement("span",{className:"is_veteran"}):""),s.a.createElement("td",null,t.stack_schedule_date?s.a.createElement("span",null,t.stack_schedule_date):""),s.a.createElement("td",null,s.a.createElement("span",{className:"student_program"},t.program_type)),s.a.createElement("td",null,t.region),s.a.createElement("td",null,t.belt_score&&t.belt_stack_label?s.a.createElement("span",{className:"last_belt ".concat(u.r[t.belt_class])},t.belt_stack_label," ",t.belt_score.toFixed(1)):""))}))})),0===i.length&&s.a.createElement("tr",{className:"hidden_tr"},s.a.createElement("td",{colSpan:"6"})))))})),s.a.createElement(Al,{toggleShowModal:function(){return Object(p.W)(e,"is_show_student_profile_modal",!1)},selected_applicant_id:this.state.selected_applicant_id,student_data:this.state.student_profile_data,show:this.state.is_show_student_profile_modal,updateFilterDropdownSelectedValue:this.updateFilterDropdownSelectedValue,offered_stack_schedules:this.state.offered_stack_schedules,offered_stack_schedules_with_instructors:this.state.offered_stack_schedules_with_instructors}),r&&s.a.createElement(Rl,{toggleShowModal:function(){return Object(p.W)(e,"is_show_assign_via_email_modal",!1)},show:r,instructor_dropdown_data:n}))}}]),a}(n.Component)),Ml=pl.getStudentProfileDetails,Fl=Object(p.J)(["rostering"],{getStudentProfileDetails:Ml}),xl=(Fl.mapStateToProps,Fl.mapDispatchToProps,Ll),Bl=(a(1262),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).showStudentTable=function(e){var t=Object(f.a)(n.state.instructors);t[e].is_open=!t[e].is_open,n.setState({instructors:t})},n.state={instructors:n.props.instructors},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.onClickTableRow,n=t.receivingInstructorCheckedAllStudent,r=t.instructors,o=t.is_data_processing,i=t.has_instructor_rostering_access;return s.a.createElement("div",{id:"receiving_instructors_container"},s.a.createElement("h4",null,"RECEIVING INSTRUCTORS"),s.a.createElement("div",{className:"scroll_container"},s.a.createElement("ul",{id:"receiving_instructors_list"},r.map((function(t,r){var c=t.students.sort((function(e,t){return e.name<t.name?-1:0})),_=t.program_type.split(",");return s.a.createElement(ll.c,{key:r,droppableId:(r+1).toString()},(function(l,d){return s.a.createElement("li",Object.assign({ref:l.innerRef,key:t+"_"+r},l.droppableProps,{className:"".concat(0!==t.students.length&&t.is_open?"has_student_content":""," ").concat(!d.draggingFromThisWith&&d.isUsingPlaceholder||d.isUsingPlaceholder&&d.draggingFromThisWith===d.draggingOverWith?"is_selected_ondrag":"")}),s.a.createElement("div",null,s.a.createElement("h5",null,s.a.createElement("span",null,null!==t.first_name?t.first_name[0]:"I",null!==t.last_name?t.last_name[0]:"N")," ",t.first_name&&t.last_name?"".concat(t.first_name," ").concat(t.last_name):"Instructor"),s.a.createElement(va.a,{placement:"top",overlay:s.a.createElement(Sa.a,{id:"program_type_tooltip"},s.a.createElement("ul",{id:"instructor_program_type_list"},_.map((function(e){return s.a.createElement("li",null,e)}))))},s.a.createElement("p",null,_[0]," ",_.length>1&&s.a.createElement("span",{className:"more"},"+ ",_.length-1," more")))),s.a.createElement("h6",null,t.students.length," Matched Students ",s.a.createElement("span",null,t.stack_schedule)),s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement("span",{className:"veteran_icon"})," ",t.students.filter((function(e){return e.is_veteran})).length)),0!=t.students.length&&s.a.createElement("button",{type:"button",onClick:function(){return e.showStudentTable(r)}},s.a.createElement(Te.a,{icon:["fas",t.is_open?"angle-up":"angle-down"]})),s.a.createElement("div",{className:"scroll_container ".concat(t.is_open?"show":"hide")},s.a.createElement("table",null,0!=t.students.length&&s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,s.a.createElement("input",{disabled:!i,onChange:function(e){return i&&n(e,r)},checked:t.is_selected_instructor||"",name:"student_matching_checkbox",type:"checkbox",id:"receiving_instructor_checkbox_".concat(r)}),s.a.createElement("label",{className:"checkbox_label",htmlFor:"receiving_instructor_checkbox_".concat(r)},s.a.createElement(Te.a,{icon:["fas","check"]}))),s.a.createElement("th",null,"STUDENT"),s.a.createElement("th",null,"Vet."),s.a.createElement("th",null,"R."),s.a.createElement("th",null,"Last Belt"))),s.a.createElement("tbody",{className:d.isUsingPlaceholder||o?"is_active_dragging":""},c.map((function(n,o){return s.a.createElement(ll.b,{key:n.id,draggableId:n.id.toString(),index:o,isDragDisabled:!n.is_selected},(function(c,_){return s.a.createElement("tr",Object.assign({onClick:function(e){return i&&a(e,o,r,n,t.cc_stack_schedule_id,t.cc_stack_instructor_id)},className:n.is_selected?_.isDragging?"is_dragging":"is_ghosting":"move_disable",key:"row_".concat(n.id)},c.draggableProps,c.dragHandleProps,{ref:c.innerRef}),s.a.createElement("td",null,s.a.createElement("input",{disabled:!i,name:"student_matching_checkbox",checked:n.is_selected||"",readOnly:!0,type:"checkbox",id:"checkbox_".concat(n.id)}),s.a.createElement("label",{className:"checkbox_label",htmlFor:"checkbox_".concat(n.id)},s.a.createElement(Te.a,{icon:["fas","check"]}))),s.a.createElement("td",null,n.name," ",_.isDragging&&e.props.selected_students.length>=2?s.a.createElement("span",{id:"student_count_on_drag"}," ","+ "+(e.props.selected_students.length-1)+" Student/s"):""),s.a.createElement("td",null,n.is_veteran?s.a.createElement("span",{className:"is_veteran"}):""),s.a.createElement("td",null,n.region),s.a.createElement("td",null,n.belt_score&&n.belt_stack_label?s.a.createElement("span",{className:"last_belt ".concat(u.r[n.belt_class])},n.belt_stack_label," ",n.belt_score.toFixed(1)):""))}))}))))))}))})))))}}]),a}(n.Component)),Wl=(a(1263),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){return Object(ce.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(De.a,{id:"apply_filter_modal",show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)}},s.a.createElement(De.a.Body,null,s.a.createElement("h2",null,"Apply Filters"),s.a.createElement("p",null,'Your search results seem to be too broad. Please add "Course Assigned To" and "Course Start Date" filters to find exactly what you want.'),s.a.createElement("button",{onClick:function(){return e.props.toggleShowModal(!1)}},"Got it")))}}]),a}(n.Component)),Hl=(a(1264),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).customItemRenderer=function(e){var t=e.item,a=(e.itemIndex,e.props,e.state,e.methods);return s.a.createElement("div",{onClick:function(){return a.addItem(t)},className:"dropdown_item ".concat(n.props.is_show_remove_instructor&&!n.props.all_student_checkbox||0!==t.id?"":"hidden")},t.name," ",0!==t.id&&s.a.createElement("span",null,"(",t.program,") (",t.program_date,")")," ")},n.processInstructorOption=function(e,t){var a=[];return a.push(t),e.length&&e.map((function(e,t){var n;a.push({id:e.instructor_id,name:e.first_name&&e.last_name?" ".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===(n=e.last_name)||void 0===n?void 0:n.charAt(0).toUpperCase(),"."):"Instructor",program:e.program_type,program_date:"".concat(v()(e.start_date).utc(!0).format("MM/DD/YY")," - ").concat(v()(e.end_date).utc(!0).format("MM/DD/YY")),instructor_index:parseInt(t)+1})})),a},n.state={instructor_value:null,is_show_full_list:!1,instructor_options:[],instructor_default_value:{id:0,name:"Remove from this instructor"}},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.total_results,n=t.is_all_students_checked,r=t.selected_students,o=t.instructors,i=t.has_instructor_rostering_access,c=this.state,_=c.is_show_full_list,l=c.instructor_value,d=c.instructor_default_value,u=n?a:r.length,p=this.processInstructorOption(o,d);return s.a.createElement(s.a.Fragment,null,s.a.createElement("form",{id:"assign_to_instructor_popover",onSubmit:function(t){return i&&e.props.onSubmitAssignToInstructor(t,l)}},s.a.createElement("div",{className:"content"},s.a.createElement("p",null,s.a.createElement("span",null,u)," of ",a," results"),s.a.createElement("button",{id:"full_list_button",type:"button",onClick:function(){return e.setState({is_show_full_list:!_})}},"Full List ",s.a.createElement(Te.a,{icon:["fas","angle-down"]})),s.a.createElement("div",{className:"dropdown_container"},s.a.createElement(Te.a,{className:"key_icon",icon:["fas","key"]}),s.a.createElement(es.a,{disabled:!i||this.props.is_loading,placeholder:"Assign to  Instructor",className:"assign_to_instructor_select ".concat(i?"":"disabled"),dropdownPosition:"auto",itemRenderer:this.customItemRenderer,options:p,labelField:"name",searchBy:"name",valueField:"id",dropdownHandle:"false",onChange:function(t){return i&&e.setState({instructor_value:t})}})),s.a.createElement("button",{disabled:!l&&!i||this.props.is_loading,className:l&&i||!this.props.is_loading?"":"disabled",type:"submit"}," ",this.props.is_loading?"Processing...":"Proceed"," ")),_&&s.a.createElement("ul",null," ",r.map((function(e,t){return s.a.createElement("li",null,e.student_name,t+1===r.length?"":",")})))))}}]),a}(n.Component)),Kl=function(e,t,a){var n=Object(f.a)(e.state.table_head_columns);return n.map((function(e){e.name===t.name&&(e.is_show=!t.is_show)})),localStorage.setItem(a,JSON.stringify(n)),e.setState({table_head_columns:n})},Gl=function(e,t){localStorage.getItem(t)?e.setState({table_head_columns:JSON.parse(localStorage.getItem(t))}):localStorage.setItem(t,JSON.stringify(e.state.table_head_columns))},Vl=function(e){var t,a=Object(f.a)(null!==(t=e.state.filter_dropdowns)&&void 0!==t?t:[]);a.map((function(e){e.selected.length>0&&(e.selected=[])})),e.setState({filter_dropdowns:a})},ql=(a(1265),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n,s,r;Object(ce.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){r.setState({selected_students:[]}),setTimeout((function(){var e=r.props.admin.profile.available_workspaces.filter((function(e){return e.is_selected})),t=Object(A.a)(e,1)[0].id;r.props.fetchFilterOptions({selected_workspace_id:t,admin_page:u.c.student_rostering.student_matching})}),125),setTimeout((function(){var e,t,a,n,s,o;(null===(e=r.props.admin.filters)||void 0===e||null===(t=e.last_used_filter)||void 0===t?void 0:t.student_matching)&&JSON.stringify(r.state.filter_dropdowns)!==JSON.stringify(null===(a=r.props.admin.filters)||void 0===a||null===(n=a.last_used_filter)||void 0===n?void 0:n.student_matching)&&r.setState({filter_dropdowns:null===(s=r.props.admin.filters)||void 0===s||null===(o=s.last_used_filter)||void 0===o?void 0:o.student_matching})}),u.Ab.fast)},r.componentDidUpdate=function(){var e,t,a,n,s,o,i,c,_=r.state.selected_workspace_id,l=((null===(e=r.props.admin)||void 0===e||null===(t=e.profile)||void 0===t?void 0:t.workspace)||{}).workspace_id;(null===(a=r.props.admin.filters)||void 0===a||null===(n=a.last_used_filter)||void 0===n?void 0:n.student_matching)&&JSON.stringify(r.state.filter_dropdowns)!==JSON.stringify(null===(s=r.props.admin.filters)||void 0===s||null===(o=s.last_used_filter)||void 0===o?void 0:o.student_matching)&&r.setState({filter_dropdowns:null===(i=r.props.admin.filters)||void 0===i||null===(c=i.last_used_filter)||void 0===c?void 0:c.student_matching});r.state.is_change_workspace&&l===_&&(r.props.fetchFilterOptions({selected_workspace_id:l,is_switch_workspace:u.Db,admin_page:u.c.student_rostering.student_matching}),r.setState({is_change_workspace:!1,is_update_filter_options:!1})),!r.props.admin.is_assigning_student_instructor&&r.state.is_submitted&&r.setState({selected_students:[],is_submitted:!1})},r.updateFilterDropdownSelectedValue=function(e,t){if(r.state.is_update_filter_options){var a=Object(f.a)(r.state.filter_dropdowns),n=Object(p.O)(e,t,a),s=n.filter_dropdowns,o=Object(Mc.a)(n,["filter_dropdowns"]);r.state.is_clear_filter&&!e.length||!["cc_stack_id","cc_stack_start_date","program_type_id"].includes(t.filter_name)||r.props.updateFilterOptions(Object(d.a)({admin_page:u.c.student_rostering.student_matching},o)),r.setState({selected_cc_stack_id:o.cc_stack_id,filter_dropdowns:s,is_clear_filter:!1})}r.setState({is_update_filter_options:!0})},r.onDragEndTableRow=function(e){var t=e.destination,a=e.source,n=Object(f.a)(r.state.selected_students),s=r.props.admin.rostering,o=s.filtered_students,i=s.filtered_instructors,c=(s.filter_dropdowns,[]);if(e.destination&&a.droppableId!==t.droppableId){if("main_student_table"===a.droppableId){var _=parseInt(t.droppableId)-1,l=i[_],d=l.cc_stack_schedule_id,u=l.cc_instructor_stack_sched_id,p=l.instructor_id;n.map((function(e){c.push(e.applicant_id)})),r.props.assignStudentToInstructor({instructor_index:_,is_from_students_table:!0},{students:n,is_assign:!0,cc_stack_schedule_id:d,cc_instructor_stack_sched_id:u,instructor_id:p,applicant_ids:c})}else{var m=parseInt(a.droppableId)-1,h=null,E=null,g=null;if("main_student_table"!==t.droppableId){var v=i[parseInt(t.droppableId)-1];h=v.instructor_id,E=v.cc_stack_schedule_id,g=v.cc_instructor_stack_sched_id}else E=i[m].cc_stack_schedule_id;n.map((function(e){c.push(e.applicant_id)})),r.props.assignStudentToInstructor({instructor_index:m,is_from_students_table:!1,destination_instrutor_index:t.droppableId},{students:n,is_assign:"main_student_table"!==t.droppableId,cc_stack_schedule_id:E,cc_instructor_stack_sched_id:g,instructor_id:h,applicant_ids:c})}o.map((function(e){e.is_selected=!1})),r.setState({all_student_checkbox:!1,is_submitted:!0})}},r.indexLocator=function(e,t){return e.map((function(e){return e.id})).indexOf(parseInt(t))},r.onClickTableRow=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;if(!e.defaultPrevented){e.stopPropagation(),e.preventDefault();var o=Object(f.a)(r.state.selected_students),i=r.props.admin.rostering.filtered_students,c=r.props.admin.rostering.filtered_instructors;if(void 0!==a){var _;if(r.setState({active_instructor_index:a}),null==r.state.active_instructor_index||r.state.active_instructor_index==a)i.map((function(e){return e.is_selected=!1})),r.state.active_instructor_index!=a?o=[]:c[r.state.active_instructor_index].is_selected_instructor=0;else(null===(_=c[r.state.active_instructor_index])||void 0===_?void 0:_.students)&&c[r.state.active_instructor_index].students.map((function(e){e.is_selected=!1})),o=[],c[r.state.active_instructor_index].is_selected_instructor=0;c[a].students[t].is_selected=!c[a].students[t].is_selected,c[a].students[t].is_selected?o.push({student_id:n.id,applicant_id:n.applicant_id,student_name:n.name,cc_stack_schedule_id:s,instructor_id:null,student_index:t}):o=o.filter((function(e){return e.student_id!==c[a].students[t].id}))}else{var l=r.state.active_instructor_index;null!=l&&(c[l].students.map((function(e){return e.is_selected=!1})),o=[],c[l].is_selected_instructor=0,r.setState({active_instructor_index:null})),i[t].is_selected=!i[t].is_selected,i[t].is_selected?o.push({student_id:n.id,applicant_id:n.applicant_id,student_name:n.name,cc_stack_schedule_id:null,instructor_id:null,student_index:t}):o=o.filter((function(e){return e.student_id!==i[t].id}))}r.setState({selected_students:o,all_student_checkbox:!1})}},r.loadStudentMatchingTable=function(){r.setState({is_loading:!0}),setTimeout((function(){r.setState({is_loading:!1})}),2e3)},r.submitFilters=function(e){e&&e.preventDefault();var t={};r.state.filter_dropdowns.map((function(e){e.selected.length&&(t[e.filter_name]=e.selected.length>1?e.selected.map((function(e){return e.value})):e.selected[0].value)}));var a=r.props.admin.profile.available_workspaces.filter((function(e){return e.is_selected})),n=Object(A.a)(a,1)[0].id;t.workspace_id=n,t.cc_stack_id&&t.cc_stack_start_date?(r.loadStudentMatchingTable(),r.props.fetchFilteredStudents(Object(d.a)(Object(d.a)({},t),{},{admin_page:u.c.student_rostering.student_matching}))):r.setState({is_show_apply_filter_modal:!0}),r.setState({selected_students:[]})},r.checkedAllStudent=function(e){e.stopPropagation();var t=r.state.active_instructor_index;if(null!=t){var a=r.props.admin.rostering.filtered_instructors;a[t]&&(a[t].students.map((function(e){return e.is_selected=!1})),a[t].is_selected_instructor=!1)}var n=Object(f.a)(r.state.selected_students);n=[],r.props.admin.rostering.filtered_students.map((function(e,t){var a=e.id;e.is_selected=!r.state.all_student_checkbox,e.is_selected&&!n.includes(e)?n.push({student_id:e.id,applicant_id:e.applicant_id,student_name:e.name,cc_stack_schedule_id:null,instructor_id:null,student_index:t}):n=n.filter((function(e){return e.student_id!==a}))})),r.setState({all_student_checkbox:!r.state.all_student_checkbox,selected_students:n,active_instructor_index:null})},r.receivingInstructorCheckedAllStudent=function(e,t){e.stopPropagation(),r.setState({active_instructor_index:t});var a=r.props.admin.rostering.filtered_instructors,n=r.state.active_instructor_index;n==t||null==n?a[t].is_selected_instructor=e.target.checked?1:0:(a[n].is_selected_instructor=0,a[t].is_selected_instructor=1,a[n].students.map((function(e){e.is_selected=!1}))),r.props.admin.rostering.filtered_students.map((function(e){return e.is_selected=!1}));var s=Object(f.a)(r.state.selected_students);s=[],a[t].students.map((function(n,r){n.is_selected=e.target.checked;var o=n.id;n.is_selected?s.push({student_id:o,applicant_id:n.applicant_id,student_name:n.name,cc_stack_schedule_id:a[t].cc_stack_schedule_id,instructor_id:null,student_index:r}):s=s.filter((function(e){return e.student_id!==o}))})),r.setState({selected_students:s,all_student_checkbox:!1})},r.sortTable=function(e){var t=Object(f.a)(r.props.admin.rostering.filtered_students);e&&t.sort((function(t,a){return t[e.key]<a[e.key]?"caret-down"===e.direction?-1:1:t[e.key]>a[e.key]?"caret-down"===e.direction?1:-1:0})),r.setState({students:t}),r.props.admin.rostering.filtered_students=t},r.clearAllFilters=function(){var e=Object(f.a)(r.state.filter_dropdowns);e.map((function(e){e.selected.length>0&&(e.selected=[])})),r.props.updateFilterOptions({admin_page:u.c.student_rostering.student_matching}),r.setState({filter_dropdowns:e,is_clear_filter:!0})},r.changeActiveWorkspace=function(e){var t=e.filter((function(e){return e.is_selected})),a=Object(A.a)(t,1)[0].id;r.props.switchWorkspace({workspace_id:a}),r.setState({is_change_workspace:!0,selected_workspace_id:a})},r.submitAssignToInstructor=function(e,t){e.preventDefault(),(null===t||void 0===t?void 0:t.length)&&r.onDragEndTableRow({source:{droppableId:null===r.state.active_instructor_index?"main_student_table":r.state.active_instructor_index+1},destination:{droppableId:0===t[0].id?"main_student_table":t[0].instructor_index}})};var o=Object(p.y)();return r.state={navigation:Object(p.w)(null===(n=o.user_details)||void 0===n||null===(s=n.general)||void 0===s?void 0:s.user_capabilities,"rostering"),students:Dl,instructors:Nl,selected_students:[],table_head_column_data:Ul,is_loading:!1,all_student_checkbox:!1,is_show_apply_filter_modal:!1,active_selected_student_table:0,active_instructor_index:null,selected_cc_stack_id:null,filter_dropdowns:[],selected_workspace_id:void 0,is_show_assign_to_instructor_modal:!1,user_profile:o.user_details,is_submitted:!1,is_update_filter_options:!0},r}return Object(_e.a)(a,[{key:"render",value:function(){var e,t=this,a=this.state,n=a.navigation,r=a.is_loading,o=a.filter_dropdowns,i=(a.is_show_assign_to_instructor_modal,a.selected_students),c=a.active_instructor_index,_=a.user_profile,l=this.props.admin.rostering,d=l.filtered_students,m=l.filtered_instructors,h=l.is_data_processing,E=Object(p.i)(null===_||void 0===_||null===(e=_.general)||void 0===e?void 0:e.user_capabilities,"admin.rostering.view_instructor_rostering.set_student_to_instructor");return s.a.createElement("div",{id:"admin_container",className:"admin_student_matching"},s.a.createElement(et,{title:u.lb.admin_page.matching}),s.a.createElement(Gi,{active_icon:"users"}),s.a.createElement(Vi,{navigation:n,admin_page:"rostering"}),s.a.createElement("div",{id:"admin_right_container"},s.a.createElement(sc,{onchangeActiveWorkspace:this.changeActiveWorkspace,profile:this.props.admin.profile}),s.a.createElement(Yi,{filter_dropdowns:o,submitFilters:this.submitFilters,updateFilterDropdownSelectedValue:this.updateFilterDropdownSelectedValue,clearAllFilters:function(){return Vl(t)}}),s.a.createElement("div",{id:"student_matching_container",className:this.props.admin.is_assigning_student_instructor?"disabled":""},r?s.a.createElement("div",{id:"table_loading_container"},s.a.createElement("div",null),s.a.createElement("span",null,"Loading...")):s.a.createElement(ll.a,{onDragEnd:this.onDragEndTableRow},s.a.createElement(xl,{has_instructor_rostering_access:E,students:d,instructors:m,all_student_checkbox:this.state.all_student_checkbox,checkedAllStudent:this.checkedAllStudent,onClickTableRow:this.onClickTableRow,table_head_column_data:this.state.table_head_column_data,is_data_processing:h,selected_students:this.state.selected_students,hideAssigntoInstructorPopover:function(){t.setState({selected_students:[],all_student_checkbox:!1}),t.props.admin.rostering.filtered_students.map((function(e){return e.is_selected=!1}))},onSortTable:this.sortTable}),s.a.createElement(Bl,{has_instructor_rostering_access:E,indexLocator:this.indexLocator,receivingInstructorCheckedAllStudent:this.receivingInstructorCheckedAllStudent,instructors:m,is_data_processing:h,onClickTableRow:this.onClickTableRow,selected_students:this.state.selected_students})))),i.length&&E?s.a.createElement(Hl,{has_instructor_rostering_access:E,onSubmitAssignToInstructor:this.submitAssignToInstructor,selected_students:i,is_all_students_checked:!1,is_loading:this.props.admin.is_assigning_student_instructor,is_show_remove_instructor:null!==c,all_student_checkbox:this.state.all_student_checkbox,instructors:m,total_results:null===c?d.length:m&&m[c].students.length}):"",s.a.createElement(Wl,{show:this.state.is_show_apply_filter_modal,toggleShowModal:function(){return Object(p.W)(t,"is_show_apply_filter_modal",!1)}}))}}]),a}(n.Component)),Yl=ts.a.switchWorkspace,Ql=Qi.a.fetchFilterOptions,$l=Qi.a.updateFilterOptions,zl=Qi.a.fetchFilteredStudents,Jl=Qi.a.assignStudentToInstructor,Xl=(Qi.a.changePropsValue,Object(p.J)(["admin","dashboard"],{fetchFilterOptions:Ql,updateFilterOptions:$l,fetchFilteredStudents:zl,assignStudentToInstructor:Jl,switchWorkspace:Yl})),Zl=Xl.mapStateToProps,ed=Xl.mapDispatchToProps,td=Object(ue.b)(Zl,ed)(ql),ad=new(function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e,n,s;Object(ce.a)(this,a),(s=t.call(this)).fetchStudentProgressFilterOptions=function(e){var t="student_progress/filter_options";return(null===e||void 0===e?void 0:e.admin_page)===u.c.stack_dashboard&&(t="stack_dashboard/filter_options"),this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/admin/").concat(t),Object(d.a)({},e),!0).then(p.z).then((function(e){return e}))},s.fetchStudentProgressRevisionFilterOptions=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/admin/").concat("student_progress_revision/filter_options"),Object(d.a)({},e),!0).then(p.z).then((function(e){return e}))},s.updateFilterOptions=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/admin/update_filter_options"),e,!0).then(p.z).then((function(e){return e}))},s.fetchFilteredStackDashboardData=function(e){var t="student_progress/filtered_students_data";return(null===e||void 0===e?void 0:e.admin_page)===u.c.stack_dashboard&&(t="stack_dashboard/filtered_students_data"),this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/admin/").concat(t),Object(d.a)(Object(d.a)({},e),e.filters),!0).then(p.z).then((function(e){return e}))},s.fetchFilteredByStackData=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/admin/student_progress/by_stack_filtered_students_data"),Object(d.a)(Object(d.a)({},e),e.filters),!0).then(p.z).then((function(e){return e}))},s.checkStudentAttendances=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/admin/stack_dashboard/check_attendances"),Object(d.a)({},e),!0).then(p.z).then((function(e){return e}))},s.update_student_ap_status=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/admin/stack_dashboard/update_student_ap_status"),e,!0).then(p.z).then((function(e){return e}))},s.updateStudentAssignmentStatus=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/admin/stack_dashboard/updateStudentAssignmentStatus"),e,!0).then(p.z).then((function(e){return e}))},s.fetchStudentTrackChecklist=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/admin/stack_dashboard/fetchStudentTrackChecklist"),e,!0).then(p.z).then((function(e){return e}))},s.setFeedbackToAChapterModule=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/admin/stack_dashboard/setFeedbackToAChapterModule"),e,!0).then(p.z).then((function(e){return e}))},s.updateGraduationValidationStatus=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/admin/student_progress/update_grad_validation_status"),e,!0).then(p.z).then((function(e){return e}))},s.markDateAsHoliday=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/admin/mark_date_as_holiday"),e,!0).then(p.z).then((function(e){return e}))},s.unmarkDateAsHoliday=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/admin/unmark_date_as_holiday"),e,!0).then(p.z).then((function(e){return e}))},s.fetchWorkspaces=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/admin/student_progress/fetch_workspaces"),e,!0).then(p.z).then((function(e){return e}))},s.fetchProgramsByWorkspace=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/admin/stack_dashboard/fetch_program_by_workspace"),e,!0).then(p.z).then((function(e){return e}))},s.fetchHolidayBreaksByDate=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/admin/stack_dashboard/fetch_holiday_break_by_date"),e,!0).then(p.z).then((function(e){return e}))},s.fetchStudentProgressByProgramRev=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/admin/student_progress/fetch_program_rev"),e,!0).then(p.z).then((function(e){return e}))};var r=Object(p.y)();return s.API_pre_link=(null===r||void 0===r||null===(e=r.user_details)||void 0===e||null===(n=e.general)||void 0===n?void 0:n.trial_platform_mode)?"/t":"",s}return a}(Ee.a)),nd=new function e(){Object(ce.a)(this,e),this.fetchStackDashboardFilterOptions=function(e){return function(t){t(Object(p.A)({type:u.p.FETCH_STUDENT_PROGRESS_FILTER_OPTIONS_REQUEST},{})),t(Object(p.A)({type:u.o.FETCH_FILTER_OPTIONS_DATA_REQUEST},{})),ad.fetchStudentProgressFilterOptions(e).then((function(a){var n,s;a.status?(t(Object(p.A)({type:u.p.FETCH_STUDENT_PROGRESS_FILTER_OPTIONS_SUCCESS},{filters:a.result,search_student_keyword:a.search_student_keyword,page_count:a.page_count,is_major_track:null===(n=a.result.filter((function(e){return"cc_stack_id"===e.filter_name}))[0])||void 0===n||null===(s=n.selected[0])||void 0===s?void 0:s.is_major,selected_sort:a.selected_sort,pagination:a.pagination,bp_selected_sort:a.bp_selected_sort,bp_pagination:a.bp_pagination,program_view_additional_settings:a.program_view_additional_settings,admin_page:e.admin_page})),t(Object(p.A)({type:u.o.FETCH_FILTER_OPTIONS_DATA_SUCCESS},{filter_data:a.result,workspace_id:e.is_switch_workspace?e.selected_workspace_id:a.workspace_id,admin_page:e.admin_page}))):t(Object(p.A)({type:u.p.FETCH_STUDENT_PROGRESS_FILTER_OPTIONS_FAILURE},{error:a.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.p.FETCH_STUDENT_PROGRESS_FILTER_OPTIONS_FAILURE},{error:a}))}))}},this.fetchStudentProgressRevisionFilterOptions=function(e){return function(t){t(Object(p.A)({type:u.p.FETCH_STUDENT_PROGRESS_REVISIONS_FILTER_OPTIONS_REQUEST},{})),t(Object(p.A)({type:u.o.FETCH_FILTER_OPTIONS_DATA_REQUEST},{})),ad.fetchStudentProgressRevisionFilterOptions(e).then((function(a){if(a.status){var n=a.result,s=n.filter_data,r=n.initial_filter_data,o=n.search_student_keyword,i=n.selected_sort,c=n.pagination,_=n.bp_selected_sort,l=n.bp_pagination,d=n.program_view_additional_settings,m=n.is_major_track;t(Object(p.A)({type:u.p.FETCH_STUDENT_PROGRESS_REVISION_FILTER_OPTIONS_SUCCESS},{filters:s,initial_filter_data:r,search_student_keyword:o,page_count:c.students_per_page,selected_sort:i,pagination:c,bp_selected_sort:_,bp_pagination:l,program_view_additional_settings:d,admin_page:e.admin_page,is_major_track:m})),t(Object(p.A)({type:u.o.FETCH_FILTER_OPTIONS_DATA_SUCCESS},{filter_data:a.result,workspace_id:e.is_switch_workspace?e.selected_workspace_id:a.workspace_id,admin_page:e.admin_page}))}else t(Object(p.A)({type:u.p.FETCH_STUDENT_PROGRESS_FILTER_OPTIONS_FAILURE},{error:a.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.p.FETCH_STUDENT_PROGRESS_FILTER_OPTIONS_FAILURE},{error:a}))}))}},this.updateStudentProgressNewByStackFilterOptions=function(e){return function(t){t(Object(p.A)({type:u.p.UPDATE_FILTER_OPTIONS_REQUEST},{})),ad.updateFilterOptions(e).then((function(e){e.status?t(Object(p.A)({type:u.p.UPDATE_FILTER_OPTIONS_SUCCESS},{filter_data:e.result})):t(Object(p.A)({type:u.p.UPDATE_FILTER_OPTIONS_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.p.UPDATE_FILTER_OPTIONS_FAILURE},{error:a}))}))}},this.setSortTable=function(){return function(e){e(Object(p.A)({type:u.p.SORT_TABLE,table_sort:!0},{}))}},this.setLoadingTable=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){t(Object(p.A)({type:u.p.LOADING_TABLE,loading_table:!e},{}))}},this.setSortStudentTable=function(e){return function(t){t(Object(p.A)({type:u.p.SET_SORT_TABLE,sort_config:e},{}))}},this.fetchFilteredStackDashboardData=function(e){return function(t){var a="export"===e.event;t(Object(p.A)({type:u.p.FETCH_STUDENT_PROGRESS_FILTER_OPTIONS_REQUEST,is_export:a},{})),t(Object(p.A)({type:u.p.FETCH_STUDENT_PROGRESS_DATA_REQUEST},{})),ad.fetchFilteredStackDashboardData(e).then((function(a){if(a.status){var n=a.results,s=n.is_from_by_program,r=n.total_results,o=n.students,i=n.student_program_details,c=n.weeks_count,_=n.stack_belt_exam_summary,l=n.stack_progress_summary,d=n.list_of_days,m=n.stack_list_of_dates_by_week,h=n.adjust_attendance_rating_cron,E=n.max_up_to_date_weeks,f=n.all_students_attendance_raw_details,g=n.program_attendance_pct_requirement;t(Object(p.A)({type:u.p.FETCH_STUDENT_PROGRESS_DATA_SUCCESS},{total_results_by_program:s?r:0,total_results:r||[],students:o||[],student_program_details:i||[],weeks_tab:c||[],stack_belt_exam_summary:_||[],stack_progress_summary:l||[],table_head_dates:d||[],stack_list_of_dates_by_week:m||{},adjust_attendance_rating_cron:h||{},max_up_to_date_weeks:E,all_students_attendance_raw_details:f,search_student_keyword:e.search_student_keyword,program_attendance_pct_requirement:g}))}else t(Object(p.A)({type:u.p.FETCH_STUDENT_PROGRESS_DATA_FAILURE},{error:a.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.p.FETCH_STUDENT_PROGRESS_DATA_FAILURE},{error:a}))}))}},this.fetchFilteredByStackData=function(e){return function(t){t(Object(p.A)({type:u.p.FETCH_STUDENT_PROGRESS_NEW_BY_STACK_DATA_REQUEST},{})),ad.fetchFilteredByStackData(e).then((function(a){if(a.status){var n=a.results,s=n.students_data_list,r=n.belt_colors,o=n.exam_passing_score,i=n.total_results,c=n.program_attendance_pct_requirement;t(Object(p.A)({type:u.p.FETCH_STUDENT_PROGRESS_NEW_BY_STACK_DATA_SUCCESS},{total_results:i||0,students:s||[],belt_colors:r||{},exam_passing_score:o,pagination:e.pagination,program_attendance_pct_requirement:c}))}else t(Object(p.A)({type:u.p.FETCH_STUDENT_PROGRESS_NEW_BY_STACK_DATA_FAILURE},{error:a.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.p.FETCH_STUDENT_PROGRESS_NEW_BY_STACK_DATA_FAILURE},{error:a}))}))}},this.updateStudentProgressFilterOptions=function(e){return function(t){t(Object(p.A)({type:u.p.UPDATE_STUDENT_PROGRESS_FILTER_OPTIONS_REQUEST},{})),ul.a.update_rostering_filter_options(e).then((function(a){t(Object(p.A)({type:u.p.UPDATE_STUDENT_PROGRESS_FILTER_OPTIONS_SUCCESS},{filters:a,is_major_track:e.is_major_track,page:e.admin_page}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.p.UPDATE_STUDENT_PROGRESS_FILTER_OPTIONS_FAILURE},{error:a}))}))}},this.updateStudentAssignmentStatus=function(e){return function(t){t(Object(p.A)({type:u.p.UPDATE_ASSIGNMENT_STATUS_REQUEST},{})),ad.updateStudentAssignmentStatus(e).then((function(e){e.message&&!e.status&&alert(e.message),t(Object(p.A)({type:u.p.UPDATE_ASSIGNMENT_STATUS_SUCCESS},{update_assignment_status_response:e.result.update_assignment_status}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.p.UPDATE_ASSIGNMENT_STATUS_FAILURE},{error:a}))}))}},this.updateStudentAPStatus=function(e){return function(t){t(Object(p.A)({type:u.p.UPDATE_STUDENT_AP_STATUS_REQUEST},{})),ad.update_student_ap_status(e).then((function(e){e.status||alert(e.error),t(Object(p.A)({type:u.p.UPDATE_STUDENT_AP_STATUS_SUCCESS},{update_ap_response:e}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.p.UPDATE_STUDENT_AP_STATUS_FAILURE},{error:a}))}))}},this.checkStudentAttendances=function(e){return function(t){t(Object(p.A)({type:u.p.CHECK_STUDENT_ATTENDANCES_REQUEST},{})),ad.checkStudentAttendances(e).then((function(a){t(Object(p.A)({type:u.p.CHECK_STUDENT_ATTENDANCES_SUCCESS},{check_attendances_response:a.result.checked_attendance,check_attendances_response_message:a.message,new_attendance_rate:a.result.new_attendance_rate,new_attendance_blocks:a.result.new_attendance_blocks,selected_day:e.selected_day,selected_week:a.result.selected_week,max_selected_period:a.result.max_selected_period,progress_type:e.progress_type,selected_date:e.selected_date,successfully_checked_student_count:a.result.checked_students_count}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.p.CHECK_STUDENT_ATTENDANCES_FAILURE},{error:a}))}))}},this.setFeedbackToAChapterModule=function(e){return function(t){t(Object(p.A)({type:u.p.SET_ASSIGNMENT_FEEDBACK_REQUEST},{})),ad.setFeedbackToAChapterModule(e).then((function(e){e.status||alert(e.error),""!==e.message&&alert(e.message),t(Object(p.A)({type:u.p.SET_ASSIGNMENT_FEEDBACK_SUCCESS},{set_assignment_feedback_response:e.result.is_set_feedback}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.p.SET_ASSIGNMENT_FEEDBACK_FAILURE},{error:a}))}))}},this.fetchStudentTrackChecklist=function(e){return function(t){t(Object(p.A)({type:u.p.FETCH_STUDENT_TRACK_CHECKLIST_REQUEST},{})),ad.fetchStudentTrackChecklist(e).then((function(e){e.status?t(Object(p.A)({type:u.p.FETCH_STUDENT_TRACK_CHECKLIST_SUCCESS},{student_track_checklist:e.result})):t(Object(p.A)({type:u.p.FETCH_STUDENT_TRACK_CHECKLIST_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.p.FETCH_STUDENT_PROGRESS_FILTER_OPTIONS_FAILURE},{error:a}))}))}},this.updateStudentGraduationValidationStatus=function(e){return function(t){t(Object(p.A)({type:u.p.UPDATE_STUDENT_GRAD_VALIDATION_REQUEST},{})),ad.updateGraduationValidationStatus(e).then((function(e){e.status||alert(e.error),t(Object(p.A)({type:u.p.UPDATE_STUDENT_GRAD_VALIDATION_SUCCESS},{update_grad_validation_response:e}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.p.UPDATE_STUDENT_GRAD_VALIDATION_FAILURE},{error:a}))}))}},this.changePropsValue=function(e,t){return function(a){a(Object(p.A)({type:u.p.CHANGE_PROPS_VALUE_REQUEST},{props_name:e,props_value:t}))}},this.markDateAsHoliday=function(e){return function(t){t(Object(p.A)({type:u.p.MARK_DATE_AS_HOLIDAY_REQUEST},{})),ad.markDateAsHoliday(e).then((function(a){a.status?t(Object(p.A)({type:u.p.MARK_DATE_AS_HOLIDAY_SUCCESS},{mark_date_as_holiday_response:a,selected_break_type:e.selected_break_type,selected_week:e.selected_week,selected_date:e.selected_date})):t(Object(p.A)({type:u.p.MARK_DATE_AS_HOLIDAY_FAILURE},{mark_date_as_holiday_response:a}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.p.MARK_DATE_AS_HOLIDAY_FAILURE},{error:a}))}))}},this.unmarkDateAsHoliday=function(e){return function(t){t(Object(p.A)({type:u.p.UNMARK_DATE_AS_HOLIDAY_REQUEST},{})),ad.unmarkDateAsHoliday(e).then((function(e){e.status||alert(e.error),t(Object(p.A)({type:u.p.UNMARK_DATE_AS_HOLIDAY_SUCCESS},{unmark_date_as_holiday_response:e}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.p.UNMARK_DATE_AS_HOLIDAY_FAILURE},{error:a}))}))}},this.getStudentProfileDetails=function(e){return function(t){t(Object(p.A)({type:u.p.ADMIN_GET_STUDENT_PROFILE_DATA_REQUEST},{})),ul.a.get_student_profile_details(e).then((function(e){e.status?t(Object(p.A)({type:u.p.ADMIN_GET_STUDENT_PROFILE_DATA_SUCCESS},{student_details:e.result})):(alert(e.error),t(Object(p.A)({type:u.p.ADMIN_GET_STUDENT_PROFILE_DATA_FAILURE},{error:e.error})))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.p.ADMIN_GET_STUDENT_PROFILE_DATA_FAILURE},{error:a}))}))}},this.resetCheckAttendanceResponse=function(){return function(e){e(Object(p.A)({type:u.p.CHECK_STUDENT_ATTENDANCES_SUCCESS},{check_attendances_response:null,check_attendances_response_message:void 0}))}},this.fetchWorkspaces=function(e){return function(t){t(Object(p.A)({type:u.p.FETCH_WORKSPACES_REQUEST},{})),ad.fetchWorkspaces(e).then((function(e){e.status?t(Object(p.A)({type:u.p.FETCH_WORKSPACES_SUCCESS},e.result)):(alert(e.error),t(Object(p.A)({type:u.p.FETCH_WORKSPACES_FAILED},{error:e.error})))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.p.FETCH_WORKSPACES_FAILED},{error:a}))}))}},this.fetchProgramsByWorkspace=function(e){return function(t){t(Object(p.A)({type:u.p.FETCH_PROGRAM_BY_WORKSPACE_REQUEST},{})),ad.fetchProgramsByWorkspace(e).then((function(e){e.status?t(Object(p.A)({type:u.p.FETCH_PROGRAM_BY_WORKSPACE_SUCCESS},e.result)):(alert(e.error),t(Object(p.A)({type:u.p.FETCH_PROGRAM_BY_WORKSPACE_FAILED},{error:e.error})))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.p.FETCH_PROGRAM_BY_WORKSPACE_FAILED},{error:a}))}))}},this.fetchHolidayBreaksByDate=function(e){return function(t){t(Object(p.A)({type:u.p.FETCH_HOLIDAY_BREAK_BY_DATE_REQUEST},{})),ad.fetchHolidayBreaksByDate(e).then((function(e){e.status?t(Object(p.A)({type:u.p.FETCH_HOLIDAY_BREAK_BY_DATE_SUCCESS},e.result)):(alert(e.error),t(Object(p.A)({type:u.p.FETCH_HOLIDAY_BREAK_BY_DATE_FAILED},{error:e.error})))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.p.FETCH_HOLIDAY_BREAK_BY_DATE_FAILED},{error:a}))}))}},this.resetHolidayProcessMessage=function(){return function(e){e(Object(p.A)({type:u.p.MARK_DATE_AS_HOLIDAY_REQUEST},{}))}},this.resetStateValue=function(e,t){return function(a){a(Object(p.A)({type:u.p.RESET_STATE_VALUE},{key:e,value:t}))}},this.clearFilters=function(e,t){return function(e){e(Object(p.A)({type:u.p.CLEAR_FILTERS},{}))}},this.updateFilterDropdownSelectedValue=function(e,t){return function(a){a(Object(p.A)({type:u.p.UPDATE_FILTER_DROPDOWN_VALUES},{value:e,dropdown:t}))}},this.fetchStudentProgressByProgramRev=function(e){return function(t){t(Object(p.A)({type:u.p.FETCH_STUDENT_PROGRESS_PROGRAM_REV_REQUEST},{})),ad.fetchStudentProgressByProgramRev(e).then((function(e){e.status?t(Object(p.A)({type:u.p.FETCH_STUDENT_PROGRESS_PROGRAM_REV_SUCCESS},e.result)):(alert(e.error),t(Object(p.A)({type:u.p.FETCH_STUDENT_PROGRESS_PROGRAM_REV_FAILURE},{error:e.error})))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.p.FETCH_STUDENT_PROGRESS_PROGRAM_REV_FAILURE},{error:a}))}))}},this.updateProgramViewRevTableViewSettings=function(e){return function(t){t(Object(p.A)({type:u.p.UPDATE_TABLE_VIEW_SETTING_VALUES},{table_view_setting:e}))}},this.updateProgramViewRevTableHeadColumns=function(e){return function(t){t(Object(p.A)({type:u.p.UPDATE_TABLE_HEAD_COLUMNS},{table_head_columns:e}))}},this.updateProgramViewRevPaginationSettings=function(e){return function(t){t(Object(p.A)({type:u.p.UPDATE_PAGINATION_SETTINGS},{pagination_settings:e}))}},this.checkStudentProgressAttendanceRecord=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;return function(n){n(Object(p.A)({type:u.p.CHECK_USER_PROGRESS_ATTENDANCE_DETAILS},{student:e,is_all_students:t,status:a}))}},this.resetDisplayedResultsAndPagination=function(){return function(e){e(Object(p.A)({type:u.p.RESET_DISPLAY_RESULTS_AND_PAGINATION},{}))}},this.unMountCourseDashBoard=function(){return function(e){e(Object(p.A)({type:u.p.UNMOUNT_COURSE_DASHBOARD},{}))}}};a(1266);var sd=function(e){var t=e.table_head_columns,a=e.onCustomizeTableColumns,n=e.workspace_id,r=t.filter((function(e){return!1===e.is_show&&("Student Experience Manager"!==e.name||"Student Experience Manager"===e.name&&n&&n===u.Xb.codingdojo)})).length;return s.a.createElement(va.a,{trigger:"click",placement:"bottom",rootClose:!0,overlay:s.a.createElement(ga.a,{id:"customize_columns_popover"},s.a.createElement(ga.a.Content,null,s.a.createElement("h5",null,"Columns Visibility"),s.a.createElement("ul",{className:"list-unstyled"},t.map((function(e,t){return void 0!==e.is_show&&s.a.createElement("li",{key:t},e.name,s.a.createElement("div",{className:"checkbox_button_container"},s.a.createElement("input",{type:"checkbox",name:"customize_columns_checkbox_".concat(e.sort_data),id:"customize_columns_".concat(e.sort_data),checked:e.is_show,value:e.sort_data,onChange:function(){return a(e)}}),s.a.createElement("label",{htmlFor:"customize_columns_".concat(e.sort_data)},s.a.createElement("span",{className:"fill"}))))})))))},s.a.createElement("button",{type:"button",className:"customize_column_btn"},s.a.createElement("span",{className:"customize_column_icon"}),"Customize Columns ",r>0&&"(".concat(r," Hidden)")))},rd=(a(1267),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).changeTableView=function(e){var t=Object(d.a)({},n.props.table_view_setting);t.sub_options.map((function(t){t.name===e.name&&(t.is_selected=!e.is_selected)})),n.props.updateProgramViewRevTableViewSettings(t);var a=n.props,s=a.table_data;Object(A.a)(a.filter_dropdowns,1)[0].selected.length&&s.length&&n.props.submitFilters(!1)},n.updateAssignmentFilterDropdownValue=function(e,t){var a=Object(d.a)({},n.props.table_view_setting);a[e].selected_value=t[0],n.props.updateProgramViewRevTableViewSettings(a);var s=n.props,r=s.table_data;Object(A.a)(s.filter_dropdowns,1)[0].selected.length&&r.length&&n.props.submitFilters(!1)},n.requestSort=function(e){for(var t=Object(f.a)(n.props.table_head_columns),a=0;a<t.length;a++){var s=t[a],r=s.sort_data,o=s.sort_direction;e===r?(t[a].is_sorted=!0,t[a].sort_direction="caret-down"===o?"caret-up":"caret-down"):(t[a].is_sorted=!1,t[a].sort_direction="caret-down")}n.props.updateProgramViewRevTableHeadColumns(t);var i=n.props,c=i.table_data;Object(A.a)(i.filter_dropdowns,1)[0].selected.length&&c.length&&n.props.submitFilters(!1)},n.openByCoursePage=function(e){var t="".concat(u.f.LP3_FRONTEND_URL,"admin/student_progress/course"),a={cc_stack_start_date:e.stack_start_date,program_type_id:e.program_type_id,cc_stack_id:e.cc_stack_id,cc_stack_instructor_id:e.instructor_id},n=JSON.parse(localStorage.getItem("by_course_filters"))||[];n.push(a),localStorage.setItem("by_course_filters",JSON.stringify(n)),window.open(t,"_blank")},n.state={sort_config:null,selected_name_sort_config:void 0},n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.table_head_columns,r=a.is_loading,o=a.table_data,i=a.table_view_setting,c=a.is_fetching_filters;this.state.sort_config;null===(e=this.props)||void 0===e||e.selected_sort;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"table_container",id:"admin_student_progress_revamp_program_table"},s.a.createElement("ul",{id:"table_navigation"},s.a.createElement("li",{className:"active"},s.a.createElement("button",{type:"button"},s.a.createElement("span",{className:"checklist_icon"}),"Assignment"),i.sub_options.map((function(e){return s.a.createElement("label",{key:e.id,"data-text":e.name,className:"checkbox_label ".concat(e.is_disabled?"disabled":""),disabled:e.is_disabled},s.a.createElement("input",{name:"table_view",onChange:function(){return t.changeTableView(e)},checked:e.is_selected,type:"checkbox"}),s.a.createElement("span",{className:"checkbox_indicator"},s.a.createElement(Te.a,{icon:["fas","check"]})))})),s.a.createElement("div",{id:"asignment_filter_dropdowns"},s.a.createElement(es.a,{values:[i.progress_type.selected_value],options:i.progress_type.options,searchable:!1,onChange:function(e){return t.updateAssignmentFilterDropdownValue("progress_type",e)}}))),s.a.createElement("li",null,s.a.createElement(sd,{table_head_columns:n,onCustomizeTableColumns:this.props.onCustomizeTableColumns}))),s.a.createElement(bc.StickyTable,{leftStickyColumnCount:2,borderWidth:"0px",className:"".concat(r?"table_loading":"")},s.a.createElement(bc.Row,null,!!n.length&&n.map((function(e){var a="";return a="percentage_late"===e.sort_data?"% students missing core assignments to date":"percentage_on_time"===e.sort_data?"% students on track":"% students completing core assignments before due",(void 0===e.is_show||e.is_show)&&s.a.createElement(s.a.Fragment,null,"percentage_late"===e.sort_data||"percentage_on_time"===e.sort_data||"percentage_ahead"===e.sort_data?s.a.createElement(va.a,{placement:"top",overlay:s.a.createElement(Sa.a,{id:"track_history_tooltip"}," ",a," ")},s.a.createElement(bc.Cell,{key:e.name,style:{minWidth:e.width},onClick:function(){return(null===e||void 0===e?void 0:e.sort_data)?t.requestSort(e.sort_data):null}},e.name,e.sort_data&&"name"!==e.sort_data&&s.a.createElement(Te.a,{className:"".concat(e.is_sorted?"":"light"),icon:["fas",e.sort_direction]}))):s.a.createElement(bc.Cell,{key:e.name,style:{minWidth:e.width},onClick:function(){return(null===e||void 0===e?void 0:e.sort_data)?t.requestSort(e.sort_data):null}},e.name,e.sort_data&&"name"!==e.sort_data&&s.a.createElement(Te.a,{className:"".concat(e.is_sorted?"":"light"),icon:["fas",e.sort_direction]})))}))),r?!c&&s.a.createElement("div",{id:"table_loading_container"},s.a.createElement("div",null),s.a.createElement("span",null,"Loading...")):!c&&o&&o.map((function(e){return s.a.createElement(bc.Row,{key:e.id},n.map((function(a){return s.a.createElement(s.a.Fragment,null,"Program"===a.name&&a.is_show&&s.a.createElement(bc.Cell,null,e.program),"Course"===a.name&&a.is_show&&s.a.createElement(bc.Cell,{onClick:function(){return t.openByCoursePage(e)},className:"course_name"},e.stack),"Course Start Date"===a.name&&a.is_show&&s.a.createElement(bc.Cell,null,v()(e.stack_start_date).format("LL")),"Instructor"===a.name&&a.is_show&&s.a.createElement(bc.Cell,null,e.instructor),"# of Students"===a.name&&a.is_show&&s.a.createElement(bc.Cell,null,e.number_of_students),"Average Attendance"===a.name&&a.is_show&&s.a.createElement(bc.Cell,null,e.average_attendance),"Assignment Completion"===a.name&&a.is_show&&s.a.createElement(bc.Cell,null,e.assignment_completion),"% Late"===a.name&&a.is_show&&s.a.createElement(bc.Cell,null,e.percentage_late),"% On-time"===a.name&&a.is_show&&s.a.createElement(bc.Cell,null,e.percentage_on_time),"% Ahead"===a.name&&a.is_show&&s.a.createElement(bc.Cell,null,e.percentage_ahead),"# on AP"===a.name&&a.is_show&&s.a.createElement(bc.Cell,null,e.number_on_ap),"Belt Rate"===a.name&&a.is_show&&s.a.createElement(bc.Cell,null,e.belt_rate))})))})),c&&s.a.createElement("div",{id:"no_results_found"},"Preparing filters...."),!1===r&&0===o.length&&!1===c&&s.a.createElement("div",{id:"no_results_found"},"No results found."))))}}]),a}(n.Component)),od=Pa.a.getStudentProfileDetails,id=Pa.a.updateStudentProgramAccess,cd=Object(p.J)(["student_progress","student_access"],{getStudentProfileDetails:od,updateStudentProgramAccess:id}),_d=cd.mapStateToProps,ld=cd.mapDispatchToProps,dd=Object(ue.b)(_d,ld)(rd),ud=(a(445),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n,s,r;return Object(ce.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){var e,t,a=r.props.admin.profile.available_workspaces.filter((function(e){return e.is_selected})),n=Object(A.a)(a,1)[0].id;r.props.fetchStudentProgressRevisionFilterOptions({selected_workspace_id:n||(null===(e=r.props.admin)||void 0===e||null===(t=e.filters)||void 0===t?void 0:t.workspace_id),admin_page:u.c.student_progress.by_program_rev});var s=r.props.student_progress.program_view_rev.program_view_rev_table_head_column;r.setState({table_head_columns:s}),Gl(Object(Se.a)(r),"program_customize_columns")},r.componentWillUnmount=function(){r.props.unMountCourseDashBoard()},r.submitStudentTableFilter=function(e){e.preventDefault();var t=Object(A.a)(r.props.student_progress.filter_dropdowns,4),a=t[0];t[1],t[2],t[3];a.selected.length?r.submitFilters(!1):alert('Please apply "Program" filters to narrow the search before fetching for results')},r.updateFilterDropdownSelectedValue=function(e,t){r.props.updateFilterDropdownSelectedValue(e,t)},r.submitFilters=function(e){var t,a;e&&e.preventDefault();var n=r.props.admin.profile.available_workspaces.filter((function(e){return e.is_selected})),s=Object(A.a)(n,1)[0].id,o=r.state.table_head_columns,i=r.props.student_progress.filter_dropdowns,c=r.props.student_progress.program_view_rev,_=c.program_view_rev_pagination,l=c.program_view_rev_table_view_setting,d=l.sub_options,p=l.submission_type,m=l.progress_type,h=(c.program_view_rev_table_head_column,{is_up_to_date:!m.selected_value.value,is_on_time_assignments:!p.selected_value.value,assignment_types:d.map((function(e){return e.is_selected?1:0})),sort_config:o.filter((function(e){return e.is_sorted}))[0],selected_workspace_id:s||(null===(t=r.props.admin)||void 0===t||null===(a=t.filters)||void 0===a?void 0:a.workspace_id),pagination:_,admin_page:u.c.student_progress.by_program_rev});for(var E in i){var f=i[E],g=f.selected,v=f.filter_name,b=g.map((function(e){return e.value}));h["".concat(v)]=b.length?b:void 0}r.props.fetchStudentProgressByProgramRev(h),Kl(Object(Se.a)(r),o,"program_customize_columns")},r.onPaginateData=function(e){var t=Object(A.a)(r.props.student_progress.filter_dropdowns,1)[0],a=r.props.student_progress.program_view_rev,n=a.program_view_rev_pagination,s=a.program_revamp_table_data;e&&(n=Object(d.a)(Object(d.a)({},n),{},{current_page:e}),r.props.updateProgramViewRevPaginationSettings(n),t.selected.length&&s.length&&r.submitFilters(!1))},r.updatePageCount=function(e){var t=e.page_count,a=Object(A.a)(r.props.student_progress.filter_dropdowns,1)[0],n=r.props.student_progress.program_view_rev,s=n.program_view_rev_pagination,o=n.program_revamp_table_data,i=n.max_student_progress_program;t&&(i&&s.current_page>Math.ceil(i/t)&&(s.current_page=u.s.YES_VALUE),s=Object(d.a)(Object(d.a)({},s),{},{students_per_page:t}),r.props.updateProgramViewRevPaginationSettings(s),a.selected.length&&o.length&&r.submitFilters(!1))},r.changeActiveWorkspace=function(e){var t,a,n=r.props.admin.profile.available_workspaces.filter((function(e){return e.is_selected})),s=Object(A.a)(n,1)[0].id;r.props.switchWorkspace({workspace_id:s}),r.props.fetchStudentProgressRevisionFilterOptions({selected_workspace_id:s||(null===(t=r.props.admin)||void 0===t||null===(a=t.filters)||void 0===a?void 0:a.workspace_id),admin_page:u.c.student_progress.by_program_rev})},r.state={table_head_columns:[],navigation:Object(p.w)(null===(n=r.props.student_progress.profile)||void 0===n||null===(s=n.general)||void 0===s?void 0:s.user_capabilities,"student_progress"),profile:Object(d.a)({},r.props.student_progress.profile),pagination:{records_per_page:20,current_page:1}},r}return Object(_e.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.props.student_progress,s=n.filter_dropdowns,r=n.is_loading,o=n.program_view_rev.program_revamp_table_data;JSON.stringify(t.filter_dropdowns)!==JSON.stringify(s)&&(null===s||void 0===s?void 0:s.length)===u.c.student_progress.number_of_filters.by_program&&this.setState({filter_dropdowns:s},(function(){s[0].selected.length&&!r?a.submitFilters(!1):s[0].selected.length===u.s.NO_VALUE&&(null===o||void 0===o?void 0:o.length)&&a.props.resetDisplayedResultsAndPagination()}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.navigation,n=t.profile,r=t.table_head_columns,o=this.props.student_progress,i=o.filter_dropdowns,c=o.is_loading,_=o.is_fetching_filters,l=this.props.student_progress.program_view_rev,d=l.program_view_rev_pagination,p=l.program_revamp_table_data,m=l.max_student_progress_program,h=l.program_view_rev_table_view_setting;return i=_?[]:i,s.a.createElement("div",{id:"admin_container"},s.a.createElement(et,{title:u.lb.admin_page.by_program}),s.a.createElement(Gi,{active_icon:"users"}),s.a.createElement(Vi,{navigation:a}),s.a.createElement("div",{id:"admin_right_container"},s.a.createElement(sc,{onchangeActiveWorkspace:this.changeActiveWorkspace,onSetSearchStudentsKeyword:this.setSearchStudentsKeyword,profile:this.props.admin.profile,search_student_keyword:this.state.search_student_keyword}),s.a.createElement("div",{id:"table_tools_container"},s.a.createElement(Yi,{clearAllFilters:this.props.clearFilters,filter_dropdowns:i,submitFilters:this.submitStudentTableFilter,updateFilterDropdownSelectedValue:this.updateFilterDropdownSelectedValue})),s.a.createElement(dd,{onCustomizeTableColumns:function(t){return Kl(e,t,"program_customize_columns")},profile:n,table_data:p,table_head_columns:r,is_loading:c,is_fetching_filters:_,table_view_setting:h,updateProgramViewRevTableViewSettings:this.props.updateProgramViewRevTableViewSettings,submitFilters:this.submitFilters,filter_dropdowns:i,updateProgramViewRevTableHeadColumns:this.props.updateProgramViewRevTableHeadColumns}),!_&&d&&s.a.createElement(kc,{pagination:d,total_results:m,onPaginateData:this.onPaginateData,onUpdatPageCount:this.updatePageCount,page_count:d.students_per_page})))}}]),a}(n.Component)),pd=Pa.a.changeActiveWorkspace,md=ts.a.switchWorkspace,hd=nd.fetchStudentProgressRevisionFilterOptions,Ed=nd.updateProgramViewRevPaginationSettings,fd=nd.updateStudentProgressFilterOptions,gd=nd.fetchFilteredStudentProgressData,vd=nd.updateProgramViewRevTableHeadColumns,bd=nd.updateStudentGraduationValidationStatus,Sd=nd.changePropsValue,Ad=nd.clearFilters,kd=nd.updateFilterDropdownSelectedValue,Od=nd.fetchStudentProgressByProgramRev,Td=nd.updateProgramViewRevTableViewSettings,Cd=nd.resetDisplayedResultsAndPagination,wd=nd.unMountCourseDashBoard,yd=Object(p.J)(["student_progress","admin","dashboard"],{fetchStudentProgressRevisionFilterOptions:hd,updateProgramViewRevPaginationSettings:Ed,updateProgramViewRevTableHeadColumns:vd,updateProgramViewRevTableViewSettings:Td,updateStudentProgressFilterOptions:fd,fetchFilteredStudentProgressData:gd,updateStudentGraduationValidationStatus:bd,changePropsValue:Sd,changeActiveWorkspace:pd,switchWorkspace:md,clearFilters:Ad,updateFilterDropdownSelectedValue:kd,fetchStudentProgressByProgramRev:Od,resetDisplayedResultsAndPagination:Cd,unMountCourseDashBoard:wd}),Rd=yd.mapStateToProps,Dd=yd.mapDispatchToProps,Ud=Object(ue.b)(Rd,Dd)(ud),Nd=(a(1268),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).customContentRenderer=function(){var e=n.props.dropdown;return s.a.createElement(s.a.Fragment,null,e.selected.length?e.selected[0].label:e.name)},n.state={search:""},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.dropdown,n=t.is_disabled,r=void 0!==n&&n;return s.a.createElement(es.a,{className:"exam_select ".concat(a.selected.length&&"has_value"),contentRenderer:this.customContentRenderer,disabled:r,dropdownHandle:!0,dropdownHandleRenderer:function(){return s.a.createElement(Te.a,{icon:["fas","caret-down"]})},onChange:function(t){return e.props.onUpdateSelectValue(t,a)},onDropdownClose:function(){return e.setState({search:""})},options:a.options,placeholder:a.name,values:a.selected})}}]),a}(n.Component)),Id=a(124),Pd=a.n(Id),jd=a(352),Ld=a.n(jd),Md=(a(1271),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).onChangeSetGrade=function(e){n.setState((function(t){return{exam_record:Object(d.a)(Object(d.a)({},t.exam_record),{},{grade:e>=0?e:""}),is_show_invalid_grade:e>10||e<0}}))},n.checkDemoURL=function(e){var t,a;e.preventDefault();var s=n.state,r=s.exam_record,o=(s.dropdowns,e.target.value);!(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)||e.target.value.includes("http://")||e.target.value.includes("https://")||(o="https://".concat(e.target.value)),o&&(null===(a=r.url)||void 0===a?void 0:a.link)!==o&&(r.url.link=o,n.setState({exam_record:r}))},n.onSubmitAddExamRecord=function(e){var t,a,s,r,o,i,c,_,l,m,h,E;e.preventDefault();var f=n.state,g=f.exam_record,b=f.dropdowns,S=n.props,A=S.user.user_details.workspace.workspace_id,k=S.workspace_timezone,O=g.user_level_id===u.Jb.admin_instructor?"N/A":"".concat((null===(t=b.exam_option)||void 0===t||null===(a=t.selected[0])||void 0===a?void 0:a.chapter_title)||""," ").concat((null===b||void 0===b||null===(s=b.exam_option)||void 0===s||null===(r=s.selected[0])||void 0===r?void 0:r.label)||""),T=(null===b||void 0===b||null===(o=b.exam_option)||void 0===o||null===(i=o.selected[0])||void 0===i?void 0:i.value)||null,C=g.grade,w=g.user_level_id===u.Jb.admin_instructor?null:g.exam_start_date_value?v.a.tz(Object(p.q)(g.exam_start_date_value),(null===k||void 0===k?void 0:k.acronym)||"").utc().format("YYYY-MM-DD HH:mm:ss"):null,y=v.a.tz(Object(p.q)(null===g||void 0===g?void 0:g.exam_submitted_date_value),(null===k||void 0===k?void 0:k.acronym)||"").utc().format("YYYY-MM-DD HH:mm:ss"),R={user_id:g.user_id,user_level_id:g.user_level_id,applicant_id:g.applicant_id,workspace_id:A,chapter_module_id:T,user_bootcamp_id:g.user_bootcamp_id,exam_code_id:(null===(c=b.exam_type)||void 0===c||null===(_=c.selected[0])||void 0===_?void 0:_.value)||null,track_ids:JSON.parse(null!==(l=null===b||void 0===b||null===(m=b.exam_type)||void 0===m||null===(h=m.selected[0])||void 0===h?void 0:h.track_ids)&&void 0!==l?l:"[]"),file_url:g.file.link,demo_url:g.url.link,score:g.grade,unlock_type:u.n.EXAM_UNLOCK_TYPES.manual_by_instructor,feedback_content:(null===(E=g.feedback)||void 0===E?void 0:E.content)||null,status:u.Db,unlocked_at:w,ended_at:y,expired_at:y},D={email:g.student_email,name:g.student_name,exam_name:O,chapter_module_id:T,grade:C,exam:{name:O,started_on:w,submitted_on:y},feedback_content:g.feedback,file:Object(d.a)(Object(d.a)({},g.file),{},{submitted_on:y,ended_at:y}),url:Object(d.a)(Object(d.a)({},g.url),{},{submitted_on:g.url.link?y:null,ended_at:y})};return n.props.saveExamRecord(R,D),n.props.toggleShowModal(!1),!1},n.updateSelectValue=function(e,t){"exam_type"===t.dropdown_type&&e.length&&n.props.updateExamOptionDropdown({exam_option_id:e[0].value}),n.setState({dropdowns:Object(d.a)(Object(d.a)({},n.state.dropdowns),{},Object(l.a)({},t.dropdown_type,Object(d.a)(Object(d.a)({},n.state.dropdowns[t.dropdown_type]),{},{selected:e})))})},n.dateAndTimezoneFormat=function(e,t){return"".concat(v.a.tz(Object(p.q)(e),(null===t||void 0===t?void 0:t.acronym)||"").format("MMMM DD, YYYY hh:mm A")," (").concat(v.a.tz((null===t||void 0===t?void 0:t.acronym)||"").zoneAbbr(),")")},n.onClickSetStudentName=function(e){var t=e.user_id,a=e.user_level_id,s=e.applicant_id,r=e.user_bootcamp_id,o=e.full_name,i=e.email_address,c=e.name_and_email_address,_=n.props.user.user_details.workspace.workspace_id;n.props.fetchExamOptionsDropdown({workspace_id:_,user_id:t,applicant_id:s,user_bootcamp_id:r},!1,!0);var l=n.isStudentNotExists(c);n.setState({exam_record:Object(d.a)(Object(d.a)({},n.state.exam_record),{},{user_id:t,user_level_id:a,applicant_id:s,user_bootcamp_id:r,student_name_and_email:c,student_name:o,student_email:i}),is_show_searched_list:!1,is_show_no_user_found:l})},n.onChangeSetStudentName=function(e){n.setState({exam_record:Object(d.a)(Object(d.a)({},n.state.exam_record),{},{student_name_and_email:e})}),e.length>=3?setTimeout((function(){n.props.searchStudents({search_string:e}),n.setState({is_show_searched_list:!0})}),u.Ab.fast):n.setState({is_show_searched_list:!1})},n.onBlurSetStudentName=function(){var e=n.state,t=e.dropdowns,a=e.exam_record,s=n.isStudentNotExists(a.student_name_and_email);s&&n.setState({dropdowns:Object(d.a)(Object(d.a)({},t),{},{exam_option:Object(d.a)(Object(d.a)({},t.exam_option),{},{options:[],selected:[]}),exam_type:Object(d.a)(Object(d.a)({},t.exam_type),{},{options:[],selected:[]})})}),n.setState({is_clicked_input:!1,is_show_no_user_found:s})},n.isStudentNotExists=function(e){var t=n.props.exams.searched_students,a=void 0===t?[]:t;return!a.length||!a.some((function(t){return t.name_and_email_address===e}))},n.datePickerTemplate=function(e,t){return s.a.createElement("div",{class:"date_picker_container"},s.a.createElement("input",{onClick:t,"data-lpignore":"true",autoComplete:"off",value:e}),s.a.createElement("button",{type:"button",onClick:t},s.a.createElement(Te.a,{icon:["fa","calendar-alt"]})))},n.checkExamRecordUrlLink=function(e){n.setState({exam_record:Object(d.a)(Object(d.a)({},n.state.exam_record),{},{url:Object(d.a)(Object(d.a)({},n.state.exam_record.url),{},{link:e.target.value,submitted_on:new Date})})})},n.onChangeExamFeedback=function(e){n.setState({exam_record:Object(d.a)(Object(d.a)({},n.state.exam_record),{},{feedback:{content:e}})})},n.state={dropdowns:{exam_type:{name:"Exam Type",is_show_search:!1,is_multi_select:!1,dropdown_type:"exam_type",selected:[],options:[]},exam_option:{name:"Exam Option",is_show_search:!1,is_multi_select:!1,dropdown_type:"exam_option",selected:[],options:[]}},exam_record:{user_id:null,user_level_id:null,applicant_id:null,user_bootcamp_id:null,active_name_and_email_input:"",student_name_and_email:"",student_name:"",student_email:"",grade:null,url:{name:"",submitted_on:"",link:"",is_late:u.s.NO_VALUE},file:{submitted_on:"",link:"",is_late:u.s.NO_VALUE},exam_start_date_value:null,exam_submitted_date_value:null,feedback:""},search_students_list:[],exam_file_error:null,is_uploading_file:!1,is_show_invalid_grade:!1,is_show_no_user_found:!1,exam_end_hour:null,exam_end_minute:null},n}return Object(_e.a)(a,[{key:"componentDidUpdate",value:function(e){if(e.exams.is_fetching_exam_code_dropdown&&!this.props.exams.is_fetching_exam_code_dropdown){var t=this.state.dropdowns;t.exam_type.options=this.props.exams.exam_types_dropdown,this.setState({dropdowns:t})}if(e.exams.is_updating_exam_code_dropdown&&!this.props.exams.is_updating_exam_code_dropdown){var a=this.state.dropdowns;a.exam_option.selected=[],a.exam_option.options=this.props.exams.exam_options_dropdown,this.setState({dropdowns:a})}if(this.props.exams.exam_file&&"add-exam-modal"===this.props.exams.exam_file.page_modal){var n=this.props.exams.exam_file,s=n.file_name,r=n.file_presigned_url,o=n.file_url;this.setState({exam_record:Object(d.a)(Object(d.a)({},this.state.exam_record),{},{file:{link:o,presigned_url:r,name:s,submitted_on:new Date}}),is_uploading_file:!1}),this.props.clearPresignedURL()}}},{key:"render",value:function(){var e,t,a,n=this,r=this.state,o=r.dropdowns,i=r.exam_record,c=r.exam_file_error,_=r.is_show_invalid_grade,l=r.is_uploading_file,p=r.is_show_no_user_found,m=r.is_show_searched_list,h=r.is_clicked_input,E=this.props,f=E.exams.searched_students,g=void 0===f?[]:f,v=E.workspace_timezone,b=E.set_exam_record,S=!p&&i.user_level_id===u.Jb.admin_instructor&&i.exam_submitted_date_value&&i.file.link&&i.student_email&&i.student_name&&!p&&!c&&!l&&i.grade&&(null===i||void 0===i||null===(e=i.feedback)||void 0===e?void 0:e.content)&&!_?u.Jb.current_student:i.student_name_and_email&&i.exam_start_date_value&&i.exam_submitted_date_value&&i.file.link&&i.student_email&&i.student_name&&!p&&!c&&!l&&o.exam_type.selected.length&&o.exam_option.selected.length&&i.grade&&(null===i||void 0===i||null===(t=i.feedback)||void 0===t?void 0:t.content)&&!_,A=p||i.user_level_id!==u.Jb.admin_instructor?i.student_name_and_email&&i.student_email&&i.student_name&&!p&&o.exam_type.selected.length&&o.exam_option.selected.length:u.Jb.current_student;return s.a.createElement(s.a.Fragment,null,s.a.createElement(De.a,{id:"add_exam_record_modal",onHide:function(){return n.props.toggleShowModal(!1)},backdrop:"static",keyboard:!1,show:this.props.show},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,"Add an Exam Record"),s.a.createElement("button",{type:"button",onClick:function(){return n.props.toggleShowModal(!1)}})),s.a.createElement("form",{action:"",autoComplete:"off",onKeyDown:function(e){if(13==e.keyCode)return e.preventDefault(),!1},onSubmit:function(e){return b&&n.onSubmitAddExamRecord(e)}},s.a.createElement("p",null,"* Required"),s.a.createElement(De.a.Body,{onClick:function(){return!h&&n.setState({is_show_searched_list:!1})}},s.a.createElement("div",{className:"content"},s.a.createElement("h6",{className:"title"},"STUDENT NAME *"),s.a.createElement("input",{disabled:!b,className:b?"":"disabled",id:"search_student_input",value:i.student_name_and_email,onFocus:function(){return i.student_name_and_email.length>3&&n.setState({is_show_searched_list:!0,is_clicked_input:!0})},onBlur:function(){return n.onBlurSetStudentName()},onChange:function(e){return n.onChangeSetStudentName(e.target.value)},placeholder:"Search Student by Name or Email Address",autoComplete:"off",type:"text"}),m&&s.a.createElement("ul",{id:"search_list"},(null===g||void 0===g?void 0:g.length)?g.map((function(e){return s.a.createElement("li",{role:"button",onClick:function(){return n.onClickSetStudentName(e)}},e.name_and_email_address)})):s.a.createElement("li",{role:"button"},"No results found")),i.student_name_and_email.length>3&&!m&&p&&s.a.createElement("p",{id:"user_not_found_error",className:"color_red"},"User not found.")),s.a.createElement("div",{className:"content",id:"exam_type_and_option_container"},s.a.createElement("div",{className:"left_container"},s.a.createElement("h6",{className:"title"},"EXAM TYPE *"),s.a.createElement(Nd,{is_disabled:!b,onUpdateSelectValue:this.updateSelectValue,dropdown:o.exam_type})),s.a.createElement("div",{className:"right_container"},s.a.createElement("h6",{className:"title"},"EXAM OPTION *"),s.a.createElement(Nd,{is_disabled:!b,onUpdateSelectValue:this.updateSelectValue,dropdown:o.exam_option}))),s.a.createElement("div",{id:"exam_dates_container",className:"content"},s.a.createElement("div",{className:"left_container"},s.a.createElement("h6",{className:"title"},"EXAM START DATE *"),s.a.createElement(Pd.a,{disabled:!b,className:b?"":"disabled",value:i.exam_start_date_value,format:"MMMM DD, YYYY HH:mm A",plugins:[s.a.createElement(Ld.a,{hideSeconds:!0,position:"bottom"})],maxDate:i.exam_submitted_date_value,onChange:function(e){return n.setState({exam_record:Object(d.a)(Object(d.a)({},n.state.exam_record),{},{exam_start_date_value:new Date(e)})})},onClose:function(){return setTimeout((function(){n.setState({exam_record:Object(d.a)(Object(d.a)({},n.state.exam_record),{},{exam_submitted_date_value:i.exam_submitted_date_value||new Date(n.state.exam_record.exam_start_date_value)})})}),u.Ab.fastest)},render:function(e,t){return n.datePickerTemplate(e,t)}})),s.a.createElement("div",{className:"right_container"},s.a.createElement("h6",{className:"title"},"EXAM SUBMITTED *"),s.a.createElement(Pd.a,{disabled:!b,className:b?"":"disabled",value:i.exam_submitted_date_value,format:"MMMM DD, YYYY HH:mm A",minDate:i.exam_start_date_value,onChange:function(e){return n.setState({exam_record:Object(d.a)(Object(d.a)({},n.state.exam_record),{},{exam_submitted_date_value:new Date(e)})})},plugins:[s.a.createElement(Ld.a,{position:"bottom",hideSeconds:!0})],render:function(e,t){return n.datePickerTemplate(e,t)}}))),s.a.createElement("div",{id:"exam_file_and_url_container",className:"content"},s.a.createElement("div",{className:"left_container"},s.a.createElement("h6",{className:"title"},"EXAM FILE *"),s.a.createElement("div",{className:"inner_content ".concat(b?"":"disabled")},i.file.link&&i.file.submitted_on&&!l||l||c?s.a.createElement(s.a.Fragment,null,l||c?s.a.createElement(s.a.Fragment,null,c?s.a.createElement("p",{className:"color_red"},c):s.a.createElement("span",{className:"download_loader"})):s.a.createElement("p",null,"".concat(i.file.name," - ").concat(this.dateAndTimezoneFormat(i.file.submitted_on,v))," ",i.file.is_late&&s.a.createElement("span",{className:"color_red"},"Late")," ",s.a.createElement("a",{id:"file_download",target:"_blank",href:i.file.presigned_url||i.file.link,download:!0})),s.a.createElement("label",{disabled:l,className:A?"":"disabled",htmlFor:"upload_exam_file_input"},l?"Re-submitting":"Re-submit")):s.a.createElement("label",{disabled:l,className:A?"":"disabled",htmlFor:"upload_exam_file_input"},"Upload the Exam File"),s.a.createElement("input",{id:"upload_exam_file_input",onChange:function(e){return n.props.onChangeSetFile(n,"exam_record",e,null===i||void 0===i?void 0:i.user_id,"add-exam-modal")},type:"file"}))),s.a.createElement("div",{className:"right_container"},s.a.createElement("h6",{className:"title"},"Deployment URL(optional)"),s.a.createElement("input",{disabled:!b,className:b?"":"disabled",type:"url",value:i.url.link,placeholder:"Add url",onBlur:function(e){return n.checkDemoURL(e)},onChange:function(e){return n.checkExamRecordUrlLink(e)}}))),s.a.createElement("div",{className:"content",id:"exam_score_and_belt_container"},s.a.createElement("div",{className:"left_container"},s.a.createElement("h6",{className:"title"},"EXAM SCORE *"),s.a.createElement("input",{disabled:!b,type:"number",onKeyDown:function(e){return n.props.onCheckInputNumber(e,!1)},onChange:function(e){return n.onChangeSetGrade(parseFloat(e.target.value))},className:"".concat(b?"":"disabled"," ").concat(i.grade>=u.L.pass?"color_green":"color_red"," ").concat(""===i.grade?"show_not_applicable_text":""),value:i.grade}),_&&s.a.createElement("p",{className:"invalid_grade color_red"},"Grade range 0.0-10.0"),s.a.createElement("span",{className:"not_applicable_text"},"N/A")),s.a.createElement("div",{className:"right_container"},s.a.createElement("h6",{className:"title"},"EXAM FEEDBACK *"),s.a.createElement("textarea",{disabled:!b,placeholder:"Type to add a feedback",value:(null===i||void 0===i||null===(a=i.feedback)||void 0===a?void 0:a.content)||"",onChange:function(e){return n.onChangeExamFeedback(e.target.value)}})))),s.a.createElement(De.a.Footer,null,s.a.createElement("button",{type:"button",onClick:function(){return n.props.toggleShowModal(!1)}},"Cancel"),s.a.createElement("button",{type:"submit",disabled:!S||!b,className:S&&b?"":"disabled"},"Confirm")))))}}]),a}(n.Component)),Fd=Na.a.saveExamRecord,xd=Na.a.searchStudents,Bd=Na.a.updateExamOptionDropdown,Wd=vn.a.clearPresignedURL,Hd=Object(p.J)(["exams","user"],{saveExamRecord:Fd,searchStudents:xd,updateExamOptionDropdown:Bd,clearPresignedURL:Wd}),Kd=Hd.mapStateToProps,Gd=Hd.mapDispatchToProps,Vd=Object(ue.b)(Kd,Gd)(Md),qd=(a(1272),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){return Object(ce.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){var e=this.props,t=e.belt_summary_data,a=e.total_results,n=e.total_success_rate;return s.a.createElement("div",{id:"belt_exam_summary_container"},s.a.createElement("h6",null,"Belt Exam Summary"),s.a.createElement("ul",null,s.a.createElement("li",null,"Belt Exam Success Rate ",s.a.createElement("span",{className:"rate green"},n?Math.round(n/(a-((null===t||void 0===t?void 0:t.no_score)||0))*100):0,"%")),s.a.createElement("li",null," ",s.a.createElement("span",{className:"belt_icon red"}),"  Red Belt  ",s.a.createElement("span",{className:"rate"},(null===t||void 0===t?void 0:t.Red)?t.Red:0)," "),s.a.createElement("li",null," ",s.a.createElement("span",{className:"belt_icon black"})," Black Belt ",s.a.createElement("span",{className:"rate"},(null===t||void 0===t?void 0:t.Black)?t.Black:0)),s.a.createElement("li",null," ",s.a.createElement("span",{className:"belt_icon orange"})," Orange Belt ",s.a.createElement("span",{className:"rate"},(null===t||void 0===t?void 0:t.Orange)?t.Orange:0)),s.a.createElement("li",null," ",s.a.createElement("span",{className:"belt_icon yellow"})," Yellow Belt ",s.a.createElement("span",{className:"rate"},(null===t||void 0===t?void 0:t.Yellow)?t.Yellow:0)),s.a.createElement("li",null," ",s.a.createElement("span",{className:"belt_icon white"})," White Belt ",s.a.createElement("span",{className:"rate"},(null===t||void 0===t?void 0:t.White)?t.White:0))))}}]),a}(n.Component)),Yd={exam_type:{name:"Exam Type",is_show_search:!1,is_multi_select:!1,dropdown_type:"exam_type",selected:[],options:[]},filter_exam_type:{name:"Exam Type",is_show_search:!1,is_multi_select:!1,dropdown_type:"filter_exam_type",selected:[],options:[]},exam_option:{name:"Exam Option",is_show_search:!1,is_multi_select:!1,dropdown_type:"exam_option",selected:[],options:[]}},Qd=[{name:"Name",width:180,sort_data:"name"},{name:"Program",width:80,sort_data:"program"},{name:"Course",width:50,sort_data:"stack"},{name:"Exam Name",width:60,sort_data:"exam_name"},{name:"Exam Started on",width:55,sort_data:"exam_started_on"},{name:"Submitted on",width:100,sort_data:"submitted_on"},{name:"URL Submitted on",width:120,sort_data:"url_submitted_on"},{name:"Grade & Belt",width:100,sort_data:"grade_and_belt"},{name:"Time Window",width:55,sort_data:"time_window"}],$d=(a(1273),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).updateLockedStackDropdown=function(e,t,a){e.stopPropagation(),n.props.onUpdateLockedStackStatus(t,a)},n.deleteSelectedStudentStack=function(e,t){e.stopPropagation(),t.selected.length?n.props.onDeleteSelectedStack(t):n.props.onDeleteEmptyStack()},n.customContentRenderer=function(){var e=n.props.dropdown;return s.a.createElement(s.a.Fragment,null,e.selected.length>0?e.selected[0].label:"Search Course Name",s.a.createElement("button",{className:"locked_btn "+(e.is_locked?"is_locked":""),onClick:function(t){return n.updateLockedStackDropdown(t,e,n.props.is_minor_stack)}}),s.a.createElement("button",{className:"delete_btn",onClick:function(t){return n.deleteSelectedStudentStack(t,e)}},s.a.createElement("span",{className:"delete_icon"})))},n.customDropdownRenderer=function(e){var t=e.props,a=e.state,r=e.methods,o=n.props.stack_options.filter((function(e){return e.label.toLowerCase().includes(a.search.toLowerCase())}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"dropdown_search_container"},s.a.createElement("input",{type:"text",value:a.search,onChange:r.setSearch,placeholder:"Search Course"})),s.a.createElement("div",{className:"dropdown_menu"},o.length>0?o.map((function(e){return s.a.createElement("div",{className:"dropdown_item",disabled:e.disabled,key:e[t.valueField],onClick:e.disabled?null:function(){return r.addItem(e)}},s.a.createElement("input",{type:"checkbox",onChange:function(){return e.disabled?void 0:r.addItem(e)},checked:-1!==a.values.indexOf(e)}),s.a.createElement("span",null,e[t.labelField]))})):s.a.createElement("div",{className:"no_results_found"},"No results found.")))},n.state={search:""},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.dropdown,n=t.stack_options,r=t.is_disabled;return s.a.createElement(s.a.Fragment,null,s.a.createElement(es.a,{className:"student_profile_dropdown_select ".concat(a.selected.length>0&&"has_value"," ").concat(a.is_locked?"is_locked":""),contentRenderer:this.customContentRenderer,dropdownRenderer:this.customDropdownRenderer,dropdownHandle:!0,onChange:function(t){return e.props.onUpdateSelectedStackDropdownValue(t,a)},onDropdownClose:function(){return e.setState({search:""})},options:n,disabled:r,placeholder:a.name,dropdownHandleRenderer:function(){return s.a.createElement(Te.a,{icon:["fas","caret-down"]})},values:a.selected}),a.show_warning_notice&&s.a.createElement("p",null,"This schedule contradicts with one of the existing schedules. When this schedule unlocks, the schedule it contradicts with will become inactive."))}}]),a}(n.Component)),zd=(a(1274),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidUpdate=function(e,t){var a=n.props,s=a.student_next_stacks,r=a.is_major_stack;JSON.stringify(e.student_next_stacks)!==JSON.stringify(s)&&n.setState({next_stack_sched_ids:s.map((function(e){return r?e.cc_stack_schedule_id:e.track_id}))})},n.updateSelectedStackDropdownValue=function(e,t){var a=n.state.next_stack_sched_ids,s=n.props,r=s.student_stacks,o=s.is_add_new_stack,i=s.is_major_stack,c=e.length?e:[{}],_=Object(A.a)(c,1)[0],l=_.cc_stack_id,d=_.track_id,u=_.cc_stack_schedule_id,p=i?u:d;(i?l:d)&&a.includes(p)&&r.map((function(a,s){if(a.user_track_id===t.user_track_id)if(o&&!a.selected.length)n.props.processSelectedStudentsNextStack(e[0]);else{var r=Object(A.a)(t.selected,1)[0],c=r.cc_stack_schedule_id,_=r.cc_student_stack_sched_id,l=r.crm_stack_schedule_id,d=i?{cc_stack_schedule_id:c,cc_student_stack_sched_id:_,crm_stack_schedule_id:l}:{user_track_id:t.user_track_id};n.props.updateStudentStackSchedule(e[0],d,s)}}))},n.state={next_stack_sched_ids:[]},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.student_stacks,n=t.student_next_stacks,r=t.isUpdateLockedStackStatus,o=t.is_add_new_stack,i=t.onDeleteEmptyStack,c=t.has_user_access,_=t.showDeleteStackConfirmationModal,l=t.onAddNewStack,d=t.is_major_stack;return s.a.createElement("div",{id:"major_stacks_wrapper"},a.map((function(t,a){return s.a.createElement("div",{className:"input_details_block",key:a},s.a.createElement("span",{className:"label_title"},t.name?t.name.toUpperCase():"COURSE ".concat(a+1)),s.a.createElement($d,{onUpdateLockedStackStatus:r,is_minor_stack:!d,dropdown:t,stack_options:n,onDeleteSelectedStack:_,is_disabled:!(!(null===t||void 0===t?void 0:t.is_disabled)&&c),onUpdateSelectedStackDropdownValue:e.updateSelectedStackDropdownValue,onDeleteEmptyStack:i}))})),c&&s.a.createElement("button",{type:"button",className:"add_stack_btn ".concat(o?"disabled":""),onClick:l},s.a.createElement(Te.a,{icon:["fa","plus"]})," Add a New Course"))}}]),a}(n.Component)),Jd=a(487),Xd=a.n(Jd);a(1275);var Zd=function(e){var t=e.data;return s.a.createElement("div",{id:"copy_to_clipboard_container",className:"".concat(t.is_show?"fade_in":"fade_out"),style:{zIndex:t.zIndex,left:t.position.left,top:t.position.top+t.position.height+5}},s.a.createElement("img",{src:Xd.a,alt:"Copy to clipboard icon"}),s.a.createElement("span",null,t.text))},eu=(a(1276),n.Component,a(1277),n.Component,a(1278),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){return Object(ce.a)(this,a),t.call(this,e)}return Object(_e.a)(a,[{key:"render",value:function(){var e=this.props.student_exam_history;return s.a.createElement("div",{id:"student_profile_exam_records",className:"has_table"},s.a.createElement("table",{className:"student_profile_table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"COURSE"),s.a.createElement("th",null,"DATE"),s.a.createElement("th",null,"EXAM GRADE"))),s.a.createElement("tbody",null,e.length?e.map((function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,e.label),s.a.createElement("td",null,e.formatted_date_unlocked),s.a.createElement("td",null,Number(e.score)?Math.round(100*e.score)/100:e.score))})):s.a.createElement("tr",null,s.a.createElement("td",{colSpan:3,className:"no_results_found"},"No results found.")))))}}]),a}(n.Component)),tu=eu,au=(a(1279),a(1280),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).closeDeleteNoteConfirmationModal=function(e){e.preventDefault(),n.setState({is_delete_student_note_success:!1,is_show_delete_note_confirmation_modal:!1}),n.props.toggleShowModal(!1)},n.submitDeleteNoteConfirmation=function(){n.props.isSubmitDeleteSelectedNote(n.props.selected_note_data)},n.state={is_show_delete_note_confirmation_modal:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.toggleShowModal,n=t.show,r=t.is_delete_student_note_success;return s.a.createElement(De.a,{id:"delete_note_confirmation_modal",backdrop:"static",show:n,onHide:function(t){return e.closeDeleteNoteConfirmationModal(t)}},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,"Confirm to Delete"),s.a.createElement("button",{type:"button",onClick:function(t){return e.closeDeleteNoteConfirmationModal(t)}})),s.a.createElement(De.a.Body,null,s.a.createElement("p",null,r?"Note has been successfully deleted.":"Are you sure you want to delete this note?")),!r&&s.a.createElement(De.a.Footer,null,s.a.createElement("button",{onClick:function(){e.setState({is_show_delete_note_confirmation_modal:!1}),a(!1)}},"Cancel"),s.a.createElement("button",{className:"confirm_btn",onClick:this.submitDeleteNoteConfirmation},"Yes, delete it")))}}]),a}(n.Component)),nu=au,su=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidUpdate=function(e,t){var a=n.props.student_access,s=a.student_profile_data,r=a.is_updating_notes_data,o=n.state.is_show_delete_note_confirmation_modal;r&&!e.student_access.is_updating_notes_data&&(n.setState({notes_data:s.notes}),o&&n.setState({is_delete_student_note_success:!0}))},n.showUpdateSelectedNote=function(e){n.setState({is_active_note_id_update:e})},n.updateSelectedNote=function(e){n.setState({is_active_note_id_update:Object(d.a)(Object(d.a)({},n.state.is_active_note_id_update),{},{admin_note:e.target.value})})},n.addStudentNote=function(e){n.setState({new_note_data:{admin_note:e.target.value}})},n.submitAddStudentNote=function(){var e=n.state,t=e.new_note_data,a=e.notes_type,s=n.props.student_access.student_profile_data,r=s.user_id,o=s.applicant_id,i=s.user_bootcamp_id,c=a.filter((function(e){return e.selected})),_=Object(A.a)(c,1)[0];n.props.addStudentNote({user_id:r,applicant_id:o,note_content:t.admin_note,user_bootcamp_id:i,feedback_type_id:_.value,origin:"admin.student_profile_modal.manage_admin_internal_notes",admin_page:n.props.admin_page}),n.setState({new_note_data:{}})},n.submitUpdateSelectedNote=function(e,t){var a=n.props.student_access.student_profile_data||{},s=a.user_id,r=a.applicant_id,o=t.id,i=t.admin_id,c=n.state.is_active_note_id_update.admin_note;n.props.updateStudentNote({user_id:s,applicant_id:r,admin_id:i,new_content:c,feedback_id:o,feedback_type_id:[u.R.performance_review,u.R.transcript_note],origin:"admin.student_profile_modal.manage_admin_internal_notes"}),n.setState({is_active_note_id_update:!0})},n.deleteSelectedNote=function(e,t){n.setState({is_show_delete_note_confirmation_modal:!0,is_delete_student_note_success:!1,is_active_note_delete:t})},n.isSubmitDeleteSelectedNote=function(e){var t=n.props.student_access.student_profile_data,a=t.user_id,s=t.applicant_id,r=e.id,o=e.admin_id,i=e.notification_id;n.props.deleteStudentNote({user_id:a,applicant_id:s,admin_id:o,feedback_id:r,notification_id:i,feedback_type_id:[u.R.performance_review,u.R.transcript_note],origin:"admin.student_profile_modal.manage_admin_internal_notes",admin_page:n.props.admin_page})},n.state={notes_data:[],new_note_data:{},is_active_note_id_update:{},is_active_note_delete:{},is_show_delete_note_confirmation_modal:!1,is_delete_student_note_success:!1,notes_type:[{label:"Internal Note",selected:!0,value:u.R.performance_review},{label:"Transcript Note",selected:!1,value:u.R.transcript_note}]},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.is_active_note_delete,n=t.is_active_note_id_update,r=t.is_delete_student_note_success,o=t.is_show_delete_note_confirmation_modal,i=t.new_note_data,c=t.notes_data,_=t.notes_type,l=this.props.has_user_access,d=_.filter((function(e){return e.selected}))[0];return s.a.createElement("div",{id:"student_notes_wrapper"},l&&s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{className:"note_message"},s.a.createElement("b",null,"Transcript Notes")," will be reflected on the student`s transcript record. ",s.a.createElement("b",null,"Internal Notes")," are only viewable by admins."),s.a.createElement("div",{className:"add_student_note_block"},s.a.createElement("textarea",{name:"add_student_note",id:"add_student_note",placeholder:"Type to add a new note",value:i&&i.admin_note?i.admin_note:"",onChange:this.addStudentNote}),!n.id&&s.a.createElement("div",{id:"add_note_button_container"},s.a.createElement("button",{className:!(i&&i.admin_note)&&"disabled",type:"button",onClick:this.submitAddStudentNote},"Create an ",d&&d.label),s.a.createElement(es.a,{contentRenderer:function(){return s.a.createElement(Te.a,{icon:"caret-down"})},dropdownHandle:!1,searchable:!1,onChange:function(t){var a=Object(f.a)(e.state.notes_type);a.map((function(e){return e.selected=e.value===t[0].value})),e.setState({notes_type:a})},options:_,values:[d]})))),s.a.createElement("ul",{id:"note_list"},!!c.length&&c.map((function(t){var a=t.id,r=t.admin_id,o=t.profile_url,i=t.admin_note,c=t.admin_name,_=t.user_level,d=t.date_posted,p=t.is_allowed,m=t.feedback_type_id;return s.a.createElement("li",{key:a,"data-note-id":a,"data-admin-id":r,className:n&&n.id===a?"show_update_note_block":""},n&&n.id===a?s.a.createElement("div",{className:"update_selected_note_block"},s.a.createElement("textarea",{name:"student_note",className:"student_note",onChange:function(t){return e.updateSelectedNote(t)},defaultValue:i}),s.a.createElement("button",{className:"save_note_changes_btn "+(n&&n.admin_note?"":"disabled"),onClick:function(a){return e.submitUpdateSelectedNote(a,t)}},"Save Changes")):s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{className:"admin_note_text"},i),s.a.createElement("div",{className:"action_details_wrapper"},s.a.createElement("div",{className:"admin_details"},s.a.createElement("img",{src:o||"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:c+" Admin Profile"}),s.a.createElement("span",{className:"admin_name"},c),s.a.createElement("span",{className:"user_level"},_),s.a.createElement("span",{className:"date_posted"},v()(d).format("LL")),s.a.createElement("span",{className:"note_type"},m===u.R.performance_review?"Internal Note":"Transcript Note")),l&&!!p&&s.a.createElement("div",{className:"action_btn"},s.a.createElement("button",{className:"edit_note",onClick:function(){return e.showUpdateSelectedNote(t)}}),s.a.createElement("button",{className:"delete_note",onClick:function(a){return e.deleteSelectedNote(a,t)}})))))})),!c.length&&!l&&s.a.createElement("li",{className:"no_note_item"},"There is no note yet!")),s.a.createElement(nu,{isSubmitDeleteSelectedNote:this.isSubmitDeleteSelectedNote,selected_note_data:a,is_delete_student_note_success:r,show:o,toggleShowModal:function(){return Object(p.W)(e,"is_show_delete_note_confirmation_modal",!1)}}))}}]),a}(n.Component),ru=su,ou=(a(1281),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).state={},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this.props.student_access.student_profile_data.hubspot;return s.a.createElement("div",{id:"student_profile_information_wrapper"},s.a.createElement("p",null,"This information is collected through the Coding Dojo Hubspot CRM"),s.a.createElement("ul",{className:"list-unstyled",id:"student_info_list"},s.a.createElement("li",null,s.a.createElement("h5",null,"EDUCATION/EXPERIENCE"),s.a.createElement("p",null,"How many hours have you dedicated to practicing the skills needed for your program?"),s.a.createElement("ul",{className:"list-unstyled student_answers"},(null===e||void 0===e?void 0:e.hours_practicing_skills)&&s.a.createElement("li",null,e.hours_practicing_skills))),s.a.createElement("li",null,s.a.createElement("h5",null,"CONCERNS"),s.a.createElement("p",null,"Are there any life events that may occur during the course of your bootcamp that we should know about?"),s.a.createElement("ul",{className:"list-unstyled student_answers"},(null===e||void 0===e?void 0:e.expected_life_events)&&s.a.createElement("li",null,e.expected_life_events)))))}}]),a}(n.Component)),iu=ou,cu=(a(1282),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).closeDeleteStackConfirmationModal=function(e){e.preventDefault(),n.setState({is_show_delete_stack_confirmation_modal:!1}),n.props.toggleShowModal(!1)},n.submitDeleteStackConfirmation=function(){n.props.isSubmitDeleteSelectedStack(n.props.selected_stack_data)},n.state={is_show_delete_stack_confirmation_modal:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.toggleShowModal,n=t.show,r=t.is_delete_student_stack_success;return s.a.createElement(De.a,{id:"delete_stack_confirmation_modal",backdrop:"static",show:n,onHide:function(t){return e.closeDeleteStackConfirmationModal(t)}},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,"Confirm to Delete"),s.a.createElement("button",{type:"button",onClick:function(t){return e.closeDeleteStackConfirmationModal(t)}})),s.a.createElement(De.a.Body,null,s.a.createElement("p",null,r?"Course has been successfully deleted.":"Are you sure you want to delete this course?")),!r&&s.a.createElement(De.a.Footer,null,s.a.createElement("button",{onClick:function(){e.setState({is_show_delete_stack_confirmation_modal:!1}),a(!1)}},"Cancel"),s.a.createElement("button",{className:"confirm_btn",onClick:this.submitDeleteStackConfirmation},"Yes, delete it")))}}]),a}(n.Component)),_u=cu,lu=(a(1283),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidUpdate=function(){n.state.is_show_success_message&&n.props.show&&setTimeout((function(){n.props.toggleShowModal(!1),n.setState({is_show_success_message:!1})}),u.Ab.slower)},n.state={is_show_success_message:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.toggleShowModal,n=t.show,r=t.student;return s.a.createElement(De.a,{id:"disable_student_access_modal",show:n,onHide:function(){e.setState({is_show_success_message:!1}),a(!1)}},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,"Confirm to Deactivate Student Access"),s.a.createElement("button",{type:"button",onClick:function(){e.setState({is_show_success_message:!1}),a(!1)}})),s.a.createElement(De.a.Body,null,this.state.is_show_success_message?s.a.createElement("p",null,r.name,"'s account has been successfully deactivated."):s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"Are you sure you want to deactivate ",s.a.createElement("span",null,r.name),"'s access?"),s.a.createElement("form",{onSubmit:function(){e.setState({is_show_success_message:!0}),e.props.changeProgramStatus({target:{checked:!1}},r,!0)}},s.a.createElement("button",{type:"button",onClick:function(){return a(!1)}},"Cancel"),s.a.createElement("button",{type:"submit"},"Yes, deactivate it")))))}}]),a}(n.Component)),du=lu,uu=(a(1284),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidUpdate=function(){n.state.is_show_success_message&&n.props.show&&setTimeout((function(){n.props.toggleShowModal(!1),n.setState({is_show_success_message:!1})}),u.Ab.slower)},n.state={is_show_success_message:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.toggleShowModal,n=t.show,r=t.student,o=t.date,i=t.onUpdateBootcampExpiration;return s.a.createElement(De.a,{id:"confirm_extend_access_modal",show:n,onHide:function(){e.setState({is_show_success_message:!1}),a(!1)}},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,"Extend Access"),s.a.createElement("button",{type:"button",onClick:function(){e.setState({is_show_success_message:!1}),a(!1)}})),s.a.createElement(De.a.Body,null,this.state.is_show_success_message?s.a.createElement("p",null,r.name,"'s access date has been successfully updated."):s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"Extend ",s.a.createElement("span",null,r.name),"'s access? to ",s.a.createElement("span",null,o)),s.a.createElement("form",{onSubmit:function(){i(r,o),e.setState({is_show_success_message:!0})}},s.a.createElement("button",{type:"button",onClick:function(){return a(!1)}},"Cancel"),s.a.createElement("button",{type:"submit"},"Save Changes")))))}}]),a}(n.Component)),pu=uu,mu=(a(1285),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){return Object(ce.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){var e=this.props,t=e.onChange,a=e.selected,n=e.dateFormat,r=e.placeholderText,o=e.value,i=e.is_allowed;return s.a.createElement("div",{className:"student_access_date_picker"},i?s.a.createElement(Ut.a,{popperPlacement:"bottom-end",selected:a,onChange:t,dateFormat:n,placeholderText:r}):s.a.createElement("span",{className:"student_access_date_picker_label"},o))}}]),a}(n.Component)),hu=mu,Eu=a(10),fu=(n.Component,function(e){Object(le.a)(n,e);var t=Object(de.a)(n);function n(e){var a;return Object(ce.a)(this,n),(a=t.call(this,e)).transcript_styles=Eu.f.create(u.Cb),a}return Object(_e.a)(n,[{key:"render",value:function(){for(var e,t,n,r,o,i,c=this.props,_=c.student,l=c.student_profile,p=c.transcript_note_feedback,m=(c.total_data,c.all_program_total_data),h=this.transcript_styles,E=[],f=[],g=[],b=0;b<=(null===_||void 0===_?void 0:_.length);b++){var S,A;(null===_||void 0===_||null===(S=_[b])||void 0===S?void 0:S.latest_application_status)>=u.A.current_student&&(null===_||void 0===_||null===(A=_[b])||void 0===A?void 0:A.latest_application_status)!==u.A.qa_review&&g.push(b)}var k=[].concat(g).shift(),O=null===g||void 0===g?void 0:g.slice(-1).pop();return s.a.createElement(Eu.b,null,(null===_||void 0===_||null===(e=_[0])||void 0===e?void 0:e.latest_application_status)>=u.A.current_student&&(null===_||void 0===_||null===(t=_[0])||void 0===t?void 0:t.latest_application_status)!==u.A.qa_review&&s.a.createElement(Eu.e,{style:h.page},s.a.createElement(Eu.h,{style:h.header},s.a.createElement(Eu.c,{style:h.cd_logo,src:a(325)}),s.a.createElement(Eu.g,{style:h.title},"Coding Dojo Official Transcript"),s.a.createElement(Eu.g,{style:h.address},l.workspace_id===u.Xb.codingdojo?"1575 Garden of the Gods Road Suite 100, Colorado Springs, CO 80907, (844) 446-3656 www.codingdojo.com":null)),s.a.createElement(Eu.h,{style:h.student_info},s.a.createElement(Eu.h,{style:h.text_block},s.a.createElement(Eu.g,{style:h.label},"Student Name"),s.a.createElement(Eu.g,{style:h.value},null===l||void 0===l?void 0:l.name)),s.a.createElement(Eu.h,{style:h.text_block},s.a.createElement(Eu.g,{style:h.label},"STUDENT ID"),s.a.createElement(Eu.g,{style:h.value},null===l||void 0===l?void 0:l.user_id)),s.a.createElement(Eu.h,{style:Object(d.a)(Object(d.a)({},h.text_block),{},{paddingLeft:20})},s.a.createElement(Eu.g,{style:h.label},"DATE ISSUED"),s.a.createElement(Eu.g,{style:h.value},v()(Date.now()).format("MM/DD/YY"))),s.a.createElement(Eu.h,{style:h.text_block},s.a.createElement(Eu.g,{style:h.label},"CAMPUS LOCATION"),s.a.createElement(Eu.g,{style:h.value},l.workspace_id===u.Xb.codingdojo?(null===_||void 0===_?void 0:_[0].campus)+", "+(null===u.H||void 0===u.H||null===(n=u.H[null===_||void 0===_?void 0:_[0].location_id])||void 0===n?void 0:n.state):null===_||void 0===_?void 0:_[0].campus)),s.a.createElement(Eu.h,{style:h.text_block},s.a.createElement(Eu.g,{style:h.label},"PROGRAM"),s.a.createElement(Eu.g,{style:h.value},null===_||void 0===_?void 0:_[0].program)),s.a.createElement(Eu.h,{style:Object(d.a)(Object(d.a)({},h.text_block),{},{paddingLeft:20})},s.a.createElement(Eu.g,{style:h.label},"STUDENT STATUS"),s.a.createElement(Eu.g,{style:h.value},u.vb[null===_||void 0===_?void 0:_[0].latest_application_status]||null)),s.a.createElement(Eu.h,{style:Object(d.a)(Object(d.a)({},h.text_block),{},{marginBottom:0})},s.a.createElement(Eu.g,{style:h.label},"PROGRAM START DATE"),s.a.createElement(Eu.g,{style:h.value},v()(null===_||void 0===_?void 0:_[0].bootcamp_start_date).format("MM/DD/YY"))),s.a.createElement(Eu.h,{style:Object(d.a)(Object(d.a)({},h.text_block),{},{marginBottom:0})},s.a.createElement(Eu.g,{style:h.label},"PROGRAM END DATE"),s.a.createElement(Eu.g,{style:h.value},v()(null===_||void 0===_?void 0:_[0].bootcamp_end_date).format("MM/DD/YY"))),s.a.createElement(Eu.h,{style:Object(d.a)(Object(d.a)({},h.text_block),{},{marginBottom:0,paddingLeft:20})},s.a.createElement(Eu.g,{style:h.label},"GRADUATION DATE"),s.a.createElement(Eu.g,{style:h.value},(null===_||void 0===_?void 0:_[0].graduated_at)?v()(null===_||void 0===_?void 0:_[0].graduated_at).format("MM/DD/YY"):"N/A"))),s.a.createElement(Eu.h,{style:h.section},s.a.createElement(Eu.g,{style:h.stack_title},"Course History"),s.a.createElement(Eu.h,{style:Object(d.a)(Object(d.a)({},h.row),{},{marginBottom:10})},s.a.createElement(Eu.g,{style:h.stack_label},"DATE"),s.a.createElement(Eu.g,{style:Object(d.a)(Object(d.a)({},h.stack_label),{},{width:"120%"})},"COURSE"),s.a.createElement(Eu.g,{style:h.stack_label},"ASSIGNMENT"),s.a.createElement(Eu.g,{style:h.stack_label},"ATTENDANCE"),s.a.createElement(Eu.g,{style:h.stack_label},"EXAM GRADE")),(null===_||void 0===_?void 0:_[0].transcript_stacks)&&(null===_||void 0===_?void 0:_[0].transcript_stacks.length)?null===_||void 0===_?void 0:_[0].transcript_stacks.map((function(e,t){return e.is_retaken_stack?null:s.a.createElement(Eu.h,{style:Object(d.a)(Object(d.a)({},h.row),{},{marginBottom:5}),key:t},s.a.createElement(Eu.g,{style:h.stack_value},v()(e.cc_stack_start_date).format("MM/DD/YY")+" - "+v()(e.cc_stack_end_date).format("MM/DD/YY")),s.a.createElement(Eu.g,{style:Object(d.a)(Object(d.a)({},h.stack_value),{},{width:"120%"})},e.attempt_order>u.s.NO_VALUE?e.track_name+" (RT)":e.track_name),s.a.createElement(Eu.g,{style:h.stack_value},e.assignment_percentage||"".concat(u.s.NO_VALUE,"%")),s.a.createElement(Eu.g,{style:h.stack_value},e.attendance_percentage||"".concat(u.s.NO_VALUE,"%")),s.a.createElement(Eu.g,{style:h.stack_value},e.belt_score?e.belt_score+"/10 ("+e.belt_color+", "+e.user_exam_date+")":null))})):null,m.map((function(e,t){if(0===t)return s.a.createElement(Eu.h,{style:h.row,key:t},s.a.createElement(Eu.g,{style:h.stack_label},"Totals"),s.a.createElement(Eu.g,{style:Object(d.a)(Object(d.a)({},h.stack_value),{},{width:"120%"})}),s.a.createElement(Eu.g,{style:h.stack_value},e.all_program_average_total_assignment?e.all_program_average_total_assignment+"%":"".concat(u.s.NO_VALUE,"%")),s.a.createElement(Eu.g,{style:h.stack_value},e.all_program_average_total_attendance?e.all_program_average_total_attendance+"%":"".concat(u.s.NO_VALUE,"%")),s.a.createElement(Eu.g,{style:h.stack_value}))}))),(null===_||void 0===_?void 0:_[0].transcript_stacks)?null===_||void 0===_?void 0:_[0].transcript_stacks.map((function(e,t){e.is_retaken_stack&&E.push(e.is_retaken_stack)})):null,(null===_||void 0===_?void 0:_[0].transcript_stacks)&&E.length?s.a.createElement(Eu.h,{style:h.section},s.a.createElement(Eu.g,{style:h.stack_title},"Retaken Course(s)"),s.a.createElement(Eu.h,{style:Object(d.a)(Object(d.a)({},h.row),{},{marginBottom:10})},s.a.createElement(Eu.g,{style:h.stack_label},"DATE"),s.a.createElement(Eu.g,{style:Object(d.a)(Object(d.a)({},h.stack_label),{},{width:"120%"})},"COURSE"),s.a.createElement(Eu.g,{style:h.stack_label},"ASSIGNMENT"),s.a.createElement(Eu.g,{style:h.stack_label},"ATTENDANCE"),s.a.createElement(Eu.g,{style:h.stack_label},"EXAM GRADE")),(null===_||void 0===_?void 0:_[0].transcript_stacks)?null===_||void 0===_?void 0:_[0].transcript_stacks.map((function(e,t){return e.is_retaken_stack?s.a.createElement(Eu.h,{style:Object(d.a)(Object(d.a)({},h.row),{},{marginBottom:5}),key:t},s.a.createElement(Eu.g,{style:h.stack_value},v()(e.cc_stack_start_date).format("MM/DD/YY")+" - "+v()(e.cc_stack_end_date).format("MM/DD/YY")),s.a.createElement(Eu.g,{style:Object(d.a)(Object(d.a)({},h.stack_value),{},{width:"120%"})},e.attempt_order>u.s.NO_VALUE?e.track_name+" (RT)":e.track_name),s.a.createElement(Eu.g,{style:h.stack_value},e.assignment_percentage||"".concat(u.s.NO_VALUE,"%")),s.a.createElement(Eu.g,{style:h.stack_value},e.attendance_percentage||"".concat(u.s.NO_VALUE,"%")),s.a.createElement(Eu.g,{style:h.stack_value},e.belt_score?e.belt_score+"/10 ("+e.belt_color+", "+e.user_exam_date+")":null)):null})):null,m.map((function(e,t){if(0===t)return s.a.createElement(Eu.h,{style:h.row,key:t},s.a.createElement(Eu.g,{style:h.stack_label},"Totals"),s.a.createElement(Eu.g,{style:Object(d.a)(Object(d.a)({},h.stack_value),{},{width:"120%"})}),s.a.createElement(Eu.g,{style:h.stack_value},e.all_program_retaken_average_total_assignment?e.all_program_retaken_average_total_assignment+"%":"".concat(u.s.NO_VALUE,"%")),s.a.createElement(Eu.g,{style:h.stack_value},e.all_program_retaken_average_total_attendance?e.all_program_retaken_average_total_attendance+"%":"".concat(u.s.NO_VALUE,"%")),s.a.createElement(Eu.g,{style:h.stack_value}))}))):null,(null===_||void 0===_||null===(r=_[0])||void 0===r?void 0:r.transcript_note.length)?s.a.createElement(Eu.h,null,s.a.createElement(Eu.g,{style:Object(d.a)(Object(d.a)({},h.stack_label),{},{fontSize:8,marginTop:15})},"Additional Info"),(null===_||void 0===_||null===(o=_[0])||void 0===o?void 0:o.transcript_note)?null===_||void 0===_||null===(i=_[0])||void 0===i?void 0:i.transcript_note.map((function(e,t){return s.a.createElement(Eu.h,{style:Object(d.a)(Object(d.a)({},h.row),{},{marginBottom:5}),key:t},s.a.createElement(Eu.g,{style:h.stack_value},e))})):null):null,1===(null===g||void 0===g?void 0:g.length)&&s.a.createElement(Eu.h,{style:h.signature},s.a.createElement(Eu.c,{src:a(326),style:h.signature_image}),s.a.createElement(Eu.g,null,"Amanda Russell"),s.a.createElement(Eu.g,{style:{marginLeft:10}},"Chief of Staff"))),(null===_||void 0===_?void 0:_.length)>1&&(null===_||void 0===_?void 0:_.map((function(e,t){var n;if(0!==t&&e.latest_application_status>=u.A.current_student&&e.latest_application_status!==u.A.qa_review)return s.a.createElement(Eu.e,{style:h.page,key:t},t===k&&e.latest_application_status>=u.A.current_student&&e.latest_application_status!==u.A.qa_review&&s.a.createElement(Eu.h,{style:h.header},s.a.createElement(Eu.c,{style:h.cd_logo,src:a(325)}),s.a.createElement(Eu.g,{style:h.title},"Coding Dojo Official Transcript"),s.a.createElement(Eu.g,{style:h.address},l.workspace_id===u.Xb.codingdojo?"1575 Garden of the Gods Road Suite 100, Colorado Springs, CO 80907, (844) 446-3656 www.codingdojo.com":null)),s.a.createElement(Eu.h,{style:h.student_info},t===k&&e.latest_application_status>=u.A.current_student&&e.latest_application_status!==u.A.qa_review&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Eu.h,{style:h.text_block},s.a.createElement(Eu.g,{style:h.label},"Student Name"),s.a.createElement(Eu.g,{style:h.value},null===l||void 0===l?void 0:l.name)),s.a.createElement(Eu.h,{style:h.text_block},s.a.createElement(Eu.g,{style:h.label},"STUDENT ID"),s.a.createElement(Eu.g,{style:h.value},null===l||void 0===l?void 0:l.user_id)),s.a.createElement(Eu.h,{style:Object(d.a)(Object(d.a)({},h.text_block),{},{paddingLeft:20})},s.a.createElement(Eu.g,{style:h.label},"DATE ISSUED"),s.a.createElement(Eu.g,{style:h.value},v()(Date.now()).format("MM/DD/YY")))),s.a.createElement(Eu.h,{style:h.text_block},s.a.createElement(Eu.g,{style:h.label},"CAMPUS LOCATION"),s.a.createElement(Eu.g,{style:h.value},l.workspace_id===u.Xb.codingdojo?(null===e||void 0===e?void 0:e.campus)+", "+(null===u.H||void 0===u.H||null===(n=u.H[null===e||void 0===e?void 0:e.location_id])||void 0===n?void 0:n.state):null===e||void 0===e?void 0:e.campus)),s.a.createElement(Eu.h,{style:h.text_block},s.a.createElement(Eu.g,{style:h.label},"PROGRAM"),s.a.createElement(Eu.g,{style:h.value},e.program)),s.a.createElement(Eu.h,{style:Object(d.a)(Object(d.a)({},h.text_block),{},{paddingLeft:20})},s.a.createElement(Eu.g,{style:h.label},"STUDENT STATUS"),s.a.createElement(Eu.g,{style:h.value},u.vb[e.latest_application_status]||null)),s.a.createElement(Eu.h,{style:Object(d.a)(Object(d.a)({},h.text_block),{},{marginBottom:0})},s.a.createElement(Eu.g,{style:h.label},"PROGRAM START DATE"),s.a.createElement(Eu.g,{style:h.value},v()(e.bootcamp_start_date).format("MM/DD/YY"))),s.a.createElement(Eu.h,{style:Object(d.a)(Object(d.a)({},h.text_block),{},{marginBottom:0})},s.a.createElement(Eu.g,{style:h.label},"PROGRAM END DATE"),s.a.createElement(Eu.g,{style:h.value},v()(e.bootcamp_end_date).format("MM/DD/YY"))),s.a.createElement(Eu.h,{style:Object(d.a)(Object(d.a)({},h.text_block),{},{marginBottom:0,paddingLeft:20})},s.a.createElement(Eu.g,{style:h.label},"GRADUATION DATE"),s.a.createElement(Eu.g,{style:h.value},e.graduated_at?v()(e.graduated_at).format("MM/DD/YY"):"N/A"))),e.transcript_stacks.length?s.a.createElement(Eu.h,{style:h.section},s.a.createElement(Eu.g,{style:h.stack_title},"Course History"),s.a.createElement(Eu.h,{style:Object(d.a)(Object(d.a)({},h.row),{},{marginBottom:10})},s.a.createElement(Eu.g,{style:h.stack_label},"DATE"),s.a.createElement(Eu.g,{style:Object(d.a)(Object(d.a)({},h.stack_label),{},{width:"120%"})},"COURSE"),s.a.createElement(Eu.g,{style:h.stack_label},"ASSIGNMENT"),s.a.createElement(Eu.g,{style:h.stack_label},"ATTENDANCE"),s.a.createElement(Eu.g,{style:h.stack_label},"EXAM GRADE")),e.transcript_stacks?null===e||void 0===e?void 0:e.transcript_stacks.map((function(e,t){return e.is_retaken_stack?null:s.a.createElement(Eu.h,{style:Object(d.a)(Object(d.a)({},h.row),{},{marginBottom:5}),key:t},s.a.createElement(Eu.g,{style:h.stack_value},v()(e.cc_stack_start_date).format("MM/DD/YY")+" - "+v()(e.cc_stack_end_date).format("MM/DD/YY")),s.a.createElement(Eu.g,{style:Object(d.a)(Object(d.a)({},h.stack_value),{},{width:"120%"})},e.attempt_order>u.s.NO_VALUE?e.track_name+" (RT)":e.track_name),s.a.createElement(Eu.g,{style:h.stack_value},e.assignment_percentage||"".concat(u.s.NO_VALUE,"%")),s.a.createElement(Eu.g,{style:h.stack_value},e.attendance_percentage||"".concat(u.s.NO_VALUE,"%")),s.a.createElement(Eu.g,{style:h.stack_value},e.belt_score?e.belt_score+"/10 ("+e.belt_color+", "+e.user_exam_date+")":null))})):null,s.a.createElement(Eu.h,{style:h.row},s.a.createElement(Eu.g,{style:h.stack_label},"Totals"),s.a.createElement(Eu.g,{style:Object(d.a)(Object(d.a)({},h.stack_value),{},{width:"120%"})}),s.a.createElement(Eu.g,{style:h.stack_value},m[t].all_program_average_total_assignment?m[t].all_program_average_total_assignment+"%":"".concat(u.s.NO_VALUE,"%")),s.a.createElement(Eu.g,{style:h.stack_value},m[t].all_program_average_total_attendance?m[t].all_program_average_total_attendance+"%":"".concat(u.s.NO_VALUE,"%")),s.a.createElement(Eu.g,{style:h.stack_value}))):null,e.transcript_stacks.length?e.transcript_stacks.map((function(e,t){e.is_retaken_stack&&f.push(e.is_retaken_stack)})):null,e.transcript_stacks.length&&f.length?s.a.createElement(Eu.h,{style:h.section},s.a.createElement(Eu.g,{style:h.stack_title},"Retaken Course(s)"),s.a.createElement(Eu.h,{style:Object(d.a)(Object(d.a)({},h.row),{},{marginBottom:10})},s.a.createElement(Eu.g,{style:h.stack_label},"DATE"),s.a.createElement(Eu.g,{style:Object(d.a)(Object(d.a)({},h.stack_label),{},{width:"120%"})},"COURSE"),s.a.createElement(Eu.g,{style:h.stack_label},"ASSIGNMENT"),s.a.createElement(Eu.g,{style:h.stack_label},"ATTENDANCE"),s.a.createElement(Eu.g,{style:h.stack_label},"EXAM GRADE")),e.transcript_stacks?e.transcript_stacks.map((function(e,t){return e.is_retaken_stack?s.a.createElement(Eu.h,{style:Object(d.a)(Object(d.a)({},h.row),{},{marginBottom:5}),key:t},s.a.createElement(Eu.g,{style:h.stack_value},v()(e.cc_stack_start_date).format("MM/DD/YY")+" - "+v()(e.cc_stack_end_date).format("MM/DD/YY")),s.a.createElement(Eu.g,{style:Object(d.a)(Object(d.a)({},h.stack_value),{},{width:"120%"})},e.attempt_order>u.s.NO_VALUE?e.track_name+" (RT)":e.track_name),s.a.createElement(Eu.g,{style:h.stack_value},e.assignment_percentage||"".concat(u.s.NO_VALUE,"%")),s.a.createElement(Eu.g,{style:h.stack_value},e.attendance_percentage||"".concat(u.s.NO_VALUE,"%")),s.a.createElement(Eu.g,{style:h.stack_value},e.belt_score?e.belt_score+"/10 ("+e.belt_color+", "+e.user_exam_date+")":null)):null})):null,s.a.createElement(Eu.h,{style:h.row},s.a.createElement(Eu.g,{style:h.stack_label},"Totals"),s.a.createElement(Eu.g,{style:Object(d.a)(Object(d.a)({},h.stack_value),{},{width:"120%"})}),s.a.createElement(Eu.g,{style:h.stack_value},m[t].all_program_retaken_average_total_assignment?m[t].all_program_retaken_average_total_assignment+"%":"".concat(u.s.NO_VALUE,"%")),s.a.createElement(Eu.g,{style:h.stack_value},m[t].all_program_retaken_average_total_attendance?m[t].all_program_retaken_average_total_attendance+"%":"".concat(u.s.NO_VALUE,"%")),s.a.createElement(Eu.g,{style:h.stack_value}))):null,e.transcript_note.length?s.a.createElement(Eu.h,null,s.a.createElement(Eu.g,{style:Object(d.a)(Object(d.a)({},h.stack_label),{},{fontSize:8,marginTop:15})},"Additional Info"),p.length&&e.applicant_id===l.applicant_id?p.map((function(e,t){return s.a.createElement(Eu.h,{style:Object(d.a)(Object(d.a)({},h.row),{},{marginBottom:5}),key:t},s.a.createElement(Eu.g,{style:h.stack_value},e))})):e.transcript_note?e.transcript_note.map((function(e,t){return s.a.createElement(Eu.h,{style:Object(d.a)(Object(d.a)({},h.row),{},{marginBottom:5}),key:t},s.a.createElement(Eu.g,{style:h.stack_value},e))})):null):null,t===O&&s.a.createElement(Eu.h,{style:h.signature},s.a.createElement(Eu.c,{src:a(326),style:h.signature_image}),s.a.createElement(Eu.g,null,"Amanda Russell"),s.a.createElement(Eu.g,{style:{marginLeft:10}},"Chief of Staff")))}))))}}]),n}(n.Component)),gu=fu,vu=(a(1366),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidUpdate=function(e,t){var a=n.props.student_access.student_profile_data||{},s=a.user_id,r=a.applicant_id;e.student_access.is_reset_state||e.student_access.is_reset_state===n.props.student_access.is_reset_state||(n.state.is_delete_student_stack&&n.setState({is_delete_student_stack:!1,is_delete_student_stack_success:!0}),n.setState({is_add_new_stack:!1})),n.state.is_trigger_auto_show_note_tab&&s&&r&&(n.updateActiveTabComponents(n.props.default_active_tab),n.setState({is_trigger_auto_show_note_tab:!1}))},n.closeCreateStudentModal=function(){n.setState({is_show_student_profile_account_modal:!1,is_assignment_feedback_show:!1,student_profile_tab_active:u.ub.major_stacks,is_add_new_stack:!1}),n.props.toggleShowModal(!1)},n.updateActiveTabComponents=function(e){var t=n.props.student_access.student_profile_data,a=t.user_id,s=t.applicant_id,r=t.user_bootcamp_id,o=t.program_type_id,i=t.location_id;if(a&&s&&n.state.student_profile_tab_active!==e||!a&&!s&&n.props.default_active_tab===u.ub.notes&&e===u.ub.notes){if(n.setState({student_profile_tab_active:e}),e===u.ub.major_stacks||e===u.ub.minor_stacks){var c={user_id:a,applicant_id:s,user_bootcamp_id:r,program_type_ids:[o],location_ids:[i]};e===u.ub.minor_stacks&&(c.is_minor_track=!0),n.props.getNextStackOptionsList(c)}else e===u.ub.exam_records?n.props.getStudentExamHistories({user_id:a,program_type_id:o}):e===u.ub.notes?n.props.fetchStudentNote({user_id:a,applicant_id:s,feedback_type_id:[u.R.performance_review,u.R.transcript_note]}):e===u.ub.student_info&&n.props.fetchStudentInfo({user_id:a,applicant_id:s,admin_page:n.props.admin_page});n.state.is_add_new_stack&&n.setState({is_add_new_stack:!1})}},n.setShowAssignmentFeedback=function(e){n.setState({is_assignment_feedback_show:e})},n.studentAccessActiveTabComponent=function(e,t){var a=n.state,r=a.is_add_new_stack,o=a.student_profile_tab_active;return[u.ub.major_stacks,u.ub.minor_stacks].includes(o)?s.a.createElement(zd,{student_stacks:(null===e||void 0===e?void 0:e.stack_schedules)||[],isUpdateLockedStackStatus:n.isUpdateLockedStackStatus,student_next_stacks:(null===e||void 0===e?void 0:e.offered_stack_schedules)||[],processSelectedStudentsNextStack:n.processSelectedStudentsNextStack,updateStudentStackSchedule:n.updateStudentStackSchedule,onAddNewStack:n.addNewStack,is_add_new_stack:r,onDeleteEmptyStack:n.deleteEmptyStack,has_user_access:t.set_stack_schedule,showDeleteStackConfirmationModal:n.showDeleteStackConfirmationModal,is_major_stack:o===u.ub.major_stacks}):o===u.ub.notes?s.a.createElement(ru,{fetchStudentNote:n.props.fetchStudentNote,addStudentNote:n.props.addStudentNote,deleteStudentNote:n.props.deleteStudentNote,updateStudentNote:n.props.updateStudentNote,student_access:n.props.student_access,has_user_access:t.manage_admin_internal_notes,admin_page:n.props.admin_page}):o===u.ub.exam_records?s.a.createElement(tu,{student_exam_history:e.exam_histories||[]}):o===u.ub.student_info?s.a.createElement(iu,{student_access:n.props.student_access}):void 0},n.updateStackAccessStatus=function(e,t,a){var s={user_id:t.user_id,applicant_id:t.applicant_id,user_track_id:e.user_track_id,stack_start_date:e.cc_stack_start_date,receiving_stack_status:Number(e.is_locked),is_minor_track:a,admin_page:n.props.admin_page};n.props.updateStudentStackAccessStatus(s)},n.processSelectedStudentsNextStack=function(e){var t=n.state.student_profile_tab_active===u.ub.major_stacks,a=n.props.student_data,s={selected_user_ids:[a.id],selected_applicants_ids:[a.applicant_id],cc_stack_id:e.cc_stack_id,cc_stack_schedule_id:e.cc_stack_schedule_id,stack_start_date:e.start_date,stack_end_date:e.end_date,is_from_student_profile:!0,admin_page:n.props.admin_page,origin:"admin.rostering.view_student_rostering.set_student_stack"};t||(s=Object(d.a)(Object(d.a)({},s),{},{track_id:e.track_id,is_minor_track:!t})),n.props.processSelectedStudentsNextStack(s)},n.updateStudentStackSchedule=function(e,t,a){var s=n.state.student_profile_tab_active===u.ub.major_stacks,r=n.props.student_data,o=r.id,i=r.applicant_id,c={add_stack_schedules:[{selected_user_ids:[o],selected_applicants_ids:[i],cc_stack_id:e.cc_stack_id,stack_start_date:e.start_date,stack_end_date:e.end_date,track_id:e.track_id,delete_student_stack_sched:t,is_from_student_profile:!0,to_update_stack_schedule:!0}],user_id:o,applicant_id:i,stack_index:a,admin_page:n.props.admin_page};s||(c.is_minor_track=!s),n.props.updateStudentStackSchedule(c)},n.isUpdateLockedStackStatus=function(e,t){var a=n.props.student_data,s=a.id,r=a.applicant_id;n.state.is_add_new_stack&&!e.selected.length||n.updateStackAccessStatus(e,{user_id:s,applicant_id:r},t)},n.addNewStack=function(){var e,t=(null===(e=n.props.student_access.student_profile_data)||void 0===e?void 0:e.stack_schedules)||[],a=n.state.empty_stack_data;t.push(a),n.setState({current_stack_data:t,is_add_new_stack:!0})},n.deleteEmptyStack=function(){n.props.student_access.student_profile_data.stack_schedules.pop(),n.setState({current_stack_data:n.props.student_access.student_profile_data.stack_schedules,is_add_new_stack:!1})},n.showDeleteStackConfirmationModal=function(e){n.setState({is_show_delete_stack_confirmation_modal:!0,is_active_stack_delete:e,is_delete_student_stack_success:!1})},n.deleteSelectedStack=function(e){var t=n.props,a=t.student_data,s=a.id,r=a.applicant_id,o=t.deleteStudentMinorStack,i=t.student_access.student_profile_data,c=e.user_track_id,_=e.cc_stack_schedule_id,l=e.cc_student_stack_sched_id,d=e.crm_stack_schedule_id;c&&i.stack_schedules.map((function(e,t){c===e.user_track_id&&(o({user_id:s,applicant_id:r,stack_index:t,user_track_id:c,cc_stack_schedule_id:_,cc_student_stack_sched_id:l,crm_stack_schedule_id:d,is_minor_stack:n.state.student_profile_tab_active===u.ub.minor_stacks,admin_page:n.props.admin_page}),n.setState({is_delete_student_stack:!0}))}))},n.updateBootcampExpiration=function(e,t){var a=e.user_id,s=e.applicant_id,r=e.user_bootcamp_id,o=e.origin,i=n.props.admin_page;n.props.updateBootcampExpiration({user_id:a,applicant_id:s,origin:o,user_bootcamp_id:r,admin_page:i,expiration_date:t,is_from_student_profile:!0})},n.changeProgramStatus=function(e,t,a){var s=t.user_id,r=t.applicant_id,o=t.user_bootcamp_id,i=t.origin,c=n.props.admin_page;n.props.updateStudentProgramAccess({user_id:s,applicant_id:r,user_bootcamp_id:o,origin:i,admin_page:c,is_from_student_profile:a,is_access_enabled:e.target.checked})},n.tooltip_ref=s.a.createRef(),n.state={is_show_student_profile_account_modal:!1,show_dropdown:!1,student_profile_tab_active:u.ub.major_stacks,is_assignment_feedback_show:!1,is_update_stack_access_enabled:!1,selected_student_data:{},current_stack_data:[],is_add_new_stack:!1,is_show_confirm_deactivate_student_modal:!1,empty_stack_data:{is_show_search:!0,is_multi_select:!1,dropdown_name:"stack",is_locked:!1,selected:[],options:[{label:"Online PT",date_started:"05/24/2022",date_end:"06/16/2022",value:0}]},is_show_delete_stack_confirmation_modal:!1,is_active_stack_delete:{},is_delete_student_stack:!1,is_delete_student_stack_success:!1,is_show_extend_access_modal:!1,selected_access_expire_date:void 0,is_trigger_auto_show_note_tab:!1,student_access_tabs:[{id:1,tab_type:"major_stacks",name:"Major Course"},{id:2,tab_type:"minor_stacks",name:"Minor Course"},{id:3,tab_type:"notes",name:"Notes"},{id:6,tab_type:"exam_records",name:"Exam History"},{id:7,tab_type:"student_info",name:"Student Info"}]},n}return Object(_e.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.y)();e.status?this.user=e.user_details:localStorage.setItem("redirect_path",window.location.pathname),this.props.default_active_tab===u.ub.notes&&this.setState({is_trigger_auto_show_note_tab:!0})}},{key:"render",value:function(){var e,t,a,n,r,o=this,i=this.state,c=i.student_profile_tab_active,_=i.is_assignment_feedback_show,l=i.is_show_delete_stack_confirmation_modal,m=i.is_active_stack_delete,h=i.is_delete_student_stack_success,E=i.is_show_confirm_deactivate_student_modal,f=i.is_show_extend_access_modal,g=i.selected_access_expire_date,b=(i.transcript_data_all_program,this.props),S=b.show,A=b.student_data,k=b.student_access,O=k.student_profile_data,T=k.student_profile_data_for_all_program,C=k.is_student_profile_processed,w=(null===(e=this.user)||void 0===e||null===(t=e.general)||void 0===t?void 0:t.user_capabilities)||!1,y={set_stack_schedule:w&&Object(p.i)(w,"admin.student_profile_modal.set_stack_schedule")||!1,set_bootcamp_access:w&&Object(p.i)(w,"admin.student_profile_modal.set_bootcamp_access")||!1,manage_admin_internal_notes:w&&Object(p.i)(w,"admin.student_profile_modal.manage_admin_internal_notes")||!1},R=(null===O||void 0===O?void 0:O.transcript_note)||[];(null===O||void 0===O?void 0:O.user_id)&&(A=Object(d.a)(Object(d.a)({},O),{},{origin:"admin.student_profile_modal.set_bootcamp_access"}));var D=null===T||void 0===T?void 0:T.some((function(e){return e.latest_application_status>=u.A.current_student&&e.latest_application_status!==u.A.qa_review})),U=0,N=0,I=0,P=0;if(O.transcript_stacks){var j=0,L=0,M=0,F=0,x=0,B=0,W=0,H=0;O.transcript_stacks.map((function(e){e.is_retaken_stack?(x+=parseInt(null===e||void 0===e?void 0:e.total_completed_assignment)||0,B+=parseInt(null===e||void 0===e?void 0:e.required_total_assignment)||0,W+=parseInt(null===e||void 0===e?void 0:e.total_present)||0,H+=parseInt(null===e||void 0===e?void 0:e.required_total_attendance)||0):(j+=parseInt(null===e||void 0===e?void 0:e.total_completed_assignment)||0,L+=parseInt(null===e||void 0===e?void 0:e.required_total_assignment)||0,M+=parseInt(null===e||void 0===e?void 0:e.total_present)||0,F+=parseInt(null===e||void 0===e?void 0:e.required_total_attendance)||0)})).filter((function(e){return void 0!==e})),U=j/L*100,U=Math.round(100*U)/100,N=M/F*100,N=Math.round(100*N)/100,I=x/B*100,I=Math.round(100*I)/100,P=W/H*100,P=Math.round(100*P)/100}var K=[];return T&&(K=T.map((function(e,t){if(e.transcript_stacks){var a=[],n=[],s=[],r=[],o=[],i=[],c=[],_=[];e.transcript_stacks.map((function(e,t){e.is_retaken_stack?(o.push(parseInt(null===e||void 0===e?void 0:e.total_completed_assignment)||0),i.push(parseInt(null===e||void 0===e?void 0:e.required_total_assignment)||0),c.push(parseInt(null===e||void 0===e?void 0:e.total_present)||0),_.push(parseInt(null===e||void 0===e?void 0:e.required_total_attendance)||0)):(a.push(parseInt(null===e||void 0===e?void 0:e.total_completed_assignment)||0),n.push(parseInt(null===e||void 0===e?void 0:e.required_total_assignment)||0),s.push(parseInt(null===e||void 0===e?void 0:e.total_present)||0),r.push(parseInt(null===e||void 0===e?void 0:e.required_total_attendance)||0))}));var l=a.reduce((function(e,t){return e+t}),0)/n.reduce((function(e,t){return e+t}),0)*100;l=Math.round(100*l)/100;var d=s.reduce((function(e,t){return e+t}),0)/r.reduce((function(e,t){return e+t}),0)*100;d=Math.round(100*d)/100;var u=o.reduce((function(e,t){return e+t}),0)/i.reduce((function(e,t){return e+t}),0)*100;u=Math.round(100*u)/100;var p=c.reduce((function(e,t){return e+t}),0)/_.reduce((function(e,t){return e+t}),0)*100;return{all_program_average_total_assignment:l,all_program_average_total_attendance:d,all_program_retaken_average_total_assignment:u,all_program_retaken_average_total_attendance:p=Math.round(100*p)/100}}}))),s.a.createElement(De.a,{id:"student_profile_account_modal",show:S,onHide:this.closeCreateStudentModal},s.a.createElement(De.a.Header,{className:this.state.show_dropdown?"active_dropdown":""},s.a.createElement("div",{className:"student_profile_header_details"},s.a.createElement("img",{src:A.img_link||"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:A.name}),s.a.createElement("div",{className:"student_profile_details_header_block"},s.a.createElement("div",null,s.a.createElement("h2",{className:"student_name"},A.name),s.a.createElement("span",{className:"student_status"},A.account_type)),s.a.createElement("span",null,A.email)),s.a.createElement("div",{className:"header_action_btn"},s.a.createElement("a",{className:"view_lp3",href:null===(a=this.props.student_access)||void 0===a||null===(n=a.student_profile_data)||void 0===n?void 0:n.student_login_url},s.a.createElement(Te.a,{icon:["fas","eye"]})," View in LP3"),s.a.createElement("button",{className:"action_ellipsis_btn",onClick:function(){return o.setState({show_dropdown:!o.state.show_dropdown})},type:"button"},s.a.createElement(Te.a,{icon:["fas","ellipsis-v"]})),s.a.createElement("ul",null,s.a.createElement("li",{ref:this.tooltip_ref},s.a.createElement(Eu.a,{document:s.a.createElement(gu,{student_profile:O,transcript_note_feedback:R,student:T,total_data:{average_total_assignment:U,average_total_attendance:N,retaken_average_total_assignment:I,retaken_average_total_attendance:P},all_program_total_data:K})},(function(e){var t=e.url;e.loading;return t?D&&C?s.a.createElement("a",{href:t,target:"_blank"},s.a.createElement("span",{className:"transcript"})," Generate Transcript All Programs"):s.a.createElement(va.a,{container:o.tooltip_ref,placement:"top",overlay:s.a.createElement(Sa.a,{id:"disabled_generate_transcript_tooltip"},"The transcript for this student is not available yet.")},s.a.createElement("span",null,s.a.createElement("a",{href:t,target:"_blank",className:"disabled_link"},s.a.createElement("span",{className:"transcript"})," Generate Transcript All Programs"))):"Loading"}))),s.a.createElement("li",null,D&&C?s.a.createElement(Eu.d,{document:s.a.createElement(gu,{student_profile:O,transcript_note_feedback:R,student:T,total_data:{average_total_assignment:U,average_total_attendance:N,retaken_average_total_assignment:I,retaken_average_total_attendance:P},all_program_total_data:K}),fileName:"transcript_".concat(A.name,".pdf")},(function(e){var t=e.url;e.loading;return t?s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"download_transcript"})," Download Transcript All Programs"):"Loading"})):s.a.createElement(va.a,{container:this.tooltip_ref,placement:"top",overlay:s.a.createElement(Sa.a,{id:"disabled_download_transcript_tooltip"},"The transcript for this student is not available yet.")},s.a.createElement("span",null,s.a.createElement("span",null,s.a.createElement("a",{className:"disabled_link"},s.a.createElement("span",{className:"download_transcript"})," Download Transcript All Programs")))))))),s.a.createElement("button",{type:"button",onClick:function(e){return o.closeCreateStudentModal(e)}}),s.a.createElement("div",{onClick:function(){return o.setState({show_dropdown:!1})},className:"backdrop"})),s.a.createElement(De.a.Body,{className:this.state.show_dropdown?"active_dropdown":""},s.a.createElement("div",{className:"student_details_wrapper"},s.a.createElement("ul",{className:"belt_exam_list"},A.user_belts&&A.user_belts.map((function(e,t){return s.a.createElement("li",{key:t},s.a.createElement("span",{className:"belt_icon ".concat(e.belt_class," ").concat(e.belt_color_class)}),s.a.createElement("span",{className:"belt_language_name"},e.belt_description),s.a.createElement("span",{className:"belt_score"},e.score))})))),s.a.createElement("div",{id:"location_region_wrapper"},s.a.createElement("ul",{id:"location_region_list",className:"block"},s.a.createElement("li",null,s.a.createElement("h6",null,s.a.createElement("span",{className:"program"})," Program"),s.a.createElement("h5",null,A.program)),s.a.createElement("li",null,s.a.createElement("h6",null,s.a.createElement("span",{className:"location"})," Location"),s.a.createElement("h5",null,A.campus)),s.a.createElement("li",null,s.a.createElement("h6",null,s.a.createElement("span",{className:"region"})," Region"),s.a.createElement("h5",null,A.region)),s.a.createElement("li",{className:"hidden"},s.a.createElement("h6",null,s.a.createElement("span",{className:"core_acr"})," Core ACR (Program)")),s.a.createElement("li",{className:"hidden"},s.a.createElement("h6",null,s.a.createElement("span",{className:"attendace_rate"})," Attendance Rate (Program)"))),s.a.createElement("div",{className:"user_detail_block"},s.a.createElement("h6",null,s.a.createElement("span",{className:"access"})," Access"),s.a.createElement("div",{className:"access_info_container"},s.a.createElement("label",null,(null===y||void 0===y?void 0:y.set_bootcamp_access)&&s.a.createElement(s.a.Fragment,null,s.a.createElement("input",{type:"checkbox",name:"is_valid",disabled:!(null===(r=A)||void 0===r?void 0:r.user_id),checked:A.is_access_enabled,onChange:function(e){e.target.checked?o.changeProgramStatus(e,A,!0):o.setState({is_show_confirm_deactivate_student_modal:!0})}}),s.a.createElement("span",{className:"is_valid_checkbox_style"})),s.a.createElement("span",{className:A.is_access_enabled?"valid_till_label":"access_locked"},A.is_access_enabled?"Valid till":"Access Locked")),!!A.is_access_enabled&&s.a.createElement(hu,{selected:new Date(A.access_expire_at),onChange:function(e){return o.setState({is_show_extend_access_modal:!0,selected_access_expire_date:v()(e).format("MMMM DD, YYYY"),active_student_data:A})},value:v()(A.access_expire_at).format("MMMM DD, YYYY"),is_allowed:null===y||void 0===y?void 0:y.set_bootcamp_access,dateFormat:"MMMM d, yyyy",placeholderText:"Select Access Expiration Date"})))),s.a.createElement("ul",{id:"student_profile_tabs"},this.state.student_access_tabs.map((function(e){return s.a.createElement("li",{key:e.id,onClick:function(){return o.updateActiveTabComponents(e.tab_type)},className:c===e.tab_type?"active":""},s.a.createElement("span",null,e.name))}))),s.a.createElement("div",{id:"student_profile_component_render",className:_||c===u.ub.major_stacks||c===u.ub.minor_stacks?"is_show_component":""},this.studentAccessActiveTabComponent(A,y)),s.a.createElement(_u,{isSubmitDeleteSelectedStack:this.deleteSelectedStack,selected_stack_data:m,show:l,is_delete_student_stack_success:h,toggleShowModal:function(){return Object(p.W)(o,"is_show_delete_stack_confirmation_modal",!1)}}),A&&s.a.createElement(du,{show:E,student:A,changeProgramStatus:this.changeProgramStatus,toggleShowModal:function(){return Object(p.W)(o,"is_show_confirm_deactivate_student_modal",!1)}}),g&&s.a.createElement(pu,{show:f,student:A,date:g,toggleShowModal:function(){return Object(p.W)(o,"is_show_extend_access_modal",!1)},onUpdateBootcampExpiration:this.updateBootcampExpiration}),s.a.createElement("div",{onClick:function(){return o.setState({show_dropdown:!1})},className:"backdrop"})))}}]),a}(n.Component)),bu=Pa.a.getNextStackOptionsList,Su=Pa.a.updateStudentStackAccessStatus,Au=Pa.a.processSelectedStudentsNextStack,ku=Pa.a.updateStudentStackSchedule,Ou=Pa.a.getStudentExamHistories,Tu=Pa.a.deleteStudentMinorStack,Cu=Pa.a.fetchStudentNote,wu=Pa.a.addStudentNote,yu=Pa.a.deleteStudentNote,Ru=Pa.a.updateStudentNote,Du=Pa.a.updateBootcampExpiration,Uu=Pa.a.updateStudentProgramAccess,Nu=Pa.a.fetchStudentInfo,Iu=Object(p.J)(["student_access"],{getNextStackOptionsList:bu,getStudentExamHistories:Ou,updateStudentStackAccessStatus:Su,processSelectedStudentsNextStack:Au,updateStudentStackSchedule:ku,fetchStudentNote:Cu,addStudentNote:wu,deleteStudentNote:yu,updateStudentNote:Ru,deleteStudentMinorStack:Tu,updateBootcampExpiration:Du,updateStudentProgramAccess:Uu,fetchStudentInfo:Nu}),Pu=Iu.mapStateToProps,ju=Iu.mapDispatchToProps,Lu=Object(ue.b)(Pu,ju)(vu),Mu=(a(1367),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){return Object(ce.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(De.a,{id:"error_modal",show:this.props.show,onHide:function(){return e.props.toggleShowModal()}},s.a.createElement(De.a.Body,null,s.a.createElement("h2",null,"Something Went Wrong"),s.a.createElement("p",null,this.props.error_message),s.a.createElement("button",{onClick:function(){return e.props.toggleShowModal()}},"Got it")))}}]),a}(n.Component)),Fu=Mu,xu=(a(1368),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){},n.componentDidUpdate=function(e,t){n.props.exams.is_processing_student_grade&&n.state.is_processing_student_grade&&setTimeout((function(){n.setState({is_processing_student_grade:!1,show_belt_icon:!0})}),500),n.state.is_clicked_button&&n.props.exams.is_success_saving&&(n.props.exams.is_success_saving=!1,n.setState({is_clicked_button:!1,show_error:!0,is_processing_student_grade:!1}),n.props.onFetchUser(n.state.active_student_id,n.state.active_button)),n.props.exams.exam_file&&n.state.is_uploading_file&&(n.setState({is_uploading_file:!1}),n.props.clearPresignedURL())},n.isValidURL=function(e){var t=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");n.setState({is_valid_url:!!t.test(e)})},n.state={is_uploading_file:!1,is_show_invalid_grade:!1,uploading_timer:0,is_resubmit_url:!1,is_valid_url:!0,show_error:!1,belt_type:["yellow","red","black","orange","white"],error_message:"",is_show_save_changes_modal:!1,is_processing_student_grade:!1,show_belt_icon:!0,is_clicked_button:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t,a,n,r,o,i,c,_,l,d,p,m,h,E,f=this,g=this.state,b=g.is_show_invalid_grade,S=g.is_uploading_file,A=g.is_resubmit_url,k=(g.uploading_timer,g.is_valid_url),O=g.belt_type,T=(g.error_message,g.is_processing_student_grade),C=g.show_belt_icon,w=this.props,y=w.disable_next,R=w.disable_prev,D=w.toggleShowModal,U=w.show,N=(w.onFetchUser,w.onCheckInputNumber),I=w.onChangeSetFile,P=w.workspace_timezone,j=w.active_student_data,L=w.set_grade_and_belt,M=w.temp_uploaded_exam_file;return M&&(j.file=M),s.a.createElement(s.a.Fragment,null,s.a.createElement(De.a,{id:"grading_modal",onHide:function(){D(!1),f.props.clearActiveStudentData()},backdrop:"static",keyboard:!1,show:U},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,"Grading"),s.a.createElement("button",{type:"button",onClick:function(){D(!1),f.props.clearActiveStudentData()}})),s.a.createElement("form",{action:"",autoComplete:"off",onSubmit:function(e){f.props.onUpdateStudentGrade(e),f.setState({show_error:!0,is_processing_student_grade:!0})}},s.a.createElement(De.a.Body,null,this.props.exams.is_show_grading_modal_loading||"submit"!==this.state.active_button&&this.props.exams.is_show_saving_loading?s.a.createElement("div",{className:"loading_container"},s.a.createElement("div",null),s.a.createElement("span",null,"Loading...")):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"navigation_container"},s.a.createElement("button",{className:"left_btn ".concat(R&&"disabled"),type:"submit",disabled:R,onClick:function(){f.setState({is_clicked_button:!f.state.is_clicked_button,active_student_id:null===j||void 0===j?void 0:j.id,active_button:"previous_student"})}},s.a.createElement(Te.a,{icon:["fas","chevron-left"]})),s.a.createElement("h6",null,null===j||void 0===j?void 0:j.name),s.a.createElement("p",null,null===j||void 0===j?void 0:j.email),s.a.createElement("button",{className:"right_btn ".concat(y&&"disabled"),disabled:y,type:"submit",onClick:function(){f.setState({is_clicked_button:!f.state.is_clicked_button,active_student_id:null===j||void 0===j?void 0:j.id,active_button:"next_student"})}},s.a.createElement(Te.a,{icon:["fas","chevron-right"]}))),s.a.createElement("div",{className:"content",id:"exam_name_and_grade_container"},s.a.createElement("div",{className:"left_container"},s.a.createElement("h6",null,"Exam Name"),s.a.createElement("p",null,null===j||void 0===j||null===(e=j.exam)||void 0===e?void 0:e.name)),s.a.createElement("div",{className:"right_container"},s.a.createElement("h6",null,"Grade & Belt"),s.a.createElement("input",{type:"number",min:0,max:10,step:"0.01",onKeyDown:function(e){if(e.keyCode===u.V.enter)return e.preventDefault(),!1;N(e,!1)},onChange:function(e){e.target.value.length<=4&&(f.props.onChangeSetGrade(parseFloat(e.target.value)),f.setState({show_belt_icon:!1}))},className:"".concat((null===j||void 0===j?void 0:j.grade)>=8?"color_green":"color_red"," ").concat(String(null===j||void 0===j?void 0:j.grade)?"":"show_not_applicable_text"),value:(null===j||void 0===j?void 0:j.invalid_grade)?"":"number"===typeof j.grade?j.grade:""}),(null===j||void 0===j?void 0:j.grade)>=8&&C&&s.a.createElement("span",{className:O[null===j||void 0===j?void 0:j.belt_type]&&"belt_icon ".concat(O[null===j||void 0===j?void 0:j.belt_type],"_belt")}),j.invalid_grade&&s.a.createElement("p",{className:"invalid_grade color_red"},"Grade range 0.0-10.0"),s.a.createElement("span",{className:"not_applicable_text"},"N/A"))),s.a.createElement("div",{className:"content",id:"feedback_container"},s.a.createElement("h6",null,"Feedback"),s.a.createElement("textarea",{placeholder:"Type to add a feedback",value:(null===j||void 0===j||null===(t=j.feedback)||void 0===t?void 0:t.content)||"",onChange:function(e){return f.props.onChangeExamFeedback(e.target.value)}})),s.a.createElement("div",{id:"file_submission_container",className:"content"},s.a.createElement("h6",null,"File Submission"),s.a.createElement("div",{className:"inner_content"},S?s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"download_loader"})):(null===j||void 0===j||null===(a=j.file)||void 0===a?void 0:a.link)?s.a.createElement("p",null,"".concat(((null===j||void 0===j||null===(n=j.file)||void 0===n?void 0:n.link)||"").substring(((null===j||void 0===j||null===(r=j.file)||void 0===r?void 0:r.link)||"").lastIndexOf("/")+1)," - ").concat(v.a.utc(null===j||void 0===j||null===(o=j.file)||void 0===o?void 0:o.submitted_on).tz(P||"").format("MMMM DD, YYYY hh:mm A"))," (",v.a.tz(P||"").zoneAbbr(),") ",1===(null===j||void 0===j||null===(i=j.file)||void 0===i?void 0:i.is_late)&&s.a.createElement("span",{className:"color_red"},"Late")," ",s.a.createElement("a",{id:"file_download",target:"_blank",href:null===j||void 0===j||null===(c=j.file)||void 0===c?void 0:c.pre_signed_url,download:!0})):s.a.createElement("p",null,"N/A"),s.a.createElement("input",{id:"resubmit_file_input",onChange:function(e){I(e),f.setState({is_uploading_file:!0})},type:"file"}),s.a.createElement("label",{disabled:S,className:S?"disabled":"",htmlFor:"resubmit_file_input"},(null===j||void 0===j||null===(_=j.file)||void 0===_?void 0:_.link)?"Re-Upload":"Upload",S?"ing":""))),s.a.createElement("div",{id:"url_submission_container",className:"content"},s.a.createElement("h6",null,"URL Submission"),A?s.a.createElement(s.a.Fragment,null,s.a.createElement("input",{type:"text",value:null===j||void 0===j||null===(l=j.url)||void 0===l?void 0:l.link,onBlur:function(e){return f.setState({is_resubmit_url:!!e.target.value})},autoComplete:"off",id:"url_input",onChange:function(e){f.props.onChangeSetUrl(e.target.value),f.isValidURL(e.target.value)},autoFocus:!0}),s.a.createElement("button",{type:"button",className:(null===j||void 0===j||null===(d=j.url)||void 0===d?void 0:d.link)&&k?"":"disabled",disabled:!(null===j||void 0===j||null===(p=j.url)||void 0===p?void 0:p.link)||!k,onClick:function(){return f.setState({is_resubmit_url:!1})},id:"save_url_button"},"Save")):s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,(null===j||void 0===j||null===(m=j.url)||void 0===m?void 0:m.link)||"N/A"," "),s.a.createElement("button",{type:"button",onClick:function(){f.setState({is_resubmit_url:!0})},id:"resubmit_url_button"},"Edit"))))),!this.props.exams.is_show_grading_modal_loading&&s.a.createElement(De.a.Footer,{className:this.props.exams.is_show_saving_loading&&"submit"!==this.state.active_button&&"hidden"},s.a.createElement("button",{type:"button",onClick:function(){D(!1),f.props.clearActiveStudentData()}},"Cancel"),s.a.createElement("button",{type:"submit",onClick:function(){return f.setState({active_button:"submit"})},disabled:!L||this.props.exams.is_show_saving_loading,className:!((null===j||void 0===j||null===(h=j.url)||void 0===h?void 0:h.link)&&k||!(null===j||void 0===j||null===(E=j.url)||void 0===E?void 0:E.link))||b||T?"disabled":""},this.props.exams.is_show_saving_loading?"Saving...":"Save Changes")))),s.a.createElement(Fu,{show:this.props.exams.show_error_modal&&this.state.show_error,toggleShowModal:function(){return f.setState({show_error:!1})},error_message:this.props.exams.error_message}))}}]),a}(n.Component)),Bu=Na.a.updateStudentGrade,Wu=vn.a.clearPresignedURL,Hu=Object(p.J)(["exams"],{updateStudentGrade:Bu,clearPresignedURL:Wu}),Ku=Hu.mapStateToProps,Gu=Hu.mapDispatchToProps,Vu=Object(ue.b)(Ku,Gu)(xu),qu=(a(1369),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).updateStudentGrade=function(e,t,a){var s=Object(f.a)(n.state.students),r=e<0||e>10,o=null;s.map((function(a){a.id===t&&(a.grade=r?"":e,a.invalid_grade=r,o=a)})),n.setState({students:s}),o&&!o.invalid_grade&&a&&n.props.updateStudentGrade({updated_active_student_data:o})},n.renderTableHead=function(e){if("Name"===e.name){var t=n.state.selected_name_sort_config,a=n.props.total_results?"(".concat(n.props.total_results,")"):"(0)";return t&&0!==Object.keys(t).length?s.a.createElement("div",{id:"name_sort_table_head"},t.title,a,s.a.createElement("div",{id:"name_sort_icon"},s.a.createElement(Te.a,{className:"".concat("caret-down"===t.direction?"":"light"),icon:["fas","caret-up"]}),s.a.createElement(Te.a,{className:"".concat("caret-up"===t.direction?"":"light"),icon:["fas","caret-down"]}))):s.a.createElement(s.a.Fragment,null," Name ",a)}return e.name},n.fetchUserGrade=function(e,t){for(var a=Object(f.a)(n.state.students),s=a.map((function(e){return e.id})).indexOf(e),r=n.props.pagination,o=r.current_page,i=r.students_per_page,c=o,_=[],l=1;l<=Math.ceil(n.props.total_results/i);l++)_.push(l);if("previous_student"===t?(c-=0===s?1:0,s-=1):"next_student"===t&&(c+=s===a.length-1?1:0,s+=1),o!==c)n.setState({disable_prev:!0,disable_next:!0}),n.props.onPaginateData(c,{show_student:!0,is_first:"next_student"===t});else{n.setState({disable_prev:1===o&&0===s,disable_next:o===_[_.length-1]&&s===a.length-1,is_show_grading_modal:!0});var d=a[s];d&&n.props.getStudentExamDetails([d.id])}},n.requestSort=function(e){var t,a=Object(d.a)({},n.state.sort_config);if("name"===e){var s,r=Object(d.a)({},n.state.selected_name_sort_config),o=n.state.name_sort_config;if(r&&0!==Object.keys(r).length)o.map((function(e,t){e.key===r.key&&e.direction===r.direction&&(s=t+1)})),r=o[o.length===s?0:s];else r=o[0];a.key=r.key,a.direction=r.direction,n.setState({selected_name_sort_config:r})}else t="caret-down",(a=Object(d.a)({},n.state.sort_config))&&a.key===e&&"caret-down"===a.direction&&(t="caret-up"),a.key=e,a.direction=t,n.setState({selected_name_sort_config:void 0});n.setState({sort_config:a},(function(){n.props.onSortTable(n.state.sort_config,e,n.state.selected_view_type)}))},n.getStudentProfileDetails=function(e,t,a,s,r){var o,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;n.props.getStudentProfileDetails({user_id:e,applicant_id:t,user_bootcamp_id:r.user_bootcamp_id,next_stack_params:{program_type_ids:[a],location_ids:[s]},is_from_student_matching:!1,is_from_student_access:!1}),r.region="w"===r.region?"West":"East",n.setState({is_show_student_profile_modal:!0,student_profile_data:r,selected_applicant_id:t,default_active_tab:(null===i||void 0===i||null===(o=i.target)||void 0===o?void 0:o.getAttribute("data-tab"))||"major_stacks"})},n.onChangeSetGrade=function(e){var t=n.state.active_student_data;t.grade=e>=0?e:null,t.invalid_grade=e>10||e<0,n.setState({active_student_data:t})},n.onChangeSetUrl=function(e){var t,a,s=n.state.active_student_data,r=v.a.tz(v()(),(null===(t=n.props)||void 0===t||null===(a=t.workspace_timezone)||void 0===a?void 0:a.acronym)||"").utc().format("YYYY-MM-DD HH:mm:ss");s.url.link=e,s.url.submitted_on=r,n.setState({active_student_data:s})},n.onUpdateStudentGrade=function(e){return e.preventDefault(),n.props.updateStudentGrade({updated_active_student_data:n.state.active_student_data}),n.setState({show_error:!0,is_processing_student_grade:!0}),!1},n.onChangeExamFeedback=function(e){var t=n.state.active_student_data;t.feedback.content=e,n.setState({active_student_data:t})},n.showGradeModal=function(e,t){e&&n.fetchUserGrade(t.id),n.setState({is_show_grading_modal:!0})},n.state={sort_config:null,is_show_grading_modal:!1,students:[],workspace_timezone:"",table_head_columns:Qd,copy_clipboard_popover:{is_show:!1,text:"Email address copied to your clipboard",position:{},zIndex:!0},disable_prev:null,disable_next:null,active_student_data:{},total_results:0,selected_name_sort_config:{key:"last_name_first_name",title:"Last, First Name (A-Z)",direction:"caret-down"},name_sort_config:[{key:"last_name_first_name",title:"Last, First Name (A-Z)",direction:"caret-down"},{key:"last_name_first_name",title:"Last, First Name (Z-A)",direction:"caret-up"},{key:"first_name_last_name",title:"First, Last Name (A-Z)",direction:"caret-down"},{key:"first_name_last_name",title:"First, Last Name (Z-A)",direction:"caret-up"}],belt_type:["yellow","red","black","orange","white"],temp_uploaded_exam_file:null},n}return Object(_e.a)(a,[{key:"componentDidUpdate",value:function(e,t){if(this.props.exams.admin_exam_data.table_data&&JSON.stringify(t.students)!==JSON.stringify(this.props.exams.admin_exam_data.table_data)){var a,n=this.props.exams,s=n.admin_exam_data.table_data,r=n.active_student_data;if(this.setState({students:s}),r&&JSON.stringify(t.active_student_data)!==JSON.stringify(r))this.setState({active_student_data:r});else if(null===(a=this.props.exams.set_active_student)||void 0===a?void 0:a.show_student){var o=this.props.exams.set_active_student.is_first?s[0]:s[s.length-1];this.fetchUserGrade(o.id)}}else this.props.exams.active_student_data&&JSON.stringify(t.active_student_data)!==JSON.stringify(this.props.exams.active_student_data)&&this.setState({active_student_data:this.props.exams.active_student_data});if(this.props.exams.exam_file&&"grading-modal"===this.props.exams.exam_file.page_modal){var i=this.props.exams.exam_file,c=i.file_name,_=i.file_url,l=i.file_presigned_url,u=this.state.active_student_data;u.file=Object(d.a)(Object(d.a)({},u.file),{},{link:_,pre_signed_url:l,name:c,submitted_on:new Date}),this.setState({active_student_data:u})}}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.table_head_columns,r=a.students,o=a.is_loading,i=a.copy_clipboard_popover,c=a.sort_config,_=a.is_show_grading_modal,l=a.is_show_student_profile_modal,d=a.active_student_data,m=a.disable_prev,h=a.disable_next,E=a.temp_uploaded_exam_file,f=this.props,g=f.workspace_timezone,b=f.is_loading_table,S=f.set_grade_and_belt,A=f.student_profile_modal_visibility,k=function(e){var a=t.state.sort_config;return a&&a.key===e?a.direction:"caret-down"};return s.a.createElement(s.a.Fragment,null,s.a.createElement(Zd,{data:i}),s.a.createElement("div",{className:"admin_exam_table_container"},s.a.createElement(bc.StickyTable,{leftStickyColumnCount:1,borderWidth:"0px"},s.a.createElement(bc.Row,null,n.map((function(e){return s.a.createElement(bc.Cell,{key:e.name,onClick:function(){return void 0!==e.sort_data?t.requestSort(e.sort_data):null},style:{minWidth:e.width}},t.renderTableHead(e),e.sort_data&&"name"!==e.sort_data&&s.a.createElement(Te.a,{className:"".concat((null===c||void 0===c?void 0:c.key)===e.sort_data?"":"light"),icon:["fas",k(e.sort_data)?k(e.sort_data):"caret-down"]}))}))),o||b?s.a.createElement("div",{id:"table_loading_container"},s.a.createElement("div",null),s.a.createElement("span",null,"Loading...")):r.length?r.map((function(e){var a=e.exam,n=e.url,r=e.file,o=e.duration;return s.a.createElement(bc.Row,{key:e.id},s.a.createElement(bc.Cell,null,s.a.createElement("div",{className:"name",onClick:function(){A&&t.getStudentProfileDetails(e.user_id,e.applicant_id,e.program_type_id,e.location_id,e),t.setState({is_show_grading_modal:!1})}},e.name),s.a.createElement("div",{className:"email",onClick:function(a){return Object(p.n)(a,e.email,t)}},e.email)),s.a.createElement(bc.Cell,null,e.stack?e.program:"N/A"),s.a.createElement(bc.Cell,null,e.stack||"N/A"),s.a.createElement(bc.Cell,null,a.name||"N/A"),s.a.createElement(bc.Cell,null,a.started_on?"".concat(v.a.utc(a.started_on).tz((null===g||void 0===g?void 0:g.acronym)||"").format("MMMM DD, YYYY hh:mm A")):"N/A"),s.a.createElement(bc.Cell,{className:(null===r||void 0===r?void 0:r.submitted_on)?"blue_color":""},(null===r||void 0===r?void 0:r.submitted_on)?"".concat(v.a.utc(r.submitted_on).tz((null===g||void 0===g?void 0:g.acronym)||"").format("MMMM DD, YYYY hh:mm A")," (").concat(v.a.tz((null===g||void 0===g?void 0:g.acronym)||"").zoneAbbr(),")"):"N/A"," ",(null===r||void 0===r?void 0:r.is_late)?s.a.createElement("span",{className:"red_color"},"Late"):""),s.a.createElement(bc.Cell,{className:n.submitted_on?"blue_color":""},n.submitted_on?"".concat(v.a.utc(n.submitted_on).tz((null===g||void 0===g?void 0:g.acronym)||"").format("MMMM DD, YYYY hh:mm A")," (").concat(v.a.tz((null===g||void 0===g?void 0:g.acronym)||"").zoneAbbr(),")"):"N/A"," ",n.is_late?s.a.createElement("span",{className:"red_color"},"Late"):""),s.a.createElement(bc.Cell,null,s.a.createElement("div",{className:"grade_and_belt ".concat(e.grade>=u.L.pass?"green_bg":e.invalid_grade?"blue_bg":"red_bg")},s.a.createElement("input",{onChange:function(a){a.target.value.length<=4&&S&&t.updateStudentGrade(parseFloat(a.target.value),e.id,!1)},value:"number"===typeof e.grade?e.grade:"",onBlur:function(a){a.target.value.length<=4&&S&&t.updateStudentGrade(parseFloat(a.target.value),e.id,!0)},onKeyDown:function(e){return t.props.onCheckInputNumber(e,!1)},className:"".concat(e.invalid_grade?"show_not_applicable_text":""," ").concat(S?"":"disabled"),disabled:!S,type:"number"}),s.a.createElement("span",{className:"not_applicable_text"},"N/A"),t.state.belt_type[e.belt_type]&&e.grade>=u.L.pass?s.a.createElement("span",{className:"belt_icon ".concat(t.state.belt_type[e.belt_type])}):"",s.a.createElement("button",{type:"button",onClick:function(){t.showGradeModal(S,e),t.setState({temp_uploaded_exam_file:null})}},s.a.createElement(Te.a,{icon:["fas","pen"]}))),e.invalid_grade&&s.a.createElement("p",{className:"error_message"},"Grade range 0.0-10.0")),s.a.createElement(bc.Cell,null,s.a.createElement("span",{className:"blue_bg"},(null===o||void 0===o?void 0:o.hours)||(null===o||void 0===o?void 0:o.minutes)?"".concat(o.hours," Hours ").concat(o.minutes," Minutes"):"No Time Limit")))})):s.a.createElement("div",{id:"no_results_found"},"No results found."))),_&&s.a.createElement(Vu,{set_grade_and_belt:S,active_student_data:d,disable_next:h,disable_prev:m,onChangeSetFile:function(e){return t.props.onChangeSetFile(t,"active_student_data",e,null===d||void 0===d?void 0:d.id,"grading-modal")},temp_uploaded_exam_file:E,onCheckInputNumber:this.props.onCheckInputNumber,onChangeSetGrade:this.onChangeSetGrade,onChangeSetUrl:this.onChangeSetUrl,onFetchUser:this.fetchUserGrade,onUpdateStudentGrade:this.onUpdateStudentGrade,onChangeExamFeedback:this.onChangeExamFeedback,onDownloadExamFile:this.props.onDownloadExamFile,show:_,workspace_timezone:(null===g||void 0===g?void 0:g.acronym)||"",clearActiveStudentData:function(){return t.setState({active_student_data:{},is_show_grading_modal:!1})},toggleShowModal:function(){return Object(p.W)(t,"is_show_grading_modal",!1)}}),l&&A&&s.a.createElement(Lu,{toggleShowModal:function(){return Object(p.W)(t,"is_show_student_profile_modal",!1)},selected_applicant_id:this.state.selected_applicant_id,student_data:this.state.student_profile_data,show:this.state.is_show_student_profile_modal,updateFilterDropdownSelectedValue:this.updateFilterDropdownSelectedValue,offered_stack_schedules:null===(e=this.props.exams.student_details)||void 0===e?void 0:e.offered_stack_schedules,admin_page:u.c.student_exam.exam}))}}]),a}(n.Component)),Yu=Na.a.updateStudentGrade,Qu=vn.a.clearPresignedURL,$u=Pa.a.getStudentProfileDetails,zu=Pa.a.updateStudentProgramAccess,Ju=Object(p.J)(["exams","student_access"],{updateStudentGrade:Yu,getStudentProfileDetails:$u,updateStudentProgramAccess:zu,clearPresignedURL:Qu}),Xu=Ju.mapStateToProps,Zu=Ju.mapDispatchToProps,ep=Object(ue.b)(Xu,Zu)(qu),tp=(a(1370),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).updateSelectValue=function(e,t){if("exam_type"===t.dropdown_type&&e.length&&n.props.updateExamOptionDropdown({exam_option_id:e[0].value}),"filter_exam_type"===t.dropdown_type){var a=Object(d.a)({},n.state.sort_config);n.props.fetchExamCodes({exam_option_id:e.length?e[0].value:null,selected_sort:a?Object(d.a)(Object(d.a)({},a),{direction:"caret-down"===a.direction?"DESC":"ASC"}):null})}n.setState({dropdowns:Object(d.a)(Object(d.a)({},n.state.dropdowns),{},Object(l.a)({},t.dropdown_type,Object(d.a)(Object(d.a)({},n.state.dropdowns[t.dropdown_type]),{},{selected:e})))})},n.onSubmitGenerateCode=function(e){e.preventDefault();var t=Object(d.a)({},n.state.dropdowns),a=n.state,s=a.exam_end_hour,r=a.exam_end_minute,o=a.exam_start_date_value,i=a.exam_end_date_value,c=a.has_end_time,_=a.is_replace_code;n.setState({is_processing_exam_code:!0,show_error:!0}),n.props.saveGeneratedExamCode({chapter_module_id:t.exam_option.selected[0].value,chapter_module_label:t.exam_option.selected[0].label,exam_end_hour:parseInt(s||0),exam_end_minute:parseInt(r||0),has_end_time:c,started_at:v()(new Date(o)).format("YYYY-MM-DD"),expired_at:v()(new Date(i)).format("YYYY-MM-DD"),is_replace_code:_})},n.resetAddExamCodeForm=function(e){var t=Object(d.a)({},n.state.dropdowns);Object.keys(t).map((function(e){t[e].selected=[],"exam_option"===e&&(t[e].options=[])})),n.setState({is_processing_exam_code:!1,dropdowns:t,exam_start_date_value:null,exam_end_date_value:null,exam_end_hour:"",exam_end_minute:"",show_error:!1,is_replace_code:!1})},n.requestSort=function(e){var t="caret-down",a=Object(d.a)({},n.state.sort_config);a&&a.key===e.key&&"caret-down"===a.direction&&(t="caret-up"),a.key=e.key,a.direction=t,n.setState({sort_config:a});var s=n.state.dropdowns;n.props.fetchExamCodes({exam_option_id:s.filter_exam_type.selected.length?s.filter_exam_type.selected[0].value:null,selected_sort:{key:e.key,direction:"caret-down"===t?"DESC":"ASC"}})},n.datePickerTemplate=function(e,t){return s.a.createElement("div",{class:"date_picker_container"},s.a.createElement("input",{onClick:t,value:e}),s.a.createElement("button",{type:"button",onClick:t},s.a.createElement(Te.a,{icon:["fa","calendar-alt"]})))},n.state={is_processing_exam_code:!1,sort_config:null,copy_clipboard_popover:{is_show:!1,text:"Code copied to your clipboard",position:{},zIndex:!0},table_head_data:[{name:"Option",key:"name"},{name:"Admin",key:"admin_name"},{name:"Code",key:"code"},{name:"Exam Starts On",key:"started_at"},{name:"Exam End",key:"exam_end"}],has_end_time:!1,dropdowns:e.exam_modal_dropdowns,exam_start_date_value:{},exam_end_date_value:{},recently_generated_codes:n.props.exams.exam_codes,exam_end_hour:null,exam_end_minute:null,is_replace_code:!1,reset_form:!1,show_error:!1},n}return Object(_e.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.user.user_details.workspace.workspace_id;this.props.exam_code_visibility&&this.props.fetchExamOptionsDropdown({workspace_id:e},!0),this.resetAddExamCodeForm(!0)}},{key:"componentDidUpdate",value:function(e){if(e.exams.is_fetching_exam_code&&!this.props.exams.is_fetching_exam_code&&this.setState({recently_generated_codes:this.props.exams.exam_codes}),e.exams.is_updating_exam_code_dropdown&&!this.props.exams.is_updating_exam_code_dropdown){var t=this.state.dropdowns;t.exam_option.selected=[],t.exam_option.options=this.props.exams.exam_options_dropdown,this.setState({dropdowns:t})}this.props.exams.save_exam_code_status&&this.state.show_error&&(this.resetAddExamCodeForm(!0),this.setState({show_error:!1}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.dropdowns,n=t.exam_start_date_value,r=t.exam_end_date_value,o=t.recently_generated_codes,i=t.is_processing_exam_code,c=t.copy_clipboard_popover,_=t.has_end_time,l=t.table_head_data,d=t.exam_end_hour,m=t.exam_end_minute,h=t.sort_config,E=t.show_error,f=this.props.set_exam_code,g=this.props.exams.error,b=new Date,S=function(e){return h&&h.key===e?h.direction:"caret-down"},A=a.exam_type.selected.length&&a.exam_option.selected.length&&(parseInt(d)||parseInt(m)||_)&&v()(r).isValid()&&v()(n).isValid(),k=this.props,O=k.toggleShowModal,T=k.show,C=k.onCheckInputNumber,w=0,y=60,R=72;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Zd,{data:c}),s.a.createElement(De.a,{id:"generate_exam_code_modal",onHide:function(){e.resetAddExamCodeForm(!0),O(!1)},backdrop:"static",keyboard:!1,show:T},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,f?"Generate an Exam Code":"Recently Generated Codes (Past 4 Weeks)"),s.a.createElement("button",{type:"button",onClick:function(){e.resetAddExamCodeForm(!0),O(!1)}})),s.a.createElement(De.a.Body,null,f?s.a.createElement(s.a.Fragment,null,s.a.createElement("form",{action:"",onKeyDown:function(e){if(13==e.keyCode)return e.preventDefault(),!1},onSubmit:function(t){return f&&e.onSubmitGenerateCode(t)}},s.a.createElement("div",{className:"content",id:"exam_type_and_option_container"},s.a.createElement("div",{className:"left_container"},s.a.createElement("h6",{className:"title"},"EXAM TYPE"),s.a.createElement(Nd,{is_disabled:!f,onUpdateSelectValue:this.updateSelectValue,dropdown:a.exam_type})),s.a.createElement("div",{className:"right_container"},s.a.createElement("h6",{className:"title"},"EXAM OPTION"),s.a.createElement(Nd,{is_disabled:!f,onUpdateSelectValue:this.updateSelectValue,dropdown:a.exam_option}))),s.a.createElement("div",{className:"content",id:"exam_time_window_container"},s.a.createElement("h6",{className:"title"},"EXAM TIME WINDOW"),s.a.createElement("div",{className:"input_container"},s.a.createElement("input",{disabled:_||!f,className:_||!f?"disabled":"",type:"number",min:0,max:72,onKeyDown:function(e){return C(e)},value:d,name:"exam_end_hour",onChange:function(t){var a=t.target.value;a<=R&&a>=w&&a.length<=2&&Object(p.C)(t,e)},placeholder:"Hours"}),s.a.createElement("input",{disabled:_||!f,className:_||!f?"disabled":"",type:"number",min:0,max:60,onKeyDown:function(e){return C(e)},value:m,name:"exam_end_minute",onChange:function(t){var a=t.target.value;a<=y&&a>=w&&a.length<=2&&Object(p.C)(t,e)},placeholder:"Minutes"})),s.a.createElement("div",{className:"checkbox"},s.a.createElement("input",{disabled:!f,className:f?"":"disabled",name:"student",type:"checkbox",onChange:function(t){return e.setState({has_end_time:t.target.checked})},id:"has_no_end_time_checkbox",checked:_}),s.a.createElement("label",{htmlFor:"has_no_end_time_checkbox"},s.a.createElement("div",{className:"checkbox_container"},s.a.createElement(Te.a,{icon:["fas","check"]})),"This exam has no time limit."))),s.a.createElement("div",{id:"exam_start_and_end_date_container",className:"content"},s.a.createElement("div",{className:"left_container"},s.a.createElement("h6",{className:"title"},"EXAM START DATE (PST)"),s.a.createElement(Pd.a,{disabled:!f,className:f?"":"disabled",value:n,format:"MMMM DD, YYYY",minDate:b.setDate(b.getDate()-1),maxDate:r,onChange:function(t){return e.setState({exam_start_date_value:t,exam_end_date_value:r})},onClose:function(){return setTimeout((function(){e.setState({exam_end_date_value:r||new Date(e.state.exam_start_date_value)})}),u.Ab.fastest)},render:function(t,a){return e.datePickerTemplate(t,a)}})),s.a.createElement("div",{className:"right_container"},s.a.createElement("h6",{className:"title"},"EXAM END DATE (PST)"),s.a.createElement(Pd.a,{disabled:!f,className:f?"":"disabled",value:r,minDate:n,format:"MMMM DD, YYYY",onChange:function(t){return e.setState({exam_end_date_value:t})},render:function(t,a){return e.datePickerTemplate(t,a)}}))),s.a.createElement("button",{id:"generate_code_button",className:A&&f&&!i?"":"disabled",type:"submit"},i?"Generating Code":"Generate Code"),g&&E&&s.a.createElement("div",{id:"has_active_code_container"},s.a.createElement("p",null,g),s.a.createElement("div",{className:"button_container"},s.a.createElement("button",{onClick:function(){e.resetAddExamCodeForm(!0),e.setState({error:null})},type:"button"},"Cancel"),s.a.createElement("button",{type:"submit",onClick:function(){e.setState({is_replace_code:!0})}},"Yes, Replace The Old Code")))),s.a.createElement("h4",null,"Recently Generated Codes (Past 4 Weeks)")):"",s.a.createElement("div",{className:"content"},s.a.createElement("h6",{className:"title"},"EXAM TYPE"),s.a.createElement(Nd,{onUpdateSelectValue:this.updateSelectValue,dropdown:a.filter_exam_type})),s.a.createElement("div",{className:"scroll_container"},s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,l.map((function(t){return s.a.createElement("th",{key:t.name,onClick:function(){return t.key?e.requestSort(t):null}},s.a.createElement("button",{type:"button"},t.name,s.a.createElement(Te.a,{className:"".concat((null===h||void 0===h?void 0:h.key)===t.key?"":"light"),icon:["fas",S(t.key)?S(t.key):"caret-down"]})))})))),s.a.createElement("tbody",null,o.length?o.map((function(t){var a="string"===typeof t.duration?JSON.parse(t.duration):t.duration;return s.a.createElement("tr",{className:t.status?"":"disabled_row"},s.a.createElement("td",null,t.name," ",t.status?a.hours||a.minutes?s.a.createElement("span",null,a.hours,"hrs ",a.minutes,"mins"):s.a.createElement("span",null,"No Time Limit"):s.a.createElement("span",null,"Disabled")),s.a.createElement("td",null,t.admin_name),s.a.createElement("td",null," ",s.a.createElement("button",{type:"button",onClick:function(a){return Object(p.n)(a,t.code,e)}},t.code)),s.a.createElement("td",null,t.start_date),s.a.createElement("td",null,t.expired_at))})):s.a.createElement("tr",{className:"no_results_found"}," ",s.a.createElement("td",{colSpan:"5"},"No exam record."))))))))}}]),a}(n.Component)),ap=Na.a.fetchExamCodes,np=Na.a.updateExamOptionDropdown,sp=Na.a.saveGeneratedExamCode,rp=Object(p.J)(["exams","user"],{fetchExamCodes:ap,updateExamOptionDropdown:np,saveGeneratedExamCode:sp}),op=rp.mapStateToProps,ip=rp.mapDispatchToProps,cp=Object(ue.b)(op,ip)(tp),_p=(a(69),a(1371),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n,s,r;return Object(ce.a)(this,a),(r=t.call(this,e)).updateFilterDropdownSelectedValue=function(e,t){if(r.state.is_update_filter_options){var a=r.state.filter_dropdowns,n=Object(p.O)(e,t,a);r.state.is_clear_filter&&!e.length||!["cc_stack_id","cc_stack_start_date","program_type_id"].includes(t.filter_name)||r.props.updateExamFilterOptions(Object(d.a)({admin_page:"student_exam"},n)),r.setState({selected_cc_stack_id:n.cc_stack_id,filter_dropdowns:n.filter_dropdowns,is_clear_filter:!1})}r.setState({is_update_filter_options:!0})},r.submitFilters=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&e.preventDefault();var n=r.state,s=n.filter_dropdowns,o=n.search_student_keyword,i=n.selected_sort,c=n.pagination,_=n.set_active_student,l=!1;for(var u in s)if(s[u].selected.length){l=!0;break}if((null===o||void 0===o?void 0:o.length)||l){var p={pagination:c,search_student_keyword:o,selected_sort:i};s&&s.map((function(e){e.selected.length>0&&(p[e.filter_name]=e.selected.length>1?e.selected.map((function(e){return e.value})):e.selected[0].value)}));var m=r.props.admin.profile.available_workspaces.filter((function(e){return e.is_selected})),h=Object(A.a)(m,1),E=h[0].id;return p.selected_workspace_id=E,t&&(c.current_page=1),r.props.fetchFilteredStudentExamData(Object(d.a)(Object(d.a)({},p),{},{is_filter:t,is_pagination:a,admin_page:"student_exam",set_active_student:_})),!1}alert("Please select atleast 1 filter.")},r.clearAllFilters=function(){var e=r.state.filter_dropdowns;e.map((function(e){e.selected.length>0&&(e.selected=[])})),r.props.updateExamFilterOptions({admin_page:"student_exam"}),r.setState({filter_dropdowns:e,is_clear_filter:!0})},r.paginateData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r.setState({pagination:Object(d.a)(Object(d.a)({},r.state.pagination),{},{current_page:Number(e)}),set_active_student:t},(function(){r.submitFilters(null,!1)}))},r.updatePageCount=function(e){r.state.pagination.students_per_page!==e.page_count&&r.setState({pagination:{current_page:1,students_per_page:e.page_count},page_count:e.page_count},(function(){r.submitFilters(null)}))},r.sortTable=function(e){var t,a="caret-down"===e.direction?"ASC":"DESC";switch(e.key){case"first_name_last_name":t="TRIM(users.first_name)";break;case"last_name_first_name":t="TRIM(users.last_name)";break;case"program":t="program_types.title";break;case"stack":t="cc_stacks.name";break;case"exam_name":t="chapters.title";break;case"exam_started_on":t="user_exams.unlocked_at";break;case"submitted_on":t="IF(user_exam_files_temp.file_url IS NOT NULL, user_exam_files_temp.created_at, IF(user_exams.ended_at IS NOT NULL, user_exams.ended_at, user_exams.demo_url_updated_at))";break;case"url_submitted_on":t="user_exams.demo_url_updated_at";break;case"grade_and_belt":t="user_exams.score";break;case"time_window":t="exam_codes.time_window"}r.setState({selected_sort:"".concat(t," ").concat(a)},(function(){r.submitFilters(null)}))},r.switchWorkspace=function(e){var t=e.filter((function(e){return e.is_selected})),a=Object(A.a)(t,1)[0].id;r.props.switchWorkspace({workspace_id:a}),r.setState({is_filter:!1,is_change_workspace:!0,selected_workspace_id:a})},r.onChangeSetFile=function(e,t,a,n){var s,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=Object(Se.a)(r),c=(null===(s=a.target)||void 0===s?void 0:s.value)||null;if(c){var _=new FormData,l=a.target.files[0],d=Object(p.Q)(l,n,"exams","exam"),u=d.Path,m=d.Key,h=d.bucket;l&&l.size&&l.size<1e7?"exe"!==l.name.split(".").pop()?(e.setState({exam_file_error:null,is_uploading_file:!0}),_.append("file_data",l),_.append("Bucket",h),_.append("Path",u),_.append("Key",m),_.append("user_file_type","user-exams"),_.append("page_modal",o),i.props.uploadFileAttachment(_,"exam")):e.setState({exam_file_error:"Executable file is not allowed.",is_uploading_file:!1}):(null===l||void 0===l?void 0:l.size)?e.setState({exam_file_error:"Upload failed. File size must not exceed 10MB.",is_uploading_file:!1}):e.setState({exam_file_error:"File size must be greater than 0.",is_uploading_file:!1})}},r.getStudentExamDetails=function(e){var t=r.props.admin.profile.available_workspaces.filter((function(e){return e.is_selected})),a=Object(A.a)(t,1)[0].id;r.props.getStudentExamDetails({selected_workspace_id:a,user_exam_id:e,pagination:{students_per_page:15,current_page:1}})},r.state={exam_modal_dropdowns:Yd,filter_dropdowns:e.exams.filter_dropdowns,is_loading_table:!1,is_show_add_exam_record_modal:!1,is_show_generate_exam_code_modal:!1,navigation:Object(p.w)(null===(n=e.exams.profile)||void 0===n||null===(s=n.general)||void 0===s?void 0:s.user_capabilities,"admin_exam"),page_count:15,pagination:{students_per_page:15,current_page:1},profile:e.exams.profile,set_active_student:null,selected_workspace_id:void 0,search_student_keyword:"",is_set_keyword:!1,is_change_workspace:!1,is_update_filter_options:!0},r}return Object(_e.a)(a,[{key:"processSearchUser",value:function(e){e.preventDefault(),this.submitFilters(null,!0)}},{key:"componentDidMount",value:function(){var e=this.props.admin.profile.available_workspaces.filter((function(e){return e.is_selected})),t=Object(A.a)(e,1)[0].id;this.props.fetchStudentExamFilterOptions({is_student_progress_program:!0,selected_workspace_id:t,is_switch_workspace:u.Db,admin_page:"student_exam",is_on_load_filter:!0})}},{key:"componentDidUpdate",value:function(e,t){var a,n,s=this,r=this.props.exams,o=r.filter_dropdowns,i=r.student_program_details,c=r.loading_table,_=r.search_student_keyword,l=((null===(a=this.props.admin)||void 0===a||null===(n=a.profile)||void 0===n?void 0:n.workspace)||{}).workspace_id;if(e.exams.is_fetching_exam_code_dropdown&&!this.props.exams.is_fetching_exam_code_dropdown){var d=this.state.exam_modal_dropdowns;d.exam_type.options=this.props.exams.exam_types_dropdown,d.filter_exam_type.options=this.props.exams.exam_types_dropdown,this.setState({exam_modal_dropdowns:d})}if(e.exams.is_updating_exam_code_dropdown&&!this.props.exams.is_updating_exam_code_dropdown){var p=this.state.exam_modal_dropdowns;p.exam_option.selected=[],p.exam_option.options=this.props.exams.exam_options_dropdown,this.setState({exam_modal_dropdowns:p})}if((JSON.stringify(e.exams.filter_dropdowns)!==JSON.stringify(o)&&JSON.stringify(t.filter_dropdowns)!==JSON.stringify(o)||_&&e.exams.search_student_keyword&&t.search_student_keyword&&JSON.stringify(e.exams.search_student_keyword)!==JSON.stringify(_)&&JSON.stringify(t.search_student_keyword)!==JSON.stringify(_))&&this.setState({filter_dropdowns:o,search_student_keyword:_},(function(){for(var e in o)if(o[e].selected){s.submitFilters(!1,!1);break}})),JSON.stringify(t.is_loading)!==JSON.stringify(c)&&this.setState({is_loading:c}),JSON.stringify(t.students)!==JSON.stringify(i)&&this.setState({students:i}),e.exams.is_fetching_exam_code_dropdown&&!this.props.exams.is_fetching_exam_code_dropdown){var m=this.state.exam_modal_dropdowns;m.exam_type.options=this.props.exams.exam_types_dropdown,m.filter_exam_type.options=this.props.exams.exam_types_dropdown,this.setState({exam_modal_dropdowns:m})}if(e.exams.is_updating_exam_code_dropdown&&!this.props.exams.is_updating_exam_code_dropdown){var h=this.state.exam_modal_dropdowns;h.exam_option.selected=[],h.exam_option.options=this.props.exams.exam_options_dropdown,this.setState({exam_modal_dropdowns:h})}!this.state.search_student_keyword&&_&&this.state.is_set_keyword&&this.setState({search_student_keyword:_,is_set_keyword:!1}),this.state.is_change_workspace&&l===this.state.selected_workspace_id&&(this.props.fetchStudentExamFilterOptions({is_student_progress_program:!0,selected_workspace_id:l,is_switch_workspace:u.Db,admin_page:"student_exam",is_on_load_filter:!0}),this.setState({is_change_workspace:!1,search_student_keyword:"",is_set_keyword:!0,is_update_filter_options:!1}))}},{key:"render",value:function(){var e,t,a,n,r,o=this,i=this.state,c=i.exam_modal_dropdowns,_=i.is_show_add_exam_record_modal,l=i.is_show_generate_exam_code_modal,d=i.navigation,m=i.page_count,h=i.pagination,E=i.profile,f=i.search_student_keyword,g=this.props.exams,v=g.belt_summary_data,b=g.filter_dropdowns,S=g.is_loading_table,A=g.total_results,k=g.total_success_rate,O=g.workspace_timezone,T=Object(p.i)(null===E||void 0===E||null===(e=E.general)||void 0===e?void 0:e.user_capabilities,"admin.admin_exam_page.view_exam_code.visibility"),C=Object(p.i)(null===E||void 0===E||null===(t=E.general)||void 0===t?void 0:t.user_capabilities,"admin.admin_exam_page.view_exam_record.set_exam_record"),w=h.current_page*h.students_per_page,y=w-h.students_per_page;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"admin_exam_container"},s.a.createElement(et,{title:u.lb.admin_page.exam_app}),s.a.createElement(Gi,{active_icon:"users"}),s.a.createElement(Vi,{navigation:d,admin_page:"admin_exam"}),s.a.createElement("div",{id:"admin_right_container"},s.a.createElement("form",{id:"search_student_name_and_email_form",onSubmit:function(e){return o.processSearchUser(e)}},s.a.createElement(Te.a,{icon:["fas","search"]}),s.a.createElement("input",{autoComplete:"off",onKeyUp:function(e){return o.setState({search_student_keyword:e.target.value.length?e.target.value:null})},type:"text",name:"search_student_keyword",placeholder:"Search by email address",defaultValue:f}),s.a.createElement("p",null,"To search multiple values, separate emails by space e.g. \u201ctest@codingdojo.com demo@codingdojo.com\u201d")),s.a.createElement(sc,{onchangeActiveWorkspace:this.switchWorkspace,profile:this.props.admin.profile}),s.a.createElement("div",{id:"admin_exam_table_filter_container"},s.a.createElement(Yi,{filter_dropdowns:b,submitFilters:this.submitFilters,updateFilterDropdownSelectedValue:this.updateFilterDropdownSelectedValue,clearAllFilters:this.clearAllFilters}),s.a.createElement("div",{className:"button_container"},s.a.createElement("button",{id:"exam_code_btn",onClick:function(){T&&o.props.fetchExamCodes(),o.setState({is_show_generate_exam_code_modal:!0})},type:"button"}," ",C?"Generate Exam Code":"View Exam Codes"),s.a.createElement("button",{id:"add_exam_record_btn",onClick:function(){return C&&o.setState({is_show_add_exam_record_modal:!0})},type:"button"}," ",s.a.createElement("span",{className:"icon"})," Exam Record"))),s.a.createElement(qd,{belt_summary_data:v,total_results:A,total_success_rate:k}),s.a.createElement(ep,{total_results:A,workspace_timezone:O,is_loading_table:S,onSortTable:this.sortTable,onCheckInputNumber:p.f,getStudentExamDetails:this.getStudentExamDetails,onPaginateData:this.paginateData,pagination:h,set_grade_and_belt:Object(p.i)(null===E||void 0===E||null===(a=E.general)||void 0===a?void 0:a.user_capabilities,"admin.admin_exam_page.view_exam_record.set_grade_and_belt"),student_profile_modal_visibility:Object(p.i)(null===E||void 0===E||null===(n=E.general)||void 0===n?void 0:n.user_capabilities,"admin.student_profile_modal.visibility"),onChangeSetFile:this.onChangeSetFile}),s.a.createElement(kc,{pagination:h,total_results:A,index_of_last_student:w,index_of_first_student:y+1,onPaginateData:this.paginateData,onUpdatPageCount:this.updatePageCount,page_count:m}))),l&&T&&s.a.createElement(cp,{exam_modal_dropdowns:c,fetchExamOptionsDropdown:this.props.fetchExamOptionsDropdown,toggleShowModal:function(){return Object(p.W)(o,"is_show_generate_exam_code_modal",!1)},onCheckInputNumber:p.f,set_exam_code:Object(p.i)(null===E||void 0===E||null===(r=E.general)||void 0===r?void 0:r.user_capabilities,"admin.admin_exam_page.view_exam_code.set_exam_code"),exam_code_visibility:T,show:l}),_&&C&&s.a.createElement(Vd,{toggleShowModal:function(){return Object(p.W)(o,"is_show_add_exam_record_modal",!1)},fetchExamOptionsDropdown:this.props.fetchExamOptionsDropdown,onCheckInputNumber:p.f,onChangeSetFile:this.onChangeSetFile,show:_,set_exam_record:C,workspace_timezone:O}))}}]),a}(n.Component)),lp=ts.a.switchWorkspace,dp=Na.a.fetchExamCodes,up=Na.a.fetchExamOptionsDropdown,pp=Na.a.fetchStudentExamFilterOptions,mp=Na.a.fetchFilteredStudentExamData,hp=Na.a.getStudentExamDetails,Ep=Na.a.updateExamFilterOptions,fp=vn.a.generateS3Url,gp=vn.a.uploadFileAttachment,vp=Object(p.J)(["dashboard","exams","rostering","admin"],{fetchExamCodes:dp,fetchExamOptionsDropdown:up,fetchStudentExamFilterOptions:pp,fetchFilteredStudentExamData:mp,updateExamFilterOptions:Ep,getStudentExamDetails:hp,switchWorkspace:lp,generateS3Url:fp,uploadFileAttachment:gp}),bp=vp.mapStateToProps,Sp=vp.mapDispatchToProps,Ap=Object(ue.b)(bp,Sp)(_p),kp={title:"Management",links:[{name:"Student Rostering",link:"/admin/student_rostering/roster",sub_links:[]},{name:"Course Dashboard",link:"/admin/course_dashboard",sub_links:[]},{name:"Student Progress",link:"/admin/student_progress/course",sub_links:[{name:"By Course",link:"student_progress/course"},{name:"By Program",link:"student_progress/program"}]},{name:"Access",link:"/admin/student_access/access",sub_links:[]}]},Op=[{is_show:!0,name:"First Name",width:120,sort_data:"first_name"},{is_show:!0,name:"Last Name",width:120,sort_data:"last_name"},{is_show:!0,name:"Email",width:150,sort_data:"email"},{is_show:!0,name:"Graduation Date",width:100,sort_data:"grad_date"},{is_show:!0,name:"Stacks Completed",width:100,sort_data:"stacks_completed"},{is_show:!0,name:"Overall Attendance",width:100,sort_data:"overall_attendance"},{is_show:!0,name:"Overall Assignement Completion",width:100,sort_data:"overall_assignment_completion"},{is_show:!0,name:"Grad Validation Flag",width:100,sort_data:"grad_validation_flag"}],Tp=[{name:"Program",is_show_search:!0,is_multi_select:!0,selected:[],options:[{label:"Onsite Fulltime",value:0},{label:"Onsite Hybrid",value:1},{label:"Saudi Digital Academy",value:2}]},{name:"Stack Start Date",is_show_search:!0,selected:[],options:[{label:"Jan 15, 2021",value:0}]},{name:"Graduation Date",is_show_search:!0,selected:[],options:[{label:"Jan 25, 2022",value:0},{label:"Feb 2, 2022",value:1}]},{name:"Stack",is_show_search:!0,selected:[],options:[{label:"LAMP",value:0},{label:"MERN",value:1}]},{name:"Stack Instructor",filter_name:"cc_stack_instructor_id",is_show_search:!0,is_multi_select:!0,selected:[],options:[{label:"Kathryn Y.",value:343},{label:"Aaaron S.",value:342},{label:"Abbas M.",value:341}]},{name:"Grad Status",filter_name:"grad_status",is_show_search:!1,is_multi_select:!1,selected:[],options:[{label:"True",value:1},{label:"False",value:0}]}],Cp=[{id:Date.now()+Math.random(),first_name:"Demy",last_name:"Balanza",email:"dbalanza@village88.com",graduation_date:"Nov 18, 2022",stacks_completed:"LAMP",overall_attendance:"50.88% (87/171)",assignment_completion:"82%",grad_validation:"No"}],wp=(a(1372),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).renderTableHead=function(e){if("Name"===e.name){var t,a,r=n.state.selected_name_sort_config,o="(".concat(n.props.student_progress.total_results_by_program||0,")");return(r=null===(t=n.props)||void 0===t?void 0:t.selected_sort)&&0!==Object.keys(r).length?s.a.createElement("div",{id:"name_sort_table_head"},(null===(a=r)||void 0===a?void 0:a.title)||"Name",o,s.a.createElement("div",{id:"name_sort_icon"},s.a.createElement(Te.a,{className:"".concat("caret-down"===r.direction?"":"light"),icon:["fas","caret-up"]}),s.a.createElement(Te.a,{className:"".concat("caret-up"===r.direction?"":"light"),icon:["fas","caret-down"]}))):s.a.createElement(s.a.Fragment,null,"Name ",o)}return e.name},n.state={is_show_student_profile_modal:!1,selected_applicant_id:null,offered_stack_schedules:[],sort_config:null,copy_clipboard_popover:{is_show:!1,text:"Email address copied to your clipboard",position:{}},grad_validation_dropdown_options:[{value:1,label:"Yes"},{value:0,label:"No"},{value:null,label:"N/A"}],selected_name_sort_config:void 0,name_sort_config:[{key:"last_name_first_name",title:"Last, First Name (A-Z)",direction:"caret-down"},{key:"last_name_first_name",title:"Last, First Name (Z-A)",direction:"caret-up"},{key:"first_name_last_name",title:"First, Last Name (A-Z)",direction:"caret-down"},{key:"first_name_last_name",title:"First, Last Name (Z-A)",direction:"caret-up"}],is_update_student_profile:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.table_head_columns,r=a.is_loading,o=a.table_data,i=(a.student_progress.student_details,a.profile,this.state),c=(i.grad_validation_dropdown_options,i.copy_clipboard_popover),_=i.sort_config;_=null===(e=this.props)||void 0===e?void 0:e.selected_sort;var l=function(e){if(_)return _.key===e?_.direction:"caret-down"};return s.a.createElement(s.a.Fragment,null,c.is_show&&s.a.createElement(Zd,{data:c}),s.a.createElement("div",{className:"table_container",id:"admin_student_progress_graduating_student_table"},s.a.createElement(sd,{table_head_columns:n,onCustomizeTableColumns:this.props.onCustomizeTableColumns}),s.a.createElement(bc.StickyTable,{leftStickyColumnCount:2,borderWidth:"0px",className:"".concat(r?"table_loading":"")},s.a.createElement(bc.Row,null,n.map((function(e){var a;return(void 0===e.is_show||e.is_show)&&s.a.createElement(bc.Cell,{key:e.name,style:{minWidth:e.width},onClick:function(){return(null===e||void 0===e?void 0:e.sort_data)?t.requestSort(e.sort_data):null}},t.renderTableHead(e,o),e.sort_data&&"name"!==e.sort_data&&s.a.createElement(Te.a,{className:"".concat((null===(a=_)||void 0===a?void 0:a.key)===e.sort_data?"":"light"),icon:["fas",l(e.sort_data)?l(e.sort_data):"caret-down"]}))}))),r?s.a.createElement("div",{id:"table_loading_container"},s.a.createElement("div",null),s.a.createElement("span",null,"Loading...")):o&&o.map((function(e){return s.a.createElement(bc.Row,{key:e.id},n.map((function(t){return s.a.createElement(s.a.Fragment,null,"First Name"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.first_name),"Last Name"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.last_name),"Full Name"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.full_name),"Email"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.email),"Graduation Date"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.graduation_date),"Stacks Completed"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.stacks_completed),"Overall Attendance"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.overall_attendance),"Overall Assignement Completion"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.assignment_completion),"Grad Validation Flag"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.grad_validation))})))})))))}}]),a}(n.Component)),yp=Pa.a.getStudentProfileDetails,Rp=Pa.a.updateStudentProgramAccess,Dp=Object(p.J)(["student_progress","student_access"],{getStudentProfileDetails:yp,updateStudentProgramAccess:Rp}),Up=Dp.mapStateToProps,Np=Dp.mapDispatchToProps,Ip=Object(ue.b)(Up,Np)(wp),Pp=(a(1373),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).onModalShow=function(){n.setState({downloading:!0}),setTimeout((function(){if(n.state.downloading){var e=document.createElement("a");e.setAttribute("download","student-grad-validation-1117220"),e.href="https://codingdojo_assets.s3.us-east-1.amazonaws.com/learn_platform/admin/temp_file/student-grad-validation%2811172022%29.csv",document.body.appendChild(e),e.click(),document.body.removeChild(e),n.props.toggleShowModal(!1)}}),u.Ab.normal)},n.onModalHide=function(){n.setState({downloading:!1}),n.props.toggleShowModal(!1)},n.state={downloading:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(De.a,{className:"admin_modal",id:"downloading_modal",show:this.props.show,backdrop:!1,keyboard:!1,onHide:function(){return e.onModalHide()},onShow:function(){return e.onModalShow()},centered:!0},s.a.createElement("span",null),s.a.createElement("p",null,"Your download is loading..."),s.a.createElement("button",{type:"button",onClick:function(){return e.onModalHide()}},"Cancel The Download")))}}]),a}(n.Component)),jp=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){Gl(Object(Se.a)(n),"graduating_students_customize_columns")},n.searchStudents=function(e){e.preventDefault()},n.state={navigation:kp,table_head_columns:Op,filter_dropdowns:Tp,table_data:Cp,profile:Object(d.a)({},n.props.student_progress.profile),pagination:{records_per_page:20,current_page:1},is_show_export_students_data_modal:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.navigation,n=t.profile,r=t.filter_dropdowns,o=(t.is_loading,t.table_head_columns),i=t.table_data,c=t.pagination,_=t.is_show_export_students_data_modal,l=this.props.student_progress;l.total_results_by_program,l.page_count;return s.a.createElement("div",{id:"admin_container"},s.a.createElement(Gi,null),s.a.createElement(Vi,{navigation:a}),s.a.createElement("div",{id:"admin_right_container"},s.a.createElement(sc,{onchangeActiveWorkspace:this.changeActiveWorkspace,onSearchStudents:this.searchStudents,onSetSearchStudentsKeyword:this.setSearchStudentsKeyword,profile:n,search_student_keyword:this.state.search_student_keyword}),s.a.createElement("div",{id:"table_tools_container"},s.a.createElement(Yi,{filter_dropdowns:r}),s.a.createElement("div",{id:"other_tools_container"},s.a.createElement("button",{type:"button",onClick:function(){e.setState({is_show_export_students_data_modal:!0})}},s.a.createElement(Te.a,{icon:["fas","download"]})))),s.a.createElement(Ip,{onCustomizeTableColumns:function(t){return Kl(e,t,"graduating_students_customize_columns")},profile:n,table_data:i,table_head_columns:o}),s.a.createElement(kc,{pagination:c,total_results:0,onPaginateData:this.paginateData,onUpdatPageCount:this.updatePageCount,page_count:0}),s.a.createElement(Pp,{toggleShowModal:function(){return Object(p.W)(e,"is_show_export_students_data_modal",!1)},show:_})))}}]),a}(n.Component),Lp=Pa.a.changeActiveWorkspace,Mp=ts.a.switchWorkspace,Fp=nd.fetchStudentProgressFilterOptions,xp=nd.updateStudentProgressFilterOptions,Bp=nd.fetchFilteredStudentProgressData,Wp=nd.updateStudentGraduationValidationStatus,Hp=nd.changePropsValue,Kp=Object(p.J)(["student_progress","admin","dashboard"],{fetchStudentProgressFilterOptions:Fp,updateStudentProgressFilterOptions:xp,fetchFilteredStudentProgressData:Bp,updateStudentGraduationValidationStatus:Wp,changePropsValue:Hp,changeActiveWorkspace:Lp,switchWorkspace:Mp}),Gp=Kp.mapStateToProps,Vp=Kp.mapDispatchToProps,qp=(Object(ue.b)(Gp,Vp)(jp),[{is_show:!0,name:"Name",width:100,sort_data:"name"},{is_show:!0,name:"Program",width:100,sort_data:"program"},{is_show:!0,name:"Course",width:55,sort_data:"stack"},{is_show:!0,name:"Instructor",width:55,sort_data:"instructor"},{is_show:!0,name:"Status",width:55,sort_data:"status"},{is_show:!0,name:"Core",width:55,sort_data:"core"},{is_show:!0,name:"Attendance",width:55,sort_data:"attendance"},{is_show:!0,name:"Program Start Date",width:55,sort_data:"program_start_date"},{is_show:!0,name:"Exp Graduation Date",width:55,sort_data:"exp_graduation_date"},{is_show:!0,name:"Grad Validation",width:55,sort_data:"grad_validation"},{is_show:!0,name:"Retake Status",width:55,sort_data:"retake_status"},{is_show:!0,name:"Academic Standing",width:55,sort_data:"academic_standing"},{is_show:!0,name:"Catalog",width:55,sort_data:"catalog"},{is_show:!0,name:"Course History",width:55,sort_data:"track_history"}]),Yp=[{name:"Program",is_show_search:!0,is_multi_select:!0,selected:[],options:[{label:"Onsite Fulltime",value:0},{label:"Onsite Hybrid",value:1},{label:"Saudi Digital Academy",value:2}]},{name:"Course Start Date",is_show_search:!0,selected:[],options:[{label:"Jan 15, 2021",value:0}]},{name:"Course",is_show_search:!0,selected:[],options:[{label:"LAMP",value:0},{label:"MERN",value:1}]},{name:"Instructor",filter_name:"cc_stack_instructor_id",is_show_search:!0,is_multi_select:!0,selected:[],options:[{label:"Kathryn Y.",value:343},{label:"Aaaron S.",value:342},{label:"Abbas M.",value:341}]},{name:"Enrollment Status",is_show_search:!0,is_multi_select:!1,selected:[],options:[{label:"Accepted",value:0},{label:"Auditor",value:1},{label:"Alumni",value:2},{label:"Cancelled",value:3},{label:"Current",value:4},{label:"Dropped",value:5},{label:"Expelled",value:6},{label:"Incomplete",value:7},{label:"Non-Grad",value:8},{label:"Transferred",value:9},{label:"Not Interested",value:10},{label:"Pending",value:11},{label:"QA Review",value:12},{label:"Rejected",value:13},{label:"Transferred/Changed Cohort",value:14},{label:"Unresponsive",value:15},{label:"Upcoming",value:16}]},{name:"Grad Validation",is_show_search:!1,is_multi_select:!1,selected:[],options:[{label:"No",value:0},{label:"Yes",value:1}]},{name:"Retake Status",is_show_search:!1,is_multi_select:!1,selected:[],options:[{label:"N/A",value:343}]},{name:"Academic Standing",is_show_search:!1,is_multi_select:!1,selected:[],options:[{label:"AIP",value:0},{label:"AP-1",value:0},{label:"AP-2",value:0},{label:"AP-3",value:0},{label:"GS",value:0}]}],Qp=[{id:Date.now()+Math.random(),first_name:"Lance",last_name:"Agleron",email_address:"lanceagleron17@gmail.com",program:"Online Full Time",stack:"C#/.NET",instructor:"Neil M.",status:4.2,core:"62.86 (22/35)",attendance:"50.88% (87/171)",program_start_date:"Aug 15, 2022",exp_graduation_date:"Nov 18, 2022",grad_validation:"NO",retake_status:"N/A",academic_standing:"AP-1",catalog:{set_catalog:"Master-Student-Catalog-2019.pdf",catalog_link:"https://cd-student-files.s3.amazonaws.com/boomyeah2015/codingdojo/catalogs/Master-Student-Catalog-2019.pdf"},track_history:[{track_id:2,belt_color:"yellow",is_passed:!0,track_name:"Web Fundamentals",score:9.78,belt_level:0,exam_score:9.78,user_exam_id:43495},{track_id:"59",track_date:"Nov 30, 2020 - Dec 23, 2020",belt_color:null,is_passed:!1,track_name:"Python",score:null},{track_id:119,belt_color:"black",is_passed:!0,track_name:"Python",score:10,belt_level:2,exam_score:10,user_exam_id:44238},{track_id:119,belt_color:"black",is_passed:!0,track_name:"MERN",score:10,belt_level:2,exam_score:10,user_exam_id:44238},{track_id:119,belt_color:"black",is_passed:!0,track_name:"C#",score:10,belt_level:2,exam_score:10,user_exam_id:44238}]},{id:Date.now()+Math.random(),first_name:"Isaac",last_name:"Rodriguez",email_address:"lisedrod@gmail.com",program:"Online Full Time",stack:"C#/.NET",instructor:"Neil M.",status:4.2,core:"81.25% (39/48)",attendance:"67.1% (155/231)",program_start_date:"Jun 21 2022",exp_graduation_date:"Sep 23 2022",grad_validation:"NO",retake_status:"N/A",academic_standing:"AP-3",catalog:{set_catalog:"Master-Student-Catalog-2019.pdf",catalog_link:"https://cd-student-files.s3.amazonaws.com/boomyeah2015/codingdojo/catalogs/Master-Student-Catalog-2019.pdf"},track_history:[{track_id:2,belt_color:"yellow",is_passed:!0,track_name:"Web Fundamentals",score:9.78,belt_level:0,exam_score:9.78,user_exam_id:43495},{track_id:"59",track_date:"Nov 30, 2020 - Dec 23, 2020",belt_color:null,is_passed:!1,track_name:"Python",score:null},{track_id:119,belt_color:"black",is_passed:!0,track_name:"Python",score:10,belt_level:2,exam_score:10,user_exam_id:44238},{track_id:119,belt_color:"black",is_passed:!0,track_name:"MERN",score:10,belt_level:2,exam_score:10,user_exam_id:44238},{track_id:119,belt_color:"black",is_passed:!0,track_name:"C#",score:10,belt_level:2,exam_score:10,user_exam_id:44238}]},{id:Date.now()+Math.random(),first_name:"Sean",last_name:"McNamee",email_address:"samcnamee86@gmail.com",program:"Online Full Time",stack:"C#/.NET",instructor:"Neil M.",status:4.5,core:"85.71% (42/49)",attendance:"65% (156/240)",program_start_date:"Jul 18 2022",exp_graduation_date:"Oct 21 2022",grad_validation:"NO",retake_status:"N/A",academic_standing:"AIP",catalog:{set_catalog:"Master-Student-Catalog-2019.pdf",catalog_link:"https://cd-student-files.s3.amazonaws.com/boomyeah2015/codingdojo/catalogs/Master-Student-Catalog-2019.pdf"},track_history:[{track_id:2,belt_color:"yellow",is_passed:!0,track_name:"Web Fundamentals",score:9.78,belt_level:0,exam_score:9.78,user_exam_id:43495},{track_id:"59",track_date:"Nov 30, 2020 - Dec 23, 2020",belt_color:null,is_passed:!1,track_name:"Python",score:null},{track_id:119,belt_color:"black",is_passed:!0,track_name:"Python",score:10,belt_level:2,exam_score:10,user_exam_id:44238},{track_id:119,belt_color:"black",is_passed:!0,track_name:"MERN",score:10,belt_level:2,exam_score:10,user_exam_id:44238},{track_id:119,belt_color:"black",is_passed:!0,track_name:"C#",score:10,belt_level:2,exam_score:10,user_exam_id:44238}]},{id:Date.now()+Math.random(),first_name:"Kyle",last_name:"McNally",email_address:"kylemcnally10@gmail.com",program:"Online Full Time",stack:"C#/.NET",instructor:"Neil M.",status:4.2,core:"85.71% (42/49)",attendance:"67.5% (162/240)",program_start_date:"Jul 18 2022",exp_graduation_date:"Oct 21 2022",grad_validation:"NO",retake_status:"N/A",academic_standing:"Good Standing",catalog:{set_catalog:"Master-Student-Catalog-2019.pdf",catalog_link:"https://cd-student-files.s3.amazonaws.com/boomyeah2015/codingdojo/catalogs/Master-Student-Catalog-2019.pdf"},track_history:[{track_id:2,belt_color:"yellow",is_passed:!0,track_name:"Web Fundamentals",score:9.78,belt_level:0,exam_score:9.78,user_exam_id:43495},{track_id:"59",track_date:"Nov 30, 2020 - Dec 23, 2020",belt_color:null,is_passed:!1,track_name:"Python",score:null},{track_id:119,belt_color:"black",is_passed:!0,track_name:"Python",score:10,belt_level:2,exam_score:10,user_exam_id:44238},{track_id:119,belt_color:"black",is_passed:!0,track_name:"MERN",score:10,belt_level:2,exam_score:10,user_exam_id:44238},{track_id:119,belt_color:"black",is_passed:!0,track_name:"C#",score:10,belt_level:2,exam_score:10,user_exam_id:44238}]},{id:Date.now()+Math.random(),first_name:"Paul",last_name:"Kim",email_address:"paulbkim3@gmail.com",program:"Online Full Time",stack:"C#/.NET",instructor:"Neil M.",status:4.2,core:"77.08% (37/48)",attendance:"58.01% (134/231)",program_start_date:"Jun 21 2022",exp_graduation_date:"Sep 23 2022",grad_validation:"NO",retake_status:"N/A",academic_standing:"",catalog:{set_catalog:"Master-Student-Catalog-2019.pdf",catalog_link:"https://cd-student-files.s3.amazonaws.com/boomyeah2015/codingdojo/catalogs/Master-Student-Catalog-2019.pdf"},track_history:[{track_id:2,belt_color:"yellow",is_passed:!0,track_name:"Web Fundamentals",score:9.78,belt_level:0,exam_score:9.78,user_exam_id:43495},{track_id:"59",track_date:"Nov 30, 2020 - Dec 23, 2020",belt_color:null,is_passed:!1,track_name:"Python",score:null},{track_id:119,belt_color:"black",is_passed:!0,track_name:"Python",score:10,belt_level:2,exam_score:10,user_exam_id:44238},{track_id:119,belt_color:"black",is_passed:!0,track_name:"MERN",score:10,belt_level:2,exam_score:10,user_exam_id:44238},{track_id:119,belt_color:"black",is_passed:!0,track_name:"C#",score:10,belt_level:2,exam_score:10,user_exam_id:44238}]}],$p=(a(1374),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).renderTooltip=function(t){var a=e.props,n=a.track,r=a.exam_passing_score,o=a.belt_colors,i=(a.student,"".concat(n.core_percentage||0,"% (").concat(n.core_completed||0," / ").concat(n.core_total||0,")")),c="".concat(n.attendance_percentage||0,"% (").concat(n.completed_attendances||0," / ").concat(n.total_attendances||0,")");return s.a.createElement(Sa.a,Object.assign({id:"track_history_tooltip"},t),s.a.createElement("h5",null,n.stack_name," ",s.a.createElement("span",null,s.a.createElement(En.a,{format:"MMM DD, YYYY"},n.cc_stack_schedule_start_date)," - ",s.a.createElement(En.a,{format:"MMM DD, YYYY"},n.cc_stack_schedule_end_date))),s.a.createElement("div",{id:"belt_score",className:"".concat(n.score>=r?"passed":"failed")},n.score,null!=n.belt_level&&s.a.createElement("span",{className:"belt_icon ".concat(o[n.belt_level].toLowerCase())})),s.a.createElement("div",null,s.a.createElement("span",null,"Core: ",i),s.a.createElement("span",null,"Attendance: ",c)))},e}return Object(_e.a)(a,[{key:"render",value:function(){var e=this.props,t=e.track,a=e.exam_passing_score,n=e.belt_colors;return s.a.createElement(va.a,{placement:"top",delay:{show:250,hide:400},overlay:this.renderTooltip},s.a.createElement("li",{className:"".concat(t.score>=a?"green_bg":"red_bg")},s.a.createElement("span",null,t.stack_name),s.a.createElement("span",null,t.score),null!=t.belt_level&&s.a.createElement("span",{className:"belt_icon ".concat(n[t.belt_level].toLowerCase())})))}}]),a}(n.Component)),zp=(a(1375),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).renderTableHead=function(e){if("Name"===e.name){var t,a,r=n.state.selected_name_sort_config,o="(".concat(n.props.student_progress.total_results||0,")");return(r=null===(t=n.props)||void 0===t?void 0:t.selected_sort)&&0!==Object.keys(r).length?s.a.createElement("div",{id:"name_sort_table_head"},(null===(a=r)||void 0===a?void 0:a.title)||"Name",o,s.a.createElement("div",{id:"name_sort_icon"},s.a.createElement(Te.a,{className:"".concat("caret-down"===r.direction?"":"light"),icon:["fas","caret-up"]}),s.a.createElement(Te.a,{className:"".concat("caret-up"===r.direction?"":"light"),icon:["fas","caret-down"]}))):s.a.createElement(s.a.Fragment,null,"Name ",o)}return e.name},n.renderUserStatus=function(e){return{3:{name:"Accepted",bg_color:"gray"},3.1:{name:"Unresponsive",bg_color:"gray"},3.2:{name:"Not Interested",bg_color:"gray"},3.3:{name:"Rejected",bg_color:"red"},4.2:{name:"Current",bg_color:"green"},4.6:{name:"Alumni",bg_color:"green"},4.7:{name:"Transferred",bg_color:"green"},4.1:{name:"Upcoming",bg_color:"gray"},4.3:{name:"Pending",bg_color:"yellow"},4.4:{name:"Incomplete",bg_color:"red"},4.5:{name:"Dropped",bg_color:"red"},4.8:{name:"Cancelled",bg_color:"red"},4.9:{name:"Expelled",bg_color:"red"},5:{name:"Auditor",bg_color:"green"},5.1:{name:"Non-Grad",bg_color:"yellow"},5.2:{name:"QA Review",bg_color:"yellow"},5.3:{name:"Transferred",bg_color:"yellow"}}[e]||{name:"",bg_color:""}},n.requestSort=function(e){var t,a=Object(d.a)({},n.state.sort_config);t="caret-down",(a=Object(d.a)({},n.state.sort_config))&&a.key===e&&"caret-down"===a.direction&&(t="caret-up"),a.key=e,a.direction=t,a.title=null,n.setState({selected_name_sort_config:void 0}),n.setState({sort_config:a},(function(){n.props.onSortTable(n.state.sort_config,e,n.state.selected_view_type)}))},n.copyEmailToClipboard=function(e,t){var a=Object(d.a)({},n.state.copy_clipboard_popover);e.stopPropagation(),a.is_show=!0,a.position=e.target.getBoundingClientRect(),n.setState({copy_clipboard_popover:a},(function(){var e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),setTimeout((function(){a.is_show=!1,n.setState({copy_clipboard_popover:a})}),1e3)}))},n.getStudentProfileDetails=function(e,t,a,s,r){n.props.getStudentProfileDetails({user_id:e,applicant_id:t,user_bootcamp_id:r.user_bootcamp_id,next_stack_params:{program_type_ids:[a],location_ids:[s]},is_from_student_matching:!1}),n.setState({is_show_student_profile_modal:!0,student_profile_data:r,selected_applicant_id:t,is_update_student_profile:!0})},n.state={is_show_student_profile_modal:!1,selected_applicant_id:null,student_profile_data:[],offered_stack_schedules:[],sort_config:null,copy_clipboard_popover:{is_show:!1,text:"Email address copied to your clipboard",position:{}},grad_validation_dropdown_options:[{value:1,label:"Yes"},{value:0,label:"No"},{value:null,label:"N/A"}],selected_name_sort_config:void 0,name_sort_config:[{key:"last_name_first_name",title:"Last, First Name (A-Z)",direction:"caret-down"},{key:"last_name_first_name",title:"Last, First Name (Z-A)",direction:"caret-up"},{key:"first_name_last_name",title:"First, Last Name (A-Z)",direction:"caret-down"},{key:"first_name_last_name",title:"First, Last Name (Z-A)",direction:"caret-up"}],is_update_student_profile:!1,ap_options:[{value:0,label:"None",bg_color:"green_bg"},{value:1,label:"AP-1",bg_color:"red_bg"},{value:2,label:"AIP",bg_color:"gray_bg"},{value:3,label:"AP-2",bg_color:"gray_bg"},{value:4,label:"AP-3",bg_color:"gray_bg"},{value:5,label:"GS",bg_color:"gray_bg"}]},n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t,a=this,n=this.props,r=n.profile,o=n.table_head_columns,i=n.is_loading,c=n.students,_=n.belt_colors,l=n.exam_passing_score,d=n.is_fetching_filters,m=n.student_progress,h=m.filter_dropdowns,E=m.by_course_filter_students,g=m.program_attendance_requirement,v=this.state,b=v.copy_clipboard_popover,S=v.sort_config,k=v.ap_options,O=Object(p.i)(null===r||void 0===r||null===(e=r.general)||void 0===e?void 0:e.user_capabilities,"admin.student_profile_modal.visibility"),T=Object(A.a)(h,3),C=T[0],w=T[1],y=T[2],R=["Attendance Requirement:"].concat(Object(f.a)(g||[])).map((function(e){return s.a.createElement("div",{key:e},e)}));S=null===(t=this.props)||void 0===t?void 0:t.selected_sort;var D=function(e){if(S)return S.key===e?S.direction:"caret-down"};return s.a.createElement(s.a.Fragment,null,b.is_show&&s.a.createElement(Zd,{data:b}),s.a.createElement("div",{className:"table_container",id:"admin_student_progress_program_table"},s.a.createElement(sd,{table_head_columns:o,onCustomizeTableColumns:this.props.onCustomizeTableColumns}),s.a.createElement(bc.StickyTable,{leftStickyColumnCount:1,borderWidth:"0px",className:"".concat(i?"table_loading":"")},s.a.createElement(bc.Row,null,o.map((function(e){var t,n,r,o;return(void 0===e.is_show||e.is_show)&&s.a.createElement(bc.Cell,{key:e.name,style:{minWidth:e.width},onClick:function(){return(null===e||void 0===e?void 0:e.sort_data)&&"track_history"!==e.sort_data?a.requestSort(e.sort_data):null}},a.renderTableHead(e,c),"Attendance"===e.name&&s.a.createElement(va.a,{placement:"top",overlay:s.a.createElement(Sa.a,null,(null===y||void 0===y||null===(t=y.selected)||void 0===t?void 0:t.length)&&(null===w||void 0===w||null===(n=w.selected)||void 0===n?void 0:n.length)&&1===(null===C||void 0===C||null===(r=C.selected)||void 0===r?void 0:r.length)&&(null===E||void 0===E?void 0:E.length)?R:"Requirements vary by program")},s.a.createElement(Te.a,{icon:["fa","info-circle"]})),e.sort_data&&"track_history"!==e.sort_data&&"name"!==e.sort_data&&s.a.createElement(Te.a,{className:"".concat((null===(o=S)||void 0===o?void 0:o.key)===e.sort_data?"":"light"),icon:["fas",D(e.sort_data)?D(e.sort_data):"caret-down"]}))}))),i?!d&&s.a.createElement("div",{id:"table_loading_container"},s.a.createElement("div",null),s.a.createElement("span",null,"Loading...")):!d&&c&&c.map((function(e){var t,n,r,i,c,d,u=e.track_history?JSON.parse(e.track_history):void 0,p=null===e||void 0===e?void 0:e.catalog,m=e.cache_progress_breakdown_json?JSON.parse(e.cache_progress_breakdown_json):{},h=(null===m||void 0===m||null===(t=m.checklist_progress)||void 0===t||null===(n=t.module_progress)||void 0===n||null===(r=n.todo)||void 0===r||null===(i=r.progress_percent)||void 0===i||null===(c=i.within_schedule)||void 0===c?void 0:c.core)||void 0,E=(null===h||void 0===h?void 0:h.progress_to_date)&&(null===h||void 0===h||null===(d=h.breakdown_to_date)||void 0===d?void 0:d.completed)?"".concat(h.progress_to_date,"% (").concat(h.breakdown_to_date.completed,"/").concat(h.breakdown_to_date.total,")"):"0% (0/0)",f=e.cache_attendance_summary_json?JSON.parse(e.cache_attendance_summary_json):{},g=void 0!==(null===f||void 0===f?void 0:f.cache_to_date_present_percentage)?"".concat(f.cache_to_date_present_percentage,"% (").concat(f.cache_to_date_total_present,"/").concat(f.cache_to_date_total_attendance,")"):"0% (0/0)",v=k.filter((function(t){return t.value===e.ap_status_id})),b=(null===v||void 0===v?void 0:v.length)?v[0].label:"None";return s.a.createElement(bc.Row,{key:e.id},o.map((function(t){var n;return s.a.createElement(s.a.Fragment,null,"Name"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,s.a.createElement("div",{className:"name",onClick:function(t){return O&&a.getStudentProfileDetails(e.user_id,e.applicant_id,e.program_type_id,e.location_id,e,t)}},e.first_name," ",e.last_name,!!e.feedback_count&&s.a.createElement("span",{className:"note_icon","data-tab":"notes"})),s.a.createElement("div",{className:"email",onClick:function(t){return a.copyEmailToClipboard(t,e.email_address,a)}},e.email_address)),"Program"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.program_type_name),"Course"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.cc_stack_name),"Instructor"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.instructor_first_name," ",null===(n=e.instructor_last_name)||void 0===n?void 0:n[0]),"Status"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,s.a.createElement("div",{className:a.renderUserStatus(e.status).bg_color+"_bg"},s.a.createElement("span",null,a.renderUserStatus(e.status).name))),"Core"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,E),"Attendance"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,g),"Program Start Date"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,s.a.createElement(En.a,{format:"MMM DD, YYYY"},e.program_start_date)),"Exp Graduation Date"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,s.a.createElement(En.a,{format:"MMM DD, YYYY"},e.program_end_date)),"Grad Validation"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.grad_validation),"Retake Status"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.retake_status),"Academic Standing"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,b),"Catalog"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,s.a.createElement("a",{href:null===p||void 0===p?void 0:p.catalog_link,target:"_blank",class:"gray_bg",rel:"noopener noreferrer"},null===p||void 0===p?void 0:p.set_catalog)),"Course History"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,s.a.createElement("ul",{className:"list-unstyled track_history_list"},u&&u.map((function(t,a){return t.stack_name?s.a.createElement($p,{student:e,track:t,belt_colors:_,exam_passing_score:l}):s.a.createElement("li",{className:"gray_bg"},"Stack ",a+1)})))))})))})),d&&s.a.createElement("div",{id:"no_results_found"},"Preparing filters...."),!1===i&&0===c.length&&!1===d&&s.a.createElement("div",{id:"no_results_found"},"No results found."))),s.a.createElement(Lu,{toggleShowModal:function(){return Object(p.W)(a,"is_show_student_profile_modal",!1)},student_data:this.state.student_profile_data,show:this.state.is_show_student_profile_modal,changeProgramStatus:this.changeProgramStatus,admin_page:u.c.stack_dashboard}))}}]),a}(n.Component)),Jp=Pa.a.getStudentProfileDetails,Xp=Pa.a.updateStudentProgramAccess,Zp=Object(p.J)(["student_progress","student_access"],{getStudentProfileDetails:Jp,updateStudentProgramAccess:Xp}),em=Zp.mapStateToProps,tm=Zp.mapDispatchToProps,am=Object(ue.b)(em,tm)(zp),nm=(a(1376),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n,s,r;return Object(ce.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){var e,t,a=r.props.admin.profile.available_workspaces.filter((function(e){return e.is_selected})),n=Object(A.a)(a,1)[0].id,s=JSON.parse(localStorage.getItem("by_course_filters")),o={};s&&(o=s.pop(),localStorage.setItem("by_course_filters",JSON.stringify(s))),r.props.fetchStudentProgressRevisionFilterOptions({selected_workspace_id:(null===(e=r.props.admin)||void 0===e||null===(t=e.filters)||void 0===t?void 0:t.workspace_id)||n,admin_page:u.c.student_progress.new_by_stack,bypass_by_course_filter:o}),Gl(Object(Se.a)(r),"stack_customize_columns")},r.componentWillUnmount=function(){r.props.unMountCourseDashBoard()},r.submitStudentTableFilter=function(e){e.preventDefault(),r.submitFilters(!1,"filter","",!1,!0,!0)},r.setSearchStudentsKeyword=function(e){e.preventDefault(),r.setState({search_student_keyword:e.target.value})},r.submitFilters=function(e){var t,a;e&&e.preventDefault();var n=(null===(t=r.state)||void 0===t?void 0:t.pagination)||(null===(a=r.props.student_progress)||void 0===a?void 0:a.pagination),s={pagination:n,search_student_keyword:r.state.search_student_keyword,filters:{},selected_sort:r.state.selected_sort};r.props.student_progress.filter_dropdowns.map((function(e){e.selected.length&&(s.filters[e.filter_name]=e.selected.length>1?e.selected.map((function(e){return e.value})):e.selected[0].value)})),r.state.latest_filter_params=s;var o=r.props.admin.profile.available_workspaces.filter((function(e){return e.is_selected})),i=Object(A.a)(o,1),c=i[0].id;s.workspace_id=c,s.filters.program_type_id?r.props.fetchFilteredByStackData(Object(d.a)(Object(d.a)({},s),{},{admin_page:u.c.student_progress.new_by_stack})):alert("Please select atleast 1 Program type")},r.paginateData=function(e){r.state.pagination.current_page=Number(e),r.submitFilters(null,"","",!0,!0)},r.updateFilterDropdownSelectedValue=function(e,t){var a=Object(f.a)(r.state.filter_dropdowns),n=r.props.student_progress.initial_filter_data;r.setState({filter_dropdowns:Object(p.U)(e,t,a,n,u.lb.admin_page.by_course)})},r.clearFilters=function(){var e=Object(f.a)(r.state.filter_dropdowns),t=r.props.student_progress.initial_filter_data;Object(p.a)(e,t,u.lb.admin_page.by_course),r.setState({filter_dropdowns:e})},r.changeActiveWorkspace=function(e){var t=e.filter((function(e){return e.is_selected})),a=Object(A.a)(t,1)[0].id;r.props.switchWorkspace({workspace_id:a}),setTimeout((function(){r.props.fetchStudentProgressRevisionFilterOptions({selected_workspace_id:a,admin_page:u.c.student_progress.new_by_stack})}),u.Ab.normal)},r.searchStudents=function(e){e.preventDefault(),r.state.search_student_keyword&&r.submitFilters(null,"","",!1)},r.sortTable=function(e,t,a){r.setState({selected_sort:e},(function(){r.submitFilters(null,"","",!1,a)}))},r.updatePageCount=function(e){r.state.pagination.students_per_page!==e.page_count&&(r.props.student_progress.page_count=e.page_count,r.setState({pagination:{current_page:1,students_per_page:e.page_count}},(function(){r.submitFilters(null,"","",!0)})))},r.state={navigation:Object(p.w)(null===(n=r.props.student_progress.profile)||void 0===n||null===(s=n.general)||void 0===s?void 0:s.user_capabilities,"student_progress"),table_head_columns:qp,filter_dropdowns:Yp,students:Qp,profile:Object(d.a)({},r.props.student_progress.profile),pagination:{students_per_page:15,current_page:1},selected_sort:void 0,is_loading:!0,is_onload_page:!0,selected_program_type_ids:void 0,selected_cc_start_date:void 0},r}return Object(_e.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.props.student_progress,s=n.filter_dropdowns,r=n.by_course_filter_students,o=n.loading_table,i=(n.table_head_dates,n.check_attendances_response,n.search_student_keyword),c=n.selected_sort,_=n.pagination,l=n.total_results,d=(n.is_fetching_filters,this.props.admin.filters.admin_page),p=Object(f.a)(r);if(JSON.stringify(t.filter_dropdowns)!==JSON.stringify(s)){var m=Object(A.a)(s,4),h=m[0],E=m[1],g=(m[2],m[3],void 0),v=void 0;(null===h||void 0===h?void 0:h.selected.length)&&(v=h.selected.length>1?h.selected.map((function(e){return e.value})):[h.selected[0].value]),(null===E||void 0===E?void 0:E.selected.length)&&(g=E.selected.length>1?E.selected.map((function(e){return e.value})):E.selected[0].value),d===u.c.student_progress.new_by_stack&&this.setState({filter_dropdowns:s,selected_cc_start_date:g,selected_program_type_ids:v,selected_sort:c,pagination:_},(function(){!a.state.is_loading&&v&&a.submitFilters(!1,"filter","",!1,!0,!0)}))}JSON.stringify(t.is_loading)!==JSON.stringify(o)&&this.setState({is_loading:o});var b=this.props.admin.profile.available_workspaces.filter((function(e){return e.is_selected})),S=Object(A.a)(b,1)[0].id;JSON.stringify(t.selected_workspace_id)!==JSON.stringify(S)&&this.setState({selected_workspace_id:S}),JSON.stringify(t.students)!==JSON.stringify(r)&&this.setState({students:p}),this.state.is_onload_page&&c&&JSON.stringify(t.selected_sort)!==JSON.stringify(c)&&this.setState({selected_sort:c,is_onload_page:!1}),this.state.pagination&&l>0&&this.state.pagination.current_page>Math.ceil(l/this.state.pagination.students_per_page)&&this.paginateData(1),e.student_progress.search_student_keyword!==i&&this.setState({search_student_keyword:i})}},{key:"render",value:function(){var e=this,t=this.state,a=t.navigation,n=t.profile,r=t.students,o=t.table_head_columns,i=t.selected_sort,c=t.is_loading,_=t.filter_dropdowns,l=this.props.student_progress,d=l.total_results,p=l.pagination,m=(l.page_count,l.belt_colors),h=l.exam_passing_score,E=l.is_fetching_filters;return _=E?[]:_,s.a.createElement("div",{id:"admin_container"},s.a.createElement(et,{title:u.lb.admin_page.by_course}),s.a.createElement(Gi,{active_icon:"users"}),s.a.createElement(Vi,{navigation:a}),s.a.createElement("div",{id:"admin_right_container"},s.a.createElement(sc,{onchangeActiveWorkspace:this.changeActiveWorkspace,onSearchStudents:this.searchStudents,onSetSearchStudentsKeyword:this.setSearchStudentsKeyword,profile:this.props.admin.profile,search_student_keyword:this.state.search_student_keyword}),s.a.createElement("div",{id:"table_tools_container"},s.a.createElement(Yi,{clearAllFilters:function(){return e.clearFilters()},filter_dropdowns:_,submitFilters:this.submitStudentTableFilter,updateFilterDropdownSelectedValue:this.updateFilterDropdownSelectedValue})),s.a.createElement(am,{onCustomizeTableColumns:function(t){return Kl(e,t,"stack_customize_columns")},profile:n,is_loading:c,students:r,belt_colors:m,exam_passing_score:h,table_head_columns:o,onSortTable:this.sortTable,selected_sort:i,is_fetching_filters:E}),!E&&p&&s.a.createElement(kc,{pagination:p,total_results:d,onPaginateData:this.paginateData,onUpdatPageCount:this.updatePageCount,page_count:p.students_per_page})))}}]),a}(n.Component)),sm=Pa.a.changeActiveWorkspace,rm=ts.a.switchWorkspace,om=nd.fetchStudentProgressRevisionFilterOptions,im=nd.updateStudentProgressNewByStackFilterOptions,cm=nd.updateStudentProgressFilterOptions,_m=nd.fetchFilteredByStackData,lm=nd.updateStudentGraduationValidationStatus,dm=nd.changePropsValue,um=nd.unMountCourseDashBoard,pm=Object(p.J)(["student_progress","admin","dashboard"],{fetchStudentProgressRevisionFilterOptions:om,updateStudentProgressFilterOptions:cm,fetchFilteredByStackData:_m,updateStudentGraduationValidationStatus:lm,changePropsValue:dm,changeActiveWorkspace:sm,switchWorkspace:rm,updateStudentProgressNewByStackFilterOptions:im,unMountCourseDashBoard:um}),mm=pm.mapStateToProps,hm=pm.mapDispatchToProps,Em=Object(ue.b)(mm,hm)(nm),fm=[{name:"checkbox",width:50},{name:"Name",width:180,sort_data:"name"},{is_show:!0,name:"Program",width:80,sort_data:"program"},{is_show:!0,name:"Vet",width:50,sort_data:"is_veteran"},{is_show:!0,name:"Enrollment Status",width:60,sort_data:"status"},{is_show:!0,name:"AP",width:55,sort_data:"ap"},{is_show:!0,name:"Course",width:100,sort_data:"course"},{is_show:!0,name:"Course Start Date",width:120,sort_data:"course_start_date"},{is_show:!0,name:"Taught By",width:100,sort_data:"taught_by"},{is_show:!0,name:"Belt (Best Result)",width:55,sort_data:"best_belt_score"},{is_show:!0,name:"Belt (Most Recent)",width:55,sort_data:"recent_belt_score"},{is_show:!0,name:"Retake(s)",width:85,sort_data:"retake"},{is_show:!0,name:"Student Experience Manager",width:60,sort_data:"sem_name"},{is_show:!0,name:"Receiving Course",width:120,sort_data:"receiving_course"},{is_show:!0,name:"Receiving Instructor",width:120,sort_data:"receiving_instructor"},{is_show:!0,name:"Course Progression",width:60,sort_data:"desired_stack_order_json"},{is_show:!0,name:"Campus",width:80,sort_data:"campus"},{is_show:!0,name:"Region",width:60,sort_data:"region"},{is_show:!0,name:"State Address",width:60,sort_data:"us_state_name"},{is_show:!0,name:"Readiness Flag",width:60,sort_data:"risk_status"}],gm=[{id:1,is_checked:!1,name:"Edward Newgate",email:"enewgate@gmail.com",program:"Online PT",is_veteran:1,status:4,ap:0,stack:"Webfun",stack_start_date:"Jan. 21, 2021",taught_by:"Speros M.",belt:8.8,belt_color:"yellow",acr:"80%",attendance_rate:"80%",retake:1,receiving_stack:"Python",receiving_stack_is_retake:!0,receiving_stack_status:0,receiving_instructor:"Mark A.",campus:"Dallas",region:"East",gender:0,img_link:"https://focus_tracker.s3.amazonaws.com/employee_pictures/demy.jpg",stack_schedules:[{id:1,is_active:!1,name:"Web Fundamentals (04/01/2021 - 04/15 2021)"},{id:2,is_active:!1,name:"Python (04/18/2021 - 04/30 2021) (Michael L.)"},{id:3,is_active:!1,name:"MERN (05/01/2021 - 05/15 2021) (Richard J.)"},{id:4,is_active:!1,name:"MERN (05/01/2021 - 05/15 2021) (Richard J.)"}],belts:[{id:1,name:"WEBFUN",score:"9.0(1)",icon_class:"webfun_belt"},{id:2,name:"Python",score:"9.4(2)",icon_class:"python_belt"},{id:3,name:"Rails",score:"9.5(1)",icon_class:"rails_belt"}]},{id:2,is_checked:!1,name:"Monkey Garp",email:"mgarp@village88.com",program:"Online PT",is_veteran:0,status:0,ap:1,stack:"Lamp",stack_start_date:"Jan. 21, 2021",taught_by:"Speros M.",belt:8.5,belt_color:"red",acr:"80%",attendance_rate:"80%",retake:0,receiving_stack:"Python",receiving_stack_is_retake:!0,receiving_stack_status:0,receiving_instructor:"Mark A.",campus:"Dallas",region:"East",gender:1,img_link:"https://focus_tracker.s3.amazonaws.com/employee_pictures/casugay.jpg",stack_schedules:[{id:1,name:"Web Fundamentals (04/01/2021 - 04/15 2021)"},{id:2,name:"Python (04/18/2021 - 04/30 2021) (Michael L.)"},{id:3,name:"MERN (05/01/2021 - 05/15 2021) (Richard J.)"}],belts:[{id:1,name:"WEBFUN",score:"9.0(1)",icon_class:"webfun_belt"},{id:2,name:"Python",score:"9.4(2)",icon_class:"python_belt"},{id:3,name:"Rails",score:"9.5(1)",icon_class:"rails_belt"}]},{id:3,is_checked:!1,name:"Capone Bege",email:"cbege@village88.com",program:"Online PT",is_veteran:0,status:0,ap:1,stack:"Lamp",stack_start_date:"Jan. 21, 2021",taught_by:"Speros M.",belt:8.5,belt_color:"red",acr:"80%",attendance_rate:"80%",retake:0,receiving_stack:"Python",receiving_stack_is_retake:!0,receiving_stack_status:0,receiving_instructor:"Mark A.",campus:"Dallas",region:"East",gender:1,img_link:"https://focus_tracker.s3.amazonaws.com/employee_pictures/casugay.jpg",stack_schedules:[{id:1,name:"Web Fundamentals (04/01/2021 - 04/15 2021)"},{id:2,name:"Python (04/18/2021 - 04/30 2021) (Michael L.)"},{id:3,name:"MERN (05/01/2021 - 05/15 2021) (Richard J.)"}],belts:[{id:1,name:"WEBFUN",score:"9.0(1)",icon_class:"webfun_belt"},{id:2,name:"Python",score:"9.4(2)",icon_class:"python_belt"},{id:3,name:"Rails",score:"9.5(1)",icon_class:"rails_belt"}]},{id:4,is_checked:!1,name:"Basil Hawkins",email:"bhawkins@village88.com",program:"Online PT",is_veteran:0,status:0,ap:1,stack:"Lamp",stack_start_date:"Jan. 21, 2021",taught_by:"Speros M.",belt:8.5,belt_color:"red",acr:"80%",attendance_rate:"80%",retake:0,receiving_stack:"Python",receiving_stack_is_retake:!0,receiving_stack_status:0,receiving_instructor:"Mark A.",campus:"Dallas",region:"East",gender:1,img_link:"https://focus_tracker.s3.amazonaws.com/employee_pictures/casugay.jpg",stack_schedules:[{id:1,name:"Web Fundamentals (04/01/2021 - 04/15 2021)"},{id:2,name:"Python (04/18/2021 - 04/30 2021) (Michael L.)"},{id:3,name:"MERN (05/01/2021 - 05/15 2021) (Richard J.)"}],belts:[{id:1,name:"WEBFUN",score:"9.0(1)",icon_class:"webfun_belt"},{id:2,name:"Python",score:"9.4(2)",icon_class:"python_belt"},{id:3,name:"Rails",score:"9.5(1)",icon_class:"rails_belt"}]},{id:52,is_checked:!1,name:"Eustass Kidd",email:"eekidd@village88.com",program:"Online PT",is_veteran:0,status:0,ap:1,stack:"Lamp",stack_start_date:"Jan. 21, 2021",taught_by:"Speros M.",belt:8.5,belt_color:"red",acr:"80%",attendance_rate:"80%",retake:0,receiving_stack:"Python",receiving_stack_is_retake:!0,receiving_stack_status:0,receiving_instructor:"Mark A.",campus:"Dallas",region:"East",gender:1,img_link:"https://focus_tracker.s3.amazonaws.com/employee_pictures/casugay.jpg",stack_schedules:[{id:1,name:"Web Fundamentals (04/01/2021 - 04/15 2021)"},{id:2,name:"Python (04/18/2021 - 04/30 2021) (Michael L.)"},{id:3,name:"MERN (05/01/2021 - 05/15 2021) (Richard J.)"}],belts:[{id:1,name:"WEBFUN",score:"9.0(1)",icon_class:"webfun_belt"},{id:2,name:"Python",score:"9.4(2)",icon_class:"python_belt"},{id:3,name:"Rails",score:"9.5(1)",icon_class:"rails_belt"}]},{id:6,is_checked:!1,name:"Jewelry Bonney",email:"jbonney@village88.com",program:"Online PT",is_veteran:0,status:0,ap:1,stack:"Lamp",stack_start_date:"Jan. 21, 2021",taught_by:"Speros M.",belt:8.5,belt_color:"red",acr:"80%",attendance_rate:"80%",retake:0,receiving_stack:"Python",receiving_stack_is_retake:!0,receiving_stack_status:0,receiving_instructor:"Mark A.",campus:"Dallas",region:"East",gender:1,img_link:"https://focus_tracker.s3.amazonaws.com/employee_pictures/casugay.jpg",stack_schedules:[{id:1,name:"Web Fundamentals (04/01/2021 - 04/15 2021)"},{id:2,name:"Python (04/18/2021 - 04/30 2021) (Michael L.)"},{id:3,name:"MERN (05/01/2021 - 05/15 2021) (Richard J.)"}],belts:[{id:1,name:"WEBFUN",score:"9.0(1)",icon_class:"webfun_belt"},{id:2,name:"Python",score:"9.4(2)",icon_class:"python_belt"},{id:3,name:"Rails",score:"9.5(1)",icon_class:"rails_belt"}]}],vm=a(521),bm=(a(1377),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).onHideBeltExamDetailsPopover=function(t){t.target.classList.contains("belt_label")||t.target.classList.contains("belt_icon")||e.props.hideBeltPopover(t,!1)},e}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.belt_popover_target,n=t.is_show_belt_popover,r=t.stack_title,o=t.belt_history,i=t.popover_z_index;return s.a.createElement(vm.a,{target:a,rootClose:!0,onHide:function(t){return e.onHideBeltExamDetailsPopover(t,!0)},show:n,"x-placement":"auto",flip:!0,container:this.props.popover_ref},s.a.createElement(ga.a,{id:"belt_details_popover",className:i},s.a.createElement(ga.a.Content,null,s.a.createElement("header",null,s.a.createElement("p",{className:"title"},"Exam"),s.a.createElement("p",{className:"exam_name"},r)),s.a.createElement("table",{className:"exam_results_list"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{colSpan:3},"Belt Exam Results"))),s.a.createElement("tbody",null,o.map((function(e){return s.a.createElement("tr",null,s.a.createElement("td",{className:"exam_option"},e.title),s.a.createElement("td",{className:"exam_date"},e.exam_date),s.a.createElement("td",null,s.a.createElement("span",{className:"belt_label ".concat(e.score?e.belt_bg:"gray_bg")},e.score?e.score:"N/A",e.belt_color&&s.a.createElement("span",{className:"".concat(e.belt_color.toLowerCase()," belt_icon")}))))})))))))}}]),a}(n.Component)),Sm=(a(1378),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidUpdate=function(){var e=n.props.rostering,t=e.filters,a=e.student_list,s=n.state,r=s.is_auto_show_note_feedbacks,o=s.auto_show_note_feedbacks_data;if((null===t||void 0===t?void 0:t.cache_additional_filter_data)&&!o){var i=t.cache_additional_filter_data,c=i.student_user_id,_=i.student_applicant_id;n.setState({is_auto_show_note_feedbacks:!0,auto_show_note_feedbacks_data:{student_user_id:c,student_applicant_id:_}})}if(r&&(null===a||void 0===a?void 0:a.result.length)){var l=o.student_user_id,d=o.student_applicant_id,u=n.props.students.filter((function(e){return e.id===l&&e.applicant_id===d})),p=Object(A.a)(u,1)[0];if(p){var m=p.id,h=p.applicant_id,E=p.user_bootcamp_id,f=p.program_type_id,g=p.location_id;n.props.getStudentProfileDetails({user_id:m,applicant_id:h,user_bootcamp_id:E,next_stack_params:{program_type_ids:[f],location_ids:[g]},is_from_student_matching:!1}),n.setState({is_auto_show_note_feedbacks:!1,is_show_student_profile_modal:!0,student_profile_data:p,default_active_tab:"notes"})}}},n.requestSort=function(e){var t,a=Object(d.a)({},n.state.sort_config);if("name"===e){var s,r=Object(d.a)({},n.state.selected_name_sort_config),o=n.state.name_sort_config;if(r&&0!==Object.keys(r).length)o.map((function(e,t){e.key===r.key&&e.direction===r.direction&&(s=t+1)})),r=o[o.length===s?0:s];else r=o[0];a.key=r.key,a.direction=r.direction,a.title=r.title,n.setState({selected_name_sort_config:r})}else t="caret-down",(a=Object(d.a)({},n.state.sort_config))&&a.key===e&&"caret-down"===a.direction&&(t="caret-up"),a.key=e,a.direction=t,a.title=null,n.setState({selected_name_sort_config:void 0});n.setState({sort_config:a},(function(){n.props.onSortTable(n.state.sort_config,e,n.state.selected_view_type)}))},n.renderTableHead=function(e){var t,a;if("checkbox"===e.name)return s.a.createElement("div",{className:"checkbox"},s.a.createElement("input",{name:"asdasd",disabled:!Object(p.i)(null===(t=n.props.user_profile)||void 0===t||null===(a=t.general)||void 0===a?void 0:a.user_capabilities,"admin.rostering.view_student_rostering.set_student_stack"),type:"checkbox",id:"1_checkbox",checked:n.props.is_all_students_checked,onChange:function(e){return n.props.onToggleCheckStudents(e,!0)}}),s.a.createElement("label",{htmlFor:"1_checkbox"},s.a.createElement("div",{className:"checkbox_container"},s.a.createElement(Te.a,{icon:["fas","check"]}))));if(null===e||void 0===e?void 0:e.tooltip_text)return s.a.createElement(s.a.Fragment,null,e.name,s.a.createElement(va.a,{className:"test",placement:"top",delay:{show:250,hide:400},overlay:s.a.createElement(Sa.a,{id:"admin_tooltip"},e.tooltip_text)},s.a.createElement(Te.a,{icon:["fas","info-circle"]})));if("Name"===e.name){var r,o,i=n.state.selected_name_sort_config,c=n.props.total_results?"(".concat(n.props.total_results,")"):"(0)";return(i=null===(r=n.props)||void 0===r?void 0:r.selected_sort)&&0!==Object.keys(i).length?s.a.createElement("div",{id:"name_sort_table_head"},(null===(o=i)||void 0===o?void 0:o.title)||"Name",c,s.a.createElement("div",{id:"name_sort_icon"},s.a.createElement(Te.a,{className:"".concat("caret-down"===i.direction?"":"light"),icon:["fas","caret-up"]}),s.a.createElement(Te.a,{className:"".concat("caret-up"===i.direction?"":"light"),icon:["fas","caret-down"]}))):s.a.createElement(s.a.Fragment,null,"Name ",c)}return e.name},n.renderUserStatus=function(e){return{3:{name:"Accepted",bg_color:"gray"},3.1:{name:"Unresponsive",bg_color:"gray"},3.2:{name:"Not Interested",bg_color:"gray"},3.3:{name:"Rejected",bg_color:"red"},4.2:{name:"Current",bg_color:"green"},4.6:{name:"Alumni",bg_color:"green"},4.7:{name:"Transferred",bg_color:"green"},4.1:{name:"Upcoming",bg_color:"gray"},4.3:{name:"Pending",bg_color:"yellow"},4.4:{name:"Incomplete",bg_color:"red"},4.5:{name:"Dropped",bg_color:"red"},4.8:{name:"Cancelled",bg_color:"red"},4.9:{name:"Expelled",bg_color:"red"},5:{name:"Auditor",bg_color:"green"},5.1:{name:"Non-Grad",bg_color:"yellow"},5.2:{name:"QA Review",bg_color:"yellow"},5.3:{name:"Transferred",bg_color:"green"},5.5:{name:"Temporary Out",bg_color:"yellow"}}[e]||{name:"",bg_color:""}},n.getStudentProfileDetails=function(e,t,a,s,r){var o,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;n.props.getStudentProfileDetails({user_id:e,applicant_id:t,user_bootcamp_id:r.user_bootcamp_id,next_stack_params:{program_type_ids:[a],location_ids:[s]},is_from_student_matching:!1}),n.setState({is_show_student_profile_modal:!0,student_profile_data:r,selected_applicant_id:t,default_active_tab:(null===i||void 0===i||null===(o=i.target)||void 0===o?void 0:o.getAttribute("data-tab"))||"major_stacks"})},n.copyEmailToClipboard=function(e,t){var a=Object(d.a)({},n.state.copy_clipboard_popover);a.is_show=!0,a.position=e.target.getBoundingClientRect(),n.setState({copy_clipboard_popover:a},(function(){var e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),setTimeout((function(){a.is_show=!1,n.setState({copy_clipboard_popover:a})}),u.Ab.normal)}))},n.toggleBeltExamDetailsPopover=function(e,t,a,s){n.setState({is_show_belt_popover:t,belt_popover_target:e.target,popover_z_index:void 0,active_stack:a,belt_history:s})},n.setPopoverZIndex=function(){var e=n.state,t=e.popover_z_index,a=e.is_show_belt_popover;!t&&a&&n.setState({popover_z_index:"behind"})},n.popover_ref=s.a.createRef(),n.state={sort_config:null,selected_applicant_id:null,is_show_student_profile_modal:!1,stack_schedule_data:[],offered_stack_schedules:[],student_profile_data:gm[0],copy_clipboard_popover:{is_show:!1,text:"Email address copied to your clipboard",position:{}},is_show_belt_popover:!1,belt_popover_target:void 0,popover_z_index:void 0,belt_history:[],active_stack:null,ap_options:[{value:0,label:"None",bg_color:"green_bg"},{value:1,label:"AP",bg_color:"red_bg"},{value:2,label:"AIP",bg_color:"gray_bg"},{value:3,label:"AP-2",bg_color:"gray_bg"},{value:4,label:"AP-3",bg_color:"gray_bg"},{value:5,label:"GS",bg_color:"gray_bg"}],region_options:[{value:1,label:"East"},{value:2,label:"West"}],total_results:0,selected_name_sort_config:void 0,name_sort_config:[{key:"last_name_first_name",title:"Last, First Name (A-Z)",direction:"caret-down"},{key:"last_name_first_name",title:"Last, First Name (Z-A)",direction:"caret-up"},{key:"first_name_last_name",title:"First, Last Name (A-Z)",direction:"caret-down"},{key:"first_name_last_name",title:"First, Last Name (Z-A)",direction:"caret-up"}],is_auto_show_note_feedbacks:!1,auto_show_note_feedbacks_data:null},n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t,a=this,n=this.props,r=n.table_head_columns,o=n.students,i=n.onToggleCheckStudents,c=n.is_loading,_=n.onUpdateAPStatus,l=n.onUpdateStudentRegion,d=n.selected_students,m=n.is_export,h=n.user_profile,E=this.state,f=E.sort_config,g=E.ap_options,v=E.copy_clipboard_popover,b=E.region_options,S=E.active_stack,A=E.belt_history;f=null===(e=this.props)||void 0===e?void 0:e.selected_sort;var k=function(e){if(f)return f.key===e?f.direction:"caret-down"},O=Object(p.i)(null===h||void 0===h||null===(t=h.general)||void 0===t?void 0:t.user_capabilities,"admin.student_profile_modal.visibility");return s.a.createElement(s.a.Fragment,null,v.is_show&&s.a.createElement(Zd,{data:v}),s.a.createElement("div",{className:"table_container",id:"roster_table",onScroll:this.setPopoverZIndex},s.a.createElement(sd,{table_head_columns:r,onCustomizeTableColumns:this.props.onCustomizeTableColumns,workspace_id:this.props.selected_workspace_id}),s.a.createElement(bc.StickyTable,{leftStickyColumnCount:2,borderWidth:"0px",className:"".concat(c||!1===c&&0===o.length&&!m?"table_loading":"")},s.a.createElement(bc.Row,null,r.map((function(e){var t;return(void 0===e.is_show||e.is_show)&&("Student Experience Manager"!==e.name||"Student Experience Manager"===e.name&&a.props.selected_workspace_id===u.Xb.codingdojo)&&s.a.createElement(bc.Cell,{key:e.name,style:{minWidth:e.width},onClick:function(){return e.sort_data?a.requestSort(e.sort_data):null}},a.renderTableHead(e),"Readiness Flag"===e.name&&s.a.createElement(va.a,{placement:"left",overlay:s.a.createElement(Sa.a,{className:"readiness_flag_tooltip"},"View the Student Info tab of the student profile for more info")},s.a.createElement(Te.a,{icon:["fa","info-circle"]})),e.sort_data&&"name"!==e.sort_data&&s.a.createElement(Te.a,{className:"".concat((null===(t=f)||void 0===t?void 0:t.key)===e.sort_data?"":"light"),icon:["fas",k(e.sort_data)?k(e.sort_data):"caret-down"]}))}))),!1===c&&0===o.length&&!m&&s.a.createElement("div",{id:"no_results_found"},"No results found."),c?s.a.createElement("div",{id:"table_loading_container"},s.a.createElement("div",null),s.a.createElement("span",null,"Loading...")):o.map((function(e,t){var n=!!a.props.is_all_students_checked||(d[e.applicant_id]||!1),o=g.filter((function(t){return t.value===e.ap})),c=b.filter((function(t){return t.label===e.region})),m=new Date<new Date(e.receiving_stack_start);c.length;return s.a.createElement(bc.Row,{key:"".concat(e.id+"_"+t),ref:a.popover_ref},r.map((function(t,r){var d,E,f,v,S;return s.a.createElement(s.a.Fragment,{key:r},"checkbox"===t.name&&s.a.createElement(bc.Cell,null,s.a.createElement("div",{className:"checkbox"},s.a.createElement("input",{name:"asdasd",type:"checkbox",id:"checkbox_"+e.id+"_"+e.applicant_id,"data-id":e.id,"data-applicant-id":e.applicant_id,"data-name":e.name,"data-program-type-id":e.program_type_id,"data-location-id":e.location_id,"data-email":e.email,checked:n,onChange:function(t){return i(t,!1,e)},disabled:!Object(p.i)(null===h||void 0===h||null===(d=h.general)||void 0===d?void 0:d.user_capabilities,"admin.rostering.view_student_rostering.set_student_stack")}),s.a.createElement("label",{htmlFor:"checkbox_"+e.id+"_"+e.applicant_id},s.a.createElement("div",{className:"checkbox_container"},s.a.createElement(Te.a,{icon:["fas","check"]}))))),"Name"===t.name&&s.a.createElement(bc.Cell,null,s.a.createElement("div",{className:"name",onClick:function(t){return O&&a.getStudentProfileDetails(e.id,e.applicant_id,e.program_type_id,e.location_id,e,t)}},e.name,!!e.feedback_count&&s.a.createElement("span",{className:"note_icon","data-tab":"notes"})),s.a.createElement("div",{className:"email",onClick:function(t){return a.copyEmailToClipboard(t,e.email)}},e.email),s.a.createElement("div",{className:"id_number",onClick:function(){return O&&a.getStudentProfileDetails(e.id,e.applicant_id,e.program_type_id,e.location_id,e)}},"#",e.id)),"Program"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.program),"Vet"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.is_veteran?s.a.createElement("span",{className:"veteran_label"},"V"):""),"Enrollment Status"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,s.a.createElement("div",{className:a.renderUserStatus(e.status).bg_color+"_bg"},s.a.createElement("span",null,a.renderUserStatus(e.status).name))),"AP"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,s.a.createElement(es.a,{disabled:!Object(p.i)(null===h||void 0===h||null===(E=h.general)||void 0===E?void 0:E.user_capabilities,"admin.rostering.view_student_rostering.set_academy_probation"),className:(null===(f=o[0])||void 0===f?void 0:f.label.toLowerCase())||"",options:g,values:o,onChange:function(t){return _(t[0].value,e.applicant_id)}})),"Course"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,s.a.createElement("div",{className:(null===e||void 0===e?void 0:e.stack)?"blue_bg":e.stack?"":"gray_bg"},s.a.createElement("span",null,(null===e||void 0===e?void 0:e.stack)?e.stack:e.stack?"":"Unassigned"))),"Course Start Date"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.stack_start_date),"Taught By"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.taught_by),"Belt (Best Result)"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.stack&&e.best_belt&&s.a.createElement("div",{className:"belt_label ".concat(e.best_belt.score?e.best_belt.belt_bg:"blue_bg"),onClick:function(t){return a.toggleBeltExamDetailsPopover(t,!0,e.stack,e.exam_records)}},e.best_belt.score?e.best_belt.score:"N/A",e.best_belt.belt_color&&s.a.createElement("span",{className:"".concat(e.best_belt.belt_color.toLowerCase()," belt_icon")}))),"Belt (Most Recent)"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.stack&&e.latest_belt&&s.a.createElement("div",{className:"belt_label ".concat(e.latest_belt.score?e.latest_belt.belt_bg:"blue_bg"),onClick:function(t){return a.toggleBeltExamDetailsPopover(t,!0,e.stack,e.exam_records)}},e.latest_belt.score?e.latest_belt.score:"N/A",e.latest_belt.belt_color&&s.a.createElement("span",{className:"".concat(e.latest_belt.belt_color.toLowerCase()," belt_icon")}))),"Retake(s)"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.retake>0&&s.a.createElement("span",{className:"retake_label yellow_bg"},"Retake X",e.retake)),"Student Experience Manager"===t.name&&t.is_show&&a.props.selected_workspace_id===u.Xb.codingdojo&&s.a.createElement(bc.Cell,null,e.sem_name),"Receiving Course"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,s.a.createElement("div",{className:(null===e||void 0===e?void 0:e.receiving_stack)?"blue_bg":"gray_bg"},s.a.createElement("span",null,(null===e||void 0===e?void 0:e.receiving_stack)?e.receiving_stack:"Unassigned"),(null===e||void 0===e?void 0:e.receiving_stack)&&s.a.createElement(s.a.Fragment,null,e.receiving_stack_is_retake>0&&" (Re)",s.a.createElement("button",{type:"button",className:1===e.receiving_stack_status?"locked_btn ".concat(m?"has_tooltip":""):"unlocked_btn","data-tooltip":m?"Course content automatically unlocks to students 72 hours before course start date.":"",disabled:!Object(p.i)(null===h||void 0===h||null===(v=h.general)||void 0===v?void 0:v.user_capabilities,"admin.rostering.view_student_rostering.set_receiving_stack"),onClick:function(){var t;return Object(p.i)(null===h||void 0===h||null===(t=h.general)||void 0===t?void 0:t.user_capabilities,"admin.rostering.view_student_rostering.set_receiving_stack")&&a.props.onToggleLockStack({applicant_id:e.applicant_id,user_track_id:e.receiving_user_track_id,receiving_stack_status:e.receiving_stack_status,stack_start_date:e.receiving_stack_start})}})))),"Receiving Instructor"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,s.a.createElement("div",{className:(null===e||void 0===e?void 0:e.receiving_instructor)?"blue_bg":"gray_bg"},s.a.createElement("span",null,(null===e||void 0===e?void 0:e.receiving_instructor)?e.receiving_instructor:"Unassigned"))),"Course Progression"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,(null===e||void 0===e?void 0:e.stack_progression)?e.stack_progression:"N/A"),"Campus"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.campus),"Region"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,s.a.createElement(es.a,{disabled:!Object(p.i)(null===h||void 0===h||null===(S=h.general)||void 0===S?void 0:S.user_capabilities,"admin.rostering.view_student_rostering.set_student_region"),className:"region_select",options:b,values:c.length>0?c:[{value:0,label:"None"}],onChange:function(t){var a;return Object(p.i)(null===h||void 0===h||null===(a=h.general)||void 0===a?void 0:a.user_capabilities,"admin.rostering.view_student_rostering.set_student_region")&&l(t[0].label,e.id,e.applicant_id)}})),"State Address"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,(null===e||void 0===e?void 0:e.us_state_name)?e.us_state_name:""),"Readiness Flag"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.is_at_risk))})))})))),this.state.is_show_belt_popover&&s.a.createElement(bm,{is_show_belt_popover:this.state.is_show_belt_popover,belt_popover_target:this.state.belt_popover_target,popover_ref:this.popover_ref,belt_history:A,stack_title:S,hideBeltPopover:this.toggleBeltExamDetailsPopover,popover_z_index:this.state.popover_z_index}),this.state.is_show_student_profile_modal&&s.a.createElement(Lu,{toggleShowModal:function(){return Object(p.W)(a,"is_show_student_profile_modal",!1)},student_data:this.state.student_profile_data,show:this.state.is_show_student_profile_modal,default_active_tab:this.state.default_active_tab,admin_page:u.c.student_rostering.student_roster}))}}]),a}(n.Component)),Am=Pa.a.getStudentProfileDetails,km=Pa.a.triggerAutoShowNoteFeedbacks,Om=Object(p.J)(["rostering","student_access"],{getStudentProfileDetails:Am,triggerAutoShowNoteFeedbacks:km}),Tm=Om.mapStateToProps,Cm=Om.mapDispatchToProps,wm=Object(ue.b)(Tm,Cm)(Sm),ym=(a(1379),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).exportStudentData=function(e){e.preventDefault(),n.props.processExportFilteredStudents()},n.state={view_customization:[{id:1,title:"Program",sub_title:"Program Students Enrolled In",is_checked:!0},{id:2,title:"Status",sub_title:"Student Enrollment Status",is_checked:!0},{id:3,title:"Belt",sub_title:"Belt Exam Passing Status",is_checked:!0},{id:4,title:"Att.",sub_title:"Up-to-date Attendance Rate",is_checked:!0},{id:5,title:"Next Track",sub_title:"Next Unlockable Track/Stack",is_checked:!0},{id:6,title:"Campus",sub_title:"Student\u2019s Enrolled Campus",is_checked:!0},{id:7,title:"AP",sub_title:"Academic Probation Status",is_checked:!0},{id:8,title:"Region",sub_title:"Student\u2019s Registered Region",is_checked:!0},{id:9,title:"Vet ID",sub_title:"Veteran Status",is_checked:!0},{id:10,title:"Current Track",sub_title:"Student\u2019s Present Track/Stack",is_checked:!0},{id:11,title:"ACR",sub_title:"Up-to-date Assignment Completion Rate",is_checked:!0},{id:12,title:"Retake(s)",sub_title:"Current Track/Stack\u2019s Retake Number(s)",is_checked:!0},{id:13,title:"Receiving Instructor",sub_title:"Instructor of Student's Next Track/Stack",is_checked:!0},{id:14,title:"Stack Progression",sub_title:"Stack Progression",is_checked:!0},{id:15,title:"Gender",sub_title:"Gender Information",is_checked:!0},{id:16,title:"State Address",sub_title:"State Address",is_checked:!0}]},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props.is_exporting;return s.a.createElement(s.a.Fragment,null,s.a.createElement(De.a,{className:"admin_modal",id:"export_to_csv_modal",show:this.props.show,backdrop:!1===t||"static",keyboard:!t,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0},!1===t?s.a.createElement(s.a.Fragment,null,s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,"Export to CSV File"),s.a.createElement("button",{onClick:function(t){return e.props.toggleShowModal(!1)}})),s.a.createElement("form",{onSubmit:function(t){return e.exportStudentData(t)}},s.a.createElement(De.a.Body,null,s.a.createElement("h6",null,"Export Below Content:"),s.a.createElement("ul",null,this.state.view_customization.map((function(e){return s.a.createElement("li",{key:e.id},s.a.createElement("input",{type:"checkbox",disabled:"disabled",id:"customize_view_checkbox_"+e.id,defaultChecked:e.is_checked}),s.a.createElement("span",{className:"indicator"},s.a.createElement(Te.a,{icon:["fas","check"]})),s.a.createElement("label",{htmlFor:"customize_view_checkbox_"+e.id},e.title,s.a.createElement("span",null,e.sub_title)))})))),s.a.createElement(De.a.Footer,null,s.a.createElement("button",{type:"submit"},"Download")))):s.a.createElement("div",{id:"data_exporting_container"},s.a.createElement("span",null),s.a.createElement("p",null,"Your download is loading..."))))}}]),a}(n.Component)),Rm=(a(1380),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).state={guidelines:[{id:1,name:"STEP 1 (Instructors): Passing qualified students to their next stacks"},{id:2,name:"STEP 2 (Regional Leads):  Matching students with assigned course instructors"},{id:3,name:"STEP 3: System auto unlocking next stacks on user end 72 hours before their next stacks start"}]},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(De.a,{id:"roster_guidelines_modal",show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)}},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,"Rostering Guideline"),s.a.createElement("button",{onClick:function(){return e.props.toggleShowModal(!1)}})),s.a.createElement(De.a.Body,null,s.a.createElement("ul",{className:"list-unstyled"},this.state.guidelines.map((function(e){return s.a.createElement("li",{key:e.id,id:"step_"+e.id},s.a.createElement("p",null,e.name),s.a.createElement("div",null),3!==e.id&&s.a.createElement("a",{href:"#step_"+(e.id+1)},s.a.createElement(Te.a,{icon:["fas","chevron-down"]})))})))))}}]),a}(n.Component)),Dm=(a(1381),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).toggleShowDropdown=function(e){var t=Object(d.a)({},n.state[e?"dropdown":"instructor_dropdown"]);t.show=!n.state[e?"dropdown":"instructor_dropdown"].show,t.active_item_index=-1,n.setState(Object(l.a)({},e?"dropdown":"instructor_dropdown",t))},n.searchDropdown=function(e,t){var a=Object(d.a)({},n.state[t?"dropdown":"instructor_dropdown"]);a.search_input_value=e.target.value,n.setState(Object(l.a)({},t?"dropdown":"instructor_dropdown",a))},n.selectStack=function(e){var t=Object(d.a)({},n.state.dropdown),a=Object(d.a)({},n.state.instructor_dropdown);t.selected_value=e,a.selected_value=[],n.props.onFetchInstructorOption(e),n.setState({dropdown:t,instructor_dropdown:a,is_show_correct_stack_checkbox:!0},(function(){n.toggleShowDropdown(!0)}))},n.selectInstructor=function(e){var t=Object(d.a)({},n.state.instructor_dropdown);t.selected_value=e,n.setState({instructor_dropdown:t},(function(){n.toggleShowDropdown(!1)}))},n.submitAssignStudentsStack=function(e,t,a){e.preventDefault(),void 0!==t&&(n.props.onSubmitAssignStudentsStack(t,a),n.setState({is_form_submitted:!0}))},n.hideModal=function(){var e=Object(d.a)({},n.state.dropdown);e.show=!1,e.search_input_value="",e.selected_value=void 0,n.setState({is_form_submitted:!1,dropdown:e,instructor_dropdown:e,stack_assign_success:!1,is_disable_submit_btn:!0,is_show_correct_stack_checkbox:!1}),n.props.toggleShowModal(!1)},n.handleSearchInputKeyDown=function(e){var t=n.props.next_stack_options,a=Object(d.a)({},n.state.dropdown);40===e.keyCode&&(a.active_item_index++,a.active_item_index>t.length&&(a.active_item_index=0)),38===e.keyCode&&(a.active_item_index--,a.active_item_index<0&&(a.active_item_index=t.length)),13===e.keyCode&&a.active_item_index>=0?n.selectStack(t[a.active_item_index]):40!==e.keyCode&&38!==e.keyCode||n.setState({dropdown:a},(function(){n.autoFocusActiveDropdownItem(a.active_item_index)}))},n.autoFocusActiveDropdownItem=function(e){var t=document.querySelector("#assign_stack_dropdown ul"),a=document.querySelector("#assign_stack_dropdown ul li:nth-child("+(e+1)+")");if(null!==a){var n=a.offsetTop+a.offsetHeight;n>t.offsetHeight&&(t.scrollTop=n-t.offsetHeight+10),0===e&&(t.scrollTop=0)}},n.getSelectedStudentEmails=function(e){var t="";return e.map((function(e,a){e.is_checked&&(t+=(a>0?", ":"")+e.email_address)})),t.length&&t[0].includes(",")&&(t=t.replace(", ","")),t},n.toggleCheckStudents=function(e,t,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,r=Object(d.a)({},n.state),o=r.student_rostered_list,i=o[a],c="failed_students"===a?"success_students":"failed_students";if(t?i.map((function(t){t.is_checked=e.target.checked})):i.map((function(t){s.id===t.id&&(t.is_checked=e.target.checked)})),o[c].map((function(e){e.is_checked=!1})),e.target.checked)Object(p.n)(e,n.getSelectedStudentEmails(i),Object(Se.a)(n));else{var _=document.createElement("textarea");_.value=!e.target.checked&&t?" ":n.getSelectedStudentEmails(i),_.setAttribute("readonly",""),_.style.position="absolute",_.style.left="-9999px",document.body.appendChild(_),_.select(),document.execCommand("copy"),document.body.removeChild(_)}n.setState({student_rostered_list:o})},n.state={is_show_students_list:!1,is_form_submitted:!1,dropdown:{show:!1,search_input_value:"",selected_value:void 0,active_item_index:-1},instructor_dropdown:{show:!1,search_input_value:"",selected_value:void 0,active_item_index:-1},stack_assign_success:!1,is_disable_submit_btn:!0,is_show_correct_stack_checkbox:!1,instructor_options:[],is_show_success_and_unsuccess_container:!1,is_show_loading_animation:!1,copy_clipboard_popover:{is_show:!1,text:"Email address copied to your clipboard",position:{}},student_rostered_list:{has_instructor:!1,has_processed_rostering:!1,failed_students:[],success_students:[]},rostering_details:{total_students:0,label:""}},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.selected_students,n=t.total_results,r=t.next_stack_options,o=t.roster_next_stack_process,i=t.is_all_students_checked,c=(t.instructor_options,t.set_student_stack_acess),_=t.rostering;this.state.stack_assign_success=o.next_stack_assign_success;var l=this.state,u=(l.is_show_students_list,l.dropdown),p=l.stack_assign_success,m=l.is_form_submitted,h=l.copy_clipboard_popover,E=l.is_show_success_and_unsuccess_container,f=l.instructor_dropdown,g=l.student_rostered_list,v=(l.is_show_loading_animation,l.rostering_details),b=[];if(m&&p){if(E=!0,g.failed_students=o.unsuccessful.students,g.success_students=o.successful.students,v=o.rostering_details,!g.has_processed_rostering){var S,k,O=Object(d.a)({},this.state.student_rostered_list);O.failed_students=null===(S=o.unsuccessful)||void 0===S?void 0:S.students,O.success_students=null===(k=o.success_students)||void 0===k?void 0:k.students,O.has_processed_rostering=!0,this.setState({student_rostered_list:O})}Object.entries(o.successfully_assigned_students).map((function(e){var t=Object(A.a)(e,2),a=t[0],n=t[1];b.push([a,[n.name]])}))}else b=Object.entries(a);var T=this.state.is_disable_submit_btn;(!i||m&&p)&&b.length;return b.sort((function(e,t){return e[1]>t[1]?1:t[1]>e[1]?-1:0})),s.a.createElement(De.a,{className:"admin_modal ".concat(E?"expand_modal":""," "),id:"assign_students_stacks_modal",show:this.props.show,centered:!0,onHide:function(){return e.hideModal()}},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null," ",E?"Rostered Students":"Assign Students to Next Course"," "),!_.is_show_success_loading_animation&&s.a.createElement("button",{onClick:function(){return e.hideModal()}})),s.a.createElement(De.a.Body,null,_.is_show_success_loading_animation?s.a.createElement("div",{id:"loading_container"},s.a.createElement("div",null),s.a.createElement("span",null,"Processing...")):s.a.createElement(s.a.Fragment,null,E&&!_.is_show_success_loading_animation?s.a.createElement(s.a.Fragment,null,h.is_show&&s.a.createElement(Zd,{data:h}),s.a.createElement(s.a.Fragment,null,g.failed_students.length>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement("h5",null,"".concat(g.failed_students.length," out of ").concat(v.total_students," students have been unsuccessfully assigned to ").concat(v.label)),s.a.createElement("h6",{className:"color_red"},"Unsuccessful Rostered Students"),s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,s.a.createElement("div",{className:"checkbox"},s.a.createElement("input",{name:"student",id:"all_failed_roster_checkbox",type:"checkbox",checked:0===g.failed_students.filter((function(e){return!e.is_checked})).length,onChange:function(t){return e.toggleCheckStudents(t,!0,"failed_students")}}),s.a.createElement("label",{htmlFor:"all_failed_roster_checkbox"},s.a.createElement("div",{className:"checkbox_container"},s.a.createElement(Te.a,{icon:["fas","check"]}))))),s.a.createElement("th",null,"Email"),s.a.createElement("th",null,"Program"),s.a.createElement("th",null,"Reason"))),s.a.createElement("tbody",null,g.failed_students.map((function(t){return s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("div",{className:"checkbox"},s.a.createElement("input",{name:"student",id:"checkbox_".concat(t.id),type:"checkbox",checked:t.is_checked,onChange:function(a){return e.toggleCheckStudents(a,!1,"failed_students",t)}}),s.a.createElement("label",{htmlFor:"checkbox_".concat(t.id)},s.a.createElement("div",{className:"checkbox_container"},s.a.createElement(Te.a,{icon:["fas","check"]}))))),s.a.createElement("td",null,s.a.createElement("label",{htmlFor:"checkbox_".concat(t.id)},t.email_address)),s.a.createElement("td",null,t.program),s.a.createElement("td",null,t.reason))})))),s.a.createElement("p",{className:"note additional_margin"},"Note: Selected checkbox will be automatically copied to your clipboard (For Multiple Emails will be seporated by comma.)")),g.success_students.length>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement("h6",{className:"color_green"},"Successful Rostered Students"),s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,!g.has_instructor&&s.a.createElement("th",null,s.a.createElement("div",{className:"checkbox"},s.a.createElement("input",{name:"student",id:"all_success_roster_checkbox",type:"checkbox",checked:0===g.success_students.filter((function(e){return!e.is_checked})).length,onChange:function(t){return e.toggleCheckStudents(t,!0,"success_students")}}),s.a.createElement("label",{htmlFor:"all_success_roster_checkbox"},s.a.createElement("div",{className:"checkbox_container"},s.a.createElement(Te.a,{icon:["fas","check"]}))))),s.a.createElement("th",{className:g.has_instructor?"":"no_instructor"},"Email"),s.a.createElement("th",null,"Program"),g.has_instructor&&s.a.createElement("th",null,"Instructor"))),s.a.createElement("tbody",null,g.success_students.map((function(t){return s.a.createElement("tr",null,!g.has_instructor&&s.a.createElement("td",null,s.a.createElement("div",{className:"checkbox"},s.a.createElement("input",{name:"student",id:"checkbox_".concat(t.id),type:"checkbox",checked:t.is_checked,onChange:function(a){return e.toggleCheckStudents(a,!1,"success_students",t)}}),s.a.createElement("label",{htmlFor:"checkbox_".concat(t.id)},s.a.createElement("div",{className:"checkbox_container"},s.a.createElement(Te.a,{icon:["fas","check"]}))))),s.a.createElement("td",null,s.a.createElement("label",{htmlFor:"checkbox_".concat(t.id)},t.email_address)),s.a.createElement("td",null,t.program),g.has_instructor&&s.a.createElement("td",null,t.instructor))})))),g.has_instructor?s.a.createElement("p",{className:"note"},"Note: Selected checkbox will be automatically copied to your clipboard (For Multiple Emails will be seporated by comma.)"):s.a.createElement("p",null,"Students have to be matched with an instructor to unlock their next course content. You can apply changes ",s.a.createElement("a",{target:"_blank",href:"/admin/student_rostering/matching"},"here.")," ")))):s.a.createElement(s.a.Fragment,null,!1===m&&s.a.createElement("form",{onSubmit:function(t){return e.submitAssignStudentsStack(t,u.selected_value,f.selected_value)}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Choose a course to assign selected students to"),s.a.createElement("div",{id:"assign_stack_dropdown",className:"dropdown_container"},s.a.createElement("div",{id:"assign_stack_dropdown_toggle",className:"dropdown_toggle"},u.show?s.a.createElement("input",{disabled:!c,className:c?"":"disabled",autoFocus:!0,type:"text",name:"search_stack",placeholder:"Search Course Name",value:u.search_input_value,onChange:function(t){return e.searchDropdown(t,!0)},onKeyDown:this.handleSearchInputKeyDown}):s.a.createElement("button",{type:"button",disabled:!c,className:c?"":"disabled",onClick:function(){return e.toggleShowDropdown(!0)}},void 0===u.selected_value?s.a.createElement("span",{className:"placeholder"},"Assign to course schedule"):s.a.createElement(s.a.Fragment,null,u.selected_value.name+" ("+u.selected_value.date+")"," ",u.selected_value.is_retake&&s.a.createElement("span",null,"RETAKE")," ")),s.a.createElement("button",{type:"button",onClick:function(){return e.toggleShowDropdown(!0)}},s.a.createElement(Te.a,{icon:["fas","caret-down"]}))),u.show&&s.a.createElement("ul",{className:"list-unstyled"},r.filter((function(e){return(e.name.toLowerCase()+" ("+e.date.toLowerCase()+")").includes(u.search_input_value.toLowerCase())})).map((function(t,a){return s.a.createElement("li",{key:t.id,className:"".concat(u.active_item_index===a?"active":"")},s.a.createElement("button",{type:"button",onClick:function(){return e.selectStack(t)}},t.name+" ("+t.date+")"))})))),u.selected_value&&f.selected_value&&s.a.createElement("div",{id:"checkbox_container"},s.a.createElement("input",{id:"correct_stack_schedule_checkbox",onChange:function(){return e.setState({is_disable_submit_btn:!T})},type:"checkbox"}),s.a.createElement("label",{htmlFor:"correct_stack_schedule_checkbox"},s.a.createElement(Te.a,{icon:["fas","check"]})," I am assigning the selected students to the correct course schedule."))),s.a.createElement("div",{className:"btn_container"},s.a.createElement("button",{type:"button",onClick:function(){return e.hideModal()}},"Cancel"),s.a.createElement("button",{disabled:T,className:T?"disabled":"",type:"submit"},"Confirm")))))))}}]),a}(n.Component)),Um=Object(p.J)(["rostering"],{}),Nm=Um.mapStateToProps,Im=Um.mapDispatchToProps,Pm=Object(ue.b)(Nm,Im)(Dm),jm=(a(1382),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={is_email_copied:!1},e.copyEmailsToClipboard=function(){var t=e.props.selected_students,a="";Object.values(t).map((function(e,t){a+=(t>0?", ":"")+e[e.length-1]}));var n=document.createElement("textarea");n.value=a,n.setAttribute("readonly",""),n.style.position="absolute",n.style.left="-9999px",document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),e.setState({is_email_copied:!0},(function(){setTimeout((function(){e.setState({is_email_copied:!1})}),2e3)}))},e}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.selected_students,n=t.toggleShowModal,r=t.total_results,o=t.is_all_students_checked,i=t.set_student_stack_acess,c=this.state.is_email_copied,_=o?r:Object.keys(a).length;return s.a.createElement("div",{id:"assign_to_next_stack_popover"},s.a.createElement("p",null,s.a.createElement("span",null,_)," of ",r," results"),s.a.createElement("button",{disabled:!i,type:"button",onClick:function(){return i&&n()}},s.a.createElement(Te.a,{icon:["fas","key"]}),s.a.createElement("span",null,"Assign to Next Course")),s.a.createElement("button",{type:"button",id:"copy_emails_button",onClick:function(){return e.copyEmailsToClipboard()}},s.a.createElement(Te.a,{icon:["fas",c?"clipboard-check":"clipboard-list"]}),s.a.createElement("span",null,c?"Email's copied to clipboard":"Copy Email's to clipboard")))}}]),a}(n.Component)),Lm=(a(1383),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n,s,r;Object(ce.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){var e=r.props.admin.profile.available_workspaces.filter((function(e){return e.is_selected})),t=Object(A.a)(e,1)[0].id;setTimeout((function(){r.props.getStudentRosteringFilters({selected_workspace_id:t,is_switch_workspace:u.Db,admin_page:u.c.student_rostering.student_roster})}),700),r.setState({is_auto_fetch:!0,selected_workspace_id:t}),Gl(Object(Se.a)(r),"roster_customize_columns")},r.componentDidUpdate=function(e,t){var a,n,s,o,i,c,_,l=((null===(a=r.props.admin)||void 0===a||null===(n=a.profile)||void 0===n?void 0:n.workspace)||{}).workspace_id,d=r.state,p=d.is_onload_page,m=d.pagination,h=d.search_student_keyword,E=d.is_set_keyword,f=d.is_change_workspace,g=d.selected_workspace_id,v=d.is_auto_fetch,b=d.filter_dropdowns;(e.rostering.is_fetching_instructor&&!r.props.rostering.is_fetching_instructor&&r.setState({instructor_options:r.props.rostering.instructor_options.result}),p&&(null===(s=r.props.rostering.filters)||void 0===s?void 0:s.rostering_pagination)&&r.setState({selected_sort:r.props.rostering.filters.rostering_selected_sort,pagination:r.props.rostering.filters.rostering_pagination,is_onload_page:!1}),p||m||!(null===(o=r.props.rostering.filters)||void 0===o?void 0:o.rostering_pagination)||r.setState({selected_sort:r.props.rostering.filters.rostering_selected_sort,pagination:r.props.rostering.filters.rostering_pagination}),!h&&(null===(i=r.props.rostering.filters)||void 0===i?void 0:i.search_student_keyword)&&E&&r.setState({search_student_keyword:r.props.rostering.filters.search_student_keyword,is_set_keyword:!1}),f&&l===g&&(r.props.getStudentRosteringFilters({selected_workspace_id:l,admin_page:u.c.student_rostering.student_roster},r.submitFilters),r.setState({is_change_workspace:!1,search_student_keyword:"",is_set_keyword:!0,is_update_filter_options:!1})),v&&(null===b||void 0===b?void 0:b.length)&&m)&&((b.filter((function(e){return e.selected.length})).length||h)&&r.submitFilters(),r.setState({is_auto_fetch:!1}));r.props.rostering&&(null===(c=r.props.rostering)||void 0===c||null===(_=c.next_stack_options)||void 0===_?void 0:_.all_filtered_students_info)&&r.state.is_all_students_checked&&(r.state.selected_students=r.props.rostering.next_stack_options.all_filtered_students_info)},r.updateFilterDropdownSelectedValue=function(e,t){if(r.state.is_update_filter_options){var a=Object(f.a)(r.state.filter_dropdowns),n=Object(p.O)(e,t,a),s=n.filter_dropdowns,o=Object(Mc.a)(n,["filter_dropdowns"]);r.state.is_clear_filter&&!e.length||!["cc_stack_id","cc_stack_start_date","program_type_id","bootcamp_start_date"].includes(t.filter_name)||r.props.updateRosteringFilterOptions(Object(d.a)({admin_page:u.c.student_rostering.student_roster},o)),r.setState({selected_cc_stack_id:o.cc_stack_id,filter_dropdowns:s,is_clear_filter:!1})}r.setState({is_update_filter_options:!0})},r.updateAffectedFilterDropdownData=function(e,t){var a=[{label:"June 1, 2021",value:"2021-06-01"},{label:"May 31, 2021",value:"2021-05-31"},{label:"May 24, 2021",value:"2021-05-24"},{label:"May 23, 2021",value:"2021-05-23"},{label:"May 17, 2021",value:"2021-05-17"}],n=[{label:"Onsite Hybrid",value:"31"},{label:"Onsite Palestine",value:"47"},{label:"Onsite Web Development",value:"1"}];return t.map((function(t){var s=e.filter((function(e){return e.filter_name===t}))[0];"cc_stack_start_date"===s.filter_name?s.options=a:"program_type_id"===s.filter_name&&(s.options=n),s.selected=[]})),e},r.submitFilters=function(e){e&&(e.preventDefault(),r.resetToDefault(),r.state.is_all_students_checked=!1);var t=r.props.admin.profile.available_workspaces.filter((function(e){return e.is_selected})),a=Object(A.a)(t,1)[0].id,n={pagination:r.state.pagination,search_student_keyword:r.state.search_student_keyword,selected_sort:r.state.selected_sort},s=r.state.filter_dropdowns;if(null===s||void 0===s?void 0:s.length){var o,i,c,_;s.map((function(e){e.selected.length>0&&(n[e.filter_name]=e.selected.length>1?e.selected.map((function(e){return e.value})):e.selected[0].value)}));var l=0===(null===(o=s[0])||void 0===o||null===(i=o.selected)||void 0===i?void 0:i.length)&&0===(null===(c=s[1])||void 0===c||null===(_=c.selected)||void 0===_?void 0:_.length)&&!r.state.search_student_keyword;if(r.setState({is_show_program_filter_note:l}),r.state.is_processing_export_roster_list)n.event="export",n.table_head_columns=r.state.table_head_columns;else{var p;if(r.setState({is_loading:!0}),r.props.rostering.filters)r.props.rostering.filters.search_student_keyword=(null===(p=r.state)||void 0===p?void 0:p.search_student_keyword)||"";r.state.latest_filter_params=n}n.workspace_id=a,r.props.getFilteredStudentRosteringData(Object(d.a)(Object(d.a)({},n),{},{admin_page:u.c.student_rostering.student_roster}))}r.setState({is_processing_export_roster_list:!1})},r.toggleLockStack=function(e){r.setState({is_process_lock_stack:!0}),r.props.unlockStudentNextStack(e)},r.toggleCheckStudents=function(e,t){var a=e.target.getAttribute("data-applicant-id"),n=Object(d.a)({},r.state.selected_students),s=Object(d.a)({},r.state.next_stack_params);if(t)r.setState({is_all_students_checked:e.target.checked}),e.target.checked?(r.state.students.map((function(e){n[e.applicant_id]=[e.name,e.program_type_id,e.location_id,e.email]})),r.state.is_all_students_triggered=!0,r.props.getNextStackOptionsList({program_type_ids:null,location_ids:null,all_selected:!0,latest_filter_params:r.state.latest_filter_params})):(r.state.is_all_students_triggered=!1,n={});else{var o=e.target.getAttribute("data-program-type-id"),i=e.target.getAttribute("data-location-id"),c=e.target.getAttribute("data-email");e.target.checked?(s.program_type_ids.push(o),s.location_ids.push(i),n[a]=[e.target.getAttribute("data-name"),o,i,c]):(s.program_type_ids=r.removeFirstFromArray(s.program_type_ids,o),s.location_ids=r.removeFirstFromArray(s.location_ids,i),delete n[a],r.setState({is_all_students_checked:!1}))}r.state.next_stack_params=s,r.setState({selected_students:n});var _=Object.keys(n).length>0;r.setState({is_show_assign_to_next_stack_popover:_})},r.removeFirstFromArray=function(e,t){var a=e.indexOf(t);return-1===a?e:[].concat(Object(f.a)(e.slice(0,a)),Object(f.a)(e.slice(a+1)))},r.resetToDefault=function(){var e,t,a;if(r.state.selected_students={},r.state.next_stack_options=[],r.state.is_all_students_triggered=!1,r.state.next_stack_params={program_type_ids:[],location_ids:[]},r.setState({is_show_assign_to_next_stack_popover:!1}),(null===(e=r.state.pagination)||void 0===e?void 0:e.current_page)&&(null===(t=r.state.pagination)||void 0===t?void 0:t.students_per_page))r.state.pagination.current_page=1;else if(null===(a=r.props.rostering.filters)||void 0===a?void 0:a.page_count){var n;r.state.pagination={current_page:1,students_per_page:null===(n=r.props.rostering.filters)||void 0===n?void 0:n.page_count}}},r.submitAssignStudentsStack=function(e,t){r.setState({is_process_next_stack:!0}),r.props.processSelectedStudentsNextStack({cc_stack_id:e.cc_stack_id,cc_stack_schedule_id:e.cc_stack_schedule_id,label:e.label,stack_start_date:e.start_date,stack_end_date:e.end_date,selected_applicants_ids:Object.keys(r.state.selected_students),is_from_student_profile:!1,is_all_students_checked:r.state.is_all_students_checked,instructor_id:t.id,cc_instructor_stack_sched_id:t.cc_instructor_stack_sched_id,origin:"admin.rostering.view_student_rostering.set_student_stack"})},r.sortTable=function(e,t,a){r.setState({selected_sort:e},(function(){r.submitFilters(null,"","",!1,a)}))},r.searchStudents=function(e){e.preventDefault(),r.resetToDefault(),r.submitFilters(null)},r.setSearchStudentsKeyword=function(e){e.preventDefault(),r.setState({search_student_keyword:e.target.value})},r.updateAPStatus=function(e,t){var a=Object(f.a)(r.state.students);a.map((function(a){a.id===t&&(a.ap=e)})),r.setState({students:a}),r.props.updateStudentAPStatus({applicant_id:t,ap_status:e})},r.updateStudentRegion=function(e,t,a){var n=Object(f.a)(r.state.students);n.map((function(a){a.id===t&&(a.region=e)})),r.setState({students:n}),r.props.updateStudentRegion({student_id:t,applicant_id:a,region:e})},r.paginateData=function(e){r.state.pagination.current_page=Number(e),r.submitFilters(null)},r.processExportFilteredStudents=function(){r.state.is_processing_export_roster_list=!0,r.setState({is_processing_export_roster_list:!0}),r.submitFilters(null)},r.clearAllFilters=function(){var e=Object(f.a)(r.state.filter_dropdowns);e.map((function(e){e.selected.length&&(e.selected=[])})),r.props.updateRosteringFilterOptions({admin_page:u.c.student_rostering.student_roster}),r.setState({filter_dropdowns:e,is_clear_filter:!0})},r.changeActiveWorkspace=function(e){var t=e.filter((function(e){return e.is_selected})),a=Object(A.a)(t,1)[0].id;r.props.switchWorkspace({workspace_id:a}),r.setState({selected_sort:void 0,pagination:void 0,is_all_students_checked:!1,selected_students:[],is_show_assign_to_next_stack_popover:!1,is_change_workspace:!0,selected_workspace_id:a})},r.updatePageCount=function(e){r.state.pagination.students_per_page!==e.page_count&&(r.props.rostering.filters.page_count=e.page_count,r.setState({pagination:{current_page:1,students_per_page:e.page_count}},(function(){r.submitFilters(null)})))},r.onFetchInstructorOption=function(e){var t=e.cc_stack_schedule_id,a=e.start_date,n=e.end_date;r.props.fetchInstructorOptions({cc_stack_schedule_id:t,start_date:a,end_date:n})};var o=Object(p.y)();return r.state={navigation:Object(p.w)(null===(n=o.user_details)||void 0===n||null===(s=n.general)||void 0===s?void 0:s.user_capabilities,"rostering"),table_head_columns:fm,filter_dropdowns:[],students:[],total_results:0,is_show_export_students_data_modal:!1,is_show_guidelines_modal:!1,is_show_assign_students_stack_modal:!1,is_all_students_checked:!1,is_all_students_triggered:!1,is_show_assign_to_next_stack_popover:!1,is_loading:!1,pagination:void 0,search_student_keyword:"",selected_students:{},next_stack_options:[],is_process_next_stack:!1,is_process_lock_stack:!1,prev_search_key_not_set:!0,next_stack_params:{program_type_ids:[],location_ids:[]},is_processing_export_roster_list:!1,latest_filter_params:{},selected_cc_stack_id:null,is_show_program_filter_note:!1,selected_sort:void 0,selected_workspace_id:void 0,instructor_options:[],is_onload_page:!0,user_profile:o.user_details,is_set_keyword:!1,is_change_workspace:!1,is_update_filter_options:!0},r}return Object(_e.a)(a,[{key:"render",value:function(){var e,t,a=this,n=this.props.rostering,r=void 0;n.filters&&(this.state.filter_dropdowns=n.filters.result,r=n.filters.page_count,""==this.state.search_student_keyword&&this.state.prev_search_key_not_set&&(this.state.search_student_keyword=n.filters.search_student_keyword,this.state.prev_search_key_not_set=!1)),this.state.is_processing_export_roster_list&&n.is_export?this.state.is_processing_export_roster_list=!1:n.is_export||(this.state.students=n.student_list?n.student_list.result:[],this.state.total_results=n.student_list?n.student_list.total_results:0,n.next_stack_options&&(this.state.is_show_assign_to_next_stack_popover||this.state.is_all_students_triggered)?this.state.next_stack_options=n.next_stack_options.result:this.state.next_stack_options=[]);var o={successfully_assigned_students:{},next_stack_assign_success:!1,rostering_details:{},unsuccessful:[],successful:[]};n.processed_students_next_stack&&(o.successfully_assigned_students=n.processed_students_next_stack.success,o.next_stack_assign_success=n.processed_students_next_stack.status,o.unsuccessful=n.processed_students_next_stack.unsuccessful,o.successful=n.processed_students_next_stack.successful,o.rostering_details=n.processed_students_next_stack.rostering_details,this.state.is_process_next_stack&&o.successfully_assigned_students&&(this.state.students.map((function(e,t){var n=o.successfully_assigned_students[e.applicant_id];n&&null==a.state.students[t].receiving_user_track_id&&(a.state.students[t].receiving_stack=n.next_stack,a.state.students[t].receiving_instructor=n.next_instructor,a.state.students[t].receiving_stack_status=n.lock,a.state.students[t].receiving_stack_is_retake=n.retake>0,a.state.students[t].receiving_user_track_id=n.user_track_id,a.state.students[t].receiving_stack_start=n.stack_start_date)})),this.state.is_process_next_stack=!1)),n.unlock_stack_response&&this.state.is_process_lock_stack&&(n.unlock_stack_response.status&&this.state.students.map((function(e,t){e.applicant_id==n.unlock_stack_response.result.applicant_id&&e.receiving_user_track_id==n.unlock_stack_response.result.user_track_id&&(a.state.students[t].receiving_stack_status=n.unlock_stack_response.result.receiving_stack_status)})),this.state.is_process_lock_stack=!1);var i=this.state,c=i.navigation,_=i.table_head_columns,l=i.students,d=i.selected_students,m=i.is_show_assign_to_next_stack_popover,h=i.total_results,E=(i.filter_dropdowns,i.pagination),g=i.next_stack_options,v=i.instructor_options,b=i.selected_sort,S=[],k=[];if(d)for(var O=Object.keys(d),T=0;T<O.length;T++){var C=Object(A.a)(d[O[T]],4),w=(C[0],C[1]),y=C[2];C[3];w&&y&&(S.push(w),k.push(y))}n.is_exporting||(this.state.is_show_export_students_data_modal=!1);var R=Object(p.i)(null===(e=this.state.user_profile)||void 0===e||null===(t=e.general)||void 0===t?void 0:t.user_capabilities,"admin.rostering.view_student_rostering.set_student_stack");return s.a.createElement("div",{id:"admin_container"},s.a.createElement(et,{title:u.lb.admin_page.roster}),s.a.createElement(Gi,{active_icon:"users"}),s.a.createElement(Vi,{navigation:c,admin_page:"rostering"}),s.a.createElement("div",{id:"admin_right_container"},s.a.createElement(sc,{onSearchStudents:this.searchStudents,onSetSearchStudentsKeyword:this.setSearchStudentsKeyword,onchangeActiveWorkspace:this.changeActiveWorkspace,search_student_keyword:this.state.search_student_keyword||"",profile:this.props.admin.profile}),s.a.createElement("div",{id:"table_tools_container"},s.a.createElement(Yi,{filter_dropdowns:this.state.filter_dropdowns||[],submitFilters:this.submitFilters,updateFilterDropdownSelectedValue:this.updateFilterDropdownSelectedValue,clearAllFilters:function(){return Vl(a)}}),s.a.createElement("div",{id:"other_tools_container"},s.a.createElement("a",{href:"https://docs.google.com/document/d/11j7n3Jmb9UN-1EjHvVrdurRS6XgpBgNmtchK9NdmAKE",target:"_blank"},s.a.createElement(Te.a,{icon:["fas","question-circle"]})),s.a.createElement("button",{type:"button",onClick:function(){a.processExportFilteredStudents(),a.setState({is_show_export_students_data_modal:!0})}},s.a.createElement(Te.a,{icon:["fas","download"]})))),this.state.is_show_program_filter_note&&s.a.createElement("p",{id:"program_filter_note"},"*Only returning students\u2019 data of their LATEST course, since Course and Course Start Date are not specified in filters."),s.a.createElement(wm,{table_head_columns:_,students:l,selected_students:d,total_results:this.state.total_results,onToggleLockStack:this.toggleLockStack,onToggleCheckStudents:this.toggleCheckStudents,onSortTable:this.sortTable,is_loading:n.is_loading,onUpdateAPStatus:this.updateAPStatus,onUpdateStudentRegion:this.updateStudentRegion,is_all_students_checked:this.state.is_all_students_checked,is_export:n.is_export||!1,user_profile:this.state.user_profile,onCustomizeTableColumns:function(e){return Kl(a,e,"roster_customize_columns")},selected_sort:b,selected_workspace_id:this.state.selected_workspace_id}),E&&s.a.createElement(kc,{pagination:E,total_results:this.state.total_results,onPaginateData:this.paginateData,onUpdatPageCount:this.updatePageCount,page_count:r}),m&&s.a.createElement(jm,{toggleShowModal:function(){Object(p.W)(a,"is_show_assign_students_stack_modal",!0),a.props.getNextStackOptionsList({program_type_ids:Object(f.a)(new Set(S)),location_ids:Object(f.a)(new Set(k)),all_selected:a.state.is_all_students_checked,latest_filter_params:a.state.is_all_students_checked?a.state.latest_filter_params:{}})},selected_students:d,total_results:h,is_all_students_checked:this.state.is_all_students_checked,set_student_stack_acess:R})),s.a.createElement(ym,{toggleShowModal:function(){return Object(p.W)(a,"is_show_export_students_data_modal",!1)},show:this.state.is_show_export_students_data_modal,processExportFilteredStudents:this.processExportFilteredStudents,is_exporting:n.is_exporting||!1}),s.a.createElement(Rm,{toggleShowModal:function(){return Object(p.W)(a,"is_show_guidelines_modal",!1)},show:this.state.is_show_guidelines_modal}),s.a.createElement(Pm,{toggleShowModal:function(){return Object(p.W)(a,"is_show_assign_students_stack_modal",!1)},show:this.state.is_show_assign_students_stack_modal,onSubmitAssignStudentsStack:this.submitAssignStudentsStack,onFetchInstructorOption:this.onFetchInstructorOption,next_stack_options:g,instructor_options:v,selected_students:d,roster_next_stack_process:o,total_results:h,is_all_students_checked:this.state.is_all_students_checked,set_student_stack_acess:R}))}}]),a}(n.Component)),Mm=ts.a.switchWorkspace,Fm=pl.getFilteredStudentRosteringData,xm=pl.getStudentRosteringFilters,Bm=pl.updateRosteringFilterOptions,Wm=pl.getNextStackOptionsList,Hm=pl.processSelectedStudentsNextStack,Km=pl.unlockStudentNextStack,Gm=pl.updateStudentAPStatus,Vm=pl.updateStudentRegion,qm=pl.changePropsValue,Ym=pl.fetchInstructorOptions,Qm=Object(p.J)(["rostering","admin","dashboard"],{getFilteredStudentRosteringData:Fm,getStudentRosteringFilters:xm,updateRosteringFilterOptions:Bm,getNextStackOptionsList:Wm,processSelectedStudentsNextStack:Hm,unlockStudentNextStack:Km,updateStudentAPStatus:Gm,updateStudentRegion:Vm,changePropsValue:qm,switchWorkspace:Mm,fetchInstructorOptions:Ym}),$m=Qm.mapStateToProps,zm=Qm.mapDispatchToProps,Jm=Object(ue.b)($m,zm)(Lm),Xm={general:1,permissions:2,curriculum:3},Zm=[{id:1,name:"learning_interface",title:"E-learning Interface",description:"Enabling the E-learning Interface for this workspace(only turn on when workspace is offering an e-learning experience)",is_show_demographic:!0,demographic_url:"https://codingdojo_assets.s3.us-east-1.amazonaws.com/learn_platform/admin/workspace_management/demographic/elearning_interface.png",demographic_description:"E-learning interface includes live lecture schedule and other unique features designed for the E-learning model. Only turn this on when you are sure this workspace is for E-learning Content."},{id:3,name:"checklist_versioning",title:"Checklist Versioning",description:"Enabling Checklist Versioning for this workspace",is_show_demographic:!0,demographic_url:"https://codingdojo_assets.s3.us-east-1.amazonaws.com/learn_platform/admin/workspace_management/demographic/check_list_versioning.png",demographic_description:"Checklist versioning allows you to adjust your assignment criteria such as due dates and core designation without affecting the progress of current students in a given course. It will only affect progress for future students in the course."}],eh={1:"Live",2:"Disabled",3:"Unpublished",4:"Deleted"},th=[{full_description:"UTC Universal Coordinated +00:00",value:"+00:00",acronym:"UTC",name:"Universal Coordinated"},{full_description:"ECT European Central +01:00",value:"+01:00",acronym:"ECT",name:"European Central"},{full_description:"EET Eastern European +02:00",value:"+02:00",acronym:"EET",name:"Eastern European"},{full_description:"ART (Arabic) Egypt Standard +02:00",value:"+02:00",acronym:"ART",name:"(Arabic) Egypt Standard"},{full_description:"EAT Eastern African +03:00",value:"+03:00",acronym:"EAT",name:"Eastern African"},{full_description:"MET Middle East +03:30",value:"+03:30",acronym:"MET",name:"Middle East"},{full_description:"NET Near East +04:00",value:"+04:00",acronym:"NET",name:"Near East"},{full_description:"PLT Pakistan Lahore +05:00",value:"+05:00",acronym:"PLT",name:"Pakistan Lahore"},{full_description:"IST India Standard +05:30",value:"+05:30",acronym:"IST",name:"India Standard"},{full_description:"BST Bangladesh Standard +06:00",value:"+06:00",acronym:"BST",name:"Bangladesh Standard"},{full_description:"VST Vietnam Standard +07:00",value:"+07:00",acronym:"VST",name:"Vietnam Standard"},{full_description:"CTT China Taiwan +08:00",value:"+08:00",acronym:"CTT",name:"China Taiwan"},{full_description:"JST Japan Standard +09:00",value:"+09:00",acronym:"JST",name:"Japan Standard"},{full_description:"ACT Australia Central +09:30",value:"+09:30",acronym:"ACT",name:"Australia Central"},{full_description:"AET Australia Eastern +10:00",value:"+10:00",acronym:"AET",name:"Australia Eastern"},{full_description:"SST Solomon Standard +11:00",value:"+11:00",acronym:"SST",name:"Solomon Standard"},{full_description:"NST New Zealand Standard +12:00",value:"+12:00",acronym:"NST",name:"New Zealand Standard"},{full_description:"MIT Midway Islands -11:00",value:"-11:00",acronym:"MIT",name:"Midway Islands"},{full_description:"HST Hawaii Standard -10:00",value:"-10:00",acronym:"HST",name:"Hawaii Standard"},{full_description:"AST Alaska Standard -09:00",value:"-09:00",acronym:"AST",name:"Alaska Standard"},{full_description:"PST Pacific Standard -08:00",value:"-08:00",acronym:"PST",name:"Pacific Standard"},{full_description:"PNT Phoenix Standard -07:00",value:"-07:00",acronym:"PNT",name:"Phoenix Standard"},{full_description:"CST Central Standard -06:00",value:"-06:00",acronym:"CST",name:"Central Standard"},{full_description:"EST Eastern Standard -05:00",value:"-05:00",acronym:"EST",name:"Eastern Standard"},{full_description:"IET Indiana Eastern Standard -05:00",value:"-05:00",acronym:"IET",name:"Indiana Eastern Standard"},{full_description:"PRT Puerto Rico and US Virgin Islands -04:00",value:"-04:00",acronym:"PRT",name:"Puerto Rico and US Virgin Islands"},{full_description:"CNT Canada Newfoundland -03:30",value:"-03:30",acronym:"CNT",name:"Canada Newfoundland"},{full_description:"AGT Argentina Standard -03:00",value:"-03:00",acronym:"AGT",name:"Argentina Standard"},{full_description:"BET Brazil Eastern -03:00",value:"-03:00",acronym:"BET",name:"Brazil Eastern"},{full_description:"CAT Central African -01:00",value:"-01:00",acronym:"CAT",name:"Central African"}],ah=(Object.assign({},{ACTIVE_WORKSPACE_TAB_INDEX:Xm},{PERMISSIONS_DATA:Zm},{WORKSPACE_STATUS:eh},{TIMEZONE_OPTIONS:th}),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).processUploadWorkspaceIcon=function(e,t){e.target.files[0].size<=5242880?(n.props.uploadedFileImage(e,t),n.props.getGeneralTabData(e.target.value,t),n.setState({file_upload_value:"",upload_error_message:""})):n.setState({upload_error_message:"File size exceed, file size is up to 5 MB only."})},n.state={is_valid_workspace_url:!0},n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t,a,n,r,o,i,c,_,l,d,u,m=this,h=this.props,E=h.active_workspace,f=h.getGeneralTabData,g=h.onProcessDeleteWorkspaceIcon,v=h.error_message,b=h.is_uploading_image,S=h.is_dark_mode_uploading_image,k=this.state,O=k.is_valid_workspace_url,T=k.file_upload_value,C=k.upload_error_message,w=E.general_tab;return s.a.createElement("div",{className:"workspace_tab",id:"general_tab"},s.a.createElement("div",{className:"form_control"},s.a.createElement("h6",null,"Workspace Name"),s.a.createElement("input",{onKeyUp:function(e){return f(e.target.value,"name")},defaultValue:w.name,placeholder:"Give your new workspace a name(e.g.\u201dCoding Dojo Domestic\u201d)",type:"text"})),s.a.createElement("div",{className:"form_control"},s.a.createElement("h6",null,"Workspace URL"),s.a.createElement("div",{className:"workspace_url"},s.a.createElement("span",null,"https://www."),s.a.createElement("input",{onKeyUp:function(e){return f(e.target.value,"url")},onFocus:function(){return m.setState({is_valid_workspace_url:!0})},onBlur:function(e){var t=e.target.value,a=t.split("."),n=0,s=1,r=a.length===s&&a[n]&&!t.startsWith("https://")&&!t.startsWith("http://")&&!Object(p.E)(t)&&!/\d/.test(t);m.setState({is_valid_workspace_url:r}),f(r,"is_valid_workspace_url")},placeholder:"yourcompanyname",type:"text",defaultValue:(null===w||void 0===w?void 0:w.url)||""}),s.a.createElement("span",null,".codingdojo.com")),!O&&""!==O&&s.a.createElement("p",{className:"error_message"},"Please fill in valid information.")),s.a.createElement("div",{className:"form_control"},s.a.createElement("h6",null,"Workspace icon ",s.a.createElement("span",null,"(file size up to 5 MB)")),s.a.createElement("ul",{id:"workspace_icon_list"},s.a.createElement("li",null,s.a.createElement("h5",null,"Light Mode"),s.a.createElement("label",{className:"upload_icon_label ".concat(b?"disabled":""),disabled:b,htmlFor:"light_mode_icon"},s.a.createElement("span",{className:"upload_icon"}),(null===w||void 0===w||null===(e=w.logo_url)||void 0===e?void 0:e.light_mode)&&!(null===w||void 0===w||null===(t=w.logo_url)||void 0===t?void 0:t.light_mode.includes("fakepath"))&&!b&&s.a.createElement("img",{class:"icon_img",src:null===w||void 0===w||null===(a=w.logo_url)||void 0===a?void 0:a.light_mode,alt:"workspace-logo"}),b&&s.a.createElement("img",{class:"loading_image",src:"https://codingdojo_assets.s3.us-east-1.amazonaws.com/learn_platform/admin/global/table_loader.gif",alt:"loading animation"}),s.a.createElement("input",{type:"file",value:T,accept:"image/*",name:"light_mode_icon",id:"light_mode_icon",onChange:function(e){return m.processUploadWorkspaceIcon(e,"light_mode")}})),(null===w||void 0===w||null===(n=w.logo_url)||void 0===n?void 0:n.light_mode)&&!(null===w||void 0===w||null===(r=w.logo_url)||void 0===r?void 0:r.light_mode.includes("fakepath"))&&!b&&s.a.createElement("button",{type:"button",class:"delete_icon_button",onClick:function(e){g(e,w.logo_url.light_mode),w.logo_url.light_mode="",f("","light_mode")}},s.a.createElement(Te.a,{icon:["fa","trash"]}))),s.a.createElement("li",null,s.a.createElement("h5",null,"Dark Mode"),s.a.createElement("label",{className:"upload_icon_label ".concat(S?"disabled":""),disabled:S,htmlFor:"dark_mode_icon"},s.a.createElement("span",{className:"upload_icon"}),(null===w||void 0===w||null===(o=w.logo_url)||void 0===o?void 0:o.dark_mode)&&!(null===w||void 0===w||null===(i=w.logo_url)||void 0===i?void 0:i.dark_mode.includes("fakepath"))&&!S&&s.a.createElement("img",{class:"icon_img",src:null===w||void 0===w||null===(c=w.logo_url)||void 0===c?void 0:c.dark_mode,alt:"workspace-logo"}),S&&s.a.createElement("img",{class:"loading_image",src:"https://codingdojo_assets.s3.us-east-1.amazonaws.com/learn_platform/admin/global/table_loader.gif",alt:"loading animation"}),s.a.createElement("input",{type:"file",value:T,accept:"image/*",name:"dark_mode_icon",id:"dark_mode_icon",onChange:function(e){return m.processUploadWorkspaceIcon(e,"dark_mode")}})),(null===w||void 0===w||null===(_=w.logo_url)||void 0===_?void 0:_.dark_mode)&&!(null===w||void 0===w||null===(l=w.logo_url)||void 0===l?void 0:l.dark_mode.includes("fakepath"))&&!S&&s.a.createElement("button",{type:"button",class:"delete_icon_button",onClick:function(e){g(e,w.logo_url.dark_mode),w.logo_url.dark_mode="",f("","dark_mode")}},s.a.createElement(Te.a,{icon:["fa","trash"]})))),(C||v)&&s.a.createElement("p",{className:"error_message"},C||v)),s.a.createElement("div",{className:"form_control"},s.a.createElement("h6",null,"Workspace Timezone"),s.a.createElement(es.a,{className:"dropdown_select",inputProps:{autoComplete:"off",autoCorrect:"off",spellCheck:"off"},labelField:"full_description",name:"region_timezone",onChange:function(e){return f(e[0],"timezone")},options:th,placeholder:"Select a Region",searchable:!0,valueField:"full_description",values:[(null===w||void 0===w?void 0:w.timezone)||{}]})),s.a.createElement("div",{className:"form_control"},s.a.createElement("h6",null,"Workspace Country"),s.a.createElement(es.a,{className:"dropdown_select",inputProps:{autoComplete:"off",autoCorrect:"off",spellCheck:"off"},labelField:"label",name:"language",options:this.props.languages,placeholder:"Select a Language",searchable:!0,valueField:"value",values:[{label:null===w||void 0===w||null===(d=w.language)||void 0===d?void 0:d.name,value:null===w||void 0===w||null===(u=w.language)||void 0===u?void 0:u.code}],onChange:function(e){var t=Object(A.a)(e,1)[0];f({name:null===t||void 0===t?void 0:t.label,code:null===t||void 0===t?void 0:t.value},"language")}})))}}]),a}(n.Component)),nh=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).state={permissions_data:Zm},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this.props,t=e.getPermissionTabData,a=e.active_workspace;return s.a.createElement("div",{className:"workspace_tab",id:"permissions_tab"},this.state.permissions_data.map((function(e){return s.a.createElement("div",{key:e.id,className:"form_control"},s.a.createElement("h6",null,e.title,e.is_show_demographic&&s.a.createElement(va.a,{placement:"bottom",rootClose:!0,overlay:s.a.createElement(ga.a,{id:"demographic_tooltip"},s.a.createElement(ga.a.Content,null,s.a.createElement("img",{src:e.demographic_url,alt:"codingdojo demographic"}),s.a.createElement("p",null,e.demographic_description)))},s.a.createElement("button",{type:"button"},"What is this?"))),s.a.createElement("p",null,e.description),s.a.createElement("div",{className:"permission_switch_container"},s.a.createElement("input",{type:"checkbox",id:e.name+"_input",onChange:function(a){return t(a.target.checked,e.name)},defaultChecked:null===a||void 0===a?void 0:a.permission_tab[e.name]}),s.a.createElement("label",{htmlFor:e.name+"_input"})))})))}}]),a}(n.Component),sh=(a(459),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).dropdownListItemTemplate=function(e){if(void 0===e.is_show||e.is_show)return s.a.createElement("div",{className:"dropdown_item",key:e.program_type_id,tabIndex:"-1",role:"option",onClick:function(){n.props.onChangeProgram(e)}},s.a.createElement("span",null,e.program_name),s.a.createElement("div",{className:"checkbox"},s.a.createElement("input",{id:"".concat(e.program_type_id,"_dropdown_checkbox"),checked:e.is_enabled,type:"checkbox",onChange:function(){n.props.onChangeProgram(e)}}),s.a.createElement("label",{htmlFor:"".concat(e.program_type_id,"_dropdown_checkbox")},s.a.createElement("div",{className:"checkbox_container"},s.a.createElement(Te.a,{icon:["fas","check"]})))))},n.onSearchProgram=function(e){var t=n.props.active_workspace_tracks;n.filterSearch(e,t)},n.filterSearch=function(e,t){var a=e.toLowerCase().replace(/ /g,"");Object.keys(t).map((function(e){t[e].is_show=t[e].program_name.toLowerCase().replace(/ /g,"").includes(a)})),n.setState({search_value:e})},n.state={search:"",search_value:""},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props.active_workspace_tracks;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"dropdown_search_container"},s.a.createElement("input",{type:"text",defaultValue:this.state.search_value,onChange:function(t){return e.onSearchProgram(t.target.value)},placeholder:"Search Program Type"})),s.a.createElement("div",{className:"dropdown_menu"},Object.keys(t).length>0?s.a.createElement(s.a.Fragment,null,Object.keys(t).map((function(a){return e.dropdownListItemTemplate(t[a])}))):s.a.createElement("div",{className:"no_results_found"},"No results found.")))}}]),a}(n.Component)),rh=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).dropdownListItemTemplate=function(e,t){if(void 0===e.is_show||e.is_show)return s.a.createElement("div",{className:"dropdown_item ".concat(e.is_active?"active":""," ").concat(e.active_version_id?"has_version":""),key:e.id,tabIndex:"-1",role:"option",onClick:function(){return n.props.selectActiveStack(t)}},s.a.createElement("span",null,e.name))},n.state={search:"",search_value:"",all_stacks:null,show_no_ressult_found_stack_search:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.all_stacks,r=a.active_stack_index,o=(null===(e=n[r])||void 0===e?void 0:e.versions)||{};return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"dropdown_search_container"},s.a.createElement("input",{type:"text",onChange:function(e){return t.props.onSearchStack(e.target.value)},placeholder:"Search Course"})),s.a.createElement("div",{className:"dropdown_content"},s.a.createElement("div",{className:"dropdown_menu"},n.filter((function(e){return e.is_show})).length>0?s.a.createElement(s.a.Fragment,null,n.map((function(e,a){return t.dropdownListItemTemplate(e,a)}))):s.a.createElement("div",{className:"no_results_found"},"No results found.")),o&&s.a.createElement("ul",{id:"version_list"},Object.keys(o).map((function(e){return s.a.createElement("li",{role:"button",onClick:function(){return t.props.selectActiveStackVersion(e,r)},className:n[r].active_version_id===parseInt(e)?"is_active":""},n[r].versions[e].name)})))))}}]),a}(n.Component),oh=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).trackItemTemplate=function(e,t){return s.a.createElement("li",{role:"button",className:e.track_id===t?"active":"",onClick:function(){return n.props.onSelectCurriculumStack(e,n.state.active_program_id)}},s.a.createElement("span",null,e.track_name)," ",s.a.createElement("span",{className:"is_major_or_minor_track"},parseInt(e.is_major)?"Major":"Minor"),s.a.createElement("button",{type:"button",className:"stack_delete_button",onClick:function(t){n.props.onDeleteCurriculumStack(t,e,n.state.active_program_id);var a=n.state.all_stacks;a.map((function(t,n){t.versions[e.track_id]&&(a[n].active_version_id=null)})),n.setState({all_stacks:a})}}))},n.selectActiveStack=function(e){var t=n.state.all_stacks;t.map((function(a,n){t[n].is_active=n===e})),n.setState({all_stacks:t,active_stack_item_key:t[e].cc_stack_id,active_stack_index:e,is_open_version:!0})},n.selectActiveStackVersion=function(e,t){var a=n.state,s=a.all_stacks,r=a.active_stack_item_key;s[t].cc_stack_id=null!==s[t].cc_stack_id?parseInt(s[t].cc_stack_id):null,s[t].active_version_id=parseInt(s[t].active_version_id)===parseInt(e)?null:parseInt(e),s[t].active_track_id=e,n.props.onSelectStackVersion(r,e,s[t],n.state.active_program_id),n.setState({all_stacks:s})},n.onSearchStack=function(e){var t=Object(d.a)({},n.state).all_stacks;t.map((function(a,n){t[n].is_show=t[n].name.toLowerCase().replace(/ /g,"").includes(e.toLowerCase().replace(/ /g,""))})),n.setState({all_stacks:t,active_stack_item_key:null,active_stack_index:null,is_open_version:!1})},n.setStackAndVersion=function(e,t){n.state.all_stacks.map((function(e,t){n.state.all_stacks[t].active_version_id=null})),n.setState({active_program_id:t}),n.props.onSelectCurriculumProgram(e,t)},n.setCheckInStackAndVersion=function(){var e=n.state.all_stacks;e.map((function(t,a){e[a].is_show=!0})),e.map((function(t,a){Object.keys(t.versions).filter((function(t){n.state.merge_active_stack_ids.includes(parseInt(t))&&(e[a].active_version_id=parseInt(t))}))}))},n.processUploadCertificateIcon=function(e,t,a){var s=e.target.files[0].name;n.setState({show_upload_error_message:!1}),"svg"===s.split(".").pop()?n.props.uploadCertificateIcon(e,null===t||void 0===t?void 0:t["program_type_".concat(n.state.active_program_id)],n.state.active_filtered_cc_stack,a):n.setState({show_upload_error_message:!0}),n.setState({file_upload_value:""})},n.state={all_stacks:n.props.all_tracks_data,active_workspace_tracks:null,active_program_id:null,is_open_version:!1,active_stack_item_key:null,active_stack_index:null,is_upload_multiple_belts:!0,multiple_belts:[{id:1,name:"default",url:"",title:"Default (Empty)"},{id:2,name:"red",url:"",title:"Red Belt"},{id:3,name:"orange",url:"",title:"Orange Belt"},{id:4,name:"black",url:"",title:"Black Belt"},{id:5,name:"yellow",url:"",title:"Yellow Belt"}]},n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t,a,n,r,o,i,c,_,l,d,u,p,m=this,h=(null===(e=this.props.active_workspace)||void 0===e||null===(t=e.settings)||void 0===t||null===(a=t.content)||void 0===a?void 0:a.tracks)||{},E=this.props,g=(E.error_message,E.is_uploading_image,this.state);g.multiple_belts,g.is_upload_multiple_belts,g.show_upload_error_message;h&&(Object.keys(h).filter((function(e){h[e].is_enabled&&h[e].is_active&&(m.state.active_program_id=h[e].program_type_id)})),this.state.active_program_type=h["program_type_".concat(this.state.active_program_id)],(null===(d=this.state.active_program_type)||void 0===d?void 0:d.is_enabled)&&(this.state.merge_active_stacks=[],this.state.merge_active_stack_ids=[],["accessible","default"].map((function(e){var t,a;m.state.active_program_type[e]&&m.state.active_program_type[e].stacks&&((t=m.state.merge_active_stacks).push.apply(t,Object(f.a)(m.state.active_program_type[e].stacks)),(a=m.state.merge_active_stack_ids).push.apply(a,Object(f.a)(new Set(Object(f.a)(m.state.active_program_type[e].all)))),m.state.active_filtered_cc_stack=m.state.merge_active_stacks.filter((function(e){return e.cc_stack_id===m.state.active_program_type.active_cc_stack_id}))[0])}))),null===(u=this.state.active_filtered_cc_stack)||void 0===u||null===(p=u.certificate_icon)||void 0===p||p.is_hierarchy_based);this.props.belt_options[null===h||void 0===h||null===(n=h["program_type_".concat(this.state.active_program_id||(null===(r=this.state)||void 0===r||null===(o=r.active_program_type)||void 0===o?void 0:o.program_type_id))])||void 0===n?void 0:n.active_cc_stack_id];return s.a.createElement("div",{className:"workspace_tab",id:"curriculum_tab"},s.a.createElement("div",{className:"form_control"},s.a.createElement("p",null,"Save this workspace as unpublished and go to the CRM Admin Settings and setup the Programs for the workspace."),s.a.createElement("h6",null,"Manage Programs",s.a.createElement(va.a,{trigger:"click",placement:"bottom",rootClose:!0,overlay:s.a.createElement(ga.a,{id:"manage_program_and_stack_popover"},s.a.createElement(ga.a.Content,null,s.a.createElement(sh,{onChangeProgram:this.props.onChangeProgram,active_workspace_tracks:h})))},s.a.createElement("button",{type:"button",onClick:function(){Object.keys(h).map((function(e){h[e].is_show=!0}))}},"Select Programs"))),s.a.createElement("ul",null,h&&Object.keys(h).length>0&&Object.keys(h).map((function(e){var t,a;if(null===(t=h[e])||void 0===t?void 0:t.is_enabled)return s.a.createElement("li",{role:"button",onClick:function(t){return m.setStackAndVersion(t,h[e].program_type_id)},className:(null===(a=h[e])||void 0===a?void 0:a.is_active)?"active":""},h[e].program_name,s.a.createElement("button",{type:"button",onClick:function(t){m.props.deleteCurriculumProgram(t,h[e].program_type_id),m.setState({active_program_type:null,merge_active_stacks:[],active_program_id:null})},className:"delete_program_button"}))})))),this.state.active_program_type&&s.a.createElement("div",{id:"manage_tracks_or_stacks_container",className:"form_control"},s.a.createElement("h6",null,"Manage Curriculum ",this.state.active_program_type&&"of ".concat(this.state.active_program_type.program_name),s.a.createElement(va.a,{trigger:"click",placement:"auto",rootClose:!0,overlay:s.a.createElement(ga.a,{id:"manage_stack_and_version_popover",className:this.state.is_open_version?"is_open_version":""},s.a.createElement(ga.a.Content,null,s.a.createElement(rh,{all_stacks:this.state.all_stacks,selectActiveStack:this.selectActiveStack,active_stack_index:this.state.active_stack_index,onSearchStack:this.onSearchStack,selectActiveStackVersion:this.selectActiveStackVersion})))},s.a.createElement("button",{className:(null===(i=this.state)||void 0===i?void 0:i.active_program_id)&&Object.keys(h).length>0?"":"disabled",type:"button",onClick:function(){return m.setCheckInStackAndVersion()}},"Setup Courses"))),(null===(c=this.state)||void 0===c||null===(_=c.merge_active_stacks)||void 0===_?void 0:_.length)>0&&this.state.active_program_id?s.a.createElement("ul",null,null===(l=this.state)||void 0===l?void 0:l.merge_active_stacks.map((function(e){var t,a=null===h||void 0===h?void 0:h["program_type_".concat(m.state.active_program_id)];if(a.is_active&&a.is_enabled)return m.trackItemTemplate(e,null===h||void 0===h||null===(t=h["program_type_".concat(m.state.active_program_id)])||void 0===t?void 0:t.active_track_id)}))):s.a.createElement("p",null,"Select a Program above to manage its Course")))}}]),a}(n.Component),ih=(a(327),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){return Object(ce.a)(this,a),t.call(this,e)}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=(t.toggleShowModal,t.show),n=t.is_edit_view;return s.a.createElement(De.a,{id:"unsaved_progress_workspace_modal",show:a,className:"confirmation_modal",onHide:function(){e.props.onHideUnsavedProgressWorkspaceModal()}},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,"Unsaved Progress"),s.a.createElement("button",{type:"button",onClick:function(){e.props.onHideUnsavedProgressWorkspaceModal()}})),s.a.createElement(De.a.Body,null,s.a.createElement("p",null,"Are you sure you want to discard this unsaved progress?"),s.a.createElement("p",null,"You can always save your unfinished progress as an unpublished workspace."),s.a.createElement("form",{action:"",onSubmit:function(t){return e.props.processUnsavedProgressWorkspaceInModal()}},n?s.a.createElement("button",{type:"button",onClick:function(){e.props.onHideUnsavedProgressWorkspaceModal()}},"Cancel"):s.a.createElement("button",{type:"submit",id:"save_as_unpublished_button",onClick:function(t){t.preventDefault(),e.props.processAddWorkspace(!0,e.props.workspace_data),e.props.updateParentStateFromChild({active_workspace_data:{}}),e.props.onHideUnsavedProgressWorkspaceModal()}},"Save as Unpublished"),s.a.createElement("button",{type:"button",onClick:function(){e.props.hideModals(),e.props.updateParentStateFromChild({active_workspace_data:{}})},className:"red"},"Exit without saving"))))}}]),a}(n.Component)),ch=(a(1384),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).setWorkspaceActiveTab=function(e){var t=Object(f.a)(n.state.workspace_tabs);t.map((function(t){t.is_active=t.id===e})),n.setState({workspace_tabs:t,active_tab_index:e})},n.showActiveTabTemplate=function(e){return e===Xm.general?s.a.createElement(ah,{getGeneralTabData:function(e,t){var a=n.state.workspace_data.general_tab.logo_url;Object.keys(a).includes(t)&&(a["".concat(t)]=e,e=a,t="logo_url"),n.setState((function(a){return{workspace_data:Object(d.a)(Object(d.a)({},a.workspace_data),{},{general_tab:Object(d.a)(Object(d.a)({},a.workspace_data.general_tab),{},Object(l.a)({},t,e))})}}))},uploaded_workspace_logo:n.props.uploaded_workspace_logo,active_workspace:n.state.workspace_data,uploadedFileImage:n.props.uploadedFileImage,onProcessDeleteWorkspaceIcon:n.props.onProcessDeleteWorkspaceIcon,workspace_management_data:n.props.workspace_management_data,languages:n.props.workspace_languages,error_message:n.props.error_message,is_uploading_image:n.props.is_uploading_image,is_dark_mode_uploading_image:n.props.is_dark_mode_uploading_image}):e===Xm.permissions?s.a.createElement(nh,{getPermissionTabData:function(e,t){n.props.active_workspace.settings.permissions[t]=e,n.setState((function(a){return{workspace_data:Object(d.a)(Object(d.a)({},a.workspace_data),{},{permission_tab:Object(d.a)(Object(d.a)({},a.workspace_data.permission_tab),{},Object(l.a)({},t,e))})}}))},active_workspace:n.state.workspace_data}):e===Xm.curriculum?s.a.createElement(oh,{onDeleteCurriculumStack:n.props.onDeleteCurriculumStack,onChangeMajorOrMinorStack:n.props.onChangeMajorOrMinorStack,onSelectCurriculumStack:n.props.onSelectCurriculumStack,onChangeMultipleOrSingleCertUploads:n.props.onChangeMultipleOrSingleCertUploads,onSelectCurriculumProgram:n.props.onSelectCurriculumProgram,deleteCurriculumProgram:n.props.deleteCurriculumProgram,onChangeProgram:n.props.onChangeProgram,onSelectStackVersion:n.props.onSelectStackVersion,active_workspace:n.props.active_workspace,onProcessDeleteCertificateIcon:n.props.onProcessDeleteCertificateIcon,uploadCertificateIcon:n.props.uploadCertificateIcon,all_tracks_data:n.props.all_tracks_data,belt_options:n.props.belt_options,belt_item_name:n.props.belt_item_name,error_message:n.props.error_message,is_uploading_image:n.props.is_uploading_image}):void 0},n.state={workspace_tabs:[{id:1,name:"General",is_active:!0},{id:2,name:"Permission",is_active:!1},{id:3,name:"Curriculum",is_active:!1}],workspace_data:{general_tab:{logo_url:{dark_mode:"",light_mode:""}},permission_tab:{}},active_tab_index:Xm.general,is_show_success_message:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t,a,n=this,r=this.props,o=r.toggleShowModal,i=r.show,c=r.active_workspace,_=r.recent_workspace_id,l=r.error_message,d=r.is_uploading_image,u=r.is_dark_mode_uploading_image,p=this.state.workspace_data.general_tab;if(null===c||void 0===c||null===(e=c.settings)||void 0===e||null===(t=e.content)||void 0===t?void 0:t.tracks){var m,h,E=[];Object.keys(null===c||void 0===c||null===(m=c.settings)||void 0===m||null===(h=m.content)||void 0===h?void 0:h.tracks).map((function(e){["accessible","default"].map((function(t){var a,n,s,r,o;(null===c||void 0===c||null===(a=c.settings)||void 0===a||null===(n=a.content)||void 0===n||null===(s=n.tracks[e][t])||void 0===s?void 0:s.stacks)&&E.push.apply(E,Object(f.a)(null===c||void 0===c||null===(r=c.settings)||void 0===r||null===(o=r.content)||void 0===o?void 0:o.tracks[e][t].stacks))}))})),this.state.show_add_workspace=E.length>0}this.state.workspace_data.general_tab.logo_url=c.settings.general.logo_url;var g=!(null===p||void 0===p?void 0:p.name)||!(null===p||void 0===p||null===(a=p.logo_url)||void 0===a?void 0:a.light_mode)||!(null===p||void 0===p?void 0:p.url)||!(null===p||void 0===p?void 0:p.timezone)||!(null===p||void 0===p?void 0:p.language)||!(null===p||void 0===p?void 0:p.is_valid_workspace_url)||l||d||u;return s.a.createElement(s.a.Fragment,null,s.a.createElement(De.a,{id:"add_workspace_modal",show:i,backdrop:"static",keyboard:!1,className:this.state.is_show_success_message?"is_show_sucess_message":"",onShow:function(){n.props.is_edit_view?n.setState({workspace_data:{general_tab:{name:c.name,is_valid_workspace_url:!0,language:c.settings.general.language,timezone:c.settings.general.timezone,url:c.workspace_url},permission_tab:{learning_interface:c.settings.permissions.learning_interface,assignment_forum:c.settings.permissions.assignment_forum,checklist_versioning:c.settings.permissions.checklist_versioning,exam:c.settings.permissions.exam,survey:c.settings.permissions.survey}}}):n.setState({workspace_data:{general_tab:{},permission_tab:{}}}),n.setState({is_show_success_message:!1}),n.setWorkspaceActiveTab(Xm.general)},enforceFocus:!1},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,this.props.is_edit_view?"Edit Workspace":"Creating a New Workspace"),s.a.createElement("button",{type:"button",onClick:function(){(null===p||void 0===p?void 0:p.name)&&!n.state.is_show_success_message&&(null===p||void 0===p?void 0:p.is_valid_workspace_url)?n.props.showUnsavedProgressWorkspaceModal(!0,n.state.workspace_data):o(!1),n.setState({is_show_success_message:!1})}})),s.a.createElement(De.a.Body,null,this.state.is_show_success_message?s.a.createElement("div",{className:"success_container"},s.a.createElement("p",null,"You've successfully created \"",null===p||void 0===p?void 0:p.name,'" workspace.To manage user access of this workspace, please switch to "',null===p||void 0===p?void 0:p.name,'" and use the Admin Access Control feature, or click "Switch Workspace and Manage Users".')):s.a.createElement(s.a.Fragment,null,s.a.createElement("ul",{id:"workspace_tab_list"},this.state.workspace_tabs.map((function(e){return s.a.createElement("li",{role:"button",id:"".concat(e.name.toLowerCase(),"_tab_button"),onClick:function(){return n.setWorkspaceActiveTab(e.id)},className:" ".concat(e.is_active?"active":""," ").concat("general"!==e.name.toLowerCase()&&(!n.props.is_edit_view&&g?"disabled":""))},s.a.createElement("span",{className:"".concat(e.name.toLowerCase(),"_icon")}),e.name)}))),this.showActiveTabTemplate(this.state.active_tab_index))),s.a.createElement(De.a.Footer,null,this.state.is_show_success_message?s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{type:"button",onClick:function(){return o(!1)}},"Stay at current workspace"),s.a.createElement("button",{className:"next_btn",onClick:function(){return _?n.props.manageWorkspaceUsers(_):""}},"Switch Workspace and Manage Users")):s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{type:"button",className:(null===p||void 0===p?void 0:p.name)?"":"disabled",onClick:function(){n.props.is_edit_view?n.props.onClickCancelGeneralTab():n.props.processAddWorkspace(!0,n.state.workspace_data),n.props.updateParentStateFromChild({active_workspace_data:{}})}}," ",this.props.is_edit_view?"Cancel":"Save as Unpublished"),this.state.active_tab_index===Xm.general&&s.a.createElement("button",{type:"button",onClick:function(){n.setWorkspaceActiveTab(Xm.permissions)},className:"next_btn ".concat(!this.props.is_edit_view&&g?"disabled":"")},"Next"),this.state.active_tab_index===Xm.permissions&&s.a.createElement("button",{type:"button",onClick:function(){n.setWorkspaceActiveTab(Xm.curriculum)},className:"next_btn"},"Next"),this.state.active_tab_index===Xm.curriculum&&s.a.createElement("button",{type:"button",onClick:function(){n.props.is_edit_view?n.props.processEditWorkspace(!1,n.state.workspace_data):n.props.processAddWorkspace(!1,n.state.workspace_data),n.setState({is_show_success_message:!n.props.is_edit_view})},className:"next_btn ".concat(!this.state.show_add_workspace||d||u?"disabled":"")},this.props.is_edit_view?"Save Updates":"Create Workspace"," ")))),s.a.createElement(ih,{onHideUnsavedProgressWorkspaceModal:this.props.onHideUnsavedProgressWorkspaceModal,updateParentStateFromChild:this.props.updateParentStateFromChild,processAddWorkspace:this.props.processAddWorkspace,is_edit_view:this.props.is_edit_view,hideModals:this.props.hideModals,show:this.props.show_unsaved_workspace_modal,processUnsavedProgressWorkspaceInModal:this.props.processUnsavedProgressWorkspaceInModal,toggleShowModal:function(){return o(n,"is_show_unsaved_progress_workspace_modal",!1)},workspace_data:this.state.workspace_data}))}}]),a}(n.Component)),_h=a(276),lh=(a(460),a(461),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).state={cropper:null},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.toggleShowModal,n=t.show,r=t.file_uploaded;return s.a.createElement(De.a,{id:"crop_certificate_icon_modal",show:n,onHide:function(){a(!1)}},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,"Crop and Edit Your Certificate Icon"),s.a.createElement("button",{type:"button",onClick:function(){a(!1)}})),s.a.createElement(De.a.Body,null,s.a.createElement(s.a.Fragment,null,s.a.createElement("form",{action:"",onSubmit:function(t){return e.props.processCropCertificateIcon(t,e.state.cropper.getCroppedCanvas().toDataURL())}},s.a.createElement(_h.a,{src:r,aspectRatio:57/65,guides:!0,onInitialized:function(t){e.setState({cropper:t})}}),s.a.createElement("p",null,"required icon size: 65x57px"),s.a.createElement("div",{className:"footer"},s.a.createElement("button",{type:"submit"},"Crop Image"))))))}}]),a}(n.Component)),dh=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).state={cropper:null},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.toggleShowModal,n=t.show,r=t.file_uploaded;return s.a.createElement(De.a,{id:"crop_uploaded_image_modal",show:n,onHide:function(){a(!1)}},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,"Crop and Edit Your Workspace Icon"),s.a.createElement("button",{type:"button",onClick:function(){e.props.resetCropImageValue(),a(!1)}})),s.a.createElement(De.a.Body,null,s.a.createElement(s.a.Fragment,null,s.a.createElement("form",{action:"",onSubmit:function(t){return e.props.onProcessCropUploadedImage(t,e.state.cropper.getCroppedCanvas().toDataURL("image/jpeg",.9))}},s.a.createElement(_h.a,{src:r,aspectRatio:57/65,guides:!0,onInitialized:function(t){e.setState({cropper:t})}}),s.a.createElement("p",null,"required icon size: 65x57px"),s.a.createElement("div",{className:"footer"},s.a.createElement("button",{type:"submit"},"Crop Image"))))))}}]),a}(n.Component),uh=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).state={is_show_delete_success_message:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.toggleShowModal,n=t.show,r=t.onProcessDeleteWorkspace;return s.a.createElement(De.a,{id:"delete_workspace_modal",show:n,className:"confirmation_modal",onShow:function(){return e.setState({is_show_delete_success_message:!1})},onHide:function(){return a(!1)}},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,"Confirm to Disable Workspace"),s.a.createElement("button",{type:"button",onClick:function(){e.setState({is_show_delete_success_message:!1}),a(!1)}})),s.a.createElement(De.a.Body,null,this.state.is_show_delete_success_message?s.a.createElement("p",null,"This workspace ",this.props.active_workspace_name," has been successfully deleted."):s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"Are you sure that you would like to delete the workspace ",this.props.active_workspace_name,"?"),s.a.createElement("form",{action:"",onSubmit:function(t){e.setState({is_show_delete_success_message:!0}),r(t)}},s.a.createElement("button",{type:"button",onClick:function(){return a(!1)}},"Cancel"),s.a.createElement("button",{type:"submit"},"Yes, delete it")))))}}]),a}(n.Component),ph=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).state={is_show_delete_success_message:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.toggleShowModal,n=t.show;return s.a.createElement(De.a,{id:"disable_workspace_modal",className:"confirmation_modal",show:n,onHide:function(){a(!1)}},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,"Confirm to Disable Workspace"),s.a.createElement("button",{type:"button",onClick:function(){a(!1)}})),s.a.createElement(De.a.Body,null,s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"Users won't be able to access any content of a disabled workspace until it is re-enabled. Only super admins have the ability to re-enable it. Please proceed with caution as it will affect all users of this workspace."),s.a.createElement("form",{action:"",onSubmit:function(t){return e.props.onProcessDisableWorkspace(t)}},s.a.createElement("button",{type:"button",onClick:function(){return a(!1)}},"Cancel"),s.a.createElement("button",{type:"submit"},"Yes, disable it")))))}}]),a}(n.Component),mh=(a(1385),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){return Object(ce.a)(this,a),t.apply(this,arguments)}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.workspaces_data,n=t.has_set_workspace_permission,r=t.has_acl_visibility;return s.a.createElement("ul",{id:"workspace_list"},a.map((function(t){if(t.is_show||void 0===t.is_show)return s.a.createElement("li",null,s.a.createElement("img",{src:t.settings.general.logo_url.light_mode?t.settings.general.logo_url.light_mode:"https://assets.codingdojo.com/learn_platform/admin/workspace_management/workspace_general.png",alt:"workspace icon"}),s.a.createElement("h5",null,t.name),s.a.createElement("h6",null," ",s.a.createElement("span",{className:eh[t.status].toLowerCase()},eh[t.status])," ",t.status!==u.Yb.status.unpublished&&"".concat(t.user_count," Admin Users ")," "),s.a.createElement(va.a,{trigger:"click",placement:"bottom",rootClose:!0,overlay:s.a.createElement(ga.a,{id:"workspace_management_action_popover"},s.a.createElement(ga.a.Content,null,t.status!==u.Yb.status.unpublished&&s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{type:"button",disabled:!n,className:"".concat(n?"":"disabled"),onClick:function(){return n&&(t.status===u.Yb.status.live?e.props.showDisableWorkspaceModal(t.id):e.props.onProcessEnableWorkspace(t.id))}},s.a.createElement("span",{className:"icon ".concat(t.status===u.Yb.status.live?"disabled_icon":"enabled_icon"," ")}),t.status===u.Yb.status.live?"Disable":"Enable"," Workspace"),s.a.createElement("button",{type:"button",disabled:!r,className:"".concat(r?"":"disabled"),onClick:function(){return r&&e.props.manageWorkspaceUsers(t.id)}},s.a.createElement("span",{className:"icon account_management_icon"}),"Workspace Management")),s.a.createElement("button",{type:"button",disabled:!n,className:"".concat(n?"":"disabled"),onClick:function(){return n&&e.props.showEditWorkspaceModal(t.id)}},s.a.createElement("span",{className:"icon setting_up_icon"}),"Set Up"),s.a.createElement("button",{type:"button",disabled:!n,className:"".concat(n?"":"disabled"),onClick:function(){return n&&e.props.showDeleteWorkspaceModal(t.id,t.name)}},s.a.createElement("span",{className:"icon delete_icon"}),"Delete Workspace")))},s.a.createElement("button",{type:"button",className:"workspace_management_action_btn"})))})))}}]),a}(n.Component)),hh=new(function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e,n,s;Object(ce.a)(this,a),(s=t.call(this)).fetchWorkspacesData=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/workspace_management/fetch_workspaces_data"),e,!0).then(p.z).then((function(e){return e}))},s.deleteWorkspace=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/workspace_management/delete_workspace"),e,!0).then(p.z).then((function(e){return e}))},s.enableDisableWorkspace=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/workspace_management/enable_disable_workspace"),e,!0).then(p.z).then((function(e){return e}))},s.addWorkspace=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/workspace_management/add_workspace"),e,!0).then(p.z).then((function(e){return e}))},s.updateWorkspace=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/workspace_management/update_workspace"),e,!0).then(p.z).then((function(e){return e}))},s.uploadWorkspaceAttachment=function(){var e=Object(q_.a)(V_.a.mark((function e(t){var a,n,s,r=arguments;return V_.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>1&&void 0!==r[1]&&r[1])){e.next=9;break}return e.next=4,fetch(t.workspace_upload);case 4:return a=e.sent,e.next=7,a.blob();case 7:n=e.sent,t.workspace_upload=new File([n],t.filename,{type:"image/png"});case 9:return(s=new FormData).append("file",t.workspace_upload),e.abrupt("return",this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/users/profile_upload/workspace_attachment"),s,!0,!0).then(p.z).then((function(e){return e})).catch((function(e){return{status:!1,error:!0,message:e}})));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();var r=Object(p.y)();return s.API_pre_link=(null===r||void 0===r||null===(e=r.user_details)||void 0===e||null===(n=e.general)||void 0===n?void 0:n.trial_platform_mode)?"/t":"",s}return a}(Ee.a)),Eh=new function e(){Object(ce.a)(this,e),this.fetchWorkspacesManagementData=function(e){return function(t){t(Object(p.A)({type:u.ac.FETCH_WORKSPACE_DATA_REQUEST},{})),hh.fetchWorkspacesData(e).then((function(e){e.status?t(Object(p.A)({type:u.ac.FETCH_WORKSPACE_DATA_SUCCESS},{workspaces_data:e.result.workspaces,all_tracks_data:e.result.all_tracks_data,workspace_languages:e.result.workspace_languages,belt_options:e.result.belt_options})):t(Object(p.A)({type:u.ac.FETCH_WORKSPACE_DATA_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.ac.FETCH_WORKSPACE_DATA_FAILURE},{error:a}))}))}},this.deleteWorkspace=function(e){return function(t){t(Object(p.A)({type:u.ac.DELETE_WORKSPACE_DATA_REQUEST},{})),hh.deleteWorkspace(e).then((function(e){e.status?t(Object(p.A)({type:u.ac.DELETE_WORKSPACE_DATA_SUCCESS},{workspaces_data:e.result})):t(Object(p.A)({type:u.ac.DELETE_WORKSPACE_DATA_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.ac.DELETE_WORKSPACE_DATA_FAILURE},{error:a}))}))}},this.addWorkspace=function(e){return function(t){t(Object(p.A)({type:u.ac.ADD_WORKSPACE_DATA_REQUEST},{})),hh.addWorkspace(e).then((function(e){e.status?t(Object(p.A)({type:u.ac.ADD_WORKSPACE_DATA_SUCCESS},{workspaces_data:e.result.workspaces,workspace_id:e.result.workspace_id})):t(Object(p.A)({type:u.ac.ADD_WORKSPACE_DATA_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.ac.ADD_WORKSPACE_DATA_FAILURE},{error:a}))}))}},this.updateWorkspace=function(e){return function(t){t(Object(p.A)({type:u.ac.UPDATE_WORKSPACE_DATA_REQUEST},{})),hh.updateWorkspace(e).then((function(e){e.status?t(Object(p.A)({type:u.ac.UPDATE_WORKSPACE_DATA_SUCCESS},{workspaces_data:e.result.workspaces,workspace_id:e.result.workspace_id})):t(Object(p.A)({type:u.ac.UPDATE_WORKSPACE_DATA_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.ac.UPDATE_WORKSPACE_DATA_FAILURE},{error:a}))}))}},this.enableDisableWorkspace=function(e){return function(t){t(Object(p.A)({type:u.ac.ENABLE_DISABLE_WORKSPACE_DATA_REQUEST},{})),hh.enableDisableWorkspace(e).then((function(e){e.status?t(Object(p.A)({type:u.ac.ENABLE_DISABLE_WORKSPACE_DATA_SUCCESS},{workspaces_data:e.result})):t(Object(p.A)({type:u.ac.ENABLE_DISABLE_WORKSPACE_DATA_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.ac.ENABLE_DISABLE_WORKSPACE_DATA_FAILURE},{error:a}))}))}},this.uploadWorkspaceAttachment=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a){a(Object(p.A)({type:u.ac.UPLOAD_WORKSPACE_ATTACHMENT_REQUEST},e)),hh.uploadWorkspaceAttachment(e,t).then((function(t){if(!0===t.status){var n={workspace_attachment_url:t.uploads[0].url,logo_url_key:e.logo_url_key};e.is_certificate_attachment&&(n=Object(d.a)(Object(d.a)({},n),e)),a(Object(p.A)({type:u.ac.UPLOAD_WORKSPACE_ATTACHMENT_SUCCESS},n))}else a(Object(p.A)({type:u.ac.UPLOAD_WORKSPACE_ATTACHMENT_FAILURE},{error:t.message}))}),(function(e){var t=Object(p.c)(e);a(Object(p.A)({type:u.ac.UPLOAD_WORKSPACE_ATTACHMENT_FAILURE},{error:t}))}))}},this.resetActiveWorkspaceData=function(){return function(e){e(Object(p.A)({type:u.ac.RESET_ACTIVE_WORKSPACE_DATA},{}))}}},fh=(a(1386),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e,t,a=Object(p.y)();if(a.status)if(Object(p.i)(null===(e=a.user_details)||void 0===e||null===(t=e.general)||void 0===t?void 0:t.user_capabilities,"admin.workspace_management.visibility")){var s,r;n.props.fetchWorkspacesManagementData();var o=Object(p.w)(null===(s=a.user_details)||void 0===s||null===(r=s.general)||void 0===r?void 0:r.user_capabilities,"workspace_management");n.setState({navigation:o,user_details:a.user_details})}else window.location.href="/dashboard";else window.location.href="/login"},n.updateParentStateFromChild=function(e){n.setState(e),n.props.fetchWorkspacesManagementData()},n.componentDidUpdate=function(e,t){var a,s,r,o=Object(d.a)({},n.state.active_workspace_data),i=!1;Object.values(n.state.active_workspace_data).length&&t.active_workspace_data.id===n.state.active_workspace_data.id&&((null===(a=n.props.workspace_management.active_workspace_data.settings.general)||void 0===a?void 0:a.logo_url["".concat(n.state.logo_url_key)])&&(null===(s=n.state.active_workspace_data.settings.general)||void 0===s?void 0:s.logo_url["".concat(n.state.logo_url_key)])!==(null===(r=n.props.workspace_management.active_workspace_data.settings.general)||void 0===r?void 0:r.logo_url["".concat(n.state.logo_url_key)])&&(n.state.active_workspace_data.settings.general.logo_url["".concat(n.state.logo_url_key)]=n.props.workspace_management.active_workspace_data.settings.general.logo_url["".concat(n.state.logo_url_key)],i=!0,n.setState({active_workspace_data:o})),n.state.active_program_type_id&&n.state.active_cc_stack_id&&Object.values(n.props.workspace_management.active_workspace_data.settings.content.tracks).length&&(o.settings.content.tracks["program_type_".concat(n.state.active_program_type_id)][n.state.is_major_cc_stack?"accessible":"default"].stacks.map((function(e,t){e.cc_stack_id===n.state.active_cc_stack_id&&(e.certificate_icon[e.certificate_icon.is_hierarchy_based?"multiple":"single"]["".concat(n.state.belt_item_name)]=n.props.workspace_management.active_workspace_data.settings.content.tracks["program_type_".concat(n.state.active_program_type_id)][n.state.is_major_cc_stack?"accessible":"default"][n.state.active_cc_stack_id].certificate_icon["".concat(n.state.belt_item_name)],i=!0)})),n.setState({active_workspace_data:o})));i&&n.props.resetActiveWorkspaceData()},n.processEnableWorkspace=function(e){n.props.enableDisableWorkspace({id:e,is_enabled:!0,status:u.Yb.status.live}),document.body.click()},n.showEditWorkspaceModal=function(e){var t=n.props.workspace_management.workspaces_data.findIndex((function(t){return t.id===e}));n.setState({temp_workspace_icon:n.props.workspace_management.workspaces_data[t].settings.general.logo_url,active_workspace_data:n.props.workspace_management.workspaces_data[t],is_show_add_workspace_modal:!0,active_workspace_id:e}),document.body.click()},n.processDisableWorkspace=function(e){return e.preventDefault(),n.props.enableDisableWorkspace({id:n.state.active_workspace_id,is_enabled:!1,status:u.Yb.status.disabled}),document.body.click(),n.setState({is_show_disable_workspace_modal:!1}),!1},n.processDeleteWorkspace=function(e){return e.preventDefault(),document.body.click(),n.setState({is_show_delete_workspace_modal:!1}),n.props.deleteWorkspace({id:n.state.active_workspace_id,status:u.Yb.status.deleted}),!1},n.processEditWorkspace=function(e,t){var a,s,r=n.state.workspaces_data.findIndex((function(e){return e.id===n.state.active_workspace_id}));n.reArrangeStackMajorOrMinor();var o={id:n.state.active_workspace_id,name:t.general_tab.name,users:0,status:e?u.Yb.status.unpublished:n.state.workspaces_data[r].status===u.Yb.status.disabled?u.Yb.status.disabled:u.Yb.status.live,workspace_url:t.general_tab.url,settings:{general:{logo_url:n.state.active_workspace_data.settings.general.logo_url,enable_time_tracking:!0,timezone:null===(a=t.general_tab)||void 0===a?void 0:a.timezone,language:null===(s=t.general_tab)||void 0===s?void 0:s.language},permissions:{learning_interface:t.permission_tab.learning_interface,assignment_forum:t.permission_tab.assignment_forum,checklist_versioning:t.permission_tab.checklist_versioning,exam:t.permission_tab.exam,survey:t.permission_tab.survey},content:{surveys:{demographic_survey:t.permission_tab.survey,daily_survey:t.permission_tab.survey,mid_track_survey:t.permission_tab.survey},tracks:n.state.active_workspace_data.settings.content.tracks}}};return n.props.updateWorkspace(o),n.setState({is_show_add_workspace_modal:!1}),!1},n.reArrangeStackMajorOrMinor=function(){var e=Object(d.a)({},n.state.active_workspace_data.settings.content.tracks);Object.keys(e).map((function(t){var a=[],s=[],r=[],o=[];e[t].accessible.stacks.map((function(e){(e.is_major?a:r).push(e),(e.is_major?s:o).push(e.track_id)})),e[t].default.stacks.map((function(e){(e.is_major?a:r).push(e),(e.is_major?s:o).push(e.track_id)})),e[t].accessible.stacks=a,e[t].accessible.all=s,e[t].default.all=o,e[t].default.stacks=r,n.setState({active_tracks:e})}))},n.processAddWorkspace=function(e,t){var a,s;n.reArrangeStackMajorOrMinor();var r={name:t.general_tab.name,users:0,status:e?u.Yb.status.unpublished:u.Yb.status.live,workspace_url:t.general_tab.url,settings:{general:{logo_url:n.state.active_workspace_data.settings.general.logo_url,enable_time_tracking:!0,timezone:(null===(a=t.general_tab)||void 0===a?void 0:a.timezone)?t.general_tab.timezone:null,language:(null===(s=t.general_tab)||void 0===s?void 0:s.language)?t.general_tab.language:null},permissions:{learning_interface:t.permission_tab.learning_interface,assignment_forum:t.permission_tab.assignment_forum,checklist_versioning:t.permission_tab.checklist_versioning,exam:t.permission_tab.exam,survey:t.permission_tab.survey},content:{surveys:{demographic_survey:t.permission_tab.survey,daily_survey:t.permission_tab.survey,mid_track_survey:t.permission_tab.survey},tracks:n.state.active_workspace_data.settings.content.tracks}}};return n.props.addWorkspace(r),e&&n.setState({is_show_add_workspace_modal:!1}),!1},n.onChangeProgram=function(e){var t=Object(d.a)({},n.state.active_workspace_data),a=t.settings.content.tracks,s=!0!==e.is_enabled;a["program_type_".concat(e.program_type_id)].is_enabled=s,Object.keys(a).map((function(t){a[t].program_type_id===e.program_type_id?a[t].is_active=s:s&&a[t].is_active&&(a[t].is_active=!1)})),a["program_type_".concat(e.program_type_id)].is_active=!0,n.setState({active_workspace_data:t})},n.onSelectStackVersion=function(e,t,a,s){var r,o=Object(d.a)({},n.state.active_workspace_data),i=o.settings.content.tracks["program_type_"+s],c=i.accessible;i.active_cc_stack_id,i.active_track_id;(o.settings.content.tracks["program_type_"+s].active_cc_stack_id=parseInt(e),o.settings.content.tracks["program_type_"+s].active_track_id=parseInt(t),c.stacks.filter((function(a){return e&&a.cc_stack_id===e||!e&&parseInt(a.track_id)===parseInt(t)})).length>0)?(c.all=[],a.active_version_id?c.stacks.map((function(t){t.cc_stack_id===e&&(t.track_id=a.active_version_id,t.track_name=a.versions[a.active_version_id].name),c.all.push(t.track_id)})):c.stacks=c.stacks.filter((function(a){return e&&a.cc_stack_id!==e||parseInt(a.track_id)!==parseInt(t)}))):o.settings.content.tracks["program_type_"+s].default.stacks.filter((function(a){return e&&a.cc_stack_id===e||!e&&parseInt(a.track_id)===parseInt(t)})).length>0?(o.settings.content.tracks["program_type_"+s].default.all=[],a.active_version_id?o.settings.content.tracks["program_type_"+s].default.stacks.map((function(t){t.cc_stack_id===e&&(t.track_id=a.active_version_id,t.track_name=a.versions[a.active_version_id].name),o.settings.content.tracks["program_type_"+s].default.all.push(t.track_id)})):o.settings.content.tracks["program_type_"+s].default.stacks=o.settings.content.tracks["program_type_"+s].default.stacks.filter((function(a){return e&&a.cc_stack_id!==e||parseInt(a.track_id)!==parseInt(t)}))):(c.all.push(a.active_version_id),c.stacks.push({cc_stack_id:e,certificate_icon:{multiple:{},single:{},is_hierarchy_based:!1},is_active:!1,is_major:a.is_major,name:a.name,track_id:a.active_version_id,track_name:null===(r=a.versions[a.active_version_id])||void 0===r?void 0:r.name}));n.setState({active_workspace_data:o})},n.onSelectCurriculumStack=function(e,t){var a=Object(d.a)({},n.state.active_workspace_data),s=a.settings.content.tracks;s["program_type_".concat(t)].active_cc_stack_id=e.cc_stack_id,s["program_type_".concat(t)].active_track_id=e.track_id,n.setState({active_workspace_data:a})},n.onChangeMultipleOrSingleCertUploads=function(e,t){var a=Object(d.a)({},n.state.active_workspace_data);["accessible","default"].map((function(n){a.settings.content.tracks["program_type_".concat(e.program_type_id)]["".concat(n)].stacks.map((function(e){e.cc_stack_id===t.cc_stack_id&&(e.certificate_icon.is_hierarchy_based=!e.certificate_icon.is_hierarchy_based)}))})),n.setState({active_workspace_data:a})},n.deleteCurriculumProgram=function(e,t){e.stopPropagation();var a=Object(d.a)({},n.state.active_workspace_data);a.settings.content.tracks["program_type_".concat(t)].is_enabled=!1,n.setState({active_workspace_data:a})},n.onDeleteCurriculumStack=function(e,t,a){e.stopPropagation();var s=Object(d.a)({},n.state.active_workspace_data),r=s.settings.content.tracks["program_type_".concat(a)],o=r[t.is_major?"accessible":"default"],i=o.stacks.filter((function(e){return e.track_id!==t.track_id}));o.stacks=i,r.active_cc_stack_id===t.cc_stack_id&&(r.active_cc_stack_id=null),r.active_track_id===t.track_id&&(r.active_track_id=null),s.settings.content.tracks["program_type_".concat(a)]=r,n.setState({active_workspace_data:s}),n.reArrangeStackMajorOrMinor()},n.onChangeMajorOrMinorStack=function(e,t,a){var s=Object(d.a)({},n.state.active_workspace_data),r=s.settings.content.tracks["program_type_".concat(a)];(r.accessible.all.includes(t.track_id)?r.accessible:r.default).stacks.map((function(a){a.track_id===t.track_id&&(a.is_major=e)})),s.settings.content.tracks["program_type_".concat(a)]=r,n.setState({active_workspace_data:s})},n.onSelectCurriculumProgram=function(e,t){e.stopPropagation();var a=Object(d.a)({},n.state.active_workspace_data),s=a.settings.content.tracks;Object.keys(s).map((function(e){s[e].is_active=s[e].program_type_id===t})),n.reArrangeStackMajorOrMinor(),n.setState({active_workspace_data:a})},n.uploadedFileImage=function(e,t){var a=URL.createObjectURL(e.target.files[0]);n.setState({uploaded_workspace_logo:a,is_show_crop_uploaded_image_modal:!0,logo_url_key:t})},n.uploadCertificateIcon=function(e,t,a,s){var r=URL.createObjectURL(e.target.files[0]),o=Object(d.a)({},n.state.active_workspace_data),i=o.settings.content.tracks["program_type_"+t.program_type_id].belt_stack_ids,c=n.props.workspace_management.belt_options[a.cc_stack_id];i.includes(c.stack)||i.push(c.stack),o.settings.content.tracks["program_type_".concat(t.program_type_id)][a.is_major?"accessible":"default"].stacks.map((function(e){e.cc_stack_id===a.cc_stack_id&&(e.belt_stack_id=c.stack)})),n.setState({active_workspace_data:o,uploaded_certificate_icon:r,is_show_certificate_icon_modal:!0,active_program_type_id:t.program_type_id,is_major_cc_stack:a.is_major,active_cc_stack_id:a.cc_stack_id,belt_item_name:s.name})},n.processCropUploadedImage=function(e,t,a){e.preventDefault();var s=n.state,r=s.active_workspace_data,o=s.logo_url_key;return n.props.uploadWorkspaceAttachment({workspace_upload:t,logo_url_key:o,filename:"workspace_"+Date.now().toString()+".jpg"},!0),n.setState({active_workspace_data:r,is_show_crop_uploaded_image_modal:!1,uploaded_workspace_logo:t}),!1},n.processCropCertificateIcon=function(e,t){e.preventDefault();var a=n.state,s=a.active_workspace_data,r=a.belt_item_name;return s.settings.content.tracks["program_type_".concat(n.state.active_program_type_id)][n.state.is_major_cc_stack?"accessible":"default"].stacks.map((function(e){e.cc_stack_id===n.state.active_cc_stack_id&&n.props.uploadWorkspaceAttachment({workspace_upload:t,is_certificate_attachment:!0,filename:"workspace-program_type_".concat(n.state.active_program_type_id,"-").concat(n.state.is_major_cc_stack?"accessible":"default","-").concat(e.cc_stack_id,"-").concat(e.certificate_icon.is_hierarchy_based?"multiple":"single","-").concat(r,".jpg"),cc_stack_id:e.cc_stack_id,program_type:"program_type_".concat(n.state.active_program_type_id),is_major:n.state.is_major_cc_stack?"accessible":"default",belt_item_name:r},!0)})),n.setState({active_workspace_data:s,is_show_certificate_icon_modal:!1,uploaded_certificate_icon:""}),!1},n.processDeleteCertificateIcon=function(e,t,a,s){e.preventDefault();var r=Object(d.a)({},n.state.active_workspace_data),o=r.settings.content.tracks["program_type_".concat(t.program_type_id)].belt_stack_ids,i=n.props.workspace_management.belt_options[a.cc_stack_id],c=o.filter((function(e){return parseInt(e)!==parseInt(i.stack)}));r.settings.content.tracks["program_type_".concat(t.program_type_id)].belt_stack_ids=c,r.settings.content.tracks["program_type_".concat(t.program_type_id)][a.is_major?"accessible":"default"].stacks.map((function(e){e.cc_stack_id===a.cc_stack_id&&(delete e.certificate_icon[e.certificate_icon.is_hierarchy_based?"multiple":"single"]["".concat(s.name)],e.certificate_icon[e.certificate_icon.is_hierarchy_based?"multiple":"single"]||(e.belt_stack_ids=null))})),n.setState({active_workspace_data:r})},n.processDeleteWorkspaceIcon=function(e,t){e.preventDefault();var a=n.state,s=a.active_workspace_data,r=a.logo_url_key;s.settings.general.logo_url["".concat(r)]="",n.setState({active_workspace_data:s})},n.processSearchWorkspace=function(e){e.preventDefault();var t=Object(f.a)(n.state.workspaces_data);return t.map((function(e){e.is_show=e.name.toLowerCase().replace(/ /g,"").includes(n.state.search_workspace)})),n.setState({workspaces_data:t}),!1},n.manageWorkspaceUsers=function(e){n.props.switchWorkspace({workspace_id:e,manage_workspace_users:!0})},n.cancelResetWorkspaceIcon=function(){var e=Object(f.a)(n.state.workspaces_data),t=n.state,a=t.temp_workspace_icon,s=t.logo_url_key;e.map((function(e){e.id===n.state.active_workspace_id&&(e.settings.general.logo_url["".concat(s)]=a)})),n.setState({workspaces_data:e})},n.state={navigation:{title:"",links:[]},is_loading:!1,is_show_disable_workspace_modal:!1,is_show_delete_workspace_modal:!1,is_show_unsaved_progress_workspace_modal:!1,is_show_add_workspace_modal:!1,is_show_crop_uploaded_image_modal:!1,is_show_certificate_icon_modal:!1,active_workspace_data:{},workspaces_data:[],all_tracks_data:[],workspace_languages:[],belt_options:[],active_workspace_id:null,active_workspace_name:null,uploaded_workspace_logo:"",uploaded_certificate_icon:"",logo_url_key:"",belt_item_name:"",workspace_template:{id:null,name:"",users:0,status:3,workspace_url:"",settings:{general:{logo_url:{dark_mode:"",light_mode:""},timezone:[],language:[]},permissions:{learning_interface:!1,assignment_forum:!1,checklist_versioning:!1,exam:!1,survey:!1},content:{surveys:{demographic_survey:!1,daily_survey:!1,mid_track_survey:!1},tracks:{}}}},user_details:null},n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t,a=this,n=this.state,r=n.navigation,o=n.is_show_disable_workspace_modal,i=n.is_show_delete_workspace_modal,c=n.is_show_unsaved_progress_workspace_modal,_=n.is_show_add_workspace_modal,l=n.is_show_crop_uploaded_image_modal,m=n.is_show_certificate_icon_modal,h=n.user_details,E=Object(p.i)(null===h||void 0===h||null===(e=h.general)||void 0===e?void 0:e.user_capabilities,"admin.workspace_management.set_workspace"),f=Object(p.i)(null===h||void 0===h||null===(t=h.general)||void 0===t?void 0:t.user_capabilities,"admin.access_control_list.visibility"),g=this.props.workspace_management,v=g.workspaces_data,b=g.all_tracks_data,S=g.workspace_languages,A=g.belt_options,k=g.error_message,O=g.is_uploading_image,T=g.is_dark_mode_uploading_image;return this.state.workspaces_data=v,this.state.all_tracks_data=b,this.state.workspace_languages=S,this.state.belt_options=A,this.state.active_workspace_index=this.state.workspaces_data.findIndex((function(e){return e.id===a.state.active_workspace_id})),s.a.createElement("div",{className:"admin_workspace_management_container",id:"admin_container"},s.a.createElement(et,{title:u.lb.admin_page.workspace_management}),s.a.createElement(Gi,{active_icon:"key"}),s.a.createElement(Vi,{navigation:r}),s.a.createElement("div",{id:"admin_right_container"},s.a.createElement("form",{id:"search_workspace_form",onSubmit:function(e){return a.processSearchWorkspace(e)}},s.a.createElement(Te.a,{icon:["fas","search"]}),s.a.createElement("input",{autoComplete:"off",onChange:function(e){return Object(p.C)(e,a)},type:"text",name:"search_workspace",placeholder:"Search workspace"})),s.a.createElement(sc,{profile:this.props.admin.profile}),s.a.createElement("div",{id:"workspace_management_container"},s.a.createElement("div",{id:"workspace_header"},s.a.createElement("h1",null,"Workspace"),s.a.createElement("button",{type:"button",disabled:!E,className:"".concat(E?"":"disabled"),onClick:function(){return E&&a.setState((function(e){return{is_show_add_workspace_modal:!0,workspace_template:Object(d.a)(Object(d.a)({},e.workspace_template),{},{id:null,name:"",users:0,status:3,workspace_url:"",settings:{general:{logo_url:{dark_mode:"",light_mode:""},timezone:[],language:[]},permissions:{learning_interface:!1,assignment_forum:!1,checklist_versioning:!1,exam:!1,survey:!1},content:{surveys:{demographic_survey:!1,daily_survey:!1,mid_track_survey:!1},tracks:{}}}}),active_workspace_data:a.state.workspace_template,active_workspace_id:null,uploaded_workspace_logo:""}}))}})),s.a.createElement(mh,{showDisableWorkspaceModal:function(e){return a.setState({is_show_disable_workspace_modal:!0,active_workspace_id:e})},showDeleteWorkspaceModal:function(e,t){return a.setState({is_show_delete_workspace_modal:!0,active_workspace_id:e,active_workspace_name:t})},onProcessEnableWorkspace:this.processEnableWorkspace,showEditWorkspaceModal:this.showEditWorkspaceModal,manageWorkspaceUsers:this.manageWorkspaceUsers,workspaces_data:this.state.workspaces_data,has_set_workspace_permission:E,has_acl_visibility:f}))),s.a.createElement(ph,{show:o,onProcessDisableWorkspace:this.processDisableWorkspace,toggleShowModal:function(){return Object(p.W)(a,"is_show_disable_workspace_modal",!1)}}),s.a.createElement(uh,{show:i,active_workspace_name:this.state.active_workspace_name,onProcessDeleteWorkspace:this.processDeleteWorkspace,toggleShowModal:function(){return Object(p.W)(a,"is_show_delete_workspace_modal",!1)}}),E&&_&&s.a.createElement(ch,{onClickCancelGeneralTab:function(){a.cancelResetWorkspaceIcon(),Object(p.W)(a,"is_show_add_workspace_modal",!1)},hideModals:function(){a.cancelResetWorkspaceIcon(),a.setState({is_show_unsaved_progress_workspace_modal:!1,is_show_add_workspace_modal:!1})},resetActiveWorkspaceData:!0,updateParentStateFromChild:this.updateParentStateFromChild,onProcessDeleteWorkspace:this.processDeleteWorkspace,onDeleteCurriculumStack:this.onDeleteCurriculumStack,onChangeMajorOrMinorStack:this.onChangeMajorOrMinorStack,onChangeMultipleOrSingleCertUploads:this.onChangeMultipleOrSingleCertUploads,onSelectCurriculumStack:this.onSelectCurriculumStack,onSelectCurriculumProgram:this.onSelectCurriculumProgram,deleteCurriculumProgram:this.deleteCurriculumProgram,onChangeProgram:this.onChangeProgram,onSelectStackVersion:this.onSelectStackVersion,show:_,active_workspace:this.state.active_workspace_data,processAddWorkspace:this.processAddWorkspace,toggleShowModal:function(){return Object(p.W)(a,"is_show_add_workspace_modal",!1)},uploadedFileImage:this.uploadedFileImage,uploadCertificateIcon:this.uploadCertificateIcon,onProcessDeleteCertificateIcon:this.processDeleteCertificateIcon,onProcessDeleteWorkspaceIcon:this.processDeleteWorkspaceIcon,uploaded_workspace_logo:this.state.uploaded_workspace_logo,processEditWorkspace:this.processEditWorkspace,is_edit_view:this.state.active_workspace_index>=0,workspace_management_data:this.props.workspace_management.active_workspace_data,showUnsavedProgressWorkspaceModal:function(e,t){return a.setState({is_show_unsaved_progress_workspace_modal:!0,is_unpublished:e,add_workspace_modal_workspace_data:t})},all_tracks_data:this.state.all_tracks_data,workspace_languages:this.state.workspace_languages,belt_options:this.state.belt_options,error_message:k,is_uploading_image:O,is_dark_mode_uploading_image:T,belt_item_name:this.props.workspace_management.belt_item_name,manageWorkspaceUsers:this.manageWorkspaceUsers,recent_workspace_id:this.props.workspace_management.recent_workspace_id,show_unsaved_workspace_modal:c,onHideUnsavedProgressWorkspaceModal:function(){return a.setState({is_show_unsaved_progress_workspace_modal:!1})},processUnsavedProgressWorkspaceInModal:function(e){e.preventDefault(),a.props.onProcessDeleteWorkspace(a.state.is_unpublished,a.state.add_workspace_modal_workspace_data)}}),s.a.createElement(dh,{onProcessCropUploadedImage:this.processCropUploadedImage,file_uploaded:this.state.uploaded_workspace_logo,show:l,resetCropImageValue:function(){return a.setState({uploaded_workspace_logo:""})},toggleShowModal:function(){return Object(p.W)(a,"is_show_crop_uploaded_image_modal",!1)}}),s.a.createElement(lh,{processCropCertificateIcon:this.processCropCertificateIcon,file_uploaded:this.state.uploaded_certificate_icon,show:m,toggleShowModal:function(){return Object(p.W)(a,"is_show_certificate_icon_modal",!1)}}))}}]),a}(n.Component)),gh=ts.a.switchWorkspace,vh=Eh.fetchWorkspacesManagementData,bh=Eh.deleteWorkspace,Sh=Eh.enableDisableWorkspace,Ah=Eh.addWorkspace,kh=Eh.uploadWorkspaceAttachment,Oh=Eh.updateWorkspace,Th=Eh.resetActiveWorkspaceData,Ch=Object(p.J)(["dashboard","admin","workspace_management"],{fetchWorkspacesManagementData:vh,deleteWorkspace:bh,enableDisableWorkspace:Sh,addWorkspace:Ah,uploadWorkspaceAttachment:kh,updateWorkspace:Oh,resetActiveWorkspaceData:Th,switchWorkspace:gh}),wh=Ch.mapStateToProps,yh=Ch.mapDispatchToProps,Rh=Object(ue.b)(wh,yh)(fh),Dh={title:"Course Calendar",links:[{name:"Course Schedule",link:"/admin/course_schedule",sub_links:[]}]},Uh={1:"#576CBC",2:"#19376D",3:"#66347F",4:"#9E4784",5:"#2E4F4F",7:"#3B185F",8:"#978D58",9:"#3C2A21",10:"#735F32",11:"#C69749",12:"#B25068",13:"#774360",14:"#C74B50",16:"#2E7D32",18:"#C060A1",19:"#712B75",20:"#B0A565",21:"#53354A",22:"#A64942",23:"#0D7377",24:"#FF6464",25:"#241663",26:"#F44336",27:"#A72693",28:"#FFB266",29:"#FF9999",30:"#AD1457",31:"#FF6666",32:"#2D4263",33:"#17B794",34:"#8D6262",35:"#5454C5",36:"#FF9966",37:"#543864",38:"#FF6666",39:"#C87941",40:"#02383C",41:"#ED5107",44:"#AA96B7",45:"#0B5269",46:"#9A0F98",47:"#D89216",48:"#476D7C",49:"#8D6262",50:"#F39422",51:"#C69749",52:"#009688",53:"#FF9900",54:"#BC4873",55:"#9C872C",56:"#055E68",57:"#8B4367",58:"#AD62AA",59:"#A05344",60:"#FF6633",61:"#B55400",62:"#607D8B",63:"#3B5249",64:"#537EC5",65:"#D65A31",66:"#6A8FD4",67:"#FF9966",68:"#A7A15A",69:"#EF6C00",70:"#4E5180",71:"#1E5128",72:"#1F4068",73:"#FF6600",74:"#B76D65",75:"#00ABB3",76:"#FF6600",77:"#4A47A3",78:"#03506F",79:"#AF0404",80:"#0C3C78",81:"#FF9900",82:"#673AB7",83:"#FF9966",84:"#472B62",85:"#FF6600",86:"#5C5470",87:"#003F5C",88:"#A5494F",89:"#FF6600",90:"#141E61",91:"#2F576E",92:"#0F3460",93:"#9F73AB",94:"#3282B8",95:"#3C4256",99:"#4E5180",100:"#48864D",101:"#FA7D09",102:"#346751",103:"#293A80",104:"#27496D",105:"#C87941",106:"#FF6600",107:"#9C3D54",108:"#7E5C5C",109:"#5C5C7E",110:"#5C7E5C",111:"#7E7E5C",112:"#7E5C7E",113:"#5C7E7E",114:"#797979",115:"#7E7E7E",116:"#7E0000",117:"#7E3C00",118:"#7E7E00",119:"#3C7E00",120:"#007E3C",121:"#007E7E",122:"#003C7E",123:"#00007E",124:"#3C007E",125:"#7E007E",126:"#7E003C",127:"#4C4C4C",128:"#999999",129:"#7F8487",130:"#663300",131:"#993300",132:"#8B9A46",133:"#999933",134:"#336633",135:"#006666",136:"#003366",137:"#330066",138:"#660066",139:"#663366",140:"#333333",141:"#666666",143:"#856363",144:"#63638E",145:"#638E63",146:"#8E8E63",147:"#8E638E",148:"#63638E",149:"#737373",150:"#8E8E8E",151:"#8E2600",152:"#8E4A00",153:"#8E8E00",154:"#4A8E00",155:"#008E4A",156:"#008E8E",157:"#004A8E",158:"#00008E",159:"#4A008E",160:"#8E008E",161:"#8E004A",162:"#5E5E5E",163:"#BBBBBB",164:"#647E68",165:"#804000",166:"#BF4000",167:"#B25068",168:"#C69749",169:"#408000",170:"#008040",171:"#004080",172:"#400080",173:"#800080",174:"#804080",175:"#4D4D4D",176:"#9F73AB",177:"#735F32",178:"#993D00",179:"#CC4D00",180:"#C74B50",181:"#393053",182:"#3D993D",183:"#2E4F4F"},Nh=(a(1387),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e,t=n.props,a=t.course_schedule_data,s=t.course_schedule,r=s.filters_data.findIndex((function(e){return"year"===e.filter_name})),o=(null===(e=s.filters_data[r].selected[0])||void 0===e?void 0:e.label)||[],i=v()(a.start_date,"YYYY-MM-DD"),c=v()(a.end_date,"YYYY-MM-DD"),_=v()(i).isBefore(v()(o).startOf("year").format("YYYY-MM-DD"),"year"),l=v()(c).isAfter(v()(o).endOf("year").format("YYYY-MM-DD"),"year");_&&(i=v()(v()(o).startOf("year").format("YYYY-MM-DD"),"YYYY-MM-DD")),l&&(c=v()(v()(o).endOf("year").format("YYYY-MM-DD"),"YYYY-MM-DD").add("days",7)),n.setState({course_schedule_details:a,schedule_width_range:112*c.diff(i,"days")/7,start_date_range:112*i.diff(v()(o).startOf("year").format("YYYY/MM/DD"),"days")/7,is_completed:v()(a.end_date).isSameOrBefore(v()(new Date).format("YYYY-MM-DD"))})},n.popover_container_ref=s.a.createRef(),n.state={course_schedule_details:[],is_show:!1,show_border_animation:!1,schedule_width_range:null,start_date_range:null,is_completed:!1,is_show_tooltip:!1,is_show_delete_tooltip:!1,cc_stack_colors:Uh},n}return Object(_e.a)(a,[{key:"componentDidUpdate",value:function(){this.state.show_border_animation?this.hideNewlyAddedOrUpdatedCourseBorder=setTimeout(function(){this.setState({show_border_animation:!1,course_schedule_details:Object(d.a)(Object(d.a)({},this.state.course_schedule_details),{},{is_newly_added_or_updated:!1})})}.bind(this),5e3):this.showNewlyAddedOrUpdatedCourseBorder=setTimeout(function(){this.setState({show_border_animation:!0})}.bind(this),2500)}},{key:"componentWillUnmount",value:function(){this.showNewlyAddedOrUpdatedCourseBorder&&clearTimeout(this.showNewlyAddedOrUpdatedCourseBorder),this.hideNewlyAddedOrUpdatedCourseBorder&&clearTimeout(this.hideNewlyAddedOrUpdatedCourseBorder)}},{key:"render",value:function(){var e,t,a=this,n=this.state,r=n.course_schedule_details,o=n.is_show,i=n.schedule_width_range,c=n.start_date_range,_=n.is_completed,l=n.is_show_tooltip,d=n.is_show_delete_tooltip,u=this.props.course_schedule,p=u.is_adding_has_error,m=u.is_updating_has_error;return s.a.createElement(s.a.Fragment,null,s.a.createElement(va.a,{trigger:"click",placement:"auto",target:this.popover_container_ref.current,show:o,onToggle:function(e){return a.setState({is_show:e})},rootClose:!0,overlay:s.a.createElement(ga.a,{className:"course_schedule_popover"},s.a.createElement(ga.a.Content,null,s.a.createElement("h4",null,r.stack_name),this.props.is_show_delete_button&&s.a.createElement(va.a,{placement:"top",defaultShow:d,show:d,onToggle:function(){return _?a.setState({is_show_delete_tooltip:!d}):void 0},overlay:s.a.createElement(Sa.a,null,"This course is in progress or complete and cannot be deleted.")},s.a.createElement("div",{className:"delete_disabled_container"},s.a.createElement("button",{type:"button",className:"delete_button ".concat(_?"has_completed":""),disabled:_,onClick:function(){return a.props.isShowDeleteScheduleModal(r)}})))||"",this.props.is_show_update_button&&s.a.createElement(va.a,{placement:"top",defaultShow:l,show:l,onToggle:function(){return _?a.setState({is_show_tooltip:!l}):void 0},overlay:s.a.createElement(Sa.a,null,"This course is complete and cannot be edited.")},s.a.createElement("div",{className:"edit_disabled_container"},s.a.createElement("button",{type:"button",className:"edit_button ".concat(_?"has_completed":""),disabled:_,onClick:function(){return a.setState({is_show:!1},(function(){a.props.selectCourseSchedule(r)}))}})))||"",s.a.createElement("button",{type:"button",className:"close_button",onClick:function(){return a.setState({is_show:!1})}}),(null===(e=r.programs_with_rostered_students)||void 0===e?void 0:e.length)?s.a.createElement("p",{className:"has_rostered_message"},s.a.createElement(Te.a,{icon:["fas","exclamation-circle"]})," This course schedule has already rostered students. "):"",s.a.createElement("p",{className:"course_schedule"},s.a.createElement("span",{className:"calendar_icon"}),v()(r.start_date).format("MMM. D, YYYY")+" - "+v()(r.end_date).format("MMM. D, YYYY")),s.a.createElement("h5",null,"Attendance days"),s.a.createElement("ul",null,null===(t=r.instruction_dates)||void 0===t?void 0:t.map((function(e){return s.a.createElement("li",{className:"".concat(e.is_checked||"SUN"===e.date_name&&"Discussion"===r.course_type?"selected_instruction_days":""),key:e.id},e.date_name)}))),s.a.createElement("h6",null,"Lead Instructor"),s.a.createElement("img",{src:r.lead_instructor_img_url||"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:r.lead_instructor+" Image"}),s.a.createElement("span",{className:"instructors_avatar"}," ",r.lead_instructor," "),s.a.createElement("h6",null,"Support"),s.a.createElement("img",{src:r.support_instructor_img_url||"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:r.lead_instructor+" Image"}),s.a.createElement("span",{className:"instructors_avatar"},r.support_instructor?r.support_instructor:"Unassigned")))},s.a.createElement("div",{className:"course_schedule ".concat(this.state.show_border_animation&&(null===r||void 0===r?void 0:r.is_newly_added_or_updated)&&!p&&!m||o?"is_newly_added_or_updated":""),style:{marginLeft:c+"px",width:i+"px",backgroundColor:"".concat(this.state.cc_stack_colors[r.cc_stack_id])},ref:(null===r||void 0===r?void 0:r.is_newly_added_or_updated)?this.props.course_schedule_container:this.popover_container_ref},s.a.createElement("span",null,r.stack_name),s.a.createElement("img",{src:r.lead_instructor_img_url||"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:r.lead_instructor+" Image"}),s.a.createElement("span",null,r.lead_instructor))))}}]),a}(n.Component)),Ih=Object(p.J)(["admin","course_schedule"],{}),Ph=Ih.mapStateToProps,jh=Ih.mapDispatchToProps,Lh=Object(ue.b)(Ph,jh)(Nh),Mh=new(function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e,n,s;Object(ce.a)(this,a),(s=t.call(this)).addCourseScheduleData=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/course_schedule/add_course_schedule_data"),e,!0).then(p.z).then((function(e){return e}))},s.fetchCourseScheduleDefaultFilter=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/course_schedule/fetch_course_schedule_default_filter"),e,!0).then(p.z).then((function(e){return e}))},s.fetchCourseScheduleModalFilter=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/course_schedule/fetch_course_schedule_modal_filter"),e,!0).then(p.z).then((function(e){return e}))},s.updateSelectedFilter=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/course_schedule/update_selected_filter"),e,!0).then(p.z).then((function(e){return e}))},s.fetchCourseScheduleData=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/course_schedule/fetch_course_schedule_data"),e,!0).then(p.z).then((function(e){return e}))},s.updateCourseSchedule=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/course_schedule/update_course_schedule"),e,!0).then(p.z).then((function(e){return e}))},s.deleteCourseSchedule=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/course_schedule/delete_course_schedule"),e,!0).then(p.z).then((function(e){return e}))},s.fetchCalendarEvents=function(e){return this.sendRequest("".concat(u.f.URL).concat(this.API_pre_link,"/course_schedule/fetch_calendar_events"),e,!0).then(p.z).then((function(e){return e}))};var r=Object(p.y)();return s.API_pre_link=(null===r||void 0===r||null===(e=r.user_details)||void 0===e||null===(n=e.general)||void 0===n?void 0:n.trial_platform_mode)?"/t":"",s}return a}(Ee.a)),Fh=new function e(){Object(ce.a)(this,e),this.addCourseScheduleData=function(e){return function(t){t(Object(p.A)({type:u.E.ADD_COURSE_SCHEDULE_DATA_REQUEST},{})),Mh.addCourseScheduleData(e).then((function(a){a.status?t(Object(p.A)({type:u.E.ADD_COURSE_SCHEDULE_DATA_SUCCESS},{data:a,old_selected_values_default_filter:e.old_selected_values_default_filter})):t(Object(p.A)({type:u.E.ADD_COURSE_SCHEDULE_DATA_FAILURE},{error:a.message,recent_data:e}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.E.ADD_COURSE_SCHEDULE_DATA_FAILURE},{error:a}))}))}},this.fetchCourseScheduleDefaultFilter=function(e){return function(t){t(Object(p.A)({type:u.E.FETCH_COURSE_SCHEDULE_DEFAULT_FILTER_REQUEST},{is_change_active_workspace:null===e||void 0===e?void 0:e.is_change_active_workspace})),Mh.fetchCourseScheduleDefaultFilter(e).then((function(a){a.status?t(Object(p.A)({type:u.E.FETCH_COURSE_SCHEDULE_DEFAULT_FILTER_SUCCESS},{data:a,is_change_active_workspace:null===e||void 0===e?void 0:e.is_change_active_workspace})):t(Object(p.A)({type:u.E.FETCH_COURSE_SCHEDULE_DEFAULT_FILTER_FAILURE},{error:a.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.E.FETCH_COURSE_SCHEDULE_DEFAULT_FILTER_FAILURE},{error:a}))}))}},this.fetchCourseScheduleModalFilter=function(e){return function(t){t(Object(p.A)({type:u.E.FETCH_COURSE_SCHEDULE_MODAL_FILTER_REQUEST},{})),Mh.fetchCourseScheduleModalFilter(e).then((function(e){e.status?t(Object(p.A)({type:u.E.FETCH_COURSE_SCHEDULE_MODAL_FILTER_SUCCESS},{data:e})):t(Object(p.A)({type:u.E.FETCH_COURSE_SCHEDULE_MODAL_FILTER_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.E.FETCH_COURSE_SCHEDULE_MODAL_FILTER_FAILURE},{error:a}))}))}},this.updateSelectedFilter=function(e){return function(t){t(Object(p.A)({type:u.E.UPDATE_SELECTED_FILTER_REQUEST},{selected_filter:e.selected_filter})),Mh.updateSelectedFilter(e).then((function(e){e.status?t(Object(p.A)({type:u.E.UPDATE_SELECTED_FILTER_SUCCESS},{data:e})):t(Object(p.A)({type:u.E.UPDATE_SELECTED_FILTER_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.E.UPDATE_SELECTED_FILTER_FAILURE},{error:a}))}))}},this.fetchCourseScheduleData=function(e){return function(t){t(Object(p.A)({type:u.E.FETCH_COURSE_SCHEDULE_DATA_REQUEST},{})),Mh.fetchCourseScheduleData(e).then((function(e){e.status?t(Object(p.A)({type:u.E.FETCH_COURSE_SCHEDULE_DATA_SUCCESS},{data:e})):t(Object(p.A)({type:u.E.FETCH_COURSE_SCHEDULE_DATA_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.E.FETCH_COURSE_SCHEDULE_DATA_FAILURE},{error:a}))}))}},this.updateCourseSchedule=function(e){return function(t){t(Object(p.A)({type:u.E.UPDATE_COURSE_SCHEDULE_REQUEST},{})),Mh.updateCourseSchedule(e).then((function(a){a.status?t(Object(p.A)({type:u.E.UPDATE_COURSE_SCHEDULE_SUCCESS},{data:a,cc_stack_schedule_id:e.id,old_lead_instructor_id:e.old_lead_instructor_id,old_lead_cc_instructor_stack_sched_id:e.lead_cc_instructor_stack_sched_id,old_selected_values_default_filter:e.old_selected_values_default_filter,new_lead_instructor_id:e.lead_instructor_id})):t(Object(p.A)({type:u.E.UPDATE_COURSE_SCHEDULE_FAILURE},{error:a.message,recent_data:e}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.E.UPDATE_COURSE_SCHEDULE_FAILURE},{error:a}))}))}},this.deleteCourseSchedule=function(e){return function(t){t(Object(p.A)({type:u.E.DELETE_COURSE_SCHEDULE_DATA_REQUEST},{})),Mh.deleteCourseSchedule(e).then((function(a){a.status?t(Object(p.A)({type:u.E.DELETE_COURSE_SCHEDULE_DATA_SUCCESS},{result:a.result,cc_stack_schedule_id:e.cc_stack_schedule_id,lead_instructor_id:e.lead_instructor_id})):t(Object(p.A)({type:u.E.DELETE_COURSE_SCHEDULE_DATA_FAILURE},{error:a.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.E.DELETE_COURSE_SCHEDULE_DATA_FAILURE},{error:a}))}))}},this.fetchCalendarEvents=function(e){return function(t){t(Object(p.A)({type:u.E.FETCH_CALENDAR_EVENTS_REQUEST},{})),Mh.fetchCalendarEvents(e).then((function(e){e.status?t(Object(p.A)({type:u.E.FETCH_CALENDAR_EVENTS_SUCCESS},{data:e})):t(Object(p.A)({type:u.E.FETCH_CALENDAR_EVENTS_FAILURE},{error:e.message}))}),(function(e){var a=Object(p.c)(e);t(Object(p.A)({type:u.E.FETCH_CALENDAR_EVENTS_FAILURE},{error:a}))}))}},this.updateIsShowCourseSchedToast=function(){return function(e){e(Object(p.A)({type:u.E.UPDATE_IS_SHOW_COURSE_SCHEDULE_TOAST_REQUEST},{}))}},this.updateFilterDropdownSelectedValueProps=function(e){return function(t){t(Object(p.A)({type:u.E.UPDATE_FILTER_DROPDOWN_SELECTED_VALUE_PROPS_REQUEST},{default_filter_dropdown:e}))}},this.updateEventTypesFilterProps=function(e){return function(t){t(Object(p.A)({type:u.E.UPDATE_EVENT_TYPES_FILTER_PROPS_REQUEST},e))}},this.resetCourseScheduleDataWhenUnmount=function(){return function(e){e(Object(p.A)({type:u.E.RESET_COURSE_SCHEDULE_DATA_WHEN_UNMOUNT_REQUEST},{}))}}},xh=(a(1388),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).customContentRenderer=function(){var e=n.props.dropdown;return s.a.createElement(s.a.Fragment,null,e.selected.length>0&&"Program"!==e.name?e.selected[0].label:"Select "+e.name)},n.customDropdownRenderer=function(e){var t=e.props,a=e.state,r=e.methods,o=n.state.search,i=n.props.dropdown,c=u.ob.dropdown_filter_search_validation;o=o.replace(c,"");var _=new RegExp("^"+o,"i"),l=t.options.filter((function(e){return _.test(e[t.searchBy]||e[t.labelField])})),d=t.options.filter((function(e){return e[t.labelField].match(new RegExp(o,"i"))&&!_.test(e[t.labelField])}));l.sort();var p=l.concat(d);return s.a.createElement(s.a.Fragment,null,i.is_show_search&&s.a.createElement("div",{className:"dropdown_search_container"},s.a.createElement("input",{autoFocus:!0,type:"text",value:o,onKeyDown:function(e){return"Enter"===e.key?e.preventDefault():""},onChange:function(e){return n.searchDropdownMenuOption(e,r)},placeholder:"Search "+i.name})),s.a.createElement("div",{className:"dropdown_menu",ref:n.dropdown_container_ref},p.length?n.dropdownItems(p,a,t,r,i.filter_name):s.a.createElement("div",{className:"no_results_found"},"No results found.")))},n.handleOnMultipleSelect=function(e,t){n.props.dropdown.selected.filter((function(t){return parseInt(t.value)===e.value})).length>0?n.props.handleOnRemoveProgram(e.label):t.addItem(e)},n.dropdownItems=function(e,t,a,r,o){var i,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,_=null===(i=n.props)||void 0===i?void 0:i.allDropdown,l=_.filter((function(e){return"lead_instructor_id"===e.filter_name})),d=_.filter((function(e){return"support_instructor_id"===e.filter_name})),u=null;return e.map((function(e,i){if(!a.keepSelectedInList&&r.isSelected(e))return null;if("cc_stack_instructor_id"===o){var _=e.label.split(" ").pop(),p=e.label.lastIndexOf(" ");e.label.substring(0,p),_.substring(0,1)+"."}return"lead_instructor_id"===o&&d[0].selected.length&&(u=d[0].selected[0].value),"support_instructor_id"===o&&l[0].selected.length&&(u=l[0].selected[0].value),c&&e.is_major||!1===c&&!e.is_major||void 0===c&&u!==e.value?s.a.createElement("div",{className:"dropdown_item ".concat(t.cursor===i?"active":""),disabled:e.disabled,key:e[a.valueField],tabIndex:"-1","aria-label":e[a.labelField],role:"option","aria-selected":-1!==t.values.indexOf(e)},"lead_instructor_id"!==o&&"support_instructor_id"!==o||0===e.value?s.a.createElement("span",{onClick:e.disabled?null:function(){return r.addItem(e)}},e[a.labelField]):s.a.createElement("span",{className:"has_tooltip",onClick:e.disabled?null:function(){return r.addItem(e)}},e[a.labelField]),t.cursor===i?n.autoFocusActiveDropdownItem(i):null,n.props.dropdown.is_multi_select&&s.a.createElement("div",{className:"checkbox"},s.a.createElement("input",{id:"".concat(e[a.valueField],"_dropdown_checkbox"),checked:n.props.dropdown.selected.filter((function(t){return parseInt(t.value)===e.value})).length>0,type:"checkbox",onChange:function(){return e.disabled?void 0:n.handleOnMultipleSelect(e,r)}}),s.a.createElement("label",{htmlFor:"".concat(e[a.valueField],"_dropdown_checkbox")},s.a.createElement("div",{className:"checkbox_container"},s.a.createElement(Te.a,{icon:["fas","check"]}))))):void 0}))},n.searchDropdownMenuOption=function(e,t){n.setState({search:e.target.value}),t.setSearch(e)},n.autoFocusActiveDropdownItem=function(e){var t=document.querySelector(".react-dropdown-select[aria-expanded='true'] .dropdown_menu"),a=document.querySelector(".react-dropdown-select[aria-expanded='true'] .dropdown_item:nth-child("+(e+1)+")");if(a){var n=a.offsetTop+a.offsetHeight;n>t.offsetHeight&&(t.scrollTop=n-t.offsetHeight+10)}0===e&&(t.scrollTop=0)},n.dropdown_container_ref=s.a.createRef(),n.state={search:""},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.dropdown,n=t.is_disabled;return s.a.createElement(s.a.Fragment,null,s.a.createElement(es.a,{backspaceDelete:!1,className:"course_schedule_dropdown_select ".concat(a.selected.length>0&&"had_value"," ")+a.name.replace(" ","_").toLowerCase()+"_course_schedule",contentRenderer:this.customContentRenderer,dropdownHandle:!0,dropdownRenderer:this.customDropdownRenderer,handleKeyDownFn:this.autoScrollDropdownMenu,multi:!!a.is_multi_select,onChange:function(t){return e.props.handleOnSelectedDropdownValue(t,a)},onDropdownClose:function(){return e.setState({search:""})},options:a.options,placeholder:"Select "+a.name,values:a.selected,disabled:n&&("Course"===a.name||"Programs"===a.name)}),a.is_multi_select&&a.selected.length>0&&a.selected.map((function(t){return s.a.createElement("span",{className:"selected_multi_item ".concat(n?"disabled":"")},t.label," ",s.a.createElement("span",{onClick:function(){return e.props.handleOnRemoveProgram(t.label)},className:"remove"}))})))}}]),a}(n.Component)),Bh=(a(1389),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).customContentRender=function(){var e=n.props,t=e.date_picker_start,a=e.date_picker_end;return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"calendar_icon"}),s.a.createElement("span",{className:"date_pickers",onClick:function(){return n.setState({is_open_datepicker:!0})}},t?v()(t).format("MMMM D, YYYY"):"Start Date"),s.a.createElement("span",{className:"arrow_left_icon"}),s.a.createElement("span",{className:"date_pickers",onClick:function(){return n.setState({is_open_datepicker:!0})}},a?v()(a).format("MMMM D, YYYY"):"End Date"))},n.componentDidUpdate=function(e,t){n.props.date_picker_end&&e.date_picker_end!==n.props.date_picker_end&&n.setState({is_open_datepicker:!1})},n.state={is_open_datepicker:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.date_picker_start,n=t.date_picker_end,r=this.state.is_open_datepicker;return s.a.createElement(Ut.a,{selected:a,onInputClick:function(){return e.setState({is_open_datepicker:!0})},onClickOutside:function(){return e.setState({is_open_datepicker:!1})},open:r,selectsRange:!0,startDate:a,endDate:n,onChange:function(t){return e.props.setDurationDate(t)},monthsShown:2,customInput:this.customContentRender()})}}]),a}(n.Component)),Wh=(a(1390),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n,s,r,o,i;return Object(ce.a)(this,a),(i=t.call(this,e)).componentDidMount=function(){var e=i.state,t=e.course_schedule,a=e.course_schedule_dropdowns,n=e.course_type,s=e.attendance_frequency,r=i.props.course_schedule.recent_data;i.props.course_schedule.is_adding_has_error?(a.map((function(e){var a=e.options.filter((function(t){return t.value===r[e.filter_name]})),n=e.options.findIndex((function(t){return t.value===r[e.filter_name]}));a&&!e.is_multi_select?e.selected=e.options[n]?[Object(d.a)(Object(d.a)({},e.options[n]),{},{filter_name:e.filter_name})]:[]:e.is_multi_select&&"Programs"===e.name&&(e.selected=r[e.filter_name],t.selected_program_type_id=r[e.filter_name].map((function(e){return parseInt(e.value)})))})),t.start_date=r.start_date,t.end_date=r.end_date,n.map((function(e){e.is_checked=e.value===r.course_type})),t.course_type=r.course_type,s.map((function(e){e.is_checked=e.value===r.attendance_frequency})),t.attendance_frequency=r.attendance_frequency,t.instruction_dates=r.instruction_dates,i.setState({course_schedule_dropdowns:a,course_type:n,attendance_frequency:s})):i.props.course_schedule.is_show_course_schedule_toast&&i.props.updateIsShowCourseSchedToast()},i.handleOnSelectedDropdownValue=function(e,t){var a=Object(f.a)(i.state.course_schedule_dropdowns),n=i.state.course_schedule;a.map((function(a){a.name===t.name&&(t.is_multi_select?(a.selected=e.length>0?Object(f.a)(e):[],n[t.filter_name]=e):(a.selected=e.length>0?[Object(d.a)(Object(d.a)({},e[0]),{},{filter_name:t.filter_name})]:[],n[t.filter_name]=e[0].value,"cc_stack_id"===t.filter_name&&(n.stack_name=e[0].label),"lead_instructor_id"===t.filter_name&&(n.lead_instructor=e[0].label),"support_instructor_id"===t.filter_name&&(n.support_instructor=e[0].label)))})),i.setState({course_schedule_dropdowns:a,course_schedule:n})},i.handleOnRemoveProgram=function(e){var t=i.state.course_schedule_dropdowns,a=t[0].selected.filter((function(t){return t.label!==e}));t[0].selected=a,i.setState({course_schedule_dropdowns:t})},i.setDurationDate=function(e){var t,a,n=i.state.course_schedule,s=null===(t=i.props.course_schedule)||void 0===t||null===(a=t.filters_data)||void 0===a?void 0:a.filter((function(e){return"year"===e.filter_name}));if(n.start_date=e[0]?v()(e[0]).format("YYYY-MM-DD"):null,n.end_date=e[1]?v()(e[1]).format("YYYY-MM-DD"):null,e[0]&&0===s[0].selected.length||s[0].selected[0].label!==v()(e[0]).format("YYYY")){var r=v()(e[0]).format("YYYY"),o=Object(f.a)(i.props.course_schedule.filters_data);o[0].selected=[{label:r,value:parseInt(r)}],i.props.updateFilterDropdownSelectedValueProps(o),i.props.updateSelectedFilter({selected_filter:"Year",filter_dropdowns_selected:{year:[parseInt(r)],programs:[],course:[],lead_instructor:[]}})}i.setState({course_schedule:n})},i.setInstructionDates=function(e){var t=i.state.course_schedule;t.instruction_dates.map((function(t){return t.date_name===e?t.is_checked=!t.is_checked:t})),i.setState({course_schedule:t})},i.handleOnSelected=function(e){return e.some((function(e){return!0===e.is_checked}))},i.handleSelectInputChange=function(e,t){var a=Object(f.a)(i.state[e]),n=i.state,s=n.course_schedule,r=n.attendance_frequency;a.map((function(a){a.is_checked=a.value===t.value,s[e]=t.value,"Discussion"===t.value&&(s.attendance_frequency=null,s.instruction_dates.map((function(e){e.is_checked=!1})),r.map((function(e){e.is_checked=!1})))})),i.setState({radio_option_types:a,course_schedule:s,attendance_frequency:r})},i.handleOnSubmitForm=function(e){e.preventDefault();var t=i.state,a=t.course_schedule;t.is_proceed_next_step;i.props.toggleShowModal(!1),i.props.addCourseScheduleData(Object(d.a)(Object(d.a)({},a),{},{old_selected_values_default_filter:i.state.old_selected_values_default_filter,selected_workspace_id:i.props.selected_workspace_id})),i.props.handleOnAddCourseSchedule(a)},i.handleOnDone=function(e,t,a){var n=t[1].is_checked||t[0].is_checked&&i.handleOnSelected(e.instruction_dates)&&i.handleOnSelected(a);if(null!==e.start_date&&null!==e.end_date&&n)return!0},i.state={is_proceed_next_step:!1,course_schedule:JSON.parse(JSON.stringify(i.props.course_schedule.course_schedule_details)),course_schedule_dropdowns:JSON.parse(JSON.stringify(i.props.course_schedule.add_dropdown_data)),course_type:[{id:1,label:"Lecture",value:"Lecture",is_checked:!1},{id:2,label:"Discussion",value:"Discussion",is_checked:!1}],attendance_frequency:[{id:1,label:"Once per day(1x)",value:1,is_checked:!1},{id:2,label:"Twice per day(2x)",value:2,is_checked:!1},{id:3,label:"Thrice per day(3x)",value:3,is_checked:!1}],old_selected_values_default_filter:{programs:i.props.course_schedule.filters_data[1].selected.map((function(e){return e.value})),course:(null===(n=i.props.course_schedule.filters_data[2].selected)||void 0===n||null===(s=n[0])||void 0===s?void 0:s.value)||null,lead_instructor:(null===(r=i.props.course_schedule.filters_data[3].selected)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.value)||null}},i}return Object(_e.a)(a,[{key:"render",value:function(){var e,t=this,a=this.state,n=a.is_proceed_next_step,r=a.course_schedule,o=a.course_schedule_dropdowns,i=a.course_type,c=a.attendance_frequency,_=this.props.show;return s.a.createElement(De.a,{id:"create_course_schedule_modal",show:_,centered:!0,backdrop:"static",keyboard:!1,onHide:function(){return t.props.toggleShowModal(!1)}},s.a.createElement(De.a.Header,null,s.a.createElement(De.a.Title,null,n?"Dates and Instruction days":"Course Schedule Details"),s.a.createElement("button",{onClick:function(){return t.props.toggleShowModal(!1)}},s.a.createElement("span",{className:"close_icon"}))),s.a.createElement("form",{onSubmit:function(e){return t.handleOnSubmitForm(e)}},s.a.createElement(De.a.Body,null,n?s.a.createElement(s.a.Fragment,null,s.a.createElement("label",null,"Duration"),s.a.createElement("div",{className:"duration_date_picker ".concat(r.start_date&&"has_start_date"," ").concat(r.end_date&&"has_end_date")},s.a.createElement(Bh,{date_picker_start:r.start_date?v()(r.start_date).toDate():r.start_date,date_picker_end:r.end_date?v()(r.end_date).toDate():r.end_date,setDurationDate:function(e){return t.setDurationDate(e)}})),s.a.createElement("label",null,"Course Type"),s.a.createElement("div",{className:"course_type_container ".concat(i[1].is_checked&&"discussion_is_selected")},i.map((function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("input",{type:"radio",onKeyDown:function(e){return"Enter"===e.key?e.preventDefault():""},name:"course_type_radio",id:"course_type_".concat(e.id),checked:e.is_checked,value:e.value,onChange:function(){return t.handleSelectInputChange("course_type",e)}}),s.a.createElement("label",{htmlFor:"course_type_".concat(e.id)},e.label))}))),!i[1].is_checked&&s.a.createElement(s.a.Fragment,null,s.a.createElement("label",null,"Attendance Recording"),s.a.createElement("div",{className:"attendance_recording_container"},c.map((function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("input",{type:"radio",onKeyDown:function(e){return"Enter"===e.key?e.preventDefault():""},name:"attendance_recording_radio",id:"attendance_recording_".concat(e.id),checked:e.is_checked,value:e.value,onChange:function(){return t.handleSelectInputChange("attendance_frequency",e)}}),s.a.createElement("label",{htmlFor:"attendance_recording_".concat(e.id)},e.label))}))),s.a.createElement("label",null,"Select attendance days"),s.a.createElement("div",{className:"instruction_days_container"},null===r||void 0===r?void 0:r.instruction_dates.map((function(e){return s.a.createElement("div",{className:"days_checkbox"},s.a.createElement("input",{defaultCheckedValue:e.date_name,checked:e.is_checked,onKeyDown:function(e){return"Enter"===e.key?e.preventDefault():""},onChange:function(){return t.setInstructionDates(e.date_name)},type:"checkbox"}),s.a.createElement("label",null,e.date_name))}))))):s.a.createElement(s.a.Fragment,null,null===o||void 0===o?void 0:o.map((function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("label",{className:e.name.toLowerCase()},e.name+" ".concat("Support Instructor"!==e.name?"":" (Optional)"," ")),s.a.createElement(xh,{key:e.name,dropdown:e,allDropdown:o,handleOnSelectedDropdownValue:t.handleOnSelectedDropdownValue,handleOnRemoveProgram:t.handleOnRemoveProgram,is_disabled:!1}))})))),s.a.createElement(De.a.Footer,null,n?s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{type:"button",className:"prev_button",onClick:function(e){return t.setState({is_proceed_next_step:!1},e.preventDefault())}},"Previous"),s.a.createElement("button",{type:"submit",className:"done_button ".concat(this.handleOnDone(r,i,c)?"":"disabled")},"Done")):s.a.createElement("button",{type:"button",className:"next_button ".concat(0!==(null===(e=r.program_type_id)||void 0===e?void 0:e.length)&&null!==r.stack_name&&void 0!==r.lead_instructor_id?"":"disabled"),onClick:function(e){return t.setState({is_proceed_next_step:!0},e.preventDefault())}},"Next"))))}}]),a}(n.Component)),Hh=Fh.fetchCourseScheduleData,Kh=Fh.addCourseScheduleData,Gh=Fh.updateSelectedFilter,Vh=Fh.updateFilterDropdownSelectedValueProps,qh=Object(p.J)(["admin","course_schedule"],{fetchCourseScheduleData:Hh,addCourseScheduleData:Kh,updateSelectedFilter:Gh,updateFilterDropdownSelectedValueProps:Vh}),Yh=qh.mapStateToProps,Qh=qh.mapDispatchToProps,$h=Object(ue.b)(Yh,Qh)(Wh),zh=(a(1391),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n,s,r,o,i;return Object(ce.a)(this,a),(i=t.call(this,e)).componentDidMount=function(e,t){var a,n,s=i.state,r=s.edit_course_schedule,o=s.edit_course_schedule_dropdowns,c=s.course_type,_=s.attendance_frequency,l=null===(a=i.props.course_schedule)||void 0===a||null===(n=a.filters_data)||void 0===n?void 0:n.filter((function(e){return"year"===e.filter_name})),u=null;if(i.props.course_schedule.is_updating_has_error||i.props.course_schedule.is_show_course_schedule_toast&&i.props.updateIsShowCourseSchedToast(),r.start_date&&0===l[0].selected.length||l[0].selected[0].label!==v()(r.start_date).format("YYYY")){var p=v()(r.start_date).format("YYYY"),m=Object(f.a)(i.props.course_schedule.filters_data);m[0].selected=[{label:p,value:parseInt(p)}],i.props.updateFilterDropdownSelectedValueProps(m),i.props.updateSelectedFilter({selected_filter:"Year",filter_dropdowns_selected:{year:[parseInt(p)],programs:[],course:[],lead_instructor:[]}})}o.map((function(e){var t=e.options.filter((function(t){return t.value===r[e.filter_name]})),a=e.options.findIndex((function(t){return t.value===r[e.filter_name]}));t&&!e.is_multi_select?(e.selected=e.options[a]?[Object(d.a)(Object(d.a)({},e.options[a]),{},{filter_name:e.filter_name})]:[],"Lead Instructor"===e.name&&(u=e.selected[0].value)):e.is_multi_select&&"Programs"===e.name&&(e.selected=r[e.filter_name],r.selected_program_type_id=r[e.filter_name].map((function(e){return parseInt(e.value)})))})),c.map((function(e){e.is_checked=e.value===r.course_type})),_.map((function(e){e.is_checked=e.value===r.attendance_frequency})),i.setState({edit_course_schedule_dropdowns:o,course_type:c,attendance_frequency:_,old_lead_instructor_id:u})},i.updateOnSelectedDropdownValue=function(e,t){var a=Object(f.a)(i.state.edit_course_schedule_dropdowns),n=Object(d.a)({},i.state.edit_course_schedule);a.map((function(a){a.name===t.name&&(t.is_multi_select?(a.selected=e.length>0?Object(f.a)(e):[],n[t.filter_name]=e):(a.selected=e.length>0?[Object(d.a)(Object(d.a)({},e[0]),{},{filter_name:t.filter_name})]:[],n[t.filter_name]=e.length>0?e[0].label:null,"cc_stack_id"===t.filter_name&&(n.stack_name=e[0].label,n.cc_stack_id=e[0].value),"lead_instructor_id"===t.filter_name&&(n.lead_instructor=e[0].label,n.lead_instructor_id=e[0].value),"support_instructor_id"===t.filter_name&&(n.support_instructor=e[0].label,n.support_instructor_id=e[0].value)))})),i.setState({edit_course_schedule_dropdowns:a,edit_course_schedule:n})},i.handleOnRemoveProgram=function(e){var t=i.state.edit_course_schedule_dropdowns,a=t[0].selected.filter((function(t){return t.label!==e}));t[0].selected=a,i.setState({edit_course_schedule_dropdowns:t})},i.setDurationDate=function(e){var t=Object(d.a)({},i.state.edit_course_schedule);t.start_date=e[0]?v()(e[0]).format("YYYY-MM-DD"):null,t.end_date=e[1]?v()(e[1]).format("YYYY-MM-DD"):null,i.setState({edit_course_schedule:t})},i.setInstructionDates=function(e){var t=Object(d.a)({},i.state.edit_course_schedule);t.instruction_dates.map((function(t){return t.date_name===e?t.is_checked=!t.is_checked:t})),i.setState({edit_course_schedule:t})},i.handleSelectInputChange=function(e,t){var a=Object(f.a)(i.state[e]),n=i.state.attendance_frequency,s=Object(d.a)({},i.state.edit_course_schedule);a.map((function(a){a.is_checked=a.value===t.value,s[e]=t.value,"Discussion"===t.value&&(s.attendance_frequency=null,s.instruction_dates.map((function(e){e.is_checked=!1})),n.map((function(e){e.is_checked=!1})))})),i.setState({radio_option_types:a,edit_course_schedule:s,attendance_frequency:n})},i.handleOnSelected=function(e){return e.some((function(e){return!0===e.is_checked}))},i.handleOnSubmitForm=function(e){e.preventDefault(),i.props.toggleShowModal(!1),i.props.updateCourseSchedule(Object(d.a)(Object(d.a)({},i.state.edit_course_schedule),{},{old_lead_instructor_id:i.state.old_lead_instructor_id,old_selected_values_default_filter:i.state.old_selected_values_default_filter,selected_workspace_id:i.props.selected_workspace_id})),i.props.courseScheduleUpdates(i.state.edit_course_schedule)},i.state={edit_is_proceed_next_step:!1,edit_course_schedule:JSON.parse(JSON.stringify(i.props.selected_course_schedule)),edit_course_schedule_dropdowns:JSON.parse(JSON.stringify(i.props.course_schedule.dropdown_data)),course_type:[{id:1,label:"Lecture",value:"Lecture",is_checked:!1},{id:2,label:"Discussion",value:"Discussion",is_checked:!1}],attendance_frequency:[{id:1,label:"Once per day(1x)",value:1,is_checked:!1},{id:2,label:"Twice per day(2x)",value:2,is_checked:!1},{id:3,label:"Thrice per day(3x)",value:3,is_checked:!1}],old_lead_instructor_id:null,old_selected_values_default_filter:{programs:i.props.course_schedule.filters_data[1].selected.map((function(e){return e.value})),course:(null===(n=i.props.course_schedule.filters_data[2].selected)||void 0===n||null===(s=n[0])||void 0===s?void 0:s.value)||null,lead_instructor:(null===(r=i.props.course_schedule.filters_data[3].selected)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.value)||null}},i}return Object(_e.a)(a,[{key:"render",value:function(){var e,t,a,n,r,o,i=this,c=this.state,_=c.edit_is_proceed_next_step,l=c.edit_course_schedule,d=c.edit_course_schedule_dropdowns,u=c.course_type,p=c.attendance_frequency,m=this.props.show;return s.a.createElement(De.a,{id:"edit_course_schedule_modal",show:m,centered:!0,backdrop:"static",keyboard:!1,onHide:function(){return i.props.toggleShowModal(!1)}},s.a.createElement(De.a.Header,null,s.a.createElement(De.a.Title,null,_?" Edit Dates and Instruction days":"Edit Course Schedule Details"),s.a.createElement("button",{onClick:function(){return i.props.toggleShowModal(!1)}},s.a.createElement("span",{className:"close_icon"}))),s.a.createElement("form",{onSubmit:function(e){return i.handleOnSubmitForm(e)}},s.a.createElement(De.a.Body,null,_?s.a.createElement(s.a.Fragment,null,s.a.createElement("label",null,"Duration"),s.a.createElement("div",{className:"duration_date_picker ".concat(l.start_date&&"has_start_date"," ").concat(l.end_date&&"has_end_date"," ").concat((null===(t=l.programs_with_rostered_students)||void 0===t?void 0:t.length)&&"disabled")},s.a.createElement(Bh,{date_picker_start:l.start_date?v()(l.start_date).toDate():l.start_dat,date_picker_end:l.end_date?v()(l.end_date).toDate():l.end_date,setDurationDate:function(e){return i.setDurationDate(e)}})),s.a.createElement("label",null,"Course Type"),s.a.createElement("div",{className:"course_type_container ".concat(u[1].is_checked&&"discussion_is_selected"," ").concat((null===(a=l.programs_with_rostered_students)||void 0===a?void 0:a.length)&&"disabled")},u.map((function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("input",{type:"radio",onKeyDown:function(e){return"Enter"===e.key?e.preventDefault():""},name:"course_type_radio",id:"course_type_".concat(e.id),checked:e.is_checked,value:e.value,onChange:function(){return i.handleSelectInputChange("course_type",e)}}),s.a.createElement("label",{htmlFor:"course_type_".concat(e.id)},e.label))}))),!u[1].is_checked&&s.a.createElement(s.a.Fragment,null,s.a.createElement("label",null,"Attendance Recording"),s.a.createElement("div",{className:"attendance_recording_container ".concat((null===(n=l.programs_with_rostered_students)||void 0===n?void 0:n.length)&&"disabled")},p.map((function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("input",{type:"radio",onKeyDown:function(e){return"Enter"===e.key?e.preventDefault():""},name:"attendance_recording_radio",id:"attendance_recording_".concat(e.id),checked:e.is_checked,value:e.value,onChange:function(){return i.handleSelectInputChange("attendance_frequency",e)}}),s.a.createElement("label",{htmlFor:"attendance_recording_".concat(e.id)},e.label))}))),s.a.createElement("label",null,"Select attendance days"),s.a.createElement("div",{className:"instruction_days_container ".concat((null===(r=l.programs_with_rostered_students)||void 0===r?void 0:r.length)&&"disabled")},null===l||void 0===l?void 0:l.instruction_dates.map((function(e){return s.a.createElement("div",{className:"days_checkbox"},s.a.createElement("input",{defaultCheckedValue:e.date_name,checked:e.is_checked,onKeyDown:function(e){return"Enter"===e.key?e.preventDefault():""},onChange:function(){return i.setInstructionDates(e.date_name)},type:"checkbox"}),s.a.createElement("label",null,e.date_name))}))))):s.a.createElement(s.a.Fragment,null,(null===(e=l.programs_with_rostered_students)||void 0===e?void 0:e.length)?s.a.createElement("p",null,s.a.createElement(Te.a,{icon:["fas","exclamation-circle"]})," Edit is only enabled for Lead and Support Instructor."):"",null===d||void 0===d?void 0:d.map((function(e){var t;return s.a.createElement(s.a.Fragment,null,s.a.createElement("label",{className:e.name.toLowerCase()},e.name+" ".concat("Support Instructor"!==e.name?"":" (Optional)"," ")),s.a.createElement(xh,{key:e.name,dropdown:e,allDropdown:d,handleOnSelectedDropdownValue:i.updateOnSelectedDropdownValue,handleOnRemoveProgram:i.handleOnRemoveProgram,is_disabled:Boolean(null===(t=l.programs_with_rostered_students)||void 0===t?void 0:t.length)}))})))),s.a.createElement(De.a.Footer,null,_?s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{type:"button",className:"prev_button",onClick:function(e){return i.setState({edit_is_proceed_next_step:!1},e.preventDefault())}},"Previous"),s.a.createElement("button",{type:"submit",className:"done_button ".concat(null!==l.start_date&&null!==l.end_date&&(u[1].is_checked||u[0].is_checked&&this.handleOnSelected(l.instruction_dates)&&this.handleOnSelected(p))?"":"disabled")},"Done")):s.a.createElement("button",{type:"button",className:"next_button ".concat(0!==(null===(o=l.program_type_id)||void 0===o?void 0:o.length)&&null!==l.stack_name&&null!==l.lead_instructor?"":"disabled"),onClick:function(e){return i.setState({edit_is_proceed_next_step:!0},e.preventDefault())}},"Next"))))}}]),a}(n.Component)),Jh=Fh.updateCourseSchedule,Xh=Fh.updateSelectedFilter,Zh=Fh.updateFilterDropdownSelectedValueProps,eE=Object(p.J)(["admin","course_schedule"],{updateCourseSchedule:Jh,updateSelectedFilter:Xh,updateFilterDropdownSelectedValueProps:Zh}),tE=eE.mapStateToProps,aE=eE.mapDispatchToProps,nE=Object(ue.b)(tE,aE)(zh),sE=(a(1392),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).customContentRenderer=function(){var e=n.props.dropdown;return s.a.createElement(s.a.Fragment,null,e.selected.length>0?e.selected[0].label:e.name,e.is_multi_select&&e.selected.length>1&&s.a.createElement("span",{className:"multi_select_indicator"},"+ ".concat(e.selected.length-1)),e.selected.length<=0&&s.a.createElement("span",{className:"dropdown_handle_icon add"}))},n.customClearRenderer=function(e){var t=e.methods;return s.a.createElement(s.a.Fragment,null,n.props.dropdown.selected.length>0&&s.a.createElement("span",{className:"dropdown_handle_icon clear",onClick:function(){return t.clearAll()}}))},n.customDropdownRenderer=function(e){var t=e.props,a=e.state,r=e.methods,o=n.state.search,i=n.props,c=i.dropdown,_=i.is_fetching;o=o.replace(/[\xb0"\xa7%()*\[\]{}=\\?\xb4`'#<>|;.:+_]+/g,"");var l=new RegExp("^"+o,"i"),d=t.options.filter((function(e){return l.test(e[t.searchBy]||e[t.labelField])})),u=t.options.filter((function(e){return e[t.labelField].match(new RegExp(o,"i"))&&!l.test(e[t.labelField])}));d.sort();var p=d.concat(u);return s.a.createElement(s.a.Fragment,null,c.is_show_search&&s.a.createElement("div",{className:"dropdown_search_container"},s.a.createElement("input",{autoFocus:!0,type:"text",value:o,onChange:function(e){return n.searchDropdownMenuOption(e,r)},placeholder:n.props.custom_placeholder||"Type anything"})),s.a.createElement("div",{className:"dropdown_menu"},p.length&&!_?s.a.createElement(s.a.Fragment,null,c.is_categorized?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"major_stack"},s.a.createElement("span",null,"major"),n.dropdownItems(p,a,t,r,c.filter_name,!0)),s.a.createElement("div",{className:"minor_stack"},s.a.createElement("span",null,"minor"),n.dropdownItems(p,a,t,r,c.filter_name,!1))):n.dropdownItems(p,a,t,r,c.filter_name)):_?s.a.createElement("div",{className:"fetching_results"},"Fetching..."):s.a.createElement("div",{className:"no_results_found"},"No results found.")))},n.dropdownItems=function(e,t,a,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return e.map((function(e,c){if(!a.keepSelectedInList&&r.isSelected(e))return null;if("cc_stack_instructor_id"===o||"sem_user_id"===o){var _=e.label.split(" ").pop(),l=e.label.lastIndexOf(" ");e.label.substring(0,l),_.substring(0,1)+"."}return i&&e.is_major||!1===i&&!e.is_major||void 0===i?s.a.createElement("div",{className:"dropdown_item ".concat(t.cursor===c?"active":""),disabled:e.disabled,key:e[a.valueField],tabIndex:"-1","aria-label":e[a.labelField],role:"option","aria-selected":-1!==t.values.indexOf(e)},s.a.createElement("span",{onClick:e.disabled?null:function(){return r.addItem(e)}},e[a.labelField]),t.cursor===c?n.autoFocusActiveDropdownItem(c):null,n.props.dropdown.is_multi_select&&s.a.createElement("div",{className:"checkbox"},s.a.createElement("input",{id:"".concat(e[a.valueField],"_dropdown_checkbox"),checked:n.props.dropdown.selected.filter((function(t){return t.value===e.value})).length>0,type:"checkbox",onChange:function(){return e.disabled?void 0:r.addItem(e)}}),s.a.createElement("label",{htmlFor:"".concat(e[a.valueField],"_dropdown_checkbox")},s.a.createElement("div",{className:"checkbox_container"},s.a.createElement(Te.a,{icon:["fas","check"]}))))):void 0}))},n.searchDropdownMenuOption=function(e,t){n.setState({search:e.target.value}),t.setSearch(e)},n.autoFocusActiveDropdownItem=function(e){var t=document.querySelector(".react-dropdown-select[aria-expanded='true'] .dropdown_menu"),a=document.querySelector(".react-dropdown-select[aria-expanded='true'] .dropdown_item:nth-child("+(e+1)+")");if(a){var n=a.offsetTop+a.offsetHeight;n>t.offsetHeight&&(t.scrollTop=n-t.offsetHeight+10)}0===e&&(t.scrollTop=0)},n.handleFilterOnDropdownOpenClose=function(e,t,a,s){"Programs"===e&&t?n.props.handleProgramsFilterOnDropdownOpenClose(a):!["Programs","Lead Instructor"].includes(e)&&a&&s&&n.props.handleSingleSelectFilterOnDropdownClose(e)},n.state={search:""},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.dropdown,n=t.custom_content_renderer,r=t.clearable,o=void 0===r||r;return s.a.createElement(es.a,{backspaceDelete:!1,className:"".concat(a.selected.length>0&&"has_value"),clearable:o,clearRenderer:this.customClearRenderer,contentRenderer:n||this.customContentRenderer,dropdownHandle:!1,dropdownRenderer:this.customDropdownRenderer,handleKeyDownFn:this.autoScrollDropdownMenu,multi:!!a.is_multi_select,onChange:function(t){return e.props.onUpdateFilterDropdownSelectedValue(t,a)},onDropdownClose:function(){return e.setState({search:""},e.handleFilterOnDropdownOpenClose(a.name,a.is_multi_select,!0,a.selected.length>0))},onDropdownOpen:function(){return e.handleFilterOnDropdownOpenClose(a.name,a.is_multi_select,!1,a.selected.length>0)},options:a.options,placeholder:a.name,values:a.selected})}}]),a}(n.Component)),rE=(a(1393),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(_e.a)(a,[{key:"render",value:function(){var e,t=this;return s.a.createElement("form",{className:"filter_container",action:"",onSubmit:function(e){e.preventDefault(),t.props.submitFilters(e,"filter",!0)}},(null===(e=this.props.filter_dropdowns)||void 0===e?void 0:e.length)&&this.props.filter_dropdowns.map((function(e){if(!e.is_hide_filter||t.props.is_used_by_program)return s.a.createElement(sE,{key:e.name,dropdown:e,is_fetching:t.props.is_updating_default_filter,onUpdateFilterDropdownSelectedValue:t.props.updateFilterDropdownSelectedValue,handleProgramsFilterOnDropdownOpenClose:t.props.handleProgramsFilterOnDropdownOpenClose,handleSingleSelectFilterOnDropdownClose:t.props.handleSingleSelectFilterOnDropdownClose})}))||"",s.a.createElement("button",{id:"table_filter_btn",type:"submit",className:"".concat(this.props.is_updating_default_filter?"disable_button":"")},"Fetch Results"),this.props.clearAllFilters&&s.a.createElement("button",{type:"button",onClick:function(){return t.props.clearAllFilters()}},"Clear Filter"))}}]),a}(n.Component)),oE=a(277),iE=(a(1394),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=n.props,t=e.event_data,a=e.course_schedule,s=a.filters_data.findIndex((function(e){return"year"===e.filter_name})),r=a.filters_data[s].selected[0].label,o=v()(t.start,"YYYY-MM-DD"),i=v()(t.end,"YYYY-MM-DD");n.setState({event_width_range:112*i.diff(o,"days")/7,start_date_range:112*o.diff(v()(r).startOf("year").format("YYYY/MM/DD"),"days")/7})},n.popover_container_ref=s.a.createRef(),n.state={event_width_range:null,start_date_range:null},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this.state,t=e.event_width_range,a=e.start_date_range,n=this.props,r=n.event_data,o=(n.container_height,n.is_program_last,n.event_item_index);return s.a.createElement("div",{className:"event_type "+r.event_type.split(" ").join("_").toLowerCase(),style:{left:a+"px",width:t+"px"},id:o})}}]),a}(n.Component));Object(oE.a)(Fh);var cE=Object(p.J)(["admin","course_schedule"],{}),_E=cE.mapStateToProps,lE=cE.mapDispatchToProps,dE=Object(ue.b)(_E,lE)(iE),uE=(a(1395),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).state={},e.course_schedule.is_show_course_schedule_toast&&e.updateIsShowCourseSchedToast(),n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.toggleShowModal,n=t.show,r=t.selected_course_schedule;return s.a.createElement(De.a,{id:"course_calendar_delete_course_modal",show:n,onHide:function(){return a(!1)}},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,"Delete Course"),s.a.createElement("button",{type:"button",onClick:function(){a(!1)}})),s.a.createElement(De.a.Body,null,r.program_type_id.length>1?s.a.createElement("p",null,"You are about to delete ".concat(r.stack_name," running on ").concat(v()(r.start_date).format("MMM DD, YYYY")," - ").concat(v()(r.end_date).format("MMM DD, YYYY"),".\nThis course will be removed from ").concat(r.program_type_id.map((function(e){return e.label})).join(", "),".\nAre you sure you want to delete? To remove from a single program, use the Edit feature.")):s.a.createElement("p",null,"You are about to delete ".concat(r.stack_name," running on ").concat(v()(r.start_date).format("MMM DD, YYYY")," - ").concat(v()(r.end_date).format("MMM DD, YYYY"),". Are you sure you want to delete?")),s.a.createElement("form",{action:"",onSubmit:function(t){t.preventDefault(),e.props.handleOnDeleteCourseSchedule(r),a(!1)}},s.a.createElement("button",{type:"button",onClick:function(){return a(!1)}},"Cancel"),s.a.createElement("button",{type:"submit"},"Yes, delete it"))))}}]),a}(n.Component));Object(oE.a)(Fh);var pE=Object(p.J)(["course_schedule"],{}),mE=pE.mapStateToProps,hE=pE.mapDispatchToProps,EE=Object(ue.b)(mE,hE)(uE),fE=(a(1396),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=n.props.admin.profile.available_workspaces.filter((function(e){return e.is_selected})),t=Object(A.a)(e,1)[0].id;setTimeout((function(){n.props.fetchCourseScheduleDefaultFilter({selected_workspace_id:t}),n.props.fetchCourseScheduleModalFilter({selected_workspace_id:t,total_filters:u.s.NO_VALUE})}),u.Ab.normal),n.setState({selected_workspace_id:t})},n.setHeaderTimeline=function(){for(var e,t,a=n.props.course_schedule,s=a.filters_data.findIndex((function(e){return"year"===e.filter_name})),r=(null===(e=a.filters_data[s])||void 0===e||null===(t=e.selected)||void 0===t?void 0:t.length)?a.filters_data[s].selected[0].label:(new Date).getFullYear().toString(),o=v()(r).startOf("year").format("YYYY-MM-DD"),i=v()(o).endOf("year").format("YYYY-MM-DD"),c=1,_=function(e){var t=e.format("YYYY-MM-DD"),a=c;n.setState((function(e){return{course_schedule_timeline_date:[].concat(Object(f.a)(e.course_schedule_timeline_date),[{id:a,date:t}])}})),c++},l=v()(o);l.diff(i,"days")<=0;l.add(7,"days"))_(l)},n.autoScrollTable=function(){var e=n.table_container_ref.current,t=n.props.course_schedule,a=t.filters_data.findIndex((function(e){return"year"===e.filter_name})),s=t.filters_data[a].selected[0].label;n.state.is_scrolled_already||t.is_loading||0===t.course_schedule_data.length||null===e||0===t.filters_data[a].selected.length||s!==v()().format("YYYY")||t.toast_error_message||setTimeout((function(){if(n.autoscroll_table_ref.current){var e,t,a,s=null===(e=n.course_schedule_position_ref)||void 0===e?void 0:e.current,r=null===(t=n.timeline_table_container_ref)||void 0===t?void 0:t.current,o=null===(a=n.course_schedule_container_ref)||void 0===a?void 0:a.current,i=(null===s||void 0===s?void 0:s.offsetTop)+((null===s||void 0===s?void 0:s.clientHeight)-(null===r||void 0===r?void 0:r.clientHeight)/2)+(null===o||void 0===o?void 0:o.offsetTop);r.scrollTo({top:i,behavior:"smooth"}),setTimeout((function(){n.autoscroll_table_ref.current&&n.autoscroll_table_ref.current.scrollIntoView(u.ec)}),1e3),n.setState({is_loading:!1,is_scrolled_already:!0})}}),1e3)},n.handleFiltersAndAutoScrollTable=function(e){(null===e||void 0===e?void 0:e.length)&&(n.handleFilters(),n.autoScrollTable())},n.componentDidUpdate=function(e,t){var a,s,r,o,i,c,_,l,m,h,E,g,v,b,S,A,k=n.props.course_schedule,O=n.state,T=O.selected_workspace_id,C=O.is_add_new_course_schedule,w=O.selected_course_schedule_details,y=O.is_onload_page,R=O.is_not_update_selected_filter,D=O.is_update_course_schedule;e.course_schedule.course_schedule_data.length!==k.course_schedule_data.length&&((null===(g=k.filters_data)||void 0===g||null===(v=g[1])||void 0===v||null===(b=v.options)||void 0===b?void 0:b.length)&&(n.handleFilters(),"deleted"!==w.toast_for&&n.autoScrollTable()));!n.state.course_schedule_timeline_date.length&&n.props.course_schedule.course_schedule_data.length&&(n.setHeaderTimeline(),n.handleFiltersAndAutoScrollTable(null===(S=k.filters_data)||void 0===S||null===(A=S[1])||void 0===A?void 0:A.options));if((y||k.is_change_active_workspace)&&(null===(a=k.filters_data)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.selected.length)){var U,N;n.setState({course_schedule_timeline_date:[],active_program_name:[],is_onload_page:!1});var I=Object(p.N)(k.filters_data),P=I.filter_dropdowns_selected,j=I.programs_on_selected_yr;I.programs_label_json;P.year.length&&n.props.fetchCourseScheduleData(Object(d.a)(Object(d.a)({},P),{},{programs_on_selected_yr:j,event_type_id:k.event_type_id,selected_workspace_id:T})),n.handleFiltersAndAutoScrollTable(null===(U=k.filters_data)||void 0===U||null===(N=U[1])||void 0===N?void 0:N.options)}if((y||k.is_change_active_workspace)&&(null===(r=k.filters_data)||void 0===r||null===(o=r[0])||void 0===o||null===(i=o.options)||void 0===i?void 0:i.length)&&k.filters_data[0].selected.length===u.s.NO_VALUE){var L=k.filters_data[0],M=L.options.length>u.s.YES_VALUE?L.options[1]:L.options[0];if(k.filters_data[0].selected=[M],n.props.updateFilterDropdownSelectedValueProps(k.filters_data),R){var F=Object(p.N)(k.filters_data).filter_dropdowns_selected;n.props.updateSelectedFilter({filter_dropdowns_selected:F,selected_filter:"Year",selected_workspace_id:n.state.selected_workspace_id}),n.setState({is_not_update_selected_filter:!1})}}if(w&&"updated"===w.toast_for&&n.autoScrollTable(),(null===(c=n.state.active_program_name)||void 0===c?void 0:c.length)===u.s.NO_VALUE&&(null===(_=k.filters_data)||void 0===_||null===(l=_[1])||void 0===l||null===(m=l.options)||void 0===m?void 0:m.length)&&(null===(h=k.course_schedule_data)||void 0===h?void 0:h.length)&&(n.setState({active_program_name:Object(p.S)(Object(f.a)(k.filters_data[1].options),"label",!1)}),n.handleFiltersAndAutoScrollTable(k.filters_data[1].options)),k.is_refetch_after_create_update&&(null===(E=k.is_newly_added_or_updated)||void 0===E?void 0:E.id)&&(C||D)){n.setState({is_add_new_course_schedule:!1,is_update_course_schedule:!1});var x=Object(p.N)(k.filters_data),B=x.filter_dropdowns_selected,W=x.programs_on_selected_yr;n.props.fetchCourseScheduleData(Object(d.a)(Object(d.a)({},B),{},{programs_on_selected_yr:W,selected_workspace_id:T})),n.props.updateSelectedFilter({filter_dropdowns_selected:B,selected_filter:"Programs",selected_workspace_id:T})}},n.startDragging=function(e){var t=n.timeline_table_container_ref.current;n.setState({mouse_down:!0,table_x_axis_start:e.pageX-t.offsetLeft,table_y_axis_start:e.pageY-t.offsetTop,scroll_to_left:t.scrollLeft,scroll_to_top:t.scrollTop})},n.handleMouseMove=function(e){e.preventDefault();var t=n.timeline_table_container_ref.current,a=n.state,s=a.mouse_down,r=a.table_x_axis_start,o=a.table_y_axis_start,i=a.scroll_to_left,c=a.scroll_to_top;if(s){var _=e.pageX-t.offsetLeft-r;t.scrollLeft=i-_;var l=e.pageY-t.offsetTop-o;t.scrollTop=c-l}},n.handleOnAddCourseSchedule=function(e){var t=n.props.course_schedule,a=t.filters_data.findIndex((function(e){return"year"===e.filter_name})),s=!1;t.filters_data[a].selected.length&&(s=v()(e.start_date).isSame(t.filters_data[a].selected[0].label,"year")),n.setState({is_add_new_course_schedule:!0,selected_course_schedule_details:{toast_for:"created",stack_name:e.stack_name,programs:e.program_type_id.length},new_added_course_schedule_date:s?e.start_date:void 0,is_scrolled_already:!1})},n.handleOnDeleteCourseSchedule=function(e){var t=e.id,a=(e.program_type_id,e.cc_stack_id),s=(e.program_name,e.start_date),r=e.end_date,o=e.lead_instructor_id,i=e.support_instructor_id,c=e.cc_instructor_stack_sched_ids,_=e.selected_program_type_id;n.props.deleteCourseSchedule({cc_stack_schedule_id:t,cc_stack_id:a,start_date:s,end_date:r,lead_instructor_id:o,support_instructor_id:i,cc_instructor_stack_sched_ids:c,selected_program_ids:_,selected_workspace_id:n.state.selected_workspace_id}),n.setState({selected_course_schedule_details:{toast_for:"deleted",stack_name:e.stack_name,start_date:e.start_date,end_date:e.end_date}})},n.selectCourseSchedule=function(e){n.setState({is_show_edit_course_schedule_modal:!0,active_course_schedule:JSON.parse(JSON.stringify(e))})},n.handleOnSubmitFilter=function(){var e,t,a=Object(p.N)(n.props.course_schedule.filters_data),s=a.filter_dropdowns_selected,r=a.programs_on_selected_yr,o=(a.programs_label_json,s.year);s.programs;(null===o||void 0===o?void 0:o.length)?(n.setState({new_added_course_schedule_date:void 0}),n.props.fetchCourseScheduleData(Object(d.a)(Object(d.a)({},s),{},{programs_on_selected_yr:r,selected_workspace_id:n.state.selected_workspace_id})),n.handleFiltersAndAutoScrollTable(null===(e=n.props.course_schedule.filters_data)||void 0===e||null===(t=e[1])||void 0===t?void 0:t.options)):alert("Please apply Year filter to narrow the search before fetching for results")},n.handleFilters=function(){var e=n.props.course_schedule,t=e.filters_data.filter((function(e){return e.selected.length>0})),a=e.filters_data.findIndex((function(e){return"Programs"===e.name})),s=e.filters_data.findIndex((function(e){return"year"===e.filter_name}));n.setState({is_filtered:0!==t.length&&0!==e.filters_data[s].selected.length,active_program_name:e.filters_data[a].selected.length?Object(p.S)(Object(f.a)(e.filters_data[a].selected),"label",!1):e.filters_data[a].options})},n.toggleCheckbox=function(e){var t=n.props.course_schedule.event_type_filters;t[e].is_checked=!t[e].is_checked;var a=t.filter((function(e){return e.is_checked})).map((function(e){return e.id}));n.props.updateEventTypesFilterProps({event_type_filters:t,event_type_id:a})},n.updateFilterDropdownSelectedValue=function(e,t){var a=n.props.course_schedule.filters_data;a.map((function(a){t.name===a.name&&(a.selected=e)})),"Year"===t.name&&Object(p.P)(["Programs","Course","Lead Instructor"],a),n.props.updateFilterDropdownSelectedValueProps(a)},n.changeActiveWorkspace=function(e){var t=e.filter((function(e){return e.is_selected})),a=Object(A.a)(t,1)[0].id,s=n.props.admin.profile.workspace.workspace_id;n.props.course_schedule.is_workspace_changed=s!==a,n.props.switchWorkspace({workspace_id:a}),setTimeout((function(){n.props.fetchCourseScheduleDefaultFilter({is_change_active_workspace:!0,selected_workspace_id:a}),n.props.fetchCourseScheduleModalFilter({selected_workspace_id:a,total_filters:null}),n.props.course_schedule.is_show_course_schedule_toast&&n.props.updateIsShowCourseSchedToast()}),u.Ab.normal),n.setState({selected_workspace_id:a,is_not_update_selected_filter:!0})},n.handleToastStatus=function(e,t){n.setState(Object(d.a)({},t)),n.props.handleToastStatus(e)},n.handleClearCourseScheduleFilters=function(){var e=n.props.course_schedule.filters_data;e.map((function(e){e.selected=[],"Year"!==e.name&&(e.options=[])})),n.props.updateFilterDropdownSelectedValueProps(e)},n.handleProgramsFilterOnDropdownOpenClose=function(e){var t=n.state.program_filter_values_close,a=n.props.course_schedule.filters_data,s=a.map((function(e){return{name:e.name,selected:e.selected}}));if(e){var r=Object(p.N)(a).filter_dropdowns_selected;t.after=Object(f.a)(s),JSON.stringify(t.before)!==JSON.stringify(t.after)&&t.after.length&&n.props.updateSelectedFilter({filter_dropdowns_selected:r,selected_filter:"Programs",selected_workspace_id:n.state.selected_workspace_id})}else t.before=Object(f.a)(s);e!==n.state.is_update_program_default_filter&&n.setState({is_update_program_default_filter:e,program_filter_values_close:t})},n.handleSingleSelectFilterOnDropdownClose=function(e){var t=Object(p.N)(n.props.course_schedule.filters_data).filter_dropdowns_selected;n.props.updateSelectedFilter({filter_dropdowns_selected:t,selected_filter:e,selected_workspace_id:n.state.selected_workspace_id})},n.timeline_table_container_ref=s.a.createRef(),n.table_container_ref=s.a.createRef(),n.table_body_container_ref=s.a.createRef(),n.course_schedule_container_ref=s.a.createRef(),n.course_schedule_position_ref=s.a.createRef(),n.autoscroll_table_ref=s.a.createRef(),n.state={navigation:Dh,course_schedule_timeline_date:[],course_schedule_data:n.props.course_schedule.course_schedule_data,mouse_down:!1,table_x_axis_start:null,table_y_axis_start:null,scroll_to_left:null,scroll_to_top:null,is_show_create_course_schedule_modal:!1,is_show_edit_course_schedule_modal:!1,is_show_course_schedule_toast:!1,active_course_schedule:[],selected_course_schedule_details:[],is_loading:!0,new_added_course_schedule_date:void 0,active_program_name:null,is_filtered:!1,is_show_delete_schedule_modal:!1,selected_workspace_id:null,is_update_program_default_filter:!1,program_filter_values_close:{before:[],after:[]},is_fetch_modal_filter:!1,is_add_new_course_schedule:!1,is_update_course_schedule:!1,is_onload_page:!0,is_not_update_selected_filter:!0,is_scrolled_already:!1},n}return Object(_e.a)(a,[{key:"componentWillUnmount",value:function(){this.props.resetCourseScheduleDataWhenUnmount()}},{key:"render",value:function(){var e,t,a,n,r,o,i=this,c=this.state,_=c.navigation,l=c.course_schedule_timeline_date,d=c.selected_course_schedule_details,m=c.new_added_course_schedule_date,h=c.is_show_create_course_schedule_modal,E=c.is_show_edit_course_schedule_modal,f=c.active_course_schedule,g=c.is_show_delete_schedule_modal,b=c.active_program_name,S=c.is_filtered,A=this.props,k=A.course_schedule,O=A.admin,T=k.is_show_course_schedule_toast,C=k.toast_error_message,w=(k.event_type_filters,k.event_type_id),y=k.is_adding_has_error,R=k.is_updating_has_error,D=k.is_workspace_changed,U=k.course_schedule_data,N=k.filters_data;return s.a.createElement("div",{id:"admin_container",className:"admin_student_matching"},s.a.createElement(Gi,{active_icon:"calendar"}),s.a.createElement(Vi,{navigation:_}),s.a.createElement(et,{title:u.lb.admin_page.course_schedule}),s.a.createElement("div",{id:"admin_right_container"},s.a.createElement(sc,{onchangeActiveWorkspace:this.changeActiveWorkspace,profile:this.props.admin.profile}),s.a.createElement("div",{className:"course_schedule_action_container"},s.a.createElement(rE,{filter_dropdowns:this.props.course_schedule.filters_data,updateFilterDropdownSelectedValue:this.updateFilterDropdownSelectedValue,submitFilters:function(){i.setState({is_scrolled_already:!1},(function(){i.handleOnSubmitFilter()}))},clearAllFilters:function(){return i.handleClearCourseScheduleFilters()},handleProgramsFilterOnDropdownOpenClose:this.handleProgramsFilterOnDropdownOpenClose,handleSingleSelectFilterOnDropdownClose:this.handleSingleSelectFilterOnDropdownClose,is_updating_default_filter:this.props.course_schedule.is_updating_default_filter}),Object(p.i)(null===(e=O.profile)||void 0===e||null===(t=e.general)||void 0===t?void 0:t.user_capabilities,"admin.calendar.view_course_schedules.create_course")&&s.a.createElement("button",{className:"add_course_schedule_button ".concat(!U.length&&!N.length||k.is_loading||D?"disabled":""),type:"button",onClick:function(){return i.setState({is_show_create_course_schedule_modal:!0})}},"Create a Course Schedule")||s.a.createElement(s.a.Fragment,null),(h||y)&&s.a.createElement($h,{show:!!h||y,toggleShowModal:function(){Object(p.W)(i,"is_show_create_course_schedule_modal",!1),i.props.course_schedule.is_adding_has_error=!1},handleOnAddCourseSchedule:this.handleOnAddCourseSchedule,updateIsShowCourseSchedToast:function(){return i.props.updateIsShowCourseSchedToast()},selected_workspace_id:this.state.selected_workspace_id})),T&&s.a.createElement(Ki.a,{className:"course_schedule_toast ".concat(C?"error_toast":""),onClose:function(){return i.setState({selected_course_schedule_details:[]},i.props.updateIsShowCourseSchedToast())},show:T,delay:C?8e3:5e3,autohide:!0},s.a.createElement(Ki.a.Body,null,"deleted"!==d.toast_for&&(C?s.a.createElement("div",{dangerouslySetInnerHTML:{__html:C}}):s.a.createElement("p",null," ",s.a.createElement("span",null,d.stack_name)," course successfully ",d.toast_for," for ",d.programs," programs. ")),"deleted"===d.toast_for&&(C?s.a.createElement("div",{dangerouslySetInnerHTML:{__html:C}}):s.a.createElement("p",null," ",s.a.createElement("span",null,d.stack_name)," running on ",v()(d.start_date).format("MMM. D, YYYY")," - ",v()(d.end_date).format("MMM. D, YYYY")," has been successfully deleted. ")),s.a.createElement("button",{type:"button",onClick:function(){return i.setState({selected_course_schedule_details:[]},i.props.updateIsShowCourseSchedToast())}}))),(Object(p.i)(null===O||void 0===O||null===(a=O.profile)||void 0===a||null===(n=a.general)||void 0===n?void 0:n.user_capabilities,"admin.calendar.view_course_schedules.update_course")&&E||R)&&s.a.createElement(nE,{show:!!E||R,toggleShowModal:function(){Object(p.W)(i,"is_show_edit_course_schedule_modal",!1),i.props.course_schedule.is_updating_has_error=!1},selected_course_schedule:f,updateIsShowCourseSchedToast:function(){return i.props.updateIsShowCourseSchedToast()},courseScheduleUpdates:function(e){i.setState({selected_course_schedule_details:{toast_for:"updated",stack_name:e.stack_name,programs:e.program_type_id.length},new_added_course_schedule_date:e.start_date,is_update_course_schedule:!0,is_scrolled_already:!1})},selected_workspace_id:this.state.selected_workspace_id})||"",Object(p.i)(null===O||void 0===O||null===(r=O.profile)||void 0===r||null===(o=r.general)||void 0===o?void 0:o.user_capabilities,"admin.calendar.view_course_schedules.delete_course")&&g&&s.a.createElement(EE,{selected_course_schedule:f,toggleShowModal:function(){return Object(p.W)(i,"is_show_delete_schedule_modal",!1)},show:g,handleOnDeleteCourseSchedule:this.handleOnDeleteCourseSchedule,updateIsShowCourseSchedToast:function(){return i.props.updateIsShowCourseSchedToast()}})||"",k.is_loading?s.a.createElement("div",{id:"table_loading_container",style:{background:"none"}},s.a.createElement("div",null),s.a.createElement("span",null,"Loading...")):k.course_schedule_data.length&&S?s.a.createElement("div",{className:"timeline_table_container",ref:this.timeline_table_container_ref,onMouseMove:this.handleMouseMove,onMouseDown:this.startDragging,onMouseUp:function(){return i.setState({mouse_down:!1})},onMouseLeave:function(){return i.setState({mouse_down:!1})}},s.a.createElement("table",{ref:this.table_container_ref},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Programs"),l.map((function(e,t){var a=v()(new Date).format("MM-DD"),n=v()(new Date,"YYYY-MM-DD"),r=112*n.diff(v()().startOf("year").format("YYYY-MM-DD"),"days")/7+198,o=k.filters_data.findIndex((function(e){return"year"===e.filter_name})),c=0!==k.filters_data[o].selected.length;return m&&(a=v()(m).format("MM-DD")),1===k.course_schedule_data.length&&c&&(a=v()(k.course_schedule_data[0].start_date).isSame(k.filters_data[o].selected[0].label,"year")?v()(k.course_schedule_data[0].start_date).format("MM-DD"):v()(k.course_schedule_data[0].end_date).format("MM-DD")),v()(v()(e.date).format("MM-DD")).diff(v()(a),"days")>=0&&v()(v()(e.date).format("MM-DD")).diff(v()(a),"days")<=7&&!y?s.a.createElement("th",{key:e.id,ref:i.autoscroll_table_ref},v()(e.date).format("D MMM")):s.a.createElement("th",{key:e.id},c&&0===t&&v()(n).isSame(k.filters_data[o].selected[0].label,"year")?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{style:{left:r+"px"},className:"current_date_border"},s.a.createElement("span",{id:"date_pin"}))):"",v()(e.date).format("D MMM"))})))),s.a.createElement("tbody",{ref:this.table_body_container_ref},b.map((function(e,t){var a,n=k.course_schedule_data;return n=k.course_schedule_data.filter((function(t){return t.program_name===e.label})),s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{key:t,className:"program_container",ref:(null===(a=i.props.course_schedule.recent_data)||void 0===a?void 0:a.program_name)===e.label?i.course_schedule_container_ref:null},s.a.createElement("td",null,s.a.createElement("span",{className:"program_label"},e.label)),l.map((function(t,a){var r,o=l[a+1],c=v()(new Date,"YYYY-MM-DD"),_=112*c.diff(v()().startOf("year").format("YYYY-MM-DD"),"days")/7+198,d=k.filters_data.findIndex((function(e){return"year"===e.filter_name})),u=0!==k.filters_data[d].selected.length;return 0===a?s.a.createElement("td",{key:a,className:"course_schedule_container"},null===k||void 0===k?void 0:k.calendar_events.map((function(t,a){if(t.program_type_ids.includes(e.value.toString())&&w.includes(t.holiday_break_type_id&&"Break"!==t.event_type))return s.a.createElement(dE,{event_data:t,event_item_index:a})})),n.length>0&&(null===(r=n)||void 0===r?void 0:r.map((function(e,t){var a,n,r,o;return s.a.createElement(Lh,{isShowDeleteScheduleModal:function(e){return i.setState({is_show_delete_schedule_modal:!0,active_course_schedule:e})},course_schedule_data:e,selectCourseSchedule:i.selectCourseSchedule,course_schedule_container:i.course_schedule_position_ref,is_show_delete_button:Object(p.i)(null===O||void 0===O||null===(a=O.profile)||void 0===a||null===(n=a.general)||void 0===n?void 0:n.user_capabilities,"admin.calendar.view_course_schedules.delete_course"),is_show_update_button:Object(p.i)(null===O||void 0===O||null===(r=O.profile)||void 0===r||null===(o=r.general)||void 0===o?void 0:o.user_capabilities,"admin.calendar.view_course_schedules.update_course")})})))):1===a&&u&&v()(c).isSame(k.filters_data[d].selected[0].label,"year")?s.a.createElement("td",{key:a,className:"current_date_container"},s.a.createElement("div",{style:{left:_+"px"},className:"current_date_border"},s.a.createElement("span",{id:"date_pin_border"}))):s.a.createElement("td",{key:a,className:"".concat(o&&!v()(t.date).isSame(o.date,"month")?"end_of_month":"")})}))))}))))):s.a.createElement("div",{id:"no_results_found"},"No results found")))}}]),a}(n.Component)),gE=ts.a.switchWorkspace,vE=Fh.fetchCourseScheduleData,bE=Fh.fetchCourseScheduleDefaultFilter,SE=Fh.fetchCourseScheduleModalFilter,AE=Fh.updateSelectedFilter,kE=Fh.clearCourseScheduleFilters,OE=Fh.deleteCourseSchedule,TE=Fh.updateIsShowCourseSchedToast,CE=Fh.updateFilterDropdownSelectedValueProps,wE=Fh.fetchCalendarEvents,yE=Fh.updateEventTypesFilterProps,RE=Fh.resetCourseScheduleDataWhenUnmount,DE=Object(p.J)(["admin","course_schedule"],{fetchCourseScheduleData:vE,fetchCourseScheduleDefaultFilter:bE,fetchCourseScheduleModalFilter:SE,updateSelectedFilter:AE,clearCourseScheduleFilters:kE,deleteCourseSchedule:OE,switchWorkspace:gE,updateIsShowCourseSchedToast:TE,updateFilterDropdownSelectedValueProps:CE,fetchCalendarEvents:wE,updateEventTypesFilterProps:yE,resetCourseScheduleDataWhenUnmount:RE}),UE=DE.mapStateToProps,NE=DE.mapDispatchToProps,IE=Object(ue.b)(UE,NE)(fE),PE={program:{name:"Program",is_show_search:!1,is_multi_select:!1,survey_name:"program",selected:[],options:[{label:"Online PT",value:0}]}},jE=(a(1397),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).getStudentProfileDetails=function(e,t,a,s,r){var o,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;"LABEL"===i.target.parentNode.nodeName||i.target.closest(".access_info_container")||(n.props.getStudentProfileDetails({user_id:e,applicant_id:t,user_bootcamp_id:r.user_bootcamp_id,next_stack_params:{program_type_ids:[a],location_ids:[s]},is_from_student_matching:!1,is_from_student_access:!0}),n.setState({is_show_student_profile_modal:!0,student_profile_data:r,selected_applicant_id:t,default_active_tab:(null===i||void 0===i||null===(o=i.target)||void 0===o?void 0:o.getAttribute("data-tab"))||"major_stacks"}))},n.state={active_student_data:void 0,is_major_track:!0,is_show_confirm_deactivate_student_modal:!1,is_show_extend_access_modal:!1,is_show_student_profile_modal:!1,selected_access_expire_date:void 0,student_profile_data:{},copy_clipboard_popover:{is_show:!1,text:"Email address copied to your clipboard",position:{}}},n}return Object(_e.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.y)();!0===e.status?this.current_user=e.user_details:localStorage.setItem("redirect_path",window.location.pathname)}},{key:"render",value:function(){var e=this,t=this.state.copy_clipboard_popover,a=this.props,n=a.students,r=a.is_show_loading,o=a.student_access.student_profile_data,i=(this.current_user||{general:{user_capabilities:null}}).general.user_capabilities,c=this.state,_=c.is_show_confirm_deactivate_student_modal,l=c.active_student_data,m=c.is_show_extend_access_modal,h=c.selected_access_expire_date;return o&&(this.state.student_profile_data=Object(d.a)(Object(d.a)({},this.state.student_profile_data),o)),l=Object(d.a)(Object(d.a)({},l),{},{origin:"admin.student_access.view_by_access.set_bootcamp_access"}),s.a.createElement(s.a.Fragment,null,t.is_show&&s.a.createElement(Zd,{data:t}),r?s.a.createElement("div",{id:"table_loading_container"},s.a.createElement("div",null),s.a.createElement("span",null,"Loading...")):s.a.createElement("ul",{id:"student_access_list"},n.length>0?n.map((function(t,a){return s.a.createElement("li",{key:a,onClick:function(a){return e.getStudentProfileDetails(t.id,t.applicant_id,t.program_type_id,t.location_id,t,a)}},s.a.createElement("div",{className:"student_access_header"},s.a.createElement("div",{className:"user_profile_details"},s.a.createElement("img",{src:t.img_link,alt:"".concat(t.name," User Profile")}),s.a.createElement("div",{className:"user_details_block"},s.a.createElement("div",{className:"name"},t.name,!!t.feedback_count&&s.a.createElement("span",{className:"note_icon","data-tab":"notes"})),s.a.createElement("p",null,s.a.createElement("span",{className:"email_text"},t.email),s.a.createElement("button",{className:"copy_link_icon",onClick:function(a){a.stopPropagation(),Object(p.n)(a,t.email,e)}}),s.a.createElement("a",{className:"sent_email_icon",href:"mailto: ".concat(t.email),onClick:function(e){e.stopPropagation()}})))),s.a.createElement("div",{className:"user_details"},s.a.createElement("div",{className:"user_detail_block"},s.a.createElement("span",null,"Account Type"),s.a.createElement("span",null,t.account_type)),s.a.createElement("div",{className:"user_detail_block"},s.a.createElement("span",null,"Start Date"),s.a.createElement("span",null,t.program_start_date)),t.program_start_date_override&&s.a.createElement("div",{className:"user_detail_block"},s.a.createElement("span",null,"Start Date Override"),s.a.createElement("span",null,t.program_start_date_override)),s.a.createElement("div",{className:"user_detail_block"},s.a.createElement("span",null,"End Date"),s.a.createElement("span",null,t.exp_graduation_date)),s.a.createElement("div",{className:"user_detail_block"},s.a.createElement("span",null,"Current"),s.a.createElement("span",null,t.current_track)),s.a.createElement("div",{className:"user_detail_block"},s.a.createElement("span",null,"Readiness Flag"),s.a.createElement("span",null,t.is_at_risk)),s.a.createElement("div",{className:"user_detail_block"},s.a.createElement("span",null,"Access"),s.a.createElement("div",{className:"access_info_container"},s.a.createElement("label",null,Object(p.i)(i,"admin.student_access.view_by_access.set_bootcamp_access")&&s.a.createElement(s.a.Fragment,null,s.a.createElement("input",{type:"checkbox",name:"is_valid",checked:t.is_access_enabled,onChange:function(a){a.target.checked?e.props.onchangeProgramStatus(a,Object(d.a)(Object(d.a)({},t),{origin:"admin.student_access.view_by_access.set_bootcamp_access"}),!1):e.setState({is_show_confirm_deactivate_student_modal:!0,active_student_data:t})}}),s.a.createElement("span",{className:"is_valid_checkbox_style"})),s.a.createElement("span",{className:t.is_access_enabled?"valid_till_label":"access_locked"},t.is_access_enabled?"Valid till":"Access Locked")),!!t.is_access_enabled&&s.a.createElement(hu,{selected:new Date(t.access_expire_at),onChange:function(a){return e.setState({is_show_extend_access_modal:!0,selected_access_expire_date:v()(a).format("MMMM DD, YYYY"),active_student_data:t})},is_allowed:Object(p.i)(i,"admin.student_access.view_by_access.set_bootcamp_access"),value:v()(t.access_expire_at).format("MMMM DD, YYYY"),dateFormat:"MMMM d, yyyy",placeholderText:"Select Access Expiration Date"}))))),s.a.createElement("div",{className:"major_tracks"},s.a.createElement("h4",null,"MAJOR COURSES"),s.a.createElement("ul",{className:"tracks_list"},t.major_tracks.map((function(e,t){return s.a.createElement("li",{className:e.is_locked?"is_lock":""},e.stack)})))),s.a.createElement("div",{className:"minor_tracks"},s.a.createElement("h4",null,"MINOR COURSES"),s.a.createElement("ul",{className:"tracks_list"},t.minor_tracks.map((function(e,t){return s.a.createElement("li",{className:e.is_locked?"is_lock":""},e.stack)})))))})):s.a.createElement("li",{className:"no_student_list_result"},s.a.createElement("span",{className:"global_search_icon"}),s.a.createElement("span",null,"Use filters or search to fetch results"))),this.state.is_show_student_profile_modal&&s.a.createElement(Lu,{toggleShowModal:function(){return Object(p.W)(e,"is_show_student_profile_modal",!1)},student_data:this.state.student_profile_data,show:this.state.is_show_student_profile_modal,default_active_tab:this.state.default_active_tab,admin_page:u.c.access.student_access}),l&&s.a.createElement(du,{show:_,student:l,changeProgramStatus:this.props.onchangeProgramStatus,toggleShowModal:function(){return Object(p.W)(e,"is_show_confirm_deactivate_student_modal",!1)}}),h&&s.a.createElement(pu,{show:m,student:l,date:h,toggleShowModal:function(){return Object(p.W)(e,"is_show_extend_access_modal",!1)},onUpdateBootcampExpiration:this.props.onUpdateBootcampExpiration}))}}]),a}(n.Component)),LE=Pa.a.getStudentProfileDetails,ME=Object(p.J)(["student_access"],{getStudentProfileDetails:LE}),FE=ME.mapStateToProps,xE=ME.mapDispatchToProps,BE=Object(ue.b)(FE,xE)(jE),WE=(a(1398),a(1399),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).customContentRenderer=function(){var e,t,a=null===(e=n.props)||void 0===e?void 0:e.dropdown;return s.a.createElement(s.a.Fragment,null,(null===a||void 0===a||null===(t=a.selected)||void 0===t?void 0:t.length)>0?null===a||void 0===a?void 0:a.selected[0].label:null===a||void 0===a?void 0:a.name)},n.searchDropdownMenuOption=function(e,t){n.setState({search:e.target.value}),t.setSearch(e)},n.customDropdownRenderer=function(e){var t=e.props,a=e.state,r=e.methods,o=n.state.search,i=n.props.dropdown,c=new RegExp(o,"i"),_=t.options.filter((function(e){return c.test(e[t.searchBy]||e[t.labelField])}));return s.a.createElement(s.a.Fragment,null,i.is_show_search&&s.a.createElement("div",{className:"dropdown_search_container"},s.a.createElement("input",{autoFocus:!0,type:"text",value:o,onChange:function(e){return n.searchDropdownMenuOption(e,r)},placeholder:"Type anything"})),s.a.createElement("div",{className:"dropdown_menu"},_.length>0?_.map((function(e){return s.a.createElement("div",{className:"dropdown_item",disabled:e.disabled,key:e[t.valueField],onClick:e.disabled?null:function(){return r.addItem(e)}},s.a.createElement("input",{type:"checkbox",onChange:function(){return e.disabled?void 0:r.addItem(e)},checked:-1!==a.values.indexOf(e)}),s.a.createElement("span",null,e[t.labelField]))})):s.a.createElement("div",{className:"no_results_found"},"No results found.")))},n.state={search:""},n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.dropdown,r=a.is_disabled,o=void 0!==r&&r;return s.a.createElement(es.a,{className:"student_access_select ".concat((null===n||void 0===n||null===(e=n.selected)||void 0===e?void 0:e.length)>0&&"has_value"),contentRenderer:this.customContentRenderer,dropdownHandle:!0,onChange:function(e){return t.props.onUpdateSelectedStudentAccessDropdownValue(e,n)},onDropdownClose:function(){return t.setState({search:""})},options:null===n||void 0===n?void 0:n.options,dropdownRenderer:this.customDropdownRenderer,disabled:o,placeholder:null===n||void 0===n?void 0:n.name,dropdownHandleRenderer:function(){return s.a.createElement(Te.a,{icon:["fas","caret-down"]})},values:null===n||void 0===n?void 0:n.selected})}}]),a}(n.Component)),HE=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).updateSelectedStudentAccessDropdownValue=function(e,t){var a,s,r,o=[],i=(null===(a=n.props)||void 0===a||null===(s=a.student_access)||void 0===s?void 0:s.required_dropdown_data)||[],c=Object(A.a)(e,1)[0];if("Programs"===t.name&&(null===c||void 0===c?void 0:c.value)){var _=i.filter((function(e){return"program_type_id"===e.filter_name}));o=Object(A.a)(_,1)[0],n.setState({student_access_data:Object(d.a)(Object(d.a)({},n.state.student_access_data),{},{program:e.length?c:[]})}),n.props.onUpdateStudentAccessFilterOptions({admin_page:u.c.access.student_access,program_type_id:e,is_create_student:!0})}else if("Program Start Date"===t.name&&(null===c||void 0===c?void 0:c.value)){var l=i.filter((function(e){return"bootcamp_start_date"===e.filter_name}));o=Object(A.a)(l,1)[0],n.setState({student_access_data:Object(d.a)(Object(d.a)({},n.state.student_access_data),{},{program_start_date:c})})}else"Campus"===t.name&&(null===c||void 0===c?void 0:c.value)&&(o=n.props.student_access.campus_location,n.setState({student_access_data:Object(d.a)(Object(d.a)({},n.state.student_access_data),{},{campus:c})}));(o.selected=e.length?[Object(d.a)({},c)]:[],"Programs"===t.name&&o.selected)&&n.props.fetchCampusLocation({program_type_id:null===(r=o.selected[0])||void 0===r?void 0:r.value})},n.setStudentAccessExpirationDate=function(e){n.setState({student_access_data:Object(d.a)(Object(d.a)({},n.state.student_access_data),{},{expiration_date:e})})},n.submitCreateStudentAccess=function(e,t){e.preventDefault();var a=n.props.admin.profile.available_workspaces.filter((function(e){return e.is_selected})),s=Object(A.a)(a,1)[0].id;t=Object(d.a)(Object(d.a)({},t),{},{workspace_id:s}),n.props.addStudentAccess(t),n.props.resetStudentAccessProps()},n.closeCreateStudentModal=function(e){e.preventDefault();var t=n.state.student_access_dropdowns;t.program.selected=[],n.setState({student_access_data:{program_start_date:"",student_email:""},student_access_dropdowns:t,is_show_create_student_access_modal:!1}),n.props.clearStudentAccess({is_export:!1}),n.props.toggleShowModal(!1)},n.state={student_access_dropdowns:PE,is_show_create_student_access_modal:!1,student_access_data:{program:"",program_start_date:"",campus:"",student_email:""},is_valid_email:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t,a,n,r,o,i=this,c=this.state,_=(c.student_access_dropdowns,c.student_access_data),l=c.is_valid_email,d=_.first_name,u=_.last_name,m=_.student_email,h=_.program,E=_.program_start_date,f=_.campus,g=this.props,v=g.toggleShowModal,b=g.show,S=g.student_access,k=(g.resetStudentAccessProps,(null===(e=this.props)||void 0===e||null===(t=e.student_access)||void 0===t||null===(a=t.required_dropdown_data)||void 0===a?void 0:a.filter((function(e){return"program_type_id"===e.filter_name})))||[{}]),O=Object(A.a)(k,1)[0],T=(null===(n=this.props)||void 0===n||null===(r=n.student_access)||void 0===r||null===(o=r.required_dropdown_data)||void 0===o?void 0:o.filter((function(e){return"bootcamp_start_date"===e.filter_name})))||[{}],C=Object(A.a)(T,1)[0];C=(null===O||void 0===O?void 0:O.selected.length)?C:{filter_name:"bootcamp_start_date",is_multi_select:!1,is_show_search:!0,name:"Program Start Date",selected:[]};var w=(null===O||void 0===O?void 0:O.selected.length)?this.props.student_access.campus_location:{filter_name:"bootcamp_location_id",is_multi_select:!1,is_show_search:!0,name:"Campus",selected:[]};return s.a.createElement(De.a,{id:(null===S||void 0===S?void 0:S.added_student)?"success_modal":"create_student_account_modal",className:(null===S||void 0===S?void 0:S.added_student)?"success_modal":"",backdrop:"static",show:b,onHide:function(e){return i.closeCreateStudentModal(e)}},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,"Create a Student Account"),s.a.createElement("button",{type:"button",onClick:function(e){return i.closeCreateStudentModal(e)}})),s.a.createElement(De.a.Body,null,(null===S||void 0===S?void 0:S.added_student)?s.a.createElement("p",null,d&&d," ",u&&u," (exp. on ",C.selected[0].label,") has been successfully created."):s.a.createElement("div",{id:"student_account_details"},s.a.createElement("div",{className:"input_details_block"},s.a.createElement("span",{className:"label_title"},"First Name"),s.a.createElement("input",{type:"text",placeholder:"First Name",name:"first_name",onChange:function(e){return Object(p.d)(e,null,i)}})),s.a.createElement("div",{className:"input_details_block"},s.a.createElement("span",{className:"label_title"},"Last Name"),s.a.createElement("input",{type:"text",placeholder:"Last Name",name:"last_name",onChange:function(e){return Object(p.d)(e,null,i)}})),s.a.createElement("div",{className:"input_details_block"},s.a.createElement("span",{className:"label_title"},"Email Address"),s.a.createElement("input",{type:"text",placeholder:"Email address",name:"student_email",className:l&&m.length>0||0===m.length?"":"email_error",onChange:function(e){return Object(p.d)(e,"student_email",i)}}),(null===S||void 0===S?void 0:S.is_account_exist)&&s.a.createElement("span",{className:"error_message"},"Email Already Exist!")),s.a.createElement("div",{className:"input_details_block"},s.a.createElement("span",{className:"label_title"},"Program"),s.a.createElement(WE,{dropdown:O,onUpdateSelectedStudentAccessDropdownValue:this.updateSelectedStudentAccessDropdownValue})),s.a.createElement("div",{className:"input_details_block"},s.a.createElement("span",{className:"label_title"},"Program Start Date"),s.a.createElement(WE,{dropdown:C,onUpdateSelectedStudentAccessDropdownValue:this.updateSelectedStudentAccessDropdownValue})),s.a.createElement("div",{className:"input_details_block"},s.a.createElement("span",{className:"label_title"},"Campus"),s.a.createElement(WE,{dropdown:w,onUpdateSelectedStudentAccessDropdownValue:this.updateSelectedStudentAccessDropdownValue})))),s.a.createElement(De.a.Footer,null,(null===S||void 0===S?void 0:S.added_student)?s.a.createElement("button",{className:"view_account_btn",onClick:function(e){i.props.onViewStudentAccount(e,_),i.closeCreateStudentModal(e)}},"View Account"):s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{onClick:function(){i.setState({is_show_create_student_access_modal:!1}),v(!1)}},"Cancel"),s.a.createElement("button",{className:"confirm_btn "+(l&&d&&u&&h&&E&&f?"":"disabled"),onClick:function(e){return i.submitCreateStudentAccess(e,_)}},"Confirm"))))}}]),a}(n.Component),KE=Pa.a.addStudentAccess,GE=Pa.a.clearStudentAccess,VE=Pa.a.resetStudentAccessProps,qE=Pa.a.fetchRequiredDataForCreateStudent,YE=Pa.a.fetchCampusLocation,QE=Object(p.J)(["student_access","admin"],{addStudentAccess:KE,clearStudentAccess:GE,resetStudentAccessProps:VE,fetchRequiredDataForCreateStudent:qE,fetchCampusLocation:YE}),$E=QE.mapStateToProps,zE=QE.mapDispatchToProps,JE=Object(ue.b)($E,zE)(HE),XE=a(514),ZE=a.n(XE),ef=(a(1400),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).changeInputCreateSurveyDetails=function(e){n.setState({csv_student_access_data:Object(d.a)(Object(d.a)({},n.state.csv_student_access_data),{},Object(l.a)({},e.target.name,e.target.value))})},n.updateSelectedStudentAccessDropdownValue=function(e,t){var a,s,r,o=[],i=(null===(a=n.props)||void 0===a||null===(s=a.student_access)||void 0===s?void 0:s.required_dropdown_data)||[],c=Object(A.a)(e,1)[0];if("Programs"===t.name&&(null===c||void 0===c?void 0:c.value)){var _=i.filter((function(e){return"program_type_id"===e.filter_name}));o=Object(A.a)(_,1)[0],n.setState({csv_student_access_data:Object(d.a)(Object(d.a)({},n.state.csv_student_access_data),{},{program:e.length?c:[]})}),n.props.onUpdateStudentAccessFilterOptions({admin_page:u.c.access.student_access,program_type_id:e,is_create_student:!0})}else if("Program Start Date"===t.name&&(null===c||void 0===c?void 0:c.value)){var l=i.filter((function(e){return"bootcamp_start_date"===e.filter_name}));o=Object(A.a)(l,1)[0],n.setState({csv_student_access_data:Object(d.a)(Object(d.a)({},n.state.csv_student_access_data),{},{program_start_date:c})})}else"Campus"===t.name&&(null===c||void 0===c?void 0:c.value)&&(o=n.props.student_access.campus_location,n.setState({csv_student_access_data:Object(d.a)(Object(d.a)({},n.state.csv_student_access_data),{},{campus:c})}));(o.selected=e.length>0?[Object(d.a)({},c)]:[],"Programs"===t.name&&o.selected)&&n.props.fetchCampusLocation({program_type_id:null===(r=o.selected[0])||void 0===r?void 0:r.value})},n.setStudentAccessCSVExpirationDate=function(e){n.setState({csv_student_access_data:Object(d.a)(Object(d.a)({},n.state.csv_student_access_data),{},{expiration_date:e})})},n.submitUploadCSVStudentAccess=function(e,t){e.preventDefault();var a=n.props.admin.profile.available_workspaces.filter((function(e){return e.is_selected})),s=Object(A.a)(a,1)[0].id;t=Object(d.a)(Object(d.a)({},t),{},{workspace_id:s});var r=new FileReader;r.onload=function(){var e=Object(q_.a)(V_.a.mark((function e(a){var s,r,o;return V_.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=a.target,r=ZE.a.parse(s.result,{header:!0}),o=null===r||void 0===r?void 0:r.data.slice(0,(null===r||void 0===r?void 0:r.data.length)-1),n.setState({data:o}),n.props.uploadCSVStudentAccess(Object(d.a)(Object(d.a)({},t),{},{csv_file:o}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.readAsText(n.state.file),n.setState({is_upload_student_access_success:!0}),n.props.resetStudentAccessProps()},n.closeCSVStudentAccessModal=function(e){e.preventDefault();var t=n.state.student_access_dropdowns;t.program.selected=[],n.setState({csv_student_access_data:{expiration_date:"",student_email:""},student_access_dropdowns:t,is_show_csv_student_access_modal:!1,is_upload_student_access_success:!1}),n.props.clearStudentAccess({is_export:!1}),n.props.toggleShowModal(!1)},n.uploadCSVStudentAccessFileData=function(e){if("text/csv"===e.target.files[0].type&&n.setState({csv_student_access_data:Object(d.a)(Object(d.a)({},n.state.csv_student_access_data),{},{csv_file:e.target.files[0]})}),e.target.files.length){var t=e.target.files[0];n.setState({file:t})}},n.removeUploadedCSV=function(){n.setState({csv_student_access_data:Object(d.a)(Object(d.a)({},n.state.csv_student_access_data),{},{csv_file:""})})},n.state={student_access_dropdowns:PE,is_show_csv_student_access_modal:!1,csv_student_access_data:{program:"",program_start_date:"",campus:""},is_upload_student_access_success:!1,is_valid_email:!1,data:[],file:""},n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t,a,n,r,o,i,c,_,l,d,u,p=this,m=this.state,h=(m.student_access_dropdowns,m.csv_student_access_data),E=(m.is_upload_student_access_success,h.program),f=h.program_start_date,g=h.campus,v=h.csv_file,b=this.props,S=b.toggleShowModal,k=b.show,O=b.student_access,T=b.resetStudentAccessProps,C=(null===(e=this.props)||void 0===e||null===(t=e.student_access)||void 0===t||null===(a=t.required_dropdown_data)||void 0===a?void 0:a.filter((function(e){return"program_type_id"===e.filter_name})))||[{}],w=Object(A.a)(C,1)[0],y=(null===(n=this.props)||void 0===n||null===(r=n.student_access)||void 0===r||null===(o=r.required_dropdown_data)||void 0===o?void 0:o.filter((function(e){return"bootcamp_start_date"===e.filter_name})))||[{}],R=Object(A.a)(y,1)[0];R=(null===w||void 0===w?void 0:w.selected.length)?R:{filter_name:"bootcamp_start_date",is_multi_select:!1,is_show_search:!0,name:"Program Start Date",selected:[]};var D=(null===w||void 0===w?void 0:w.selected.length)?this.props.student_access.campus_location:{filter_name:"bootcamp_location_id",is_multi_select:!1,is_show_search:!0,name:"Campus",selected:[]};return s.a.createElement(De.a,{id:(null===O||void 0===O||null===(i=O.added_student)||void 0===i?void 0:i.length)?"success_modal":"upload_student_account_modal",className:(null===O||void 0===O||null===(c=O.added_student)||void 0===c?void 0:c.length)?"success_modal":"",backdrop:"static",show:k,onShow:function(){return T()},onHide:function(e){return p.closeCSVStudentAccessModal(e)}},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,"Upload CSV"),s.a.createElement("button",{type:"button",onClick:function(e){return p.closeCSVStudentAccessModal(e)}})),s.a.createElement(De.a.Body,null,(null===O||void 0===O||null===(_=O.added_student)||void 0===_?void 0:_.length)?s.a.createElement("p",null,null===O||void 0===O||null===(l=O.added_student)||void 0===l?void 0:l.length," ",(null===O||void 0===O||null===(d=O.added_student)||void 0===d?void 0:d.length)>1?"students":"student"," have been successfully uploaded to ",null===E||void 0===E?void 0:E.label,"."):s.a.createElement("div",{id:"upload_student_account_details"},s.a.createElement("div",{className:"input_details_block"},s.a.createElement("p",{className:"label_title"},"Upload CSV File ",s.a.createElement("a",{href:"https://assets.codingdojo.com/learn_platform/admin/student_access/upload_access_csv_template.csv",download:"upload_access_csv_template.csv"},"Download CSV template")),(null===O||void 0===O?void 0:O.is_account_exist)&&s.a.createElement("span",{className:"error_message"},"Email Already Exist!"),s.a.createElement("div",{className:"upload_student_access_csv_file_block"+(v?" is_uploaded":"")},s.a.createElement("p",{className:v?"":"placeholder"},s.a.createElement("span",{className:"upload_icon "+(v?"is_uploaded":"")},v&&s.a.createElement(Te.a,{icon:["fa","check"]}))," ",v?v.name:"Upload Local CSV"),v?s.a.createElement("button",{type:"button",onClick:this.removeUploadedCSV},s.a.createElement("span",{className:"remove_icon"})):s.a.createElement("label",null,s.a.createElement("input",{type:"file",name:"csv_file",className:"hidden",onChange:function(e){return p.uploadCSVStudentAccessFileData(e)}}),s.a.createElement("span",null,"Browse")))),s.a.createElement("div",{className:"input_details_block"},s.a.createElement("span",{className:"label_title"},"Program"),s.a.createElement(WE,{dropdown:w,onUpdateSelectedStudentAccessDropdownValue:this.updateSelectedStudentAccessDropdownValue})),s.a.createElement("div",{className:"input_details_block"},s.a.createElement("span",{className:"label_title"},"Program Start Date"),s.a.createElement(WE,{dropdown:R,onUpdateSelectedStudentAccessDropdownValue:this.updateSelectedStudentAccessDropdownValue})),s.a.createElement("div",{className:"input_details_block"},s.a.createElement("span",{className:"label_title"},"Campus"),s.a.createElement(WE,{dropdown:D,onUpdateSelectedStudentAccessDropdownValue:this.updateSelectedStudentAccessDropdownValue})))),!(null===O||void 0===O||null===(u=O.added_student)||void 0===u?void 0:u.length)&&s.a.createElement(De.a.Footer,null,s.a.createElement("button",{onClick:function(){p.setState({is_show_csv_student_access_modal:!1}),S(!1)}},"Cancel"),s.a.createElement("button",{className:"confirm_btn "+(v&&E&&f&&g?"":"disabled"),onClick:function(e){return p.submitUploadCSVStudentAccess(e,h)}},"Confirm Upload")))}}]),a}(n.Component)),tf=Pa.a.addStudentAccess,af=Pa.a.uploadCSVStudentAccess,nf=Pa.a.clearStudentAccess,sf=Pa.a.resetStudentAccessProps,rf=Pa.a.fetchCampusLocation,of=Object(p.J)(["student_access","admin"],{addStudentAccess:tf,uploadCSVStudentAccess:af,clearStudentAccess:nf,resetStudentAccessProps:sf,fetchCampusLocation:rf}),cf=of.mapStateToProps,_f=of.mapDispatchToProps,lf=Object(ue.b)(cf,_f)(ef),df=(a(1401),function(e){Object(le.a)(n,e);var t=Object(de.a)(n);function n(e){var a,s,r;Object(ce.a)(this,n),(r=t.call(this,e)).componentDidMount=function(){var e=r.props.admin.profile.available_workspaces.filter((function(e){return e.is_selected})),t=Object(A.a)(e,1)[0].id;setTimeout((function(){r.props.getStudentAccessFilters({selected_workspace_id:t,admin_page:u.c.access.student_access})}),u.Ab.fastest),r.setState({selected_workspace_id:t,is_auto_fetch:!0})},r.componentDidUpdate=function(e,t){var a=r.props.student_access,n=a.filters,s=a.is_export,o=a.filtered_student_link,i=r.state,c=i.search_student_keyword,_=i.is_set_keyword,l=i.is_change_workspace,d=i.selected_workspace_id,p=i.is_auto_fetch,m=i.filter_dropdowns;(!c&&(null===n||void 0===n?void 0:n.search_student_keyword)&&_&&r.setState({search_student_keyword:n.search_student_keyword,is_set_keyword:!1}),l&&r.props.admin.profile.workspace.workspace_id===d&&(r.props.getStudentAccessFilters({selected_workspace_id:r.props.admin.profile.workspace.workspace_id,admin_page:u.c.access.student_access},r.submitFilters),r.setState({is_change_workspace:!1,search_student_keyword:"",is_set_keyword:!0,is_update_filter_options:!1})),s&&t.is_processing_export&&"text/html"!==(null===o||void 0===o?void 0:o.type)&&r.setState({students:{},is_processing_export:!1}),p&&(null===m||void 0===m?void 0:m.length))&&((m.filter((function(e){return e.selected.length})).length||c)&&r.submitFilters(),r.setState({is_auto_fetch:!1}))},r.changeActiveWorkspace=function(e){var t=e.filter((function(e){return e.is_selected})),a=Object(A.a)(t,1)[0].id;r.props.switchWorkspace({workspace_id:a}),r.setState({is_change_workspace:!0,selected_workspace_id:a})},r.updateFilterDropdownSelectedValue=function(e,t){if(r.state.is_update_filter_options){var a=Object(f.a)(r.state.filter_dropdowns),n=Object(p.O)(e,t,a),s=n.filter_dropdowns,o=Object(Mc.a)(n,["filter_dropdowns"]);r.state.is_clear_filter&&!e.length||!["cc_stack_id","cc_stack_start_date","program_type_id","bootcamp_start_date"].includes(t.filter_name)||r.props.updateStudentAccessFilterOptions(Object(d.a)({admin_page:u.c.access.student_access},o)),r.setState({selected_cc_stack_id:o.cc_stack_id,filter_dropdowns:s,is_clear_filter:!1})}r.setState({is_update_filter_options:!0})},r.searchStudents=function(e){e.preventDefault(),r.setState({pagination:{current_page:1,students_per_page:r.props.student_access.filters.page_count}},(function(){r.submitFilters(null)}))},r.setSearchStudentsKeyword=function(e){e.preventDefault(),r.setState({search_student_keyword:e.target.value})},r.submitFilters=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=r.state,n=a.filter_dropdowns,s=a.search_student_keyword,o=a.pagination;e&&(o={current_page:1,students_per_page:r.props.student_access.filters.page_count},e.preventDefault());var i=r.props.admin.profile.available_workspaces.filter((function(e){return e.is_selected})),c=Object(A.a)(i,1),_=c[0].id,l={admin_page:u.c.access.student_access,pagination:o,search_student_keyword:s,workspace_id:_};n.map((function(e){e.selected.length&&(l[e.filter_name]=e.selected.length>1?e.selected.map((function(e){return e.value})):e.selected[0].value)})),"export"===t?l.event="export":r.props.student_access.filters&&(r.props.student_access.filters.search_student_keyword=s||""),r.setState({is_loading:!0,pagination:o}),r.props.getFilteredStudents(l)},r.processExportFilteredStudents=function(){r.setState({is_processing_export:!0}),r.submitFilters(null,"export")},r.changeProgramStatus=function(e,t,a){r.props.updateStudentProgramAccess({user_id:t.id,applicant_id:t.applicant_id,user_bootcamp_id:t.user_bootcamp_id,origin:t.origin,is_access_enabled:e.target.checked,admin_page:u.c.access.student_access,is_from_student_profile:a})},r.viewStudentAccount=function(e,t){var a=r.state.filter_dropdowns.map((function(e){return"Programs"===e.name?e.selected=[t.program]:"Program Start Date"===e.name?e.selected=[t.program_start_date]:"Campus"===e.name?e.selected=[Object(d.a)(Object(d.a)({},t.campus),{},{filter_name:"bootcamp_location_id"})]:e.selected=[],e}));r.setState({filter_dropdown:a,search_student_keyword:t.student_email,is_view_student_account:!0},(function(){setTimeout((function(){r.submitFilters()}),u.Ab.fast)}))},r.paginateData=function(e){r.state.pagination.current_page=Number(e),r.submitFilters(null)},r.updatePageCount=function(e){r.state.pagination.students_per_page!==e.page_count&&(r.props.student_access.filters.page_count=e.page_count,r.setState({pagination:{current_page:1,students_per_page:e.page_count}},(function(){r.submitFilters(null)})))},r.clearAllFilters=function(){var e=Object(f.a)(r.state.filter_dropdowns);e.map((function(e){e.selected.length>0&&(e.selected=[])})),r.props.updateStudentAccessFilterOptions({admin_page:u.c.access.student_access}),r.setState({filter_dropdowns:e,is_clear_filter:!0})},r.updateBootcampExpiration=function(e,t){var a=e.id,n=e.applicant_id,s=e.user_bootcamp_id,o=e.origin;r.props.updateBootcampExpiration({user_id:a,applicant_id:n,user_bootcamp_id:s,origin:o,expiration_date:t,is_from_student_profile:!1})};var o=Object(p.y)();return r.state={profile:Object(d.a)({},r.props.student_access.profile),navigation:Object(p.w)(null===o||void 0===o||null===(a=o.user_details)||void 0===a||null===(s=a.general)||void 0===s?void 0:s.user_capabilities,"student_access"),filter_dropdowns:[],search_student_keyword:"",is_processing_export:!1,is_loading:!1,students:[],is_show_create_student_access_modal:!1,is_show_csv_student_access_modal:!1,selected_workspace_id:void 0,prev_search_key_not_set:!0,selected_cc_stack_id:null,pagination:{current_page:1,students_per_page:30},total_results:0,is_update_program_access:!1,is_set_keyword:!1,is_change_workspace:!1,is_update_filter_options:!0},r}return Object(_e.a)(n,[{key:"render",value:function(){var e,t,n=this,r=this.state,o=r.navigation,i=(r.profile,r.is_processing_export),c=r.is_show_create_student_access_modal,_=r.is_show_csv_student_access_modal,l=r.pagination,d=this.props.student_access,m=d.filters,h=d.students,E=d.is_export,f=d.is_loading,g=(d.student_profile_data,d.filtered_student_link),v=this.props.student_access,b=void 0;m&&m.status&&(this.state.filter_dropdowns=null!==(e=m.result)&&void 0!==e?e:[],""===this.state.search_student_keyword&&this.state.prev_search_key_not_set&&(this.state.search_student_keyword=m.search_student_keyword,this.state.prev_search_key_not_set=!1));v.filters&&(this.state.filter_dropdowns=null!==(t=v.filters.result)&&void 0!==t?t:[],""==this.state.search_student_keyword&&this.state.prev_search_key_not_set&&(this.state.search_student_keyword=v.filters.search_student_keyword,this.state.prev_search_key_not_set=!1),(b=v.filters.page_count)&&(this.state.pagination.students_per_page=b));var S=l.current_page*l.students_per_page,A=S-l.students_per_page;if(i&&E){if(g&&"text/html"===g.type){var k=window.URL.createObjectURL(new Blob([g])),O=document.createElement("a");O.href=k;var T=a(12);O.setAttribute("download","student-access-export(".concat(T().format("MMDDYYYY"),").csv")),document.body.appendChild(O),O.click(),O.parentNode.removeChild(O),this.state.is_processing_export=!1}}else!E&&h&&(this.state.students=h.students_list?Object.entries(h.students_list).map((function(e){return e[1]})):[],this.state.total_results=h.total_results?h.total_results:0);return s.a.createElement("div",{id:"admin_student_access_container"},s.a.createElement(et,{title:u.lb.admin_page.access}),s.a.createElement(Gi,{active_icon:"users"}),s.a.createElement(Vi,{navigation:o,admin_page:"student_access"}),s.a.createElement("div",{id:"student_access_right_container"},s.a.createElement(sc,{profile:this.props.admin.profile,search_student_keyword:this.state.search_student_keyword,onSearchStudents:this.searchStudents,onSetSearchStudentsKeyword:this.setSearchStudentsKeyword,onchangeActiveWorkspace:this.changeActiveWorkspace}),s.a.createElement("div",{id:"table_tools_container"},s.a.createElement(Yi,{filter_dropdowns:this.state.filter_dropdowns,submitFilters:this.submitFilters,updateFilterDropdownSelectedValue:this.updateFilterDropdownSelectedValue,clearAllFilters:function(){return Vl(n)}}),s.a.createElement("div",{id:"other_tools_container"},s.a.createElement("button",{type:"button",onClick:function(){n.processExportFilteredStudents()}},s.a.createElement("span",{className:"download_csv_icon"})))),s.a.createElement(BE,{students:this.state.students,is_show_loading:f,onchangeProgramStatus:this.changeProgramStatus,onUpdateBootcampExpiration:this.updateBootcampExpiration}),c&&s.a.createElement(JE,{filter_dropdowns:this.state.filter_dropdowns,show:c,toggleShowModal:function(){return Object(p.W)(n,"is_show_create_student_access_modal",!1)},onUpdateStudentAccessFilterOptions:this.props.updateStudentAccessFilterOptions,onViewStudentAccount:this.viewStudentAccount}),_&&s.a.createElement(lf,{show:_,onUpdateStudentAccessFilterOptions:this.props.updateStudentAccessFilterOptions,toggleShowModal:function(){return Object(p.W)(n,"is_show_csv_student_access_modal",!1)}}),s.a.createElement(kc,{pagination:l,total_results:this.state.total_results,index_of_last_student:S,index_of_first_student:A+1,onPaginateData:this.paginateData,onUpdatPageCount:this.updatePageCount,page_count:b})))}}]),n}(n.Component)),uf=ts.a.switchWorkspace,pf=Pa.a.getFilteredStudents,mf=Pa.a.getStudentAccessFilters,hf=Pa.a.updateStudentAccessFilterOptions,Ef=Pa.a.updateStudentProgramAccess,ff=Pa.a.changeActiveWorkspace,gf=Pa.a.fetchRequiredDataForCreateStudent,vf=Pa.a.updateBootcampExpiration,bf=Object(p.J)(["student_access","admin","dashboard"],{getStudentAccessFilters:mf,updateStudentAccessFilterOptions:hf,getFilteredStudents:pf,updateStudentProgramAccess:Ef,changeActiveWorkspace:ff,fetchRequiredDataForCreateStudent:gf,updateBootcampExpiration:vf,switchWorkspace:uf}),Sf=bf.mapStateToProps,Af=bf.mapDispatchToProps,kf=Object(ue.b)(Sf,Af)(df),Of={title:"Management",links:[{name:"Student Rostering",link:"/admin/student_rostering/roster",sub_links:[]},{name:"Course Dashboard",link:"/admin/course_dashboard",sub_links:[]},{name:"Student Progress",link:"/admin/student_progress/course",sub_links:[]},{name:"Access",link:"/admin/student_access/access",sub_links:[]},{name:"Exam",link:"/admin/exam",sub_links:[]}]},Tf=[{name:"checkbox",width:50},{name:"Name",sort_data:"name",width:180},{is_show:!0,name:"Program",sort_data:"program",width:100},{is_show:!0,name:"Enrollment Status",sort_data:"enrollment_status",width:140},{is_show:!0,name:"Course",sort_data:"course",width:100},{is_show:!0,name:"Course Start Date",sort_data:"course_start_date",width:100},{is_show:!0,name:"Taught By",sort_data:"taught_by",width:120},{is_show:!0,name:"Belt",sort_data:"belt",width:55,view:"attendance"},{is_show:!0,name:"Belt (Best Result)",sort_data:"best_belt_score",width:55,view:"assignment"},{is_show:!0,name:"Belt (Most Recent)",sort_data:"recent_belt_score",width:55,view:"assignment"},{is_show:!0,name:"Assignment",sort_data:"assignment",width:55},{is_show:!0,name:"Attendance",sort_data:"attendance_rate",width:55},{is_show:!0,name:"AP",sort_data:"ap",width:80},{is_show:!0,name:"Veteran",sort_data:"is_veteran",width:80},{is_show:!0,name:"Readiness Flag",width:60,sort_data:"risk_status"},{is_show:!0,name:"Student Experience Manager",width:60,sort_data:"sem_name"}],Cf=[{label:"Day 1",value:0},{label:"Day 2",value:1},{label:"Day 3",value:2},{label:"Day 4",value:3},{label:"Day 5",value:4},{label:"Day 6",value:5},{label:"Day 7",value:6}],wf=[{id:1,label:"1",is_active:!1,is_hide:"",is_disabled:!1},{id:2,label:"2",is_active:!1,is_hide:"",is_disabled:!1},{id:3,label:"3",is_active:!1,is_hide:"",is_disabled:!1}],yf=[{id:1,name:"Present",is_active:!1,class:"cd_green"},{id:2,name:"Absent",is_active:!1,class:"cd_red"},{id:3,name:"Late",is_active:!1,class:"cd_yellow"},{id:5,name:"Excused",is_active:!1,class:"cd_violet"},{id:4,name:"None",is_active:!1,class:"cd_gray"}],Rf=(a(1402),a(1403),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).onChangeAttendancePeriod=function(e,t){var a=Object(f.a)(n.state.attendance_period),s=Object(f.a)(n.state.default_for_discussion_period);t?(a.map((function(t){t.id===e.id&&(t.is_active=!t.is_active)})),n.setState({attendance_period:a})):(s.map((function(t){t.id===e.id&&(t.is_active=!t.is_active)})),n.setState({default_for_discussion_period:s}))},n.selectAttendanceStatus=function(e){var t=Object(f.a)(n.state.attendance_status);t.map((function(t){t.is_active=t.id===e})),n.setState({attendance_status:t,affected_students_counter:n.countAffectedExistingAttendance()})},n.countAffectedExistingAttendance=function(){var e=0,t=n.state.week_dropdown_value.value,a=n.state.day_dropdown_value.value,s=n.state.attendance_period.filter((function(e){return e.is_active}));return n.props.students.map((function(n){n.is_checked&&s.map((function(s){var r,o,i;(null===n||void 0===n||null===(r=n.weeks)||void 0===r?void 0:r[t])&&(n.weeks[t][a]&&(null===(o=n.weeks[t][a])||void 0===o?void 0:o.attendances[s.id-1])&&""!==(null===(i=n.weeks[t][a])||void 0===i?void 0:i.attendances[s.id-1].status)&&e++)}))})),e},n.submitUpdateStudentsAttendance=function(e,t){var a,s,r,o;e.preventDefault();var i,c,_,l,u=n.state.week_dropdown_value.value,p=n.state.day_dropdown_value.value,m=t?n.state.attendance_period.filter((function(e){return e.is_active})):n.state.default_for_discussion_period.filter((function(e){return e.is_active})),h=n.state.attendance_status.filter((function(e){return e.is_active}))[0],E=Object(d.a)({},n.props.stack_list_of_dates_by_week),g=void 0;E[null===(a=n.state)||void 0===a||null===(s=a.week_dropdown_value)||void 0===s?void 0:s.value][(null===(r=n.state)||void 0===r||null===(o=r.day_dropdown_value)||void 0===o?void 0:o.value)+1]&&(g=E[null===(i=n.state)||void 0===i||null===(c=i.week_dropdown_value)||void 0===c?void 0:c.value][(null===(_=n.state)||void 0===_||null===(l=_.day_dropdown_value)||void 0===l?void 0:l.value)+1]);n.props.onSubmitUpdateStudentsAttendance(u,p,m,h,g,"admin.student_progress.view_by_stack.set_attendance");var v=Object(f.a)(n.state.steps);v.map((function(e){e.is_completed=!0})),n.setState({is_show_success_modal:!0,steps:v})},n.goToNextPrevStep=function(e){var t=Object(f.a)(n.state.steps),a=Object(f.a)(n.state.attendance_status),s=t.filter((function(e){return e.is_active}))[0].id,r="next"===e?s+1:s-1;"prev"===e&&2===r&&a.map((function(e){return e.is_active=!1})),t.map((function(e){e.is_active=e.id===r,e.is_completed=e.id<r})),n.setState({steps:t,attendance_status:a})},n.hideModal=function(){n.props.toggleShowModal(),setTimeout((function(){var e=Object(f.a)(n.state.attendance_period),t=Object(f.a)(n.state.default_for_discussion_period),a=Object(f.a)(n.state.attendance_status),s=Object(f.a)(n.state.steps);e.map((function(e){e.is_active=!1})),t.map((function(e){e.is_active=!1})),a.map((function(e){e.is_active=!1})),s.map((function(e){e.is_active=1===e.id,e.is_completed=!1})),n.autoSelectCurrentWeek(),n.setState({is_show_success_modal:!1,steps:s})}),500)},n.selectAllAttendancePeriod=function(e){var t=Object(f.a)(n.state.attendance_period),a=Object(f.a)(n.state.default_for_discussion_period);e?(t.map((function(e){e.is_active=!0})),n.setState({attendance_period:t})):(a.map((function(e){e.is_active=!0})),n.setState({default_for_discussion_period:a}))},n.updateSelectDay=function(e){var t=Object(f.a)(n.state.week_dropdown_options),a=n.props.stack_list_of_dates_by_week[e.value],s=[];for(var r in a)s.push({label:"Day ".concat(r),value:r-1});JSON.stringify(t[t.length-1])===JSON.stringify(e)?n.setState({day_dropdown_options:s,day_dropdown_value:s[s.length-1]}):n.setState({day_dropdown_options:s}),n.setState({week_dropdown_value:e})},n.state={week_dropdown_options:[],day_dropdown_options:Cf,attendance_period:Object(f.a)(wf).slice(0,n.props.attendance_frequency),attendance_status:yf,week_dropdown_value:{label:"Week 1",value:1},day_dropdown_value:Cf[0],active_attendance_period_label:{label:"",class:""},affected_students_counter:0,steps:[{id:1,is_active:!0,is_completed:!1},{id:2,is_active:!1,is_completed:!1},{id:3,is_active:!1,is_completed:!1}],is_show_success_modal:!1,stack_list_of_dates_by_week:{},default_for_discussion_period:[{id:1,label:"1",is_active:!1,is_hide:"",is_disabled:!1}],selected_student_for_dropdown:[]},n}return Object(_e.a)(a,[{key:"componentDidMount",value:function(){this.autoSelectCurrentWeek()}},{key:"autoSelectCurrentWeek",value:function(){var e,t,a,n,s,r,o=this.props.stack_list_of_dates_by_week,i=(null===(e=this.props)||void 0===e||null===(t=e.admin)||void 0===t||null===(a=t.profile)||void 0===a||null===(n=a.workspace)||void 0===n||null===(s=n.workspace_settings_json)||void 0===s||null===(r=s.customization)||void 0===r?void 0:r.calendar)||{week_start_day:"Monday",week_end_day:"Sunday"},c=i.week_start_day,_=i.week_end_day,l=o[1][1],d=new Date(l)>=new Date,p=[],m={},h=v()().isoWeekday(_).diff(v()(l).isoWeekday(c),"day")+1,E=!1;if(Object.keys(o).length)for(var f=1;f<=Object.keys(o).length;f++){var g={label:"Week ".concat(f),value:f};p.push(g),f===h/7&&(m=g,E=u.s.YES_VALUE)}Object.values(m).length||(m=p[d?0:p.length-1]);var b=v()().diff(v()(l).isoWeekday(c),"day")+1,S=this.state.day_dropdown_options,A=null;if(E)for(var k=0;k<S.length;k++)b%7-1===k&&(A=S[k]);A||(A=S[d?0:S.length-1]),this.setState({week_dropdown_options:p,week_dropdown_value:m,day_dropdown_value:A})}},{key:"render",value:function(){for(var e=this,t=this.props,a=t.student_progress,n=(a.weeks_tab,a.successfully_checked_student_count),r=(t.students,t.stack_list_of_dates_by_week),o=t.check_attendances_response,i=t.check_attendances_response_message,c=t.selected_students,_=[!1],l=v()(r[1][1]).format("LL"),d=this.props.students,p=this.state,m=p.day_dropdown_options,h=p.week_dropdown_value,E=p.day_dropdown_value,f=p.attendance_period,g=p.attendance_status,b=(p.affected_students_counter,p.default_for_discussion_period),S=p.steps,k=p.is_show_success_modal,O=p.week_dropdown_options,T=[],C=[],w=0;w<c.length;w++){var y=c[w],R=y.is_user_attendance_by_discussion,D=y.is_checked,U=y.user_discussion_list_by_week,N=y.id;if(D&&(R||_.push(!0),null===U||void 0===U?void 0:U[h.value])){var I=U[h.value]||[],P=Object(A.a)(I,1)[0];if(P){var j=P.split(",").length;C.push(j),T.push(N)}}}if(!this.props.selected_all_students_to_process&&!_.includes(!0)){var L=0;if(C){L=Math.max.apply(Math,C);for(var M=[],F=0;F<L;F++)M.push({label:"Day ".concat(F+1),value:F})}JSON.stringify(m)!==JSON.stringify(this.state.day_dropdown_options)&&this.setState({day_dropdown_options:m,day_dropdown_value:m[0]||[]})}var x=S.filter((function(e){return e.is_active}))[0].id,B=_?f.filter((function(e){return e.is_active})):b.filter((function(e){return e.is_active}));return s.a.createElement(De.a,{id:"take_attendance_modal",centered:!0,show:this.props.show,onHide:function(){return e.hideModal()}},s.a.createElement(De.a.Header,null,s.a.createElement("h4",null,"Take Attendance"),s.a.createElement("button",{onClick:function(){return e.hideModal()}},s.a.createElement("span",{className:"close_icon"}))),s.a.createElement("form",{onSubmit:function(t){return e.submitUpdateStudentsAttendance(t,_)}},s.a.createElement(De.a.Body,null,s.a.createElement("ul",{className:"list-unstyled",id:"update_attendance_steps"},this.state.steps.map((function(e){return s.a.createElement("li",{key:e.id,className:"".concat(e.is_active?"active":""," ").concat(e.is_completed?"completed":"")},e.id)}))),k?s.a.createElement("p",{id:"success_message"},"boolean"==typeof o?o||"string"!=typeof i?"You\u2019ve successfully taken attendance for ".concat(n," students."):i:""):s.a.createElement(s.a.Fragment,null,s.a.createElement("h6",null,void 0!==this.props.total_selected&&this.props.total_selected||this.props.total_results," students selected"),s.a.createElement("p",null,s.a.createElement("h6",null,null===d||void 0===d?void 0:d.filter((function(e){return e.is_checked})).map((function(e){return e.program})).filter((function(e,t,a){return a.indexOf(e)==t})).join(", ")),s.a.createElement("h6",null,null===d||void 0===d?void 0:d.filter((function(e){return e.is_checked})).map((function(e){return e.stack})).filter((function(e,t,a){return a.indexOf(e)==t})).join(", ")),l?s.a.createElement("h6",null,"Starting on ",s.a.createElement("span",null,l)):s.a.createElement("h6",null,"No Selected Course Start Date")),x===u.p.DEFAULT_ACTIVE_STEP&&s.a.createElement("div",{id:"select_date_attendance"},s.a.createElement("p",null,"Select A Date To Take Attendance"),s.a.createElement(es.a,{className:"take_attendance_select",values:[h],options:O,searchable:!1,onChange:function(t){return e.updateSelectDay(t[0])}}),s.a.createElement(es.a,{className:"take_attendance_select",values:[E],options:m,searchable:!1,onChange:function(t){return e.setState({day_dropdown_value:t[0]})}}),E&&h&&r[null===h||void 0===h?void 0:h.value]&&s.a.createElement("span",null,s.a.createElement(En.a,{format:"MM/DD/YYYY ddd"},r[null===h||void 0===h?void 0:h.value][(null===E||void 0===E?void 0:E.value)+1]))),x>1&&s.a.createElement("p",{id:"selected_week_day"},h.label," ",E.label," "),2===x&&s.a.createElement("div",{id:"select_attendance_slot_container"},s.a.createElement("p",null,"Select one or more attendance slots"),_?f.map((function(t){return s.a.createElement("label",{title:"Period ".concat(t.id)},s.a.createElement("input",{onChange:function(){return e.onChangeAttendancePeriod(t,_)},type:"checkbox",checked:t.is_active,name:"attendance_period"}),s.a.createElement("span",{className:t.class},t.id))})):b.map((function(t){return s.a.createElement("label",{title:"Period ".concat(t.id)},s.a.createElement("input",{onChange:function(){return e.onChangeAttendancePeriod(t,_)},type:"checkbox",checked:t.is_active,name:"attendance_period"}),s.a.createElement("span",{className:t.class},t.id))})),s.a.createElement("button",{type:"button",onClick:function(){return e.selectAllAttendancePeriod(_)}},"select all")),x>2&&s.a.createElement("div",{id:"selected_attendance_container"},s.a.createElement("span",null,"Attendance slots"),s.a.createElement("ul",{className:"list-unstyled"},B.map((function(e){return s.a.createElement("li",null,e.id)})))),3===x&&s.a.createElement("div",{id:"attendance_status_container"},s.a.createElement("span",null,"Select an attendance status"),g.map((function(t){return s.a.createElement("label",{title:t.name},s.a.createElement("input",{checked:t.is_active,type:"radio",name:"attendance_status",value:t.id,onChange:function(){return e.selectAttendanceStatus(t.id)}}),s.a.createElement("span",{className:t.class,title:t.name},t.name))})),void 0!==this.props.total_selected&&s.a.createElement("p",null,"This will overwrite ",this.props.total_selected||this.props.total_results," existing attendance results")))),!k&&s.a.createElement(De.a.Footer,null,x>1&&s.a.createElement("button",{type:"button",onClick:function(){return e.goToNextPrevStep("prev")},id:"back_btn"},"Back"),x<3&&s.a.createElement("button",{type:"button",className:"".concat(2===x&&0===B.length?"disabled":""),onClick:function(){return e.goToNextPrevStep("next",d,h,E)},id:"next_btn"},"Next"),3===x&&s.a.createElement("button",{className:"".concat(3===x&&g.filter((function(e){return e.is_active})).length?"":"disabled"),type:"submit",id:"confirm_btn"},"Done"))))}}]),a}(n.Component)),Df=Object(p.J)(["student_progress","admin"],{}),Uf=Df.mapStateToProps,Nf=Df.mapDispatchToProps,If=Object(ue.b)(Uf,Nf)(Rf),Pf=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).state={is_show_downloading_modal:!1,is_show_take_attendance_modal:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.selected_students,r=a.students,o=a.selected_all_students_to_process,i=a.onSubmitUpdateStudentsAttendance,c=a.stack_start_date,_=a.total_results,l=a.total_selected,d=a.check_attendances_response,u=a.check_attendances_response_message,m=a.has_set_attendance_access,h=(null===r||void 0===r||null===(e=r[0])||void 0===e?void 0:e.attendance_frequency)||0;return s.a.createElement("div",{id:"multi_select_student_popover"},s.a.createElement("p",null,s.a.createElement("span",null,l||_)," of ",_," results"),s.a.createElement("button",{disabled:!m,type:"button",id:"take_attendance_btn",onClick:function(){return m&&Object(p.W)(t,"is_show_take_attendance_modal",!0)}},s.a.createElement("span",null)," Take Attendance"),s.a.createElement(If,{attendance_frequency:h,total_results:_,selected_students:n,selected_all_students_to_process:o,check_attendances_response:d,check_attendances_response_message:u,total_selected:this.props.total_selected,show:this.state.is_show_take_attendance_modal,students:r,stack_start_date:c,onSubmitUpdateStudentsAttendance:i,stack_list_of_dates_by_week:this.props.stack_list_of_dates_by_week,toggleShowModal:function(){return Object(p.W)(t,"is_show_take_attendance_modal",!1)}}))}}]),a}(n.Component),jf=(a(1404),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).state={show_stack_performance:!0,belt_exam_summary:[],stack_progress_summary:[],default_belt_exam_summary:[{id:1,belt_class:"",name:"BPR",rate:0},{id:2,belt_class:"",name:"Belt Attempts",rate:"0/0"},{id:3,belt_class:"red_belt",name:"Red Belts",rate:0},{id:4,belt_class:"black_belt",name:"Black Belts",rate:0},{id:5,belt_class:"yellow_belt",name:"Yellow Belts",rate:0},{id:6,belt_class:"orange_belt",name:"Orange Belts",rate:0}],default_stack_progress_summary:[{id:1,name:"attendance",rate:0},{id:2,name:"assignment",rate:0},{id:3,name:"postpone",rate:0},{id:4,name:"retakes",rate:0},{id:5,name:"drops",rate:0}]},n}return Object(_e.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this.props.student_progress,n=a.stack_belt_exam_summary,s=a.stack_progress_summary;JSON.stringify(t.belt_exam_summary)!==JSON.stringify(n)&&n.length>0&&this.setState({belt_exam_summary:n}),JSON.stringify(t.stack_progress_summary)!==JSON.stringify(s)&&s.length>0&&this.setState({stack_progress_summary:s}),0===n.length&&0===t.belt_exam_summary.length&&this.setState({belt_exam_summary:t.default_belt_exam_summary}),0===s.length&&0===t.stack_progress_summary.length&&this.setState({stack_progress_summary:t.default_stack_progress_summary})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"widget_container",className:this.state.show_stack_performance?"":"closed"},s.a.createElement("div",{className:"blk",id:"stack_belt_exam_container"},s.a.createElement("h6",null,"Course Belt Exam Summary"),s.a.createElement("ul",{className:"list-unstyled"},this.state.belt_exam_summary.map((function(e){return s.a.createElement("li",null,1!=e.id&&2!=e.id&&s.a.createElement("span",{className:"icon ".concat(e.belt_class)}),s.a.createElement("span",{className:"name"},e.name),s.a.createElement("span",{className:"rate ".concat(1===e.id?"green":"")},e.rate,"BPR"===e.name&&"%"))})))),s.a.createElement("div",{className:"blk",id:"stack_progress_container"},s.a.createElement("h6",null,"Course Progress Summary"),s.a.createElement("ul",{className:"list-unstyled"},this.state.stack_progress_summary.map((function(e){return s.a.createElement("li",{key:e.id},s.a.createElement("span",{className:"icon ".concat(e.name)}),s.a.createElement("span",{className:"name"},e.name),s.a.createElement("span",{className:"rate"},e.rate,"%"))})))),s.a.createElement("button",{type:"button",onClick:function(){return e.setState({show_stack_performance:!e.state.show_stack_performance})},className:"collapse_btn"}))}}]),a}(n.Component)),Lf=Object(p.J)(["student_progress"],{}),Mf=Lf.mapStateToProps,Ff=Lf.mapDispatchToProps,xf=(Object(ue.b)(Mf,Ff)(jf),a(1405),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).state={instructor_feedback:""},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.props.assignment_feedback_modal_details,a=u.h.name[t.assignment.is_for_review?u.h.value.is_for_review:t.assignment.status].toLowerCase();return s.a.createElement(De.a,{id:"give_assignment_feedback_modal",show:this.props.show,centered:!0,onHide:function(){return e.props.toggleShowModal(!1)}},s.a.createElement(De.a.Header,null,s.a.createElement(De.a.Title,null,"Give Assignment Feedback"),s.a.createElement("button",{onClick:function(){return e.props.toggleShowModal(!1)}},s.a.createElement("span",{className:"close_icon"}))),s.a.createElement("form",{action:"",onSubmit:function(a){var n,s;return e.props.onSubmitAssignmentFeedback(a,e.state.instructor_feedback,null===(n=t.assignment)||void 0===n||null===(s=n.file)||void 0===s?void 0:s.id,t.course.course_id,t.assignment)}},s.a.createElement(De.a.Body,null,s.a.createElement("h5",null,t.student_name),s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("li",null,t.track_name),s.a.createElement("li",null,t.course.course_name),s.a.createElement("li",null,t.assignment.title)),s.a.createElement("span",{className:a},"need-review"===a?a.replace("-"," "):a),s.a.createElement("textarea",{placeholder:"Leave your feedback here",name:"instructor_feedback",onChange:function(t){return Object(p.C)(t,e)}},t.assignment.instructor_feedback)),s.a.createElement(De.a.Footer,null,s.a.createElement("button",{type:"submit",className:""===this.state.instructor_feedback.replace(/^\s+/,"").replace(/\s+$/,"")?"disabled":""},"Send"))))}}]),a}(n.Component)),Bf=(a(1406),a(1407),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.props.is_show&&n.setState({is_show_assignment_checklist:!0,is_loading:!0}),n.state.active_user_bootcamp_id||n.setState({active_user_bootcamp_id:n.props.active_assignment_checklist_data.user_bootcamp_id})},n.renderAssignmentSubmittedDate=function(e,t){var a;return e.file||e.link?(null===e||void 0===e||null===(a=e.file)||void 0===a?void 0:a.created_at)?s.a.createElement(En.a,{format:"MM/DD/YYYY"},e.file.created_at):"Deleted Assignment":e.has_assignment_with_no_file?"-":""},n.updateSelectedTrackDropdown=function(e){n.setState({is_loading:!0});var t=e[0],a=t.applicant_id,s=t.student_id,r=t.cc_stack_id,o=t.user_track_id,i=t.program_type_id,c=t.name,_=t.cc_stack_schedule_id,l=t.start_date,d=t.end_date,u=t.program_start_date,p=t.track_id;n.props.fetchStudentTrackChecklist({applicant_id:a,student_id:s,cc_stack_id:r,user_track_id:o,program_type_id:i,name:c,cc_stack_schedule_id:_,stack_start:l,stack_end:d,program_start_date:u,selected_workspace_id:n.props.selected_workspace_id,track_id:p})},n.showAssignmentUploadHistory=function(e,t){var a=Object(f.a)(n.state.track_courses);a.map((function(a){a.id===t&&a.assignments.map((function(t){t.id===e&&(t.is_show_history=!t.is_show_history)}))})),n.setState({track_courses:a})},n.updateStatusDropdownValue=function(e,t,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=Object(d.a)({},n.state.track_courses),o=Object(A.a)(e,1),i=o[0],c=i.label,_=i.value,l=i.is_for_review,p=(s.assignment_type_no,s.chapter_id,s.chapter_module_id,s.chapter_title,s.course_alias,s.course_created_at,s.course_icon_src,s.date_uploaded,s.day,s.file),m=(p.file_url,p.id,s.student_id,s.title,s.track_name,s.week,s.type,s.user_track_id,s.applicant_id,s.track_id,s.is_for_review),h=(s.user_module_id,s.status,u.h.value),E=h.on_time,g=h.out_of_schedule;h.is_for_review;if(!m&&_!==s.status||m&&[E,g].includes(_)){var v=s.assignment_type_no,b=s.chapter_id,S=s.chapter_module_id,k=s.chapter_title,O=s.course_alias,T=s.course_created_at,C=s.course_icon_src,w=s.date_uploaded,y=s.day,R=s.file,D=R.file_url,U=R.id,N=s.student_id,I=s.title,P=s.track_name,j=s.week,L=s.type,M=s.user_track_id,F=s.applicant_id,x=s.track_id,B=s.is_for_review,W=s.user_module_id,H=s.status,K={is_for_review:B,user_module_id:W,track_id:x,chapter_id:b,chapter_module_id:S,course_alias:O,course_created_at:T,course_icon_src:C,course_id:a,date_uploaded:w,day:y,file_name:D.split("/").pop(),file_url:D,id:U,status:_,title:I,track_name:P,type:v,week:j,track:{chapter_title:k,module_title:I,track_title:P}};if("core"===L.toLowerCase()){var G=Object(f.a)(n.state.assignment_type_progress),V=u.h.name,q=V[E].split("-").join(" "),Y=G.map((function(e){return"core"===e.name&&e.completion_description.map((function(e){var t,a,r,o;c===(null===(t=n.state.status_dropdown_options)||void 0===t||null===(a=t[s.status])||void 0===a?void 0:a.label)&&"Need Review"===c||("Need Review"===c?(null===(r=n.state.status_dropdown_options)||void 0===r||null===(o=r[s.status])||void 0===o?void 0:o.label)===e.name&&(e.completed_assignment-=1):(c===V[g]&&e.name===V[g]&&(e.completed_assignment+=1),c===q&&e.name===q&&(e.completed_assignment+=1),c===q&&e.name===V[g]&&_!==s.status&&B!==u.h.value.is_for_review&&(e.completed_assignment-=1),c===V[g]&&e.name===q&&_!==s.status&&B!==u.h.value.is_for_review&&(e.completed_assignment-=1)));return e})),e}));n.setState({assignment_type_progress:Y})}r[a]&&r[a].assignments.map((function(e){if(e&&parseInt(e.chapter_module_id)===parseInt(S)){var t,o,i,c={day:y,week:j,user_track_id:M,student_id:N,chapter_module_id:S,chapter_id:b,applicant_id:F,course_id:a,status:_,track_id:x,is_for_review:B,user_module_id:W,current_is_for_review:s.is_for_review,current_assignment_status:s.status,cc_stack_schedule_id:null===(t=n.props.student_progress)||void 0===t||null===(o=t.student_track_checklist)||void 0===o||null===(i=o.selected_track)||void 0===i?void 0:i.cc_stack_schedule_id};if(e&&parseInt(e.chapter_module_id)===parseInt(S)&&"Core"===e.type){var d=0;if(!B&&H!==g||_!==E?H!==E||_===E&&!l||B||d--:d++,d){var p=r[a].student_assignment_by_course;p+=d;var m=Math.round(p/r[a].assignment_by_course*100);r[a].student_assignment_by_course=p,r[a].progress=m}}l?(B=_,c.is_need_to_review=!0,c.status=H):(B=u.h.review_status.no_review,e.status=_,delete c.is_need_to_review),e.is_for_review=B,c.is_for_review=B,n.props.updateStudentAssignmentStatus(c)}})),n.props.onUpdateStudentAssignmentStatus(N,L,K),n.setState({track_courses:r})}},n.customTrackDropdownToggleContent=function(e){var t=e.state;return t.values[0].track_name&&t.values[0].date||t.values[0].instructor_name?s.a.createElement("span",null,t.values[0].track_name," (",t.values[0].date,", ",t.values[0].instructor_name," )"):s.a.createElement("span",null)},n.customTrackDropdownMenuContent=function(e){var t=e.props,a=e.state,n=e.methods;return t.options.map((function(e){return s.a.createElement("span",{className:"".concat(a.values[0].value===e.value?"react-dropdown-select-item-selected":""),disabled:e.disabled,key:e[t.valueField],onClick:e.disabled?null:function(){return n.addItem(e)}},e.track_name," (",e.date,", ",e.instructor_name,")")}))},n.showGiveFeedbackModal=function(e,t){var a=Object(d.a)({},n.state.assignment_feedback_modal_details);a.assignment=e,a.course=t,a.track_name=n.state.selected_track.track_name,a.student_name=n.state.student_name,n.setState({is_show_give_assignment_feedback_modal:!0,assignment_feedback_modal_details:a})},n.submitAssignmentFeedback=function(e,t,a,s){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;e.preventDefault();var o=Object(d.a)({},n.state.track_courses),i=t.replace(/^\s+/,"").replace(/\s+$/,"");r&&i&&function(){var e=r.student_id,s=r.chapter_module_id,i=r.applicant_id,c=r.track_id,_=r.course_id,l=r.cc_stack_schedule_id;for(var d in o)o[d].course_id==_&&o[d].assignments.map((function(r){var o;r&&((null===r||void 0===r||null===(o=r.file)||void 0===o?void 0:o.id)&&r.file.id==a&&(r.instructor_feedback=t,n.props.setFeedbackToAChapterModule({student_id:e,chapter_module_id:s,applicant_id:i,track_id:c,course_id:_,cc_stack_schedule_id:l,user_bootcamp_id:n.state.active_user_bootcamp_id,content:t})))}));n.setState({track_courses:o,is_show_give_assignment_feedback_modal:!1})}()},n.hideAssignmentChecklist=function(){n.setState({is_show_assignment_checklist:!1}),setTimeout((function(){n.props.onToggleShowStudentAssignmentChecklist(!1)}),1e3)},n.state={is_loading:!1,is_show_give_assignment_feedback_modal:!1,assignment_feedback_modal_details:void 0,student_name:void 0,is_show_assignment_checklist:!1,is_student_checklist_loading:!1,track_dropdown_option:[],selected_track:{},assignment_type_progress:[{id:1,name:"core",completion_description:[{name:"On-time",completed_assignment:0,total_assignment:0},{name:"Out-of-schedule",completed_assignment:0,total_assignment:0}]},{id:2,name:"practice",completion_description:[{name:"Submission",completed_assignment:0,total_assignment:0}]},{id:3,name:"optional",completion_description:[{name:"Submission",completed_assignment:0,total_assignment:0}]}],status_dropdown_options:[{label:"Out-of-schedule",value:0},{label:"On Time",value:1},{label:"Need Review",is_for_review:!0,value:4}],track_courses:[],active_course_id:null,active_user_bootcamp_id:null},n}return Object(_e.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.props.student_progress,s=n.student_track_checklist,r=n.is_student_checklist_loading;if(s){var o=s.assignment_type_progress,i=s.selected_track,c=s.track_courses,_=s.track_dropdown_option,l=s.student_name;o&&i&&c&&_&&l&&(JSON.stringify(t.assignment_type_progress)===JSON.stringify(o)&&JSON.stringify(t.selected_track)===JSON.stringify(i)&&JSON.stringify(t.track_courses)===JSON.stringify(c)&&JSON.stringify(t.track_dropdown_option)===JSON.stringify(_)&&JSON.stringify(t.student_name)===JSON.stringify(l)||this.setState({assignment_type_progress:o,selected_track:i,track_courses:c,track_dropdown_option:_,student_name:l}))}JSON.stringify(t.is_loading)!==JSON.stringify(r)&&setTimeout((function(){a.setState({is_loading:r})}),1e3)}},{key:"render",value:function(){var e=this,t=this.state,a=t.track_dropdown_option,n=t.track_courses,r=t.is_loading,o=t.assignment_feedback_modal_details,i=t.student_name,c=this.props,_=c.has_set_assignment_status_access,l=c.has_set_assignment_feedback_access,d=document.querySelector("#student_checklist_content"),m=document.querySelector("#assignment_breakdown_container .card .collapse.show .highlight_assignment");return d&&m&&(d.scrollTop=m.offsetTop+m.offsetHeight),s.a.createElement("div",{id:"student_checklist_container",className:this.state.is_show_assignment_checklist?"show":""},s.a.createElement("div",{id:"checklist_breadcrumb"},s.a.createElement("button",{type:"button",onClick:function(){e.hideAssignmentChecklist(),e.props.submitFilters(!1,"filter","",!1,"assignment",!0)}},s.a.createElement(Te.a,{icon:["fas","chevron-left"]})),s.a.createElement("ul",null,s.a.createElement("li",null,"Course Dashboard"),s.a.createElement("li",null,"Student Assignment Checklist"))),r?s.a.createElement("div",{className:"loading"},s.a.createElement("div",null),s.a.createElement("span",null,"Loading...")):s.a.createElement("div",{id:"student_checklist_content"},s.a.createElement("div",{id:"student_name_container"},s.a.createElement("h5",null,"Student Name"),s.a.createElement("span",null,i)),s.a.createElement("div",{id:"track_name_container"},s.a.createElement("h5",null,"Course"),s.a.createElement(es.a,{values:[this.state.selected_track],options:a,contentRenderer:this.customTrackDropdownToggleContent,dropdownRenderer:this.customTrackDropdownMenuContent,searchable:!1,onChange:function(t){return e.updateSelectedTrackDropdown(t)}})),s.a.createElement("ul",{id:"assignment_type_progress_list"},this.state.assignment_type_progress.map((function(e){var t=0;return s.a.createElement("li",{key:e.id},s.a.createElement("h5",null,e.name," ",s.a.createElement("span",{id:"".concat(e.name,"_icon")})," "),s.a.createElement("ul",null,e.completion_description.map((function(e){var a=e.completed_assignment?Math.round(e.completed_assignment/e.total_assignment*100):0;return t+=a,s.a.createElement("li",null,e.name," ",a,"% (",e.completed_assignment,"/",e.total_assignment,")")}))),s.a.createElement("div",{className:"completion_progress_container"},e.completion_description.map((function(e){var t=e.completed_assignment?Math.round(e.completed_assignment/e.total_assignment*100):0;return"Out-of-schedule"===e.name?s.a.createElement("div",{className:"late_progress",style:{width:t+"%"}}):s.a.createElement("div",{className:"on_time_progress",style:{width:t+"%"}})}))),s.a.createElement("span",null,"0%"),s.a.createElement("span",null,t,"%"))}))),s.a.createElement("h4",null,"Assignment Breakdown"),s.a.createElement("div",{id:"assignment_breakdown_container"},s.a.createElement(Aa.a,{defaultActiveKey:this.props.active_assignment_checklist_data.course_id},Object.values(n)&&Object.values(n).map((function(t){return s.a.createElement(ka.a,null,s.a.createElement(Aa.a.Toggle,{as:ka.a.Header,eventKey:t.course_id},s.a.createElement("div",{className:"left_container"},s.a.createElement("img",{src:t.course_icon_src||"https://s3.amazonaws.com/General_V88/boomyeah2015/codingdojo/course_icons/workshop.png",alt:"".concat(t.course_alias," icon")}),s.a.createElement("h5",null,t.course_alias)),s.a.createElement("div",{className:"right_container"},s.a.createElement("div",{className:"core_on_time_label"},"CORE(On-time)"),s.a.createElement("div",{className:"badge"},s.a.createElement("span",null,t.student_assignment_by_course,"/",t.assignment_by_course),s.a.createElement("span",null,t.progress,"%")),s.a.createElement("button",{type:"button"},s.a.createElement("span",null)))),s.a.createElement(Aa.a.Collapse,{eventKey:t.course_id},s.a.createElement(s.a.Fragment,null,s.a.createElement("ul",{id:"assignment_list_header"},s.a.createElement("li",null,"Assignment"),s.a.createElement("li",null,"Status"),s.a.createElement("li",null,"Type"),s.a.createElement("li",null,"Due Date"),s.a.createElement("li",null,"Course End Date"),s.a.createElement("li",null,"Submitted"),s.a.createElement("li",null,"Time Spent"),s.a.createElement("li",null,"File"),s.a.createElement("li",null,"Link")),s.a.createElement("ul",{id:"assignment_list_body"},t.assignments&&t.assignments.map((function(a){var n,r;return s.a.createElement("li",{className:"assignment_item \n                                                        ".concat(a.history&&a.history.length>0&&a.is_show_history?"active":"","\n                                                        ").concat(a.chapter_module_id===e.props.active_assignment_checklist_data.chapter_module_id?"highlight_assignment":"")},s.a.createElement("ul",{className:"assignment_item_details"},s.a.createElement("li",null,s.a.createElement("div",{className:"assignment_name_container"},s.a.createElement(pe.b,{to:"/m/".concat(a.track_id,"/").concat(a.chapter_id,"/").concat(a.chapter_module_id),target:"_blank"},a.title),s.a.createElement("button",{type:"button",disabled:!l,className:"feedback_icon ".concat(a.instructor_feedback?"with_feedback":""),onClick:function(){return void 0!==a.status&&l&&e.showGiveFeedbackModal(a,{course_name:t.course_alias,course_id:t.course_id})}}))),s.a.createElement("li",null,void 0!==a.status&&a.status!==u.h.value.unsubmitted?s.a.createElement(es.a,{className:"".concat(null===u.h||void 0===u.h?void 0:u.h.name[(null===a||void 0===a?void 0:a.is_for_review)?u.h.value.is_for_review:null===a||void 0===a?void 0:a.status].toLowerCase()),values:[e.state.status_dropdown_options[(null===a||void 0===a?void 0:a.is_for_review)?u.h.option_index.is_for_review:null===a||void 0===a?void 0:a.status]],options:e.state.status_dropdown_options,searchable:!1,disabled:!a.is_within_stack_sched||!_,onChange:function(n){return _&&e.updateStatusDropdownValue(n,a.file.id,t.course_id,a)}}):"No Submission"),s.a.createElement("li",null,a.type),s.a.createElement("li",null,a.due_date),s.a.createElement("li",null,a.track_end_date),s.a.createElement("li",null,e.renderAssignmentSubmittedDate(a,t.id)),s.a.createElement("li",null,a.total_time_spent),s.a.createElement("li",null,a.file&&(null===(n=a.file.file_url)||void 0===n?void 0:n.includes("amazonaws"))&&s.a.createElement("a",{href:a.file.file_url,target:"_blank",className:"file_icon"})),s.a.createElement("li",null,a.file&&!(null===(r=a.file.file_url)||void 0===r?void 0:r.includes("amazonaws"))&&s.a.createElement("a",{href:a.file.file_url,target:"_blank",className:"link_icon"}))),a.history&&a.history.length>0&&a.is_show_history&&s.a.createElement("table",{className:"submitted_assignment_history"},s.a.createElement("tbody",null,a.history.map((function(e){return s.a.createElement("tr",{key:e.id},s.a.createElement("td",null,e.date),s.a.createElement("td",null,e.details))})))))}))))))}))),o&&s.a.createElement(xf,{assignment_feedback_modal_details:o,onSubmitAssignmentFeedback:this.submitAssignmentFeedback,show:this.state.is_show_give_assignment_feedback_modal,toggleShowModal:function(){return Object(p.W)(e,"is_show_give_assignment_feedback_modal",!1)}}))))}}]),a}(n.Component)),Wf=nd.fetchStudentTrackChecklist,Hf=nd.updateStudentAssignmentStatus,Kf=nd.setFeedbackToAChapterModule,Gf=Object(p.J)(["student_progress"],{fetchStudentTrackChecklist:Wf,updateStudentAssignmentStatus:Hf,setFeedbackToAChapterModule:Kf}),Vf=Gf.mapStateToProps,qf=Gf.mapDispatchToProps,Yf=Object(ue.b)(Vf,qf)(Bf),Qf=(a(1411),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){(!n.state.selected_assignment_status&&""!==n.props.active_assignment.date_uploaded||n.props.active_assignment.user_module_id)&&n.updateAssignmentDetailsOnLoad()},n.componentDidUpdate=function(e){(e.active_assignment.id!==n.props.active_assignment.id&&""!==n.props.active_assignment.date_uploaded||e.active_assignment.user_module_id!==n.props.active_assignment.user_module_id)&&n.updateAssignmentDetailsOnLoad()},n.updateAssignmentDetailsOnLoad=function(){n.setState({selected_assignment_status:void 0},(function(){var e,t,a=n.props.active_assignment.status;(null===(e=n.props)||void 0===e||null===(t=e.active_assignment)||void 0===t?void 0:t.is_for_review)&&(a=u.h.option_index.is_for_review),n.setState({selected_assignment_status:n.state.dropdown_options[a]})}))},n.updateStatusDrodownValue=function(e){var t,a,s=n.props,r=s.student_id,o=s.week_id,i=s.active_day,c=s.active_assignment,_=s.table_view_setting,l=(null===_||void 0===_||null===(t=_[1].submission_type)||void 0===t?void 0:t.selected_value.value)||0;if(e[0].value!==c.status||e[0].value!==c.is_for_review||!(null===(a=e[0])||void 0===a?void 0:a.is_for_review)){var p,m,h=Object(d.a)(Object(d.a)({},c),{},{current_is_for_review:c.is_for_review,current_assignment_status:c.status}),E=!1,f=!1,g=h.is_for_review,v=h.status,b=Object(A.a)(e,1)[0],S=b.label,k=b.value,O=b.is_for_review,T=u.h.value,C=T.on_time,w=T.out_of_schedule,y=T.is_for_review;if(l?c.is_for_review===u.h.review_status.for_review||c.is_for_review===y?O||(E=!0,f=!0):O&&(E=!0):(v===C&&O&&k===y&&g===w||v===C&&!O&&k===w&&g===w||v===w&&!O&&k===C&&g===w||v===w&&!O&&k===w&&g===w||v===w&&!O&&k===C&&g===y||v===C&&!O&&k===C&&g===y||v===C&&!O&&k===C&&g!==y)&&(v!==k||g)&&(E=!0,f=k&&"Need Review"!==S),null===(p=e[0])||void 0===p?void 0:p.is_for_review)h.is_for_review=null===(m=e[0])||void 0===m?void 0:m.value,h.is_need_to_review=!0;else h.is_for_review=u.h.review_status.no_review,h.status=e[0].value,delete h.is_need_to_review;n.props.onUpdateActiveAssignmentStatus(Object(d.a)({},h)),n.props.updateStudentAssignmentStatus(Object(d.a)({},h)),n.props.onSubmitUpdateStudentAssignment(Object(d.a)({},h),r,o,i.id,{is_compute:E,is_add:f,is_submission_type_in_general:l})}},n.hideAssignmentPopover=function(e){["late","completed","missed","no_status","view_time_display_btn","need_review"].includes(e.target.className)||null!==e.target.closest(".assignment_details_popover")||n.props.onToggleShowAssignmentPopover(n.props.target,!1)},n.state={selected_assignment_status:void 0,dropdown_options:[{label:"Out-of-schedule",value:0},{label:"On Time",value:1},{label:"Need Review",is_for_review:!0,value:4}]},n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t,a=this,n=this.state.selected_assignment_status,r=this.props,o=r.active_assignment,i=r.week_id,c=r.active_day,_=r.has_set_assignment_status_access,l=r.popover_z_index,d=r.download_assignment,p=(null===c||void 0===c?void 0:c.date)?c.date.split(" ")[0]:"",m=i?"W".concat(i+p):"",h="html"===(null===o||void 0===o||null===(e=o.file_url)||void 0===e||null===(t=e.split("."))||void 0===t?void 0:t.pop());return s.a.createElement(vm.a,{target:this.props.target,rootClose:!0,onHide:function(e){return a.hideAssignmentPopover(e)},show:this.props.is_show,"x-placement":"auto",flip:!0,container:this.props.popover_ref},s.a.createElement(ga.a,{className:"assignment_details_popover ".concat(l)},d?s.a.createElement(ga.a.Content,{className:"loading_container"},s.a.createElement("div",{className:"loader"})):s.a.createElement(ga.a.Content,null,o.track&&s.a.createElement("ul",{className:"list-unstyled",id:"assignment_breadcrumb_navigation",onClick:function(){return a.props.onToggleShowStudentAssignmentChecklist(!0,o)}},s.a.createElement("li",null,o.track.track_title),s.a.createElement("li",null,o.track.chapter_title),s.a.createElement("li",null,o.track.module_title)),s.a.createElement("span",null,m),o.date_uploaded||o.user_module_id?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"uploaded_assignment_details"},o.file_url&&o.user_module_id?o.file_url&&o.file_url.includes(".amazonaws.com/")&&!h?s.a.createElement("a",{download:o.file_url,target:"_blank",href:o.file_url},decodeURIComponent(o.file_name)," ",s.a.createElement(Te.a,{icon:["fas","download"]})):s.a.createElement("a",{target:"_blank",href:o.file_url},decodeURIComponent(o.file_name)," ",s.a.createElement(Te.a,{icon:["fas","link"]})):"",s.a.createElement("p",null,"Assignment Submitted on ","boolean"!=typeof o.date_uploaded&&o.date_uploaded?s.a.createElement("span",null,s.a.createElement(En.a,{format:"MMM DD, YYYY"},o.date_uploaded)):"Unspecified"),n&&s.a.createElement(es.a,{className:"".concat(null===u.h||void 0===u.h?void 0:u.h.name[(null===o||void 0===o?void 0:o.is_for_review)?u.h.value.is_for_review:null===o||void 0===o?void 0:o.status].toLowerCase()),values:[n],options:this.state.dropdown_options,searchable:!1,onChange:function(e){return _&&a.updateStatusDrodownValue(e)},disabled:!o.is_within_stack_sched||!_})),s.a.createElement("div",{id:"view_assignment_checklist_button_container"},s.a.createElement("button",{type:"button",onClick:function(){return a.props.onToggleShowStudentAssignmentChecklist(!0,o)}},"View Assignment Checklist"))):(null===o||void 0===o?void 0:o.user_module_id)?s.a.createElement("p",null,"Assignment File was Deleted."):s.a.createElement("p",null,"No Submission Yet."))))}}]),a}(n.Component)),$f=nd.updateStudentAssignmentStatus,zf=Object(p.J)(["student_progress"],{updateStudentAssignmentStatus:$f}),Jf=zf.mapStateToProps,Xf=zf.mapDispatchToProps,Zf=Object(ue.b)(Jf,Xf)(Qf),eg=(a(1412),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).renderTooltip=function(e){return s.a.createElement(Sa.a,Object.assign({id:"assignment_legend_tooltip"},e),s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null),s.a.createElement("th",null,"On-time"),s.a.createElement("th",null,"Out-of-Schedule"),s.a.createElement("th",null,"Unsubmitted"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,"Core Assignment"),s.a.createElement("td",{className:"completed square"}),s.a.createElement("td",{className:"late square"}),s.a.createElement("td",{className:"missed square"})),s.a.createElement("tr",null,s.a.createElement("td",null,"Practice Assignment"),s.a.createElement("td",{className:"completed solid_circle"}),s.a.createElement("td",{className:"late solid_circle"}),s.a.createElement("td",{className:"missed solid_circle"})),s.a.createElement("tr",null,s.a.createElement("td",null,"Optional Assignment"),s.a.createElement("td",{className:"completed circle"}),s.a.createElement("td",{className:"late circle"}),s.a.createElement("td",{className:"missed circle"})))))},e}return Object(_e.a)(a,[{key:"render",value:function(){return s.a.createElement(va.a,{placement:"top",delay:{show:250,hide:400},overlay:this.renderTooltip},s.a.createElement(Te.a,{className:"assignment_legend_icon",icon:["fas","info-circle"]}))}}]),a}(n.Component)),tg=(a(1413),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).updateAttendance=function(e,t,a,s,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;if(o){var i=o.active_attendance,c=o.updated_by,_=o.updated_at;n.props.onUpdateAttendance(e,t,a,s,r,Object(d.a)(Object(d.a)({},o),{},{selected_date:null===i||void 0===i?void 0:i.selected_date}),"admin.student_progress.view_by_stack.attendance_view.set_attendance");i.status,i.updated_by,i.updated_at;var l=Object(Mc.a)(i,["status","updated_by","updated_at"]),u=Object(d.a)(Object(d.a)({status:r,updated_by:c,updated_at:_},l),{},{origin:"admin.student_progress.view_by_stack.attendance_view.set_attendance"});n.props.onUpdateActiveAttendance(u),n.setState({is_update_attendance_status:!1}),n.props.onToggleShowUpdateAttendancePopover(void 0,!1)}},n.hidePopover=function(e){!1===["absent","present","late","excused","none"].includes(e.target.className)&&null===e.target.closest(".update_attendance_popover")&&(n.setState({is_update_attendance_status:!1}),n.props.onToggleShowUpdateAttendancePopover(e,!1))},n.state={attendance_status:yf,is_update_attendance_status:!1,selected_status:void 0,previous_selected_status:void 0,new_status:void 0},n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t,a,n=this,r=this.props,o=r.active_attendance,i=r.target,c=r.is_show,_=r.active_week,l=r.student_id,m=r.active_day,h=r.has_set_attendance_access,E=r.popover_z_index,f={Mon:"Monday",Tue:"Tuesday",Wed:"Wednesday",Thu:"Thursday",Fri:"Friday",Sat:"Saturday",Sun:"Sunday"}[m.date.split(" ")[1]],g=this.props.profile.general.first_name+" "+this.props.profile.general.last_name.charAt(0)+".",v=new Date,b=(null===(e=this.props)||void 0===e||null===(t=e.profile)||void 0===t||null===(a=t.general)||void 0===a?void 0:a.timezone)||{acronym:"",value:""},S=(null===o||void 0===o?void 0:o.status)?u.k[o.status.toString()].status[0].toUpperCase()+u.k[o.status.toString()].status.substr(1).toLowerCase():"";return S=o.status===u.j.statuses.none||o.status===u.j.statuses.no_status?"none":S,s.a.createElement(vm.a,{target:i,rootClose:!0,onHide:function(e){return n.hidePopover(e)},show:c,placement:"top",flip:!0,container:this.props.popover_ref},s.a.createElement(ga.a,{className:"update_attendance_popover ".concat(E)},s.a.createElement(ga.a.Content,null,s.a.createElement("div",{id:"attendance_details_container",className:"".concat((null===o||void 0===o?void 0:o.status)&&S.toLowerCase(),"_attendance")},s.a.createElement("button",{className:!h&&"hidden",disabled:!h,type:"button",onClick:function(){return h&&n.setState({is_update_attendance_status:!0})}},(null===o||void 0===o?void 0:o.status)&&S.charAt(0).toUpperCase()||o.status!==u.j.statuses.none&&o.status!==u.j.statuses.no_status&&o.status.charAt(0).toUpperCase(),s.a.createElement(Te.a,{icon:["fas","pencil-alt"]})),s.a.createElement("div",null,s.a.createElement("h5",null,"Week ",_," ",f),(null===o||void 0===o?void 0:o.updated_at)&&s.a.createElement("span",null,s.a.createElement(En.a,{format:"HH:mm MMM DD, YYYY"},Object(p.m)(o.updated_at,b))," updated by ",o.updated_by),!(null===o||void 0===o?void 0:o.updated_at)&&s.a.createElement("span",null,s.a.createElement(En.a,{format:"HH:mm MMM DD, YYYY"},Object(p.m)("",b)))),(null===o||void 0===o?void 0:o.status)&&o.status!==u.j.statuses.none&&o.status!==u.j.statuses.no_status&&s.a.createElement("span",null,S),(null===o||void 0===o?void 0:o.status)&&[u.j.statuses.none,u.j.statuses.no_status].includes(o.status)&&s.a.createElement("span",null,"None")),this.state.is_update_attendance_status&&s.a.createElement("div",{id:"attendance_status_container"},this.state.attendance_status.map((function(e){return"None"!==e.name&&s.a.createElement("label",{title:e.name},s.a.createElement("input",{disabled:!h,checked:o.status===e.name.toLowerCase(),type:"radio",name:"attendance_status",value:e.id,onClick:function(){return h&&n.setState({selected_status:e.name,new_status:e.name})},onChange:function(t){return h&&n.updateAttendance(l,_,m.id,o.user_attendances_id,e.name.toLowerCase(),Object(d.a)(Object(d.a)({},o.attendance_details),{},{selected_week:_,selected_status:e,active_attendance:o,updated_by:g,updated_at:v}))}}),s.a.createElement("span",{className:e.class,title:e.name},e.name.charAt(0).toUpperCase()))})),s.a.createElement("label",{title:"No status"},s.a.createElement("input",{disabled:!h,checked:o.status===u.j.statuses.none||o.status===u.j.statuses.no_status,type:"radio",name:"attendance_status",value:"0",onChange:function(e){return h&&n.updateAttendance(l,_,m.id,o.user_attendances_id,"none",Object(d.a)(Object(d.a)({},o.attendance_details),{},{selected_week:_,selected_status:{id:4,name:"none",is_active:!1,class:"cd_gray"},active_attendance:o,updated_by:g,updated_at:v}))}}),s.a.createElement("span",{className:"cd_gray",title:"No Status"}))))))}}]),a}(n.Component)),ag=(a(1414),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).onChangeProgram=function(e,t){var a=0,s=Object(f.a)(n.props.programs_by_workspace);t.id===a?s.map((function(t){t.is_checked=e})):s.map((function(n){n.id===t.id&&(n.is_checked=e),e||n.id===a&&(n.is_checked=!1)})),n.props.resetStateValue("programs_by_workspace",Object(f.a)(s))},n.fetchSelectedProgramHolidays=function(e){var t,a=n.props.programs_by_workspace.filter((function(e){return e.is_checked&&e.id})).map((function(e){return e.id})),s=(null===(t=n.props.holiday_args)||void 0===t?void 0:t.cc_stack_schedule_ids)||[];n.props.fetchWorkspaceHolidays(e,a,s)},n.deleteAttendanceDate=function(e){var t=Object(f.a)(n.state.attendance_dates).filter((function(t){return t!==e}));n.setState({attendance_dates:t})},n.state={is_show_success:!1,attendance_dates:[new Date(e.selected_table_head_data.date)],selected_break_type:null,has_checked_program:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.attendance_dates,n=(t.is_show_success,this.props),r=n.selected_table_head_data,o=n.programs_by_workspace,i=n.holidays_of_the_month,c=n.processing_holiday_response_status,_=n.holiday_process_message,l=(n.selected_program_type_ids_filter,n.is_calendar_holiday_fetching),d=n.holiday_args,u=this.props.programs_by_workspace.filter((function(e){return e.is_checked})).length>0;return s.a.createElement(De.a,{id:"holiday_modal",show:this.props.show,centered:!0,onHide:function(){return e.props.toggleShowModal(!1)}},s.a.createElement(De.a.Header,null,s.a.createElement(De.a.Title,null,"Holiday/Non-Instruction Day Set Up"),s.a.createElement("button",{onClick:function(){return e.props.toggleShowModal(!1)}},s.a.createElement("span",{className:"close_icon"}))),s.a.createElement(De.a.Body,null,!0===c&&s.a.createElement("p",null,"Saved Successfully. Adjusted Attendance Rating will reflect on the next day."),void 0===c&&!r.is_holiday&&!r.is_non_instructional&&!r.is_break_training&&s.a.createElement(s.a.Fragment,null,s.a.createElement("h6",{className:"title"},"Set Date as"),s.a.createElement("div",{id:"break_type_container"},s.a.createElement("label",{className:"radio_label"},s.a.createElement("input",{type:"radio",value:"0",name:"selected_break_type",onChange:function(t){return e.setState({selected_break_type:3})}}),s.a.createElement("span",{className:"radio_indicator"}),s.a.createElement("span",{className:"title"},"Holiday")),s.a.createElement("label",{className:"radio_label"},s.a.createElement("input",{type:"radio",name:"selected_break_type",value:"1",onChange:function(t){return e.setState({selected_break_type:4})}}),s.a.createElement("span",{className:"radio_indicator"}),s.a.createElement("span",{className:"title"},"Break"))),s.a.createElement("p",null,"You are about to disable attendance tracking for the following dates:"),s.a.createElement("ul",{id:"attendance_date_list"},a.map((function(t){return s.a.createElement("li",null,v()(new Date(t)).format("ddd - MMM D, YYYY"),s.a.createElement("button",{className:"attendance_button",onClick:function(){return e.deleteAttendanceDate(t)},type:"button"}))})),s.a.createElement("li",{id:"add_date_item"},s.a.createElement(Pd.a,{minDate:(null===d||void 0===d?void 0:d.earliest_stack_start)||"",maxDate:(null===d||void 0===d?void 0:d.latest_stack_end)||"",multiple:!0,onYearChange:function(t){return e.fetchSelectedProgramHolidays(v()(new Date(t)).format("YYYY-MM-DD"))},onMonthChange:function(t){return e.fetchSelectedProgramHolidays(v()(new Date(t)).format("YYYY-MM-DD"))},value:this.state.attendance_dates,onChange:function(t){e.setState({attendance_dates:t})},onOpen:function(){e.fetchSelectedProgramHolidays(v()(r.date||new Date).format("YYYY-MM-DD"))},render:function(e,t){return s.a.createElement("button",{onClick:t,type:"button"}," Add date ",s.a.createElement("span",{className:"add_icon"}))},mapDays:function(e){var t=e.date;return l?{disabled:!0,title:"Loading..."}:i.includes(t.day)?{disabled:!0,title:"Holiday/Break Day"}:void 0}}))),s.a.createElement("h6",{className:"title"},"Select Affected Programs"),s.a.createElement("ul",{id:"program_list"},o.map((function(t){return s.a.createElement("li",null,s.a.createElement("div",{className:"checkbox"},s.a.createElement("input",{type:"checkbox",id:"checkbox_"+t.id,checked:t.is_checked,onChange:function(a){return e.onChangeProgram(a.target.checked,t)}}),s.a.createElement("label",{htmlFor:"checkbox_"+t.id},s.a.createElement("div",{className:"checkbox_container"},s.a.createElement(Te.a,{icon:["fas","check"]})),s.a.createElement("p",{title:t.label},t.label))))})))),void 0===c&&(r.is_holiday||r.is_non_instructional||r.is_break_training)&&s.a.createElement("p",null,"Due to attendance rate related logic, the removal of Holiday / No Attendance Tracking day is currently disabled. In the meantime, contact the Dev Team via ",s.a.createElement("a",{href:"https://app.slack.com/client/TEFHK7MKL/CEP00T7GD",target:"_blank"},"#tools")," channel for manual removal."),!1===c&&!r.is_holiday&&!r.is_non_instructional&&!r.is_break_training&&s.a.createElement("p",null,_)),void 0===c&&!r.is_holiday&&!r.is_non_instructional&&!r.is_break_training&&s.a.createElement(De.a.Footer,null,s.a.createElement("button",{type:"button",onClick:function(){return e.props.toggleShowModal(!1)}},"Cancel"),s.a.createElement("button",{type:"button",className:"next ".concat(a.length>0&&this.state.selected_break_type&&u?"":"disabled"),disabled:0===a.length&&this.state.selected_break_type&&!u,onClick:function(){var t=a.map((function(e){return v()(new Date(e)).format("YYYY-MM-DD")}));e.props.onProcessUpdateHolidayDate(r,e.props.selected_workspace,{selected_dates:t,workspace_id:e.props.selected_workspace_id,program_type_id:o.filter((function(e){return e.is_checked&&e.id})).map((function(e){return e.id})),selected_break_type:e.state.selected_break_type})}},"Confirm")))}}]),a}(n.Component)),ng=(a(1415),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidUpdate=function(e,t){var a,r=n.props.student_access.student_profile_data;(t.is_update_student_profile&&n.setState({student_profile_data:r,is_update_student_profile:!1}),n.popover_ref=s.a.createRef(),n.props.student_progress.assignment_file&&n.state.download_assignment&&n.state.active_assignment)&&(n.state.active_assignment.file_url=null===(a=n.props.student_progress.assignment_file)||void 0===a?void 0:a.pre_signed_url,n.setState({active_assignment:n.state.active_assignment,download_assignment:!1}))},n.requestSort=function(e){var t,a=Object(d.a)({},n.state.sort_config);if("name"===e){var s,r=Object(d.a)({},n.state.selected_name_sort_config),o=n.state.name_sort_config;if(r&&0!==Object.keys(r).length)o.map((function(e,t){e.key===r.key&&e.direction===r.direction&&(s=t+1)})),r=o[o.length===s?0:s];else r=o[0];a.key=r.key,a.direction=r.direction,a.title=r.title,n.setState({selected_name_sort_config:r})}else t="caret-down",(a=Object(d.a)({},n.state.sort_config))&&a.key===e&&"caret-down"===a.direction&&(t="caret-up"),a.key=e,a.direction=t,a.title=null,n.setState({selected_name_sort_config:void 0});n.setState({sort_config:a},(function(){n.props.onSortTable(n.state.sort_config,e,n.state.selected_view_type)}))},n.renderTableHead=function(e){if("checkbox"===e.name)return s.a.createElement("div",{className:"checkbox ".concat((!n.props.has_set_attendance_access||n.props.student_progress.loading_table)&&"hidden")},s.a.createElement("input",{name:"asdasd",disabled:!n.props.has_set_attendance_access||n.props.student_progress.loading_table,type:"checkbox",id:"all_table_checkbox",onChange:function(e){return n.props.has_set_attendance_access&&n.selectAllStudents(e)},checked:n.props.isSelectedAllStudent}),s.a.createElement("label",{htmlFor:"all_table_checkbox"},s.a.createElement("div",{className:"checkbox_container"},s.a.createElement(Te.a,{icon:["fas","check"]}))));if(null===e||void 0===e?void 0:e.tooltip_text)return s.a.createElement(s.a.Fragment,null,e.name,s.a.createElement(va.a,{className:"test",placement:"top",delay:{show:250,hide:400},overlay:s.a.createElement(Sa.a,{id:"admin_tooltip"},e.tooltip_text)},s.a.createElement(Te.a,{icon:["fas","info-circle"]})));if("Name"===e.name){var t,a,r=n.state.selected_name_sort_config,o=n.props.total_results?"(".concat(n.props.total_results,")"):"(0)";return(r=null===(t=n.props)||void 0===t?void 0:t.selected_sort)&&0!==Object.keys(r).length?s.a.createElement("div",{id:"name_sort_table_head"},(null===(a=r)||void 0===a?void 0:a.title)||"Name",o,s.a.createElement("div",{id:"name_sort_icon"},s.a.createElement(Te.a,{className:"".concat("caret-down"===r.direction?"":"light"),icon:["fas","caret-up"]}),s.a.createElement(Te.a,{className:"".concat("caret-up"===r.direction?"":"light"),icon:["fas","caret-down"]}))):s.a.createElement(s.a.Fragment,null,"Name ",o)}return e.name},n.toggleShowAssignmentPopover=function(e,t){var a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,i={assignment_popover_target:e.target,is_show_assignment_details_popover:t,active_assignment:o,popover_z_index:void 0,student_id:s,active_day:r};if(o&&(null===o||void 0===o||null===(a=o.file_url)||void 0===a?void 0:a.includes(".amazonaws.com"))){var c=Object(p.t)(o.file_url,"user-assignments");i.download_assignment=!0,n.props.generateS3Url(c,"download","student_progress_by_stack")}n.setState(i)},n.toggleShowUpdateAttendancePopover=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0,_=arguments.length>8&&void 0!==arguments[8]?arguments[8]:void 0,l=s?Object(d.a)(Object(d.a)({},s),{},{selected_date:_,selected_status:void 0,attendance_details:{selected_periods:[{id:o+1,label:o+1,is_active:!1,is_hide:"",is_disabled:!1}],selected_day:i,selected_students:[c]}}):void 0;n.setState({update_attendance_target:null===e||void 0===e?void 0:e.target,is_show_update_attendance_popover:t,popover_z_index:void 0,active_attendance:l,student_id:a,active_day:r})},n.updateActiveAttendance=function(e){n.setState({active_attendance:e})},n.renderUserStatus=function(e){return{3:{name:"Accepted",bg_color:"gray"},3.1:{name:"Unresponsive",bg_color:"gray"},3.2:{name:"Not Interested",bg_color:"gray"},3.3:{name:"Rejected",bg_color:"red"},4.2:{name:"Current",bg_color:"green"},4.6:{name:"Alumni",bg_color:"green"},4.7:{name:"Transferred/Change Cohort",bg_color:"green"},4.1:{name:"Upcoming",bg_color:"gray"},4.3:{name:"Pending",bg_color:"yellow"},4.4:{name:"Incomplete",bg_color:"red"},4.5:{name:"Dropped",bg_color:"red"},4.8:{name:"Cancelled",bg_color:"red"},4.9:{name:"Expelled",bg_color:"red"},5:{name:"Auditor",bg_color:"green"},5.1:{name:"Non-Grad",bg_color:"yellow"},5.2:{name:"QA Review",bg_color:"yellow"},5.3:{name:"Transferred",bg_color:"yellow"},5.5:{name:"Temporary Out",bg_color:"yellow"}}[e]||{name:"",bg_color:""}},n.renderStudentAttendancePercentage=function(e,t){var a=0,n=0;return e.weeks&&e.weeks.length>0&&e.weeks[t]?(e.weeks&&e.weeks[t].map((function(e){e&&e.attendances&&e.attendances.map((function(e){"present"===e.status&&a++,n++}))})),(0===a&&0===n?"0":Math.ceil(a/n*100))+"% ("+a+"/"+n+")"):"N/A"},n.updateActiveAssignmentStatus=function(e){n.setState({active_assignment:e})},n.getStudentProfileDetails=function(e,t,a,s,r){var o,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;n.props.getStudentProfileDetails({user_id:e,applicant_id:t,user_bootcamp_id:r.user_bootcamp_id,next_stack_params:{program_type_ids:[a],location_ids:[s]},is_from_student_matching:!1}),n.setState({is_show_student_profile_modal:!0,student_profile_data:r,selected_applicant_id:t,default_active_tab:(null===i||void 0===i||null===(o=i.target)||void 0===o?void 0:o.getAttribute("data-tab"))||"major_stacks"})},n.processUpdateHolidayDate=function(e,t,a){Object(f.a)(n.props.table_head_dates);n.props.onMarkDateAsHoliday({workspace_id:a.workspace_id,program_type_id:a.program_type_id,selected_date:a.selected_dates,selected_break_type:a.selected_break_type,selected_week:n.state.selected_week})},n.fetchWorkspaceHolidays=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n.props.fetchHolidayBreaksByDate({selected_date:e,workspace_id:n.props.selected_workspace_id,selected_program_type_ids:t,selected_cc_stack_schedule_ids:a})},n.changeProgramStatus=function(e,t,a){n.props.updateStudentProgramAccess({user_id:t.user_id,applicant_id:t.applicant_id,user_bootcamp_id:t.user_bootcamp_id,is_access_enabled:e.target.checked,admin_page:u.c.student_rostering.student_roster,is_from_student_profile:a}),n.setState({is_update_student_profile:!0})},n.selectAllStudents=function(e){n.props.onToggleCheckStudents(e,!0),n.props.checkStudentProgressAttendanceRecord(null,!0,e.target.checked)},n.selectSingleStudent=function(e,t){n.props.onToggleCheckStudents(e,!1,t),n.props.checkStudentProgressAttendanceRecord(t,!1,e.target.checked)},n.getStudentStackHolidayArgs=function(){var e,t,a=[],s=null,r=null;if(null===(e=n.props.student_progress)||void 0===e||null===(t=e.filter_students)||void 0===t?void 0:t.length){for(var o,i,c=Object(f.a)(null===(o=n.props)||void 0===o||null===(i=o.student_progress)||void 0===i?void 0:i.filter_students),_=0;_<c.length;_++){var l=c[_],d=l.cc_stack_schedule_id,u=l.stack_start,p=l.stack_end;u=v()(u),p=v()(p),a.push(d),s=s&&s.diff(u,"days")<0?s:u,r=r&&r.diff(p,"days")>0?r:p}a=a.filter((function(e){return e})),a=Object(f.a)(new Set(a)),s=s.format("YYYY-MM-DD"),r=r.format("YYYY-MM-DD")}return{cc_stack_schedule_ids:a,earliest_stack_start:s,latest_stack_end:r}},n.toggleBeltExamDetailsPopover=function(e,t,a,s){n.setState({is_show_belt_popover:t,belt_popover_target:e.target,popover_z_index:void 0,active_stack:a,belt_history:s})},n.setPopoverZIndex=function(){var e=n.state,t=e.popover_z_index,a=e.is_show_belt_popover,s=e.is_show_update_attendance_popover,r=e.is_show_assignment_details_popover;!t&&(a||s||r)&&n.setState({popover_z_index:"behind"})},n.popover_ref=s.a.createRef(),n.state={sort_config:null,is_show_student_profile_modal:!1,student_profile_data:[],enrollment_status_order:"DESC",ap_options:[{value:0,label:"None"},{value:1,label:"AP-1"},{value:2,label:"AIP"},{value:3,label:"AP-2"},{value:4,label:"AP-3"},{value:5,label:"GS"}],selected_view_type:"attendance",assignment_popover_target:void 0,is_show_assignment_details_popover:!1,is_show_update_attendance_popover:!1,update_attendance_target:void 0,active_attendance:void 0,student_id:0,day_id:0,active_day:void 0,active_assignment:{date_uploaded:new Date,file_name:"Screen Shot 2021-05-28 at 9.52.25 AM.png",file_url:"https://assets.codingdojo.com/learn_platform/dark_mode/track_bg/pre_bootcamp_bg.png",id:123456,status:1,track_name:"Web Fundamentals",type:0},copy_clipboard_popover:{is_show:!1,text:"Email address copied to your clipboard",position:{}},student_checklist_details:{},is_show_holiday_modal:!1,selected_table_head_data:void 0,selected_week:1,selected_day:void 0,is_holiday:!1,selected_applicant_id:null,offered_stack_schedules:[],selected_name_sort_config:void 0,name_sort_config:[{key:"last_name_first_name",title:"Last, First Name (A-Z)",direction:"caret-down"},{key:"last_name_first_name",title:"Last, First Name (Z-A)",direction:"caret-up"},{key:"first_name_last_name",title:"First, Last Name (A-Z)",direction:"caret-down"},{key:"first_name_last_name",title:"First, Last Name (Z-A)",direction:"caret-up"}],is_show_belt_popover:!1,belt_popover_target:void 0,popover_z_index:void 0,active_stack:null,belt_history:[],is_past_date:!1,is_disable_marking_holiday:!1,is_update_student_profile:!1},n}return Object(_e.a)(a,[{key:"render",value:function(){var e,t,a,n,r=this,o=this.props,i=o.table_head_columns,c=o.students,_=o.is_loading,m=o.onUpdateAPStatus,h=o.weeks_tab,E=o.onChangeWeek,g=o.onUpdateAttendance,b=o.table_view_setting,S=(o.submitFilters,o.enrollment_status_order,o.student_progress),k=S.adjust_attendance_rating_cron,O=S.filter_students,T=S.max_up_to_date_weeks,C=S.programs_by_workspace,w=S.holidays_of_the_month,y=S.processing_holiday_response_status,R=S.holiday_process_message,D=S.filter_dropdowns,U=S.is_calendar_holiday_fetching,N=S.program_attendance_requirement,I=o.profile,P=o.has_set_attendance_access,j=o.has_set_academy_probation_access,L=o.has_set_assignment_status_access,M=o.has_mark_holidays_access,F=o.is_fetching_filters,x=this.state,B=x.ap_options,W=x.copy_clipboard_popover,H=x.selected_view_type,K=x.active_stack,G=x.belt_history,V=this.state.sort_config,q=(null===h||void 0===h?void 0:h.length)&&(null===(e=h.filter((function(e){return null===e||void 0===e?void 0:e.is_active}))[0])||void 0===e?void 0:e.id),Y=Object(A.a)(D,3),Q=Y[0],$=Y[1],z=Y[2],J=["Attendance Requirement:"].concat(Object(f.a)(N||[])).map((function(e){return s.a.createElement("div",{key:e},e)}));V=null===(t=this.props)||void 0===t?void 0:t.selected_sort;var X=function(e){if(V)return V.key===e?V.direction:"caret-down"},Z=b.filter((function(e){return e.is_selected}))[0],ee=this.props.profile.available_workspaces.filter((function(e){return e.is_selected})),te=Object(A.a)(ee,1)[0],ae=Object(p.i)(null===I||void 0===I||null===(a=I.general)||void 0===a?void 0:a.user_capabilities,"admin.student_profile_modal.visibility"),ne=Array.isArray(D)?D.filter((function(e){return"program_type_id"===e.filter_name})):[],se=Object(A.a)(ne,1)[0],re=[];return se&&(re=se.selected.map((function(e){return e.value}))),s.a.createElement(s.a.Fragment,null,W.is_show&&s.a.createElement(Zd,{data:W}),s.a.createElement("div",{className:"table_container",id:"stack_table",onScroll:this.setPopoverZIndex},s.a.createElement("ul",{id:"table_navigation"},b.map((function(e){return s.a.createElement("li",{className:"".concat(e.is_selected?"active":"")},s.a.createElement("button",{type:"button",onClick:function(){r.setState({selected_view_type:e.name.toLowerCase()}),r.props.onChangeSelectedViewType(e.name.toLowerCase()),r.props.onChangeTableView(e.name)}},s.a.createElement("span",{className:"".concat("Assignment"===e.name?"checklist_icon":"calendar_icon")}),e.name," View"),e.sub_options&&0!==e.sub_options.length&&e.sub_options.map((function(t){return s.a.createElement("label",{key:t.id,"data-text":t.name,className:"checkbox_label ".concat(t.is_disabled?"disabled":""),disabled:t.is_disabled},s.a.createElement("input",{name:"table_view",onChange:function(){return r.props.onChangeTableView(e.name,t)},checked:t.is_selected,type:"checkbox"}),s.a.createElement("span",{className:"checkbox_indicator"},s.a.createElement(Te.a,{icon:["fas","check"]})))})),"Assignment"===e.name&&s.a.createElement("div",{id:"asignment_filter_dropdowns"},s.a.createElement(es.a,{values:[e.progress_type.selected_value],options:e.progress_type.options,searchable:!1,onChange:function(e){return r.props.onUpdateAssignmentFilterDropdownValue("progress_type",e,r.props.selected_view_type)}})))})),s.a.createElement("li",null,s.a.createElement(sd,{table_head_columns:i,onCustomizeTableColumns:this.props.onCustomizeTableColumns,workspace_id:this.props.selected_workspace_id}))),s.a.createElement(bc.StickyTable,{leftStickyColumnCount:2,stickyHeaderCount:2,borderWidth:"0px",className:"".concat(_?"table_loading":"")},s.a.createElement(bc.Row,null,i.map((function(e){var t,a,n,o;if((void 0===e.is_show||e.is_show)&&(void 0===e.view||H===e.view)&&("Student Experience Manager"!==e.name||"Student Experience Manager"===e.name&&r.props.selected_workspace_id===u.Xb.codingdojo))return s.a.createElement(bc.Cell,{key:e.name,style:{minWidth:e.width},onClick:function(){return(null===e||void 0===e?void 0:e.sort_data)?r.requestSort(e.sort_data):null}},r.renderTableHead(e,c),"Readiness Flag"===e.name&&s.a.createElement(va.a,{placement:"left",overlay:s.a.createElement(Sa.a,{className:"readiness_flag_tooltip"},"View the Student Info tab of the student profile for more info")},s.a.createElement(Te.a,{icon:["fa","info-circle"]})),"Attendance"===e.name&&s.a.createElement(va.a,{placement:"top",overlay:s.a.createElement(Sa.a,null,(null===Q||void 0===Q||null===(t=Q.selected)||void 0===t?void 0:t.length)&&(null===$||void 0===$||null===(a=$.selected)||void 0===a?void 0:a.length)&&1===(null===z||void 0===z||null===(n=z.selected)||void 0===n?void 0:n.length)&&(null===O||void 0===O?void 0:O.length)?J:"Requirements vary by program")},s.a.createElement(Te.a,{icon:["fa","info-circle"]})),e.sort_data&&"name"!==e.sort_data&&s.a.createElement(Te.a,{className:"".concat((null===(o=V)||void 0===o?void 0:o.key)===e.sort_data?"":"light"),icon:["fas",X(e.sort_data)?X(e.sort_data):"caret-down"]}))})),s.a.createElement(bc.Cell,null,s.a.createElement("ul",{className:"list-unstyled",id:"weeks_tab_list"},h&&h.map((function(e,t){return((null===e||void 0===e?void 0:e.id)<=(void 0!==T?T:t+1)||0===(null===e||void 0===e?void 0:e.id))&&s.a.createElement("li",{key:null===e||void 0===e?void 0:e.id,className:"".concat((null===e||void 0===e?void 0:e.is_active)?"active":""," ")},"assignment"==r.props.selected_view_type&&s.a.createElement("button",{onClick:function(){return E(null===e||void 0===e?void 0:e.id,r.props.selected_view_type,!0)}},0==(null===e||void 0===e?void 0:e.id)?"Dateless":"W".concat(null===e||void 0===e?void 0:e.id)),"attendance"===r.props.selected_view_type&&0!==e.id&&s.a.createElement("button",{onClick:function(){r.setState({selected_week:e.id}),E(e.id,r.props.selected_view_type,!0)}},"W".concat(e.id)))}))))),s.a.createElement(bc.Row,null,i.map((function(e){return(void 0===e.is_show||e.is_show)&&(void 0===e.view||H===e.view)&&("Student Experience Manager"!==e.name||"Student Experience Manager"===e.name&&r.props.selected_workspace_id===u.Xb.codingdojo)&&s.a.createElement(bc.Cell,null)})),s.a.createElement(bc.Cell,null,s.a.createElement("ul",{className:"list-unstyled",id:"table_head_days_list"},q&&this.props.table_head_dates.map((function(e,t){var a,n=[];return e.is_holiday&&n.push("Holiday"),e.is_non_instructional&&n.push("Non-Instruction"),e.is_break_training&&n.push("Break"),s.a.createElement("li",null,"D",t+1-7*Math.floor(t/7)," ",s.a.createElement(En.a,{format:"M/DD"},e.date),(null===e||void 0===e?void 0:e.date)&&s.a.createElement(va.a,{placement:"auto",key:e.date,overlay:s.a.createElement(Sa.a,{id:"holiday_tooltip"},(null===k||void 0===k?void 0:k.is_feature_disable)?s.a.createElement("p",null,"This feature is not available at the moment, please try again ",(null===k||void 0===k?void 0:k.remaining_time)||""," from now."):e.program_type_ids.length?s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,s.a.createElement("span",null,e.date," "),"has been set up as a ",n.join("/")," day for the ","".concat(Object(p.k)((null===e||void 0===e?void 0:e.program_names)||[])," Program").concat((null===e||void 0===e||null===(a=e.program_names)||void 0===a?void 0:a.length)>1?"s":""),"."),s.a.createElement("p",null,"No attendance taking is needed for this day."),s.a.createElement("p",null,"Click the icon to change the setting.")):s.a.createElement("p",null,"Click the icon to set this day as a holiday/Non-instruction day."))},s.a.createElement("button",{disabled:!M,type:"button",onClick:function(){(null===k||void 0===k?void 0:k.is_feature_disable)||(r.props.fetchProgramsByWorkspace({workspace_id:r.props.selected_workspace_id,selected_date:v()(e.date).format("YYYY-MM-DD"),selected_program_type_ids_filter:re}),r.props.resetHolidayProcessMessage(),r.setState({is_show_holiday_modal:!0,selected_table_head_data:e,selected_day:t,is_past_date:!(v()(new Date).isBefore(e.date)||!v()(new Date).diff(e.date,"days"))}))}},(!e.is_non_instructional&&!e.is_break_training||e.is_holiday)&&s.a.createElement("span",{className:"plane_icon ".concat(e.is_holiday&&"is_holiday"," ")}),e.is_non_instructional&&s.a.createElement("span",null,"N"),e.is_break_training&&s.a.createElement("span",null,"B"))))}))||""))),_?s.a.createElement("div",{id:"table_loading_container"},s.a.createElement("div",null),s.a.createElement("span",null,"Loading...")):c.map((function(e){var t,a,n,o=B.filter((function(t){return t.value===e.ap})),c=0;if((null===h||void 0===h?void 0:h.length)&&(null===e||void 0===e||null===(t=e.weeks)||void 0===t||null===(a=t[q])||void 0===a||null===(n=a[0])||void 0===n?void 0:n.checklist_date)){var _=e.weeks[q][0].checklist_date.split("-"),E=Object(A.a)(_,3),g=E[0],b=E[1],S=E[2],k="".concat(b,"/").concat(S,"/").concat(g),O=r.props.table_head_dates.findIndex((function(e){return e.date===k}));c=-1===O?0:O}return s.a.createElement(bc.Row,{key:e.id,ref:r.popover_ref},i.map((function(t){var a,n,i,c,_;return s.a.createElement(s.a.Fragment,null,"checkbox"===t.name&&s.a.createElement(bc.Cell,null,s.a.createElement("div",{className:"checkbox ".concat(!P&&"hidden")},s.a.createElement("input",{disabled:!P,name:"all_table_checkbox",type:"checkbox",id:"checkbox_"+e.id,checked:e.is_checked||r.props.isSelectedAllStudent,onChange:function(t){return P&&r.selectSingleStudent(t,e)}}),s.a.createElement("label",{htmlFor:"checkbox_"+e.id},s.a.createElement("div",{className:"checkbox_container"},s.a.createElement(Te.a,{icon:["fas","check"]}))))),"Name"===t.name&&s.a.createElement(bc.Cell,null,s.a.createElement("div",{className:"name",onClick:function(t){return ae&&r.getStudentProfileDetails(e.id,e.applicant_id,e.program_type_id,e.location_id,e,t)}},e.name,!!e.feedback_count&&s.a.createElement("span",{className:"note_icon","data-tab":"notes"})),s.a.createElement("div",{className:"email",onClick:function(t){return Object(p.n)(t,e.email,r)}},e.email),s.a.createElement("div",{className:"id_number",onClick:function(){return ae&&r.getStudentProfileDetails(e.id,e.applicant_id,e.program_type_id,e.location_id,e)}},"#",e.id)),"Program"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.program),"Enrollment Status"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,s.a.createElement("div",{className:r.renderUserStatus(e.status).bg_color+"_bg"},s.a.createElement("span",null,r.renderUserStatus(e.status).name))),"Course"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,s.a.createElement("div",{className:(null===e||void 0===e?void 0:e.stack)?"blue_bg":"gray_bg"},s.a.createElement("span",null,(null===e||void 0===e?void 0:e.stack)?e.stack:"Unassigned"))),"Course Start Date"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.stack_start_date),"Taught By"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.taught_by),"attendance"===r.state.selected_view_type&&"Belt"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.latest_belt&&s.a.createElement("div",{className:"belt_label ".concat(e.latest_belt.score?e.latest_belt.belt_bg:"blue_bg"),onClick:function(t){return r.toggleBeltExamDetailsPopover(t,!0,e.stack,e.exam_records)}},e.latest_belt.score?e.latest_belt.score:"N/A",e.latest_belt.belt_color&&s.a.createElement("span",{className:"".concat(null===(a=e.latest_belt.belt_color)||void 0===a?void 0:a.toLowerCase()," belt_icon")}))),"assignment"===r.state.selected_view_type&&"Belt (Best Result)"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.best_belt&&s.a.createElement("div",{className:"belt_label ".concat(e.best_belt.score?e.best_belt.belt_bg:"blue_bg"),onClick:function(t){return r.toggleBeltExamDetailsPopover(t,!0,e.stack,e.exam_records)}},e.best_belt.score?e.best_belt.score:"N/A",e.best_belt.belt_color&&s.a.createElement("span",{className:"".concat(null===(n=e.best_belt.belt_color)||void 0===n?void 0:n.toLowerCase()," belt_icon")}))),"assignment"===r.state.selected_view_type&&"Belt (Most Recent)"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.latest_belt&&s.a.createElement("div",{className:"belt_label ".concat(e.latest_belt.score?e.latest_belt.belt_bg:"blue_bg"),onClick:function(t){return r.toggleBeltExamDetailsPopover(t,!0,e.stack,e.exam_records)}},e.latest_belt.score?e.latest_belt.score:"N/A",e.latest_belt.belt_color&&s.a.createElement("span",{className:"".concat(null===(i=e.latest_belt.belt_color)||void 0===i?void 0:i.toLowerCase()," belt_icon")}))),"Assignment"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,null===e||void 0===e?void 0:e.assignment),"Attendance"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,null===e||void 0===e?void 0:e.attendance),"AP"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,s.a.createElement(es.a,{disabled:!j,className:(null===(c=o[0])||void 0===c||null===(_=c.label)||void 0===_?void 0:_.toLowerCase())||"",options:B,values:o,onChange:function(t){return j&&m(t[0].value,e.applicant_id,e.id)}})),"Veteran"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,1===e.is_veteran&&s.a.createElement("span",{className:"veteran_label"},"V")),"Readiness Flag"===t.name&&t.is_show&&s.a.createElement(bc.Cell,null,e.is_at_risk),"Student Experience Manager"===t.name&&t.is_show&&r.props.selected_workspace_id===u.Xb.codingdojo&&s.a.createElement(bc.Cell,null,e.sem_name))})),s.a.createElement(bc.Cell,{className:"attendance_row"},s.a.createElement("div",{className:"attendance_row_container"},s.a.createElement("div",null,"Attendance"!==Z.name&&s.a.createElement(eg,null),s.a.createElement("span",null,"Attendance"===Z.name?"ATTENDANCE":e.weekly_assignment_rate)),s.a.createElement("ul",{className:"week_progress_list list-unstyled"},Object(f.a)(Array(c)).map((function(e,t){return s.a.createElement("li",{key:"gap_days_"+t,className:"days_column"})})),e.weeks&&h&&h.length&&e.weeks[q]&&e.weeks[q].map((function(t,a){var n,o,i=v()(e.stack_start_date),c=v()(t.checklist_date).diff(i,"day");return 0===(null===(n=t.attendances)||void 0===n?void 0:n.length)&&(null===(o=t.attendances_duplicate)||void 0===o?void 0:o.length)&&!t.is_holiday&&(t.attendances=Object(f.a)(t.attendances_duplicate)),s.a.createElement("li",{key:t.date,className:"days_column"},e.is_major_track&&"Attendance"===Z.name&&c>=0&&s.a.createElement("ul",{className:"attendance_list list-unstyled ".concat(u.A.allow_progress_tracking.includes(e.status)?"":"disabled")},t.attendances&&t.attendances.map((function(n,o){var i,c,_,d;return s.a.createElement("li",{key:n.id,className:(null===n||void 0===n?void 0:n.status)&&(null===u.k||void 0===u.k||null===(i=u.k[n.status.toString()])||void 0===i||null===(c=i.status)||void 0===c?void 0:c.toLowerCase()),onClick:function(s){var i;return r.toggleShowUpdateAttendancePopover(s,!0,e.id,n,t,o,a,(i={is_checked:!0,user_id:e.id,applicant_id:e.applicant_id,user_track_id:e.user_track_id,user_bootcamp_id:e.user_bootcamp_id,cc_stack_id:e.cc_stack_id,program_type_id:e.program_type_id,stack_start:e.stack_start,stack_end:e.stack_end,cc_stack_schedule_id:e.cc_stack_schedule_id,stack_schedule_id:e.stack_schedule_id,track_week_count:e.track_week_count,track_id:e.track_id},Object(l.a)(i,"stack_schedule_id",e.stack_schedule_id),Object(l.a)(i,"program_start_date",e.program_start_date),Object(l.a)(i,"program_end_date",e.program_end_date),Object(l.a)(i,"workspace_id",e.workspace_id),i),t.checklist_date)}},(null===n||void 0===n?void 0:n.status)&&n.status!==u.j.statuses.none&&n.status!==u.j.statuses.no_status&&(null===u.k||void 0===u.k||null===(_=u.k[n.status.toString()])||void 0===_||null===(d=_.status)||void 0===d?void 0:d.charAt(0)))})))||"","Assignment"===Z.name&&s.a.createElement(s.a.Fragment,null,s.a.createElement("ul",{className:"core_assignments_list list-unstyled"},t.core_assignments&&t.core_assignments.map((function(a){return s.a.createElement("li",{key:a.chapter_module_id,className:u.i[(null===a||void 0===a?void 0:a.is_for_review)?u.h.value.is_for_review:null===a||void 0===a?void 0:a.status],onClick:function(n){return r.toggleShowAssignmentPopover(n,!0,e.id,{id:t.id,date:t.date},Object(d.a)(Object(d.a)({},a),{},{name:e.name,student_id:e.id,applicant_id:e.applicant_id,user_track_id:e.user_track_id,cc_stack_id:e.cc_stack_id,program_type_id:e.program_type_id,cc_stack_schedule_id:e.cc_stack_schedule_id,stack_schedule_id:e.stack_schedule_id,track_week_count:e.track_week_count,track_id:e.track_id,stack_start:e.stack_start,stack_end:e.stack_end,program_start_date:e.program_start_date,is_within_stack_sched:e.is_within_stack_sched}))}})}))),Z.sub_options[1].is_selected&&s.a.createElement("ul",{className:"practice_assignments_list list-unstyled"},t.practice_assignments&&t.practice_assignments.map((function(a){return s.a.createElement("li",{key:a.chapter_module_id,className:u.i[(null===a||void 0===a?void 0:a.is_for_review)?u.h.value.is_for_review:null===a||void 0===a?void 0:a.status],onClick:function(n){return r.toggleShowAssignmentPopover(n,!0,e.id,{id:t.id,date:t.date},Object(d.a)(Object(d.a)({},a),{},{name:e.name,student_id:e.id,applicant_id:e.applicant_id,user_track_id:e.user_track_id,cc_stack_id:e.cc_stack_id,program_type_id:e.program_type_id,cc_stack_schedule_id:e.cc_stack_schedule_id,stack_schedule_id:e.stack_schedule_id,track_week_count:e.track_week_count,track_id:e.track_id,stack_start:e.stack_start,stack_end:e.stack_end,program_start_date:e.program_start_date,is_within_stack_sched:e.is_within_stack_sched}))}})}))),Z.sub_options[2].is_selected&&s.a.createElement("ul",{className:"optional_assignments_list list-unstyled"},t.optional_assignments&&t.optional_assignments.map((function(a){return s.a.createElement("li",{key:a.chapter_module_id,className:u.i[(null===a||void 0===a?void 0:a.is_for_review)?u.h.value.is_for_review:null===a||void 0===a?void 0:a.status],onClick:function(n){return r.toggleShowAssignmentPopover(n,!0,e.id,{id:t.id,date:t.date},Object(d.a)(Object(d.a)({},a),{},{name:e.name,student_id:e.id,applicant_id:e.applicant_id,user_track_id:e.user_track_id,cc_stack_id:e.cc_stack_id,program_type_id:e.program_type_id,cc_stack_schedule_id:e.cc_stack_schedule_id,stack_schedule_id:e.stack_schedule_id,track_week_count:e.track_week_count,track_id:e.track_id,stack_start:e.stack_start,stack_end:e.stack_end,program_start_date:e.program_start_date,is_within_stack_sched:e.is_within_stack_sched}))}})})))))}))||""))))})),F&&s.a.createElement("div",{id:"no_results_found"},"Preparing filters...."),!1===_&&0===c.length&&!1===F&&s.a.createElement("div",{id:"no_results_found"},"No results found."))),this.state.is_show_belt_popover&&s.a.createElement(bm,{is_show_belt_popover:this.state.is_show_belt_popover,belt_popover_target:this.state.belt_popover_target,hideBeltPopover:this.toggleBeltExamDetailsPopover,popover_ref:this.popover_ref,stack_title:K,belt_history:G,ref:this.popover_position,popover_z_index:this.state.popover_z_index}),this.state.active_assignment&&s.a.createElement(Zf,{has_set_assignment_status_access:L,student_id:this.state.student_id,week_id:q,active_day:this.state.active_day,active_assignment:this.state.active_assignment,is_show:this.state.is_show_assignment_details_popover,download_assignment:this.state.download_assignment,target:this.state.assignment_popover_target,onToggleShowAssignmentPopover:this.toggleShowAssignmentPopover,onToggleShowStudentAssignmentChecklist:this.props.onToggleShowStudentAssignmentChecklist,onSubmitUpdateStudentAssignment:this.props.onSubmitUpdateStudentAssignment,onUpdateActiveAssignmentStatus:this.updateActiveAssignmentStatus,popover_ref:this.popover_ref,popover_z_index:this.state.popover_z_index,table_view_setting:this.props.table_view_setting}),this.state.active_attendance&&s.a.createElement(tg,{has_set_attendance_access:Object(p.i)(null===I||void 0===I||null===(n=I.general)||void 0===n?void 0:n.user_capabilities,"admin.student_progress.view_by_stack.attendance_view.set_attendance"),is_show:this.state.is_show_update_attendance_popover,target:this.state.update_attendance_target,active_attendance:this.state.active_attendance,profile:this.props.profile,active_week:q,student_id:this.state.student_id,active_day:this.state.active_day,onToggleShowUpdateAttendancePopover:this.toggleShowUpdateAttendancePopover,onUpdateAttendance:g,onUpdateActiveAttendance:this.updateActiveAttendance,popover_ref:this.popover_ref,popover_z_index:this.state.popover_z_index}),this.state.selected_table_head_data&&this.state.is_show_holiday_modal&&s.a.createElement(ag,{selected_workspace_id:this.props.selected_workspace_id,holiday_args:this.getStudentStackHolidayArgs(),is_past_date:this.state.is_past_date,selected_table_head_data:this.state.selected_table_head_data,selected_workspace:te,programs_by_workspace:C,holidays_of_the_month:w,is_calendar_holiday_fetching:U,processing_holiday_response_status:y,holiday_process_message:R,onProcessUpdateHolidayDate:this.processUpdateHolidayDate,fetchWorkspaceHolidays:this.fetchWorkspaceHolidays,resetStateValue:this.props.resetStateValue,toggleShowModal:function(){return Object(p.W)(r,"is_show_holiday_modal",!1)},show:this.state.is_show_holiday_modal}),this.state.is_show_student_profile_modal&&s.a.createElement(Lu,{toggleShowModal:function(){return Object(p.W)(r,"is_show_student_profile_modal",!1)},student_data:this.state.student_profile_data,show:this.state.is_show_student_profile_modal,changeProgramStatus:this.changeProgramStatus,admin_page:u.c.stack_dashboard,default_active_tab:this.state.default_active_tab}))}}]),a}(n.Component)),sg=nd.fetchProgramsByWorkspace,rg=nd.resetStateValue,og=nd.resetHolidayProcessMessage,ig=nd.fetchWorkspaces,cg=nd.fetchHolidayBreaksByDate,_g=nd.checkStudentProgressAttendanceRecord,lg=Pa.a.getStudentProfileDetails,dg=Pa.a.updateStudentProgramAccess,ug=vn.a.generateS3Url,pg=vn.a.clearPresignedURL,mg=Object(p.J)(["student_progress","student_access"],{getStudentProfileDetails:lg,updateStudentProgramAccess:dg,fetchWorkspaces:ig,resetHolidayProcessMessage:og,resetStateValue:rg,fetchProgramsByWorkspace:sg,fetchHolidayBreaksByDate:cg,checkStudentProgressAttendanceRecord:_g,generateS3Url:ug,clearPresignedURL:pg}),hg=mg.mapStateToProps,Eg=mg.mapDispatchToProps,fg=Object(ue.b)(hg,Eg)(ng),gg=(a(1416),n.Component,a(1417),function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={navigation:Of,table_head_columns:Tf,filter_dropdowns:[],students:[],students_ids:[],weeks_tab:[],total_results:0,selected_stack_start_date:null,is_show_assignment_details_modal:!1,is_show_take_attendance_modal:!1,is_show_export_students_data_modal:!1,is_show_student_assignment_checklist:!1,pagination:void 0,table_view_setting:[{name:"Attendance",is_selected:!0},{name:"Assignment",is_selected:!1,sub_options:[{name:"Core",is_selected:!0,is_disabled:!0},{name:"Practice",is_selected:!1,is_disabled:!1},{name:"Optional",is_selected:!1,is_disabled:!1}],submission_type:{selected_value:{label:"In-general",value:1},options:[{label:"On-time Only",value:0},{label:"In-general",value:1}]},progress_type:{selected_value:{label:"Up-to-date Only",value:0},options:[{label:"Up-to-date Only",value:0},{label:"Total",value:1}]}}],is_show_multi_select_student_popover:!1,is_loading:!0,profile:Object(d.a)({},e.props.student_progress.profile),submit_by_filter:!1,submit_by_assignment_type:!1,search_student_keyword:"",prev_search_key_not_set:!0,active_assignment_checklist_data:null,sort_by_enrollment_status:!1,enrollment_status_order:"",selected_all_students:!1,selected_all_students_to_process:!1,removed_student_while_selected_all_students:[],selected_students:[],total_selected:0,selected_view_type:"attendance",selected_sort:void 0,selected_workspace_id:void 0,selected_is_major_track:0,is_onload_page:!0,is_set_keyword:!1,is_change_workspace:!1,is_update_filter_options:!0},e.componentDidMount=function(){var t=e.props.admin.profile.available_workspaces.filter((function(e){return e.is_selected})),a=Object(A.a)(t,1)[0].id;e.setState({is_set_keyword:!0,search_student_keyword:""},e.props.fetchStudentProgressRevisionFilterOptions({selected_workspace_id:a,admin_page:u.c.stack_dashboard})),Gl(Object(Se.a)(e),"stack_dashboard_customize_columns")},e.componentWillUnmount=function(){e.props.unMountCourseDashBoard()},e.onChangeSelectedViewType=function(t){e.setState({selected_view_type:t})},e.changeWeek=function(t,a){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=Object(f.a)(e.state.weeks_tab);s.map((function(e){e.is_active=e.id===t})),e.submitFilters(!1,"assignment_type","",!1,a,!0,n),e.setState({weeks_tab:s,selected_view_type:a})},e.toggleCheckStudents=function(t,a){var n=Object(f.a)(e.state.students),s=e.props.student_progress,r=s.all_students_attendance_raw_details,o=s.search_student_keyword,i=s.filter_students,c=s.total_results;e.setState({students:n},(function(){var t,s=!1,_=0,l=Object(W.a)(n);try{for(l.s();!(t=l.n()).done;){var u,p=t.value,m=p.user_track_id;p.is_checked=!!(null===r||void 0===r||null===(u=r["".concat(m)])||void 0===u?void 0:u.is_checked)}}catch(T){l.e(T)}finally{l.f()}if(o){for(var h={},E={},f=0;f<i.length;f++){var g=i[f].id;h["".concat(g)]=g}for(var v in c=Object.values(h).length,r){var b,S=r[v].user_id;(null===r||void 0===r||null===(b=r[v])||void 0===b?void 0:b.is_checked)&&(E["".concat(S)]=S)}s=!!(_=Object.values(E).length)}else for(var A in r){var k,O;!s&&(null===r||void 0===r||null===(k=r[A])||void 0===k?void 0:k.is_checked)&&(s=r[A].is_checked),(null===r||void 0===r||null===(O=r[A])||void 0===O?void 0:O.is_checked)&&_++}e.setState(Object(d.a)({students:n,is_show_multi_select_student_popover:s,total_selected:_,selected_all_students:c===_,selected_all_students_to_process:c===_},a||s?{}:{selected_all_students_to_process:!1,selected_students:[]}))}))},e.sortTable=function(t,a,n){e.setState({selected_sort:t},(function(){e.submitFilters(null,"","",!1,n)}))},e.updateAPStatus=function(t,a,n){var s=Object(f.a)(e.state.students);s.map((function(e){e.applicant_id===a&&e.id===n&&(e.ap=t)})),e.setState({students:s}),e.props.updateStudentAPStatus({applicant_id:a,ap_status:t})},e.searchStudents=function(t){if(t.preventDefault(),e.state.search_student_keyword){var a=Object(A.a)(e.state.filter_dropdowns,1)[0],n=(null===a||void 0===a?void 0:a.selected.length)?a.selected[0].is_major:2;e.setState({selected_is_major_track:n},(function(){e.submitFilters(!1,"filter","",!1,"assignment",!0)}))}},e.setSearchStudentsKeyword=function(t){t.preventDefault(),e.setState({search_student_keyword:t.target.value})},e.submitFilters=function(t){var a,n,s,r,o,i,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l=arguments.length>3&&void 0!==arguments[3]&&arguments[3],p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",m=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],h=arguments.length>6&&void 0!==arguments[6]&&arguments[6],E=arguments.length>7&&void 0!==arguments[7]&&arguments[7];t&&t.preventDefault();var f=(null===(a=e.state)||void 0===a?void 0:a.pagination)||(null===(n=e.props.student_progress)||void 0===n?void 0:n.pagination);if("assignment_type"!==c&&"attendance_type"!==c||e.setState({selected_view_type:p}),"filter"===c){e.setState({selected_all_students:!1,selected_all_students_to_process:!1,removed_student_while_selected_all_students:[],selected_students:[],total_selected:0,is_show_multi_select_student_popover:!1});var g=[{name:"Attendance",is_selected:"attendance"===e.state.selected_view_type},{name:"Assignment",is_selected:"assignment"===e.state.selected_view_type,sub_options:[{name:"Core",is_selected:!0,is_disabled:!0},{name:"Practice",is_selected:!1,is_disabled:!1},{name:"Optional",is_selected:!1,is_disabled:!1}],submission_type:{selected_value:{label:"In-general",value:1},options:[{label:"On-time Only",value:0},{label:"In-general",value:1}]},progress_type:{selected_value:e.state.table_view_setting[1].progress_type.selected_value,options:[{label:"Up-to-date Only",value:0},{label:"Total",value:1}]}}];p=e.state.selected_view_type,e.setState({pagination:f,table_view_setting:g})}var v="assignment_type"===c?e.state.students_ids:[],b={pagination:f,search_student_keyword:e.state.search_student_keyword,filters:{},selected_sort:e.state.selected_sort};if(e.state.filter_dropdowns.map((function(t){t.selected.length&&(b.filters[t.filter_name]=t.selected.length>1?t.selected.map((function(e){return e.value})):t.selected[0].value,"cc_stack_id"===t.filter_name&&(b.filters.is_major_track=e.state.selected_is_major_track))})),e.state.is_processing_export_roster_list?b.event="export":e.state.latest_filter_params=b,l)b.enrollment_status_order=e.state.enrollment_status_order;else if(_){var S="DESC"===_?"ASC":"DESC";b.enrollment_status_order=S,e.setState({enrollment_status_order:S,sort_by_enrollment_status:!0})}else e.setState({enrollment_status_order:"",sort_by_enrollment_status:!1});var k=[{id:1,is_active:!0,is_disabled:!1}],O=e.state.weeks_tab.length&&"filter"!==c&&m?e.state.weeks_tab.filter((function(e){return e.is_active})):k,T=Object(A.a)(O,1),C=T[0];"attendance"!==p||h||E||(C={id:1,is_active:!0,is_disabled:!1});var w=Object(A.a)(e.state.table_view_setting,2),y=w[1],R=Object(A.a)(e.state.table_view_setting,2),D=R[1],U=D.progress_type.selected_value.value,N=D.submission_type.selected_value.value;if("filter"===c&&m&&(C=k[0],y.sub_options.map((function(e){e.is_selected="Core"===e.name,e.is_disabled="Core"===e.name}))),(null===b||void 0===b||null===(s=b.filters)||void 0===s?void 0:s.cc_stack_id)&&((null===b||void 0===b||null===(r=b.filters)||void 0===r?void 0:r.cc_stack_start_date)||(null===b||void 0===b||null===(o=b.filters)||void 0===o?void 0:o.bootcamp_start_date))||(null===b||void 0===b?void 0:b.search_student_keyword)||(null===b||void 0===b||null===(i=b.filters)||void 0===i?void 0:i.sem_user_id)){var I=e.props.admin.profile.available_workspaces.filter((function(e){return e.is_selected})),P=Object(A.a)(I,1),j=P[0].id;b.workspace_id=j,e.props.fetchFilteredStackDashboardData(Object(d.a)(Object(d.a)({},b),{},{view_type:p,is_on_time:!N,is_up_to_date:!U,selected_week:C,assignment_type:y.sub_options,student_ids:v,selected_workspace_id:j,selected_sort:e.state.selected_sort,admin_page:u.c.stack_dashboard,is_major_track:void 0===e.state.selected_is_major_track?u.s.YES_VALUE:e.state.selected_is_major_track}))}else alert('Your search results seem to be too broad. Please add "Course" and "Course Start Date/Program Start Date" filters to find exactly what you want.')},e.adjustAttendanceRate=function(e,t,a){var n="";if(e){var s=e.split(" "),r=Object(A.a)(s,2)[1].split("/").map((function(e){return Number(e.replace(/\D/g,""))})),o=Object(A.a)(r,2),i=o[0],c=o[1];i=parseInt(i),c=parseInt(c),c+=a,n=(i+=t)?"".concat(Math.round(i/c*100),"% (").concat(i,"/").concat(c,")"):"0% (".concat(i,"/").concat(c,")")}return n},e.updateAttendancesByHolidays=function(t,a,n,s,r,o){var i=Object(f.a)(e.state.students);i.map((function(t){if((null===t||void 0===t?void 0:t.weeks)&&(null===t||void 0===t?void 0:t.weeks[n])&&(null===t||void 0===t?void 0:t.weeks[n][s])){var a,r=o.includes(t.program_type_id);if(null===(a=t.weeks[n][s])||void 0===a?void 0:a.proxy_attendances){t.weeks[n][s].attendances.length&&(t.weeks[n][s].proxy_attendances=t.weeks[n][s].attendances);for(var i=t.weeks[n][s].proxy_attendances,c=0,_=0;i.length>_;_++){i[_].status===u.k[1].status.toLowerCase()&&(c+=1)}var l=t.weeks[n][s].proxy_attendances;t.is_holiday=r,t.is_user_attendance_by_discussion||(r?(t.attendance_rate=e.adjustAttendanceRate(t.attendance_rate,-c,-i.length),t.weeks[n][s].attendances=[]):(t.attendance_rate=e.adjustAttendanceRate(t.attendance_rate,c,i.length),t.weeks[n][s].attendances=l))}}})),e.setState({students:i})},e.submitUpdateStudentsAttendance=function(t,a,n,s,r,o){Object(f.a)(e.state.students);var i={pagination:{},search_student_keyword:e.state.search_student_keyword,filters:{}},c=e.props.student_progress.all_students_attendance_raw_details;e.state.selected_all_students_to_process&&e.state.filter_dropdowns.map((function(e){e.selected.length>0&&(i.filters[e.filter_name]=e.selected.length>1?e.selected.map((function(e){return e.value})):e.selected[0].value)}));var _={},u=[];for(var p in c){var m=c[p],h=m.is_checked,E=m.raw_details,g=m.applicant_id,b=m.cc_stack_schedule_id,S=m.program_type_id,k=m.stack_end,O=m.stack_start,T=m.stack_schedule_id,C=m.track_id,w=m.user_bootcamp_id,y=m.user_id;if(h){var R=v()(r).format("YYYYMMDD");u.push({applicant_id:g,cc_stack_schedule_id:b,program_type_id:S,stack_end:k,stack_start:O,stack_schedule_id:T,track_id:C,user_bootcamp_id:w,user_id:y});for(var D=0;D<n.length;D++){var U=n[D].id;if(E["".concat(R)]){var N,I=null===(N=E["".concat(R)])||void 0===N?void 0:N["period_".concat(U)];if(I){var P=I.user_attendances_id;_["".concat(U)]=Object(d.a)(Object(d.a)({},_["".concat(U)]),{},Object(l.a)({},y,{user_attendance_id:P||null}))}else _["".concat(U)]=Object(d.a)(Object(d.a)({},_["".concat(U)]),{},Object(l.a)({},y,{user_attendance_id:null}))}else _["".concat(U)]=Object(d.a)(Object(d.a)({},_["".concat(U)]),{},Object(l.a)({},y,{user_attendance_id:null}))}}}var j=Object(A.a)(e.state.table_view_setting,2),L=(j[0],j[1].progress_type.selected_value);e.props.checkStudentAttendances(Object(d.a)(Object(d.a)(Object(d.a)({selected_date:r,selected_workspace_id:e.state.selected_workspace_id,selected_week:t,selected_day:a,selected_periods:n,selected_status:s,selected_students:u,is_selected_all_student:e.state.selected_all_students_to_process},i.filters),i),{},{origin:o,attendance_block_data:_,progress_type:L.value}))},e.submitUpdateStudentAssignment=function(t,a,n,s,r){var o,i,c,_,l,d,u,p=e.state.table_view_setting,m=(null===p||void 0===p||null===(o=p[1].progress_type)||void 0===o||null===(i=o.selected_value)||void 0===i?void 0:i.value)||0,h=Object(f.a)(e.state.students),E=e.props.user.user_details,g=E.general,b=E.workspace,S=t.stack_start,k=t.stack_end,O=t.week,T=t.day,C=null===b||void 0===b||null===(c=b.workspace_settings_json)||void 0===c||null===(_=c.customization)||void 0===_||null===(l=_.calendar)||void 0===l?void 0:l.week_start_day,w=!(O&&T&&!(new Date>new Date(k))&&S&&!m),y={0:"core_assignments",1:"practice_assignments",2:"optional_assignments"},R=v.a.tz("".concat(v()(t.stack_start).format("YYYY-MM-DD"),"T00:00:00"),(null===g||void 0===g||null===(d=g.timezone)||void 0===d?void 0:d.acronym)||"UTC"),D=v.a.tz((null===g||void 0===g||null===(u=g.timezone)||void 0===u?void 0:u.acronym)||"UTC");if(!w&&v()(D).isSameOrAfter(R)){var U=v()(D).diff(v()(R),"days")/7,N=(Number.isInteger(U)?U:Math.floor(U))+1,I=null,P=v()(D).isoWeekday();I="Sunday"===C?7===P?1:P+1:P,(O<N||O===N&&T<I)&&(w=!w)}h.map((function(e){var o=e.user_track_id,i=e.id;if(!o&&i===a||o===t.user_track_id){var c=e.assignment.split(" "),_=Object(A.a)(c,2)[1].split("/").map((function(e){return e.replace(/\D/g,"")})),l=Object(A.a)(_,2),d=l[0],u=l[1],p=e.weekly_assignment_rate.split(" "),m=Object(A.a)(p,2)[1].split("/"),h=Object(A.a)(m,2),E=h[0],f=h[1];if(d=parseInt(d),E=parseInt(E),r.is_compute){r.is_add?(w&&d++,E++):(w&&d--,E--);var g=d?(d/u*100).toFixed(2):0,v=E?Math.round(E/f*100):0;e.assignment="".concat(g,"% (").concat(d,"/").concat(u,")"),e.weekly_assignment_rate="".concat(v,"% ").concat(E,"/").concat(f)}e.weeks[n].map((function(e){e.id===s&&e[y[t.type]].map((function(e){e.user_module_id===t.user_module_id&&(e.status=t.status,e.is_for_review=t.is_for_review)}))}))}})),e.setState({students:h})},e.updateAttendance=function(t,a,n,s,r,o,i){if(o){var c=o.selected_week,_=o.selected_day,d=o.selected_periods,u=o.selected_status,p=o.selected_students,m=o.selected_date,h=Object(A.a)(e.state.table_view_setting,2),E=(h[0],h[1].progress_type.selected_value),f=d[0].id,g=Object(l.a)({},f,Object(l.a)({},t,{user_attendance_id:s||null}));e.props.checkStudentAttendances({selected_week:c,selected_day:_,selected_periods:d,selected_status:u,selected_students:p,selected_workspace_id:e.state.selected_workspace_id,selected_date:m,attendance_block_data:g,origin:i,progress_type:E.value})}},e.changeTableView=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=Object(f.a)(e.state.table_view_setting);n.map((function(e){e.is_selected=e.name===t,e.name===t&&a&&e.sub_options.map((function(e){e.name===a.name&&(e.is_selected=!a.is_selected)}))}));var s=t.toLocaleLowerCase();e.submitFilters(!1,s+"_type","",!1,s,!1),e.setState({table_view_setting:n})},e.toggleShowStudentAssignmentChecklist=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(e.setState({is_show_student_assignment_checklist:!1}),a){var n=a.applicant_id,s=a.student_id,r=a.cc_stack_id,o=a.user_track_id,i=a.program_type_id,c=a.name,_=a.cc_stack_schedule_id,l=a.stack_start,d=a.stack_end,u=a.program_start_date,p=a.track_id;e.props.fetchStudentTrackChecklist({applicant_id:n,student_id:s,cc_stack_id:r,user_track_id:o,program_type_id:i,name:c,cc_stack_schedule_id:_,stack_start:l,stack_end:d,program_start_date:u,selected_workspace_id:e.state.selected_workspace_id,track_id:p});var m=e.props.student_progress.filter_students,h=m.filter((function(e){return e.id===s&&e.applicant_id===n})),E=Object(A.a)(h,1),f=E[0],g={};g.course_id=a.course_id,g.chapter_module_id=a.chapter_module_id,g.user_bootcamp_id=f.user_bootcamp_id,e.setState({is_show_student_assignment_checklist:t,active_assignment_checklist_data:g})}},e.paginateData=function(t){var a=Object(f.a)(e.state.table_view_setting).filter((function(e){return e.is_selected})),n=Object(A.a)(a,1)[0].name;e.state.pagination.current_page=Number(t),e.submitFilters(null,"","",!0,n.toLowerCase(),!0,!1,!0)},e.updateFilterDropdownSelectedValue=function(t,a){var n=Object(f.a)(e.state.filter_dropdowns),s=e.props.student_progress.initial_filter_data;Object(p.U)(t,a,n,s,u.lb.admin_page.course_dashboard),"cc_stack_id"===a.filter_name&&t.length&&(t[0].is_major?(Object(p.V)(n,"cc_stack_start_date","bootcamp_start_date"),n[3].selected=[]):(Object(p.V)(n,"bootcamp_start_date","cc_stack_start_date"),n[1].selected=[])),e.setState(Object(d.a)({filter_dropdowns:Object(p.U)(t,a,n,s,u.lb.admin_page.course_dashboard)},"cc_stack_id"===a.filter_name&&t.length?{selected_is_major_track:t[0].is_major}:{}))},e.clearAllFilters=function(){var t=Object(f.a)(e.state.filter_dropdowns),a=e.props.student_progress.initial_filter_data;Object(p.a)(t,a,u.lb.admin_page.course_dashboard),e.setState({filter_dropdowns:t,is_clear_filter:!0,selected_is_major_track:null})},e.updateStudentAssignmentStatus=function(t,a,n){var s=Object(f.a)(e.state.students);a="".concat(a.toLowerCase(),"_assignments");var r=n.week,o=n.day,i=n.chapter_module_id;s.map((function(e){if(e.id==t&&e.weeks[r-1]&&e.weeks[r-1][o-1]&&e.weeks[r-1][o-1][a]){var s=e.weeks[r-1][o-1][a].findIndex((function(e){return e.chapter_module_id==i}));e.weeks[r-1][o-1][a][s]=n}})),e.setState({students:s})},e.updateAssignmentFilterDropdownValue=function(t,a,n){var s=Object(f.a)(e.state.table_view_setting),r=s[0],o=s[1];o[t].selected_value=a[0],e.setState({table_view_setting:[r,o],selected_view_type:n}),e.submitFilters(!1,"","",!1,n)},e.changeActiveWorkspace=function(t){var a=t.filter((function(e){return e.is_selected})),n=Object(A.a)(a,1)[0].id;e.props.switchWorkspace({workspace_id:n}),e.props.unMountCourseDashBoard(),setTimeout((function(){e.props.fetchStudentProgressRevisionFilterOptions({selected_workspace_id:n,admin_page:u.c.stack_dashboard})}),u.Ab.normal),e.setState({prev_search_key_not_set:!0,is_change_workspace:!0,selected_workspace_id:n,is_show_multi_select_student_popover:!1,selected_all_students_to_process:!1,selected_students:[],selected_all_students:!1})},e.submitStudentTableFilter=function(t){var a,n;t.preventDefault();var s=null===(a=e.state)||void 0===a?void 0:a.filter_dropdowns.filter((function(e){return"sem_user_id"===e.filter_name})),r=Object(A.a)(s,1)[0];if(e.state.cc_stack_id_has_value&&(e.state.cc_stack_start_date_has_value||e.state.bootcamp_start_date_has_value)||e.state.search_student_keyword||!e.state.cc_stack_id_has_value&&(null===r||void 0===r||null===(n=r.selected)||void 0===n?void 0:n.length)){var o,i=Object(A.a)(e.state.filter_dropdowns,1)[0];e.props.checkStudentProgressAttendanceRecord(null,!0,!1);var c=(null===i||void 0===i||null===(o=i.selected)||void 0===o?void 0:o.length)?i.selected[0].is_major:2;e.setState({selected_is_major_track:c},(function(){e.submitFilters(!1,"filter","",!1,"assignment",!0)}))}else alert('Please apply both "Course" and "Course Start date" filters to narrow the search before fetching for results')},e.updatePageCount=function(t){var a=Object(f.a)(e.state.table_view_setting).filter((function(e){return e.is_selected})),n=Object(A.a)(a,1)[0].name;e.state.pagination.students_per_page!==t.page_count&&(e.props.student_progress.page_count=t.page_count,e.state.pagination.current_page=Number(t.page_count),e.setState({pagination:{current_page:1,students_per_page:t.page_count}},(function(){e.submitFilters(null,"","",!0,n.toLowerCase(),!0,!1,!0)})))},e}return Object(_e.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a,n,s,r=this,o=this.props.student_progress,i=o.filter_dropdowns,c=o.weeks_tab,_=o.filter_students,l=o.loading_table,d=o.table_head_dates,p=(o.check_attendances_response,o.search_student_keyword),m=o.selected_sort,h=o.pagination,E=o.total_results,g=this.props.admin.filters.admin_page,v=Object(f.a)(_);JSON.stringify(t.filter_dropdowns)!==JSON.stringify(i)&&(g===u.c.stack_dashboard&&this.setState({filter_dropdowns:i,selected_stack_start_date:null===(a=i[1])||void 0===a?void 0:a.selected[0],selected_is_major_track:null===(n=i[0])||void 0===n||null===(s=n.selected[0])||void 0===s?void 0:s.is_major,selected_sort:m,pagination:h},(function(){var e,t,a;((null===(e=i[u.a.stack])||void 0===e?void 0:e.selected.length)&&(null===(t=i[u.a.stack_start_date])||void 0===t?void 0:t.selected.length)||(null===(a=i[u.a.bootcamp_start_date])||void 0===a?void 0:a.selected.length)&&!r.state.is_loading)&&r.submitFilters(!1,"filter")})));JSON.stringify(t.is_loading)!==JSON.stringify(l)&&this.setState({is_loading:l});var b=this.props.admin.profile.available_workspaces.filter((function(e){return e.is_selected})),S=Object(A.a)(b,1)[0].id;if(JSON.stringify(t.selected_workspace_id)!==JSON.stringify(S)&&this.setState({selected_workspace_id:S}),JSON.stringify(t.students)!==JSON.stringify(_)){var k,O=[],T=Object(W.a)(_);try{var C=function(){var e,a=k.value,n=(a.track_progress_percentage,a.track_week_count,a.weeks,a.id),s=Object(Mc.a)(a,["track_progress_percentage","track_week_count","weeks","id"]);O.push(s),(null===(e=document.getElementById("all_table_checkbox"))||void 0===e?void 0:e.checked)?a.is_checked=u.s.YES_VALUE:t.selected_students.length?t.selected_students.some((function(e){return e.id===n}))&&(a.is_checked=!0):t.selected_students.length&&t.selected_students.some((function(e){return e.id===n}))&&(a.is_checked=!0)};for(T.s();!(k=T.n()).done;)C()}catch(j){T.e(j)}finally{T.f()}var w=c.filter((function(e){return!0===(null===e||void 0===e?void 0:e.is_active)})),y=Object(A.a)(w,1)[0];v.map((function(e){(null===e||void 0===e?void 0:e.weeks)&&(null===e||void 0===e?void 0:e.weeks[null===y||void 0===y?void 0:y.id])&&e.weeks[null===y||void 0===y?void 0:y.id].map((function(t,a){var n;(null===(n=d[a])||void 0===n?void 0:n.program_type_ids.includes(null===e||void 0===e?void 0:e.program_type_id))&&!e.is_user_attendance_by_discussion&&(t.attendances=[])}))}));var R,D=this.props.student_progress.all_students_attendance_raw_details,U=Object(W.a)(v);try{for(U.s();!(R=U.n()).done;){var N,I=R.value,P=I.user_track_id;I.is_checked=!!(null===D||void 0===D||null===(N=D["".concat(P)])||void 0===N?void 0:N.is_checked)}}catch(j){U.e(j)}finally{U.f()}this.setState({students:v,weeks_tab:c,students_ids:O})}this.state.is_onload_page&&m&&JSON.stringify(t.selected_sort)!==JSON.stringify(m)&&this.setState({selected_sort:m,is_onload_page:!1}),this.state.pagination&&E>0&&this.state.pagination.current_page>Math.ceil(E/this.state.pagination.students_per_page)&&this.paginateData(1),this.state.is_change_workspace&&this.props.admin.profile.workspace.workspace_id===this.state.selected_workspace_id&&(this.props.fetchStackDashboardFilterOptions({selected_workspace_id:this.props.admin.profile.workspace.workspace_id,admin_page:u.c.stack_dashboard}),this.setState({is_change_workspace:!1,search_student_keyword:"",is_set_keyword:!0,is_update_filter_options:!1})),!this.state.search_student_keyword&&p&&this.state.is_set_keyword&&this.setState({search_student_keyword:p,is_set_keyword:!1})}},{key:"render",value:function(){var e,t,a,n,r,o,i,c=this,_=this.state,l=_.navigation,d=_.students,m=_.filter_dropdowns,h=_.table_head_columns,E=_.is_show_multi_select_student_popover,f=_.is_loading,g=_.profile,v=_.prev_search_key_not_set,b=_.selected_stack_start_date,S=_.selected_sort,A=this.state.pagination,k=this.props.student_progress,O=k.search_student_keyword,T=k.total_results,C=k.stack_list_of_dates_by_week,w=k.check_attendances_response,y=k.check_attendances_response_message,R=k.page_count,D=k.is_fetching_filters;return O&&v&&(this.state.search_student_keyword=O,this.state.prev_search_key_not_set=!1),m.map((function(e){["cc_stack_id","cc_stack_start_date","bootcamp_start_date"].includes(e.filter_name)&&(c.state[e.filter_name+"_has_value"]=e.selected.length>0)})),this.state.has_no_selected_filter=!(this.state.cc_stack_id_has_value&&this.state.cc_stack_start_date_has_value),s.a.createElement("div",{id:"admin_container"},s.a.createElement(et,{title:u.lb.admin_page.course_dashboard}),s.a.createElement(Gi,{active_icon:"users"}),s.a.createElement(Vi,{navigation:l,admin_page:"course_dashboard"}),s.a.createElement("div",{id:"admin_right_container"},s.a.createElement(sc,{search_student_keyword:this.state.search_student_keyword,onSearchStudents:this.searchStudents,profile:this.props.admin.profile,onSetSearchStudentsKeyword:this.setSearchStudentsKeyword,onchangeActiveWorkspace:this.changeActiveWorkspace}),s.a.createElement("div",{id:"table_tools_container"},s.a.createElement(Yi,{filter_dropdowns:m,submitFilters:this.submitStudentTableFilter,updateFilterDropdownSelectedValue:this.updateFilterDropdownSelectedValue,clearAllFilters:this.clearAllFilters})),s.a.createElement(fg,{selected_workspace_id:this.state.selected_workspace_id,enrollment_status_order:this.state.enrollment_status_order,is_loading:f,isSelectedAllStudent:this.state.selected_all_students,onChangeSelectedViewType:this.onChangeSelectedViewType,onChangeTableView:this.changeTableView,onChangeWeek:this.changeWeek,onCustomizeTableColumns:function(e){return Kl(c,e,"stack_dashboard_customize_columns")},onMarkDateAsHoliday:this.props.markDateAsHoliday,onSortTable:this.sortTable,onSubmitUpdateStudentAssignment:this.submitUpdateStudentAssignment,onToggleCheckStudents:this.toggleCheckStudents,onToggleShowStudentAssignmentChecklist:this.toggleShowStudentAssignmentChecklist,onUnmarkDateAsHoliday:this.props.unmarkDateAsHoliday,onUpdateAPStatus:this.updateAPStatus,onUpdateAssignmentFilterDropdownValue:this.updateAssignmentFilterDropdownValue,onUpdateAttendance:this.updateAttendance,onUpdateAttendancesByHolidays:this.updateAttendancesByHolidays,profile:this.props.admin.profile,selected_view_type:this.state.selected_view_type,has_set_attendance_access:Object(p.i)(null===g||void 0===g||null===(e=g.general)||void 0===e?void 0:e.user_capabilities,"admin.student_progress.view_by_stack.set_attendance"),has_set_academy_probation_access:Object(p.i)(null===g||void 0===g||null===(t=g.general)||void 0===t?void 0:t.user_capabilities,"admin.student_progress.view_by_stack.set_academy_probation"),has_set_assignment_status_access:Object(p.i)(null===g||void 0===g||null===(a=g.general)||void 0===a?void 0:a.user_capabilities,"admin.student_progress.view_by_stack.progress_view.set_assignment_status"),has_mark_holidays_access:Object(p.i)(null===g||void 0===g||null===(n=g.general)||void 0===n?void 0:n.user_capabilities,"admin.student_progress.view_by_stack.attendance_view.mark_holidays"),students:d,submitFilters:this.submitFilters,table_head_columns:h,table_head_dates:this.props.student_progress.table_head_dates,table_view_setting:this.state.table_view_setting,total_results:T,weeks_tab:this.state.weeks_tab,selected_sort:S,is_fetching_filters:D}),A&&s.a.createElement(kc,{pagination:A,total_results:T,onPaginateData:this.paginateData,onUpdatPageCount:this.updatePageCount,page_count:R}),(E||this.state.selected_all_students_to_process)&&s.a.createElement(Pf,{has_set_attendance_access:Object(p.i)(null===g||void 0===g||null===(r=g.general)||void 0===r?void 0:r.user_capabilities,"admin.student_progress.view_by_stack.set_attendance"),selected_all_students_to_process:this.state.selected_all_students_to_process,check_attendances_response_message:y,check_attendances_response:w,total_selected:this.state.total_selected,total_results:T,stack_start_date:b,onSubmitUpdateStudentsAttendance:this.submitUpdateStudentsAttendance,stack_list_of_dates_by_week:C,selected_students:this.state.selected_students,students:d}),this.state.is_show_student_assignment_checklist&&s.a.createElement(Yf,{submitFilters:this.submitFilters,selected_workspace_id:this.state.selected_workspace_id,onUpdateStudentAssignmentStatus:this.updateStudentAssignmentStatus,is_show:this.state.is_show_student_assignment_checklist,onToggleShowStudentAssignmentChecklist:this.toggleShowStudentAssignmentChecklist,active_assignment_checklist_data:this.state.active_assignment_checklist_data,has_set_assignment_status_access:Object(p.i)(null===g||void 0===g||null===(o=g.general)||void 0===o?void 0:o.user_capabilities,"admin.student_progress.view_by_stack.progress_view.set_assignment_status"),has_set_assignment_feedback_access:Object(p.i)(null===g||void 0===g||null===(i=g.general)||void 0===i?void 0:i.user_capabilities,"admin.student_progress.view_by_stack.progress_view.set_assignment_feedback")})),s.a.createElement(ym,{toggleShowModal:function(){return Object(p.W)(c,"is_show_export_students_data_modal",!1)},show:this.state.is_show_export_students_data_modal}))}}]),a}(n.Component)),vg=ts.a.switchWorkspace,bg=nd.fetchStackDashboardFilterOptions,Sg=nd.updateStudentProgressFilterOptions,Ag=nd.fetchFilteredStackDashboardData,kg=nd.checkStudentAttendances,Og=nd.fetchStudentTrackChecklist,Tg=nd.updateStudentAPStatus,Cg=nd.changePropsValue,wg=nd.markDateAsHoliday,yg=nd.unmarkDateAsHoliday,Rg=nd.resetCheckAttendanceResponse,Dg=nd.changeActiveWorkspace,Ug=nd.checkStudentProgressAttendanceRecord,Ng=nd.unMountCourseDashBoard,Ig=nd.fetchStudentProgressRevisionFilterOptions,Pg=Object(p.J)(["student_progress","admin","dashboard","user"],{fetchStackDashboardFilterOptions:bg,updateStudentProgressFilterOptions:Sg,fetchFilteredStackDashboardData:Ag,checkStudentAttendances:kg,fetchStudentTrackChecklist:Og,updateStudentAPStatus:Tg,changePropsValue:Cg,markDateAsHoliday:wg,unmarkDateAsHoliday:yg,resetCheckAttendanceResponse:Rg,changeActiveWorkspace:Dg,switchWorkspace:vg,checkStudentProgressAttendanceRecord:Ug,unMountCourseDashBoard:Ng,fetchStudentProgressRevisionFilterOptions:Ig}),jg=Pg.mapStateToProps,Lg=Pg.mapDispatchToProps,Mg=Object(ue.b)(jg,Lg)(gg),Fg=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=Object(p.y)();!0===e.status?n.current_user=e.user_details:localStorage.setItem("redirect_path",window.location.pathname)},n.current_user=null,n.userSubscription=be.a.getCurrentUser().subscribe((function(e){void 0!==e&&null!==e&&!0===e.is_logged_in?n.current_user=e.user_details:n.current_user=null})),n}return Object(_e.a)(a,[{key:"componentWillMount",value:function(){var e=Object(p.y)();!0===e.status?this.current_user=e.user_details:"/bug"!==window.location.pathname&&(window.location.href="/login")}},{key:"componentWillUnmount",value:function(){void 0!==this.userSubscription&&this.userSubscription.unsubscribe()}},{key:"render",value:function(){var e=(null===this||void 0===this?void 0:this.current_user)||{},t=e.general,a=(t=void 0===t?{}:t).user_capabilities,n=t.is_logged_in;e.workspace;return s.a.createElement(s.a.Fragment,null,s.a.createElement(pe.a,null,s.a.createElement(me.d,null,s.a.createElement(me.b,{path:"/modules/edit/:track_id/:chapter_id/:module_id",render:function(e){return s.a.createElement(_l,e)}}),s.a.createElement(me.b,{path:"/bug",render:function(e){return s.a.createElement(Hi,e)}}),s.a.createElement(me.b,{path:"/admin/course_dashboard",render:function(e){return n&&Object(p.i)(a,"admin.student_progress.visibility")&&Object(p.i)(a,"admin.student_progress.view_by_stack.visibility")?s.a.createElement(Mg,e):window.location.replace("/dashboard")}}),s.a.createElement(me.b,{path:"/admin/student_progress/course",render:function(e){return n&&Object(p.i)(a,"admin.student_progress.visibility")&&Object(p.i)(a,"admin.student_progress.view_by_stack.visibility")?s.a.createElement(Em,e):window.location.replace("/dashboard")}}),s.a.createElement(me.b,{path:"/admin/student_progress/stack",render:function(e){return window.location.replace("/admin/student_progress/course")}}),s.a.createElement(me.b,{path:"/admin/student_progress/program",render:function(e){return n&&Object(p.i)(a,"admin.student_progress.visibility")&&Object(p.i)(a,"admin.student_progress.view_by_program.visibility")?s.a.createElement(Ud,e):window.location.replace("/dashboard")}}),s.a.createElement(me.b,{path:"/admin/student_rostering/roster",render:function(e){return n&&Object(p.i)(a,"admin.rostering.visibility")&&Object(p.i)(a,"admin.rostering.view_student_rostering.visibility")?s.a.createElement(Jm,e):window.location.replace("/dashboard")}}),s.a.createElement(me.b,{path:"/admin/student_rostering/matching",render:function(e){return n&&Object(p.i)(a,"admin.rostering.visibility")&&Object(p.i)(a,"admin.rostering.view_instructor_rostering.visibility")?s.a.createElement(td,e):window.location.replace("/dashboard")}}),s.a.createElement(me.b,{path:"/admin/assignment_monitoring",render:function(e){return n&&Object(p.i)(a,"admin.visibility")?s.a.createElement(x_,e):window.location.replace("/dashboard")}}),s.a.createElement(me.b,{path:"/admin/workspace_management",render:function(e){return n&&Object(p.i)(a,"admin.visibility")?s.a.createElement(Rh,e):window.location.replace("/dashboard")}}),s.a.createElement(me.b,{path:"/admin/student_access/access",render:function(e){return n&&Object(p.i)(a,"admin.visibility")?s.a.createElement(kf,e):window.location.replace("/dashboard")}}),s.a.createElement(me.b,{path:"/admin/access_control",render:function(e){return n&&Object(p.i)(a,"admin.access_control_list.visibility")?s.a.createElement(Lc,e):window.location.replace("/dashboard")}}),s.a.createElement(me.b,{path:"/admin/survey_management",render:function(e){return n?s.a.createElement(C_,e):window.location.replace("/dashboard")}}),s.a.createElement(me.b,{path:"/admin/exam",render:function(e){return n&&Object(p.i)(a,"admin.admin_exam_page.visibility")?s.a.createElement(Ap,e):window.location.replace("/dashboard")}}),s.a.createElement(me.b,{path:"/admin/course_schedule",render:function(e){return n&&Object(p.i)(a,"admin.calendar.view_course_schedules.visibility")?s.a.createElement(IE,e):window.location.replace("/dashboard")}}))))}}]),a}(n.Component),xg=a(1441),Bg=a(81),Wg=a(519),Hg=a(515),Kg=a(516);a(1418),a(1419),a(1420),a(1421),a(1422);if(mn.b.add(Hg.a,Kg.a),"production"!==u.Y){xg.a({dsn:"https://bdc02751f3a044fb8607a430793a5f4d@o351953.ingest.sentry.io/5551526",environment:"production",autoSessionTracking:!0,integrations:[new Wg.a.BrowserTracing],ignoreErrors:["Network Error","Please select atleast 1 filter.","acsbJS is not defined","This video does not exist.","NetworkError when attempting to fetch resource.","This video does not exist.","Invalid or unexpected token","Failed to fetch","Cannot read properties of undefined (reading 'remove')","Non-Error promise rejection captured with value: You don't have the right permission to access.","Non-Error promise rejection captured with keys: [object has no keys]","undefined is not an object (evaluating 's[e.responseRequestID].functions')","Cannot read properties of null (reading 'offsetHeight')","Cannot read properties of undefined (reading 'general')","Non-Error promise rejection captured with value: Object Not Found Matching Id:4","Cannot read properties of undefined (reading 'parentElement')","Cannot read properties of null (reading 'classList')"]});var Gg=Object(p.y)(),Vg="Anonymous";Gg.status&&(Vg=Gg.user_details.general.email_address),Bg.b((function(e){e.setUser({email:Vg})}))}window.self===window.top?o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(ue.a,{store:ie},-1===window.location.pathname.indexOf("modules/edit")&&-1===window.location.pathname.indexOf("admin/")&&-1===window.location.pathname.indexOf("bug")?s.a.createElement(Wi,null):s.a.createElement(Fg,null)))),document.getElementById("root")):o.a.render(s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",{style:{color:"red"}},"If you see this page, The CD Learning Platform link you have clicked on is under Clickjacking security attack."),s.a.createElement("h2",null,"Please inform team with the reference of the application from where you clicked this link."),s.a.createElement("h2",null,"Click ",s.a.createElement("a",{href:window.self.location.href,title:"Learning Platform",target:"blank"},"here")," to access the Learning Platform safely.")),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},143:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var n=a(5),s=a(1),r=a(7),o=a(6),i=a(2),c=new(function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){var e,r,o;Object(n.a)(this,a),(o=t.call(this)).fetch_user_bookmarks=function(){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/bookmarks/fetch_bookmarks"),{},!0).then(i.z).then((function(e){return e}))},o.save_new_user_bookmark=function(e,t){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/bookmarks/save_bookmark/").concat(e),t,!0).then(i.z).then((function(e){return e}))},o.remove_user_bookmark=function(e,t){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/bookmarks/remove_bookmark/").concat(e),t,!0).then(i.z).then((function(e){return e}))};var c=Object(i.y)();return o.API_pre_link=(null===c||void 0===c||null===(e=c.user_details)||void 0===e||null===(r=e.general)||void 0===r?void 0:r.trial_platform_mode)?"/t":"",o}return a}(a(34).a)),_=new function e(){Object(n.a)(this,e),this.get_user_bookmarks=function(){return function(e){e(Object(i.A)({type:s.u.GET_BOOKMARKS_REQUEST},{})),c.fetch_user_bookmarks().then((function(t){!0===t.status?e(Object(i.A)({type:s.u.GET_BOOKMARKS_SUCCESS},{user_bookmarks:t.result})):e(Object(i.A)({type:s.u.GET_BOOKMARKS_FAILURE},{error:t.message}))}),(function(t){var a=Object(i.c)(t);e(Object(i.A)({type:s.u.GET_BOOKMARKS_FAILURE},{error:a}))}))}},this.save_new_user_bookmarks=function(e,t){return function(a){a(Object(i.A)({type:s.u.SAVE_NEW_BOOKMARK_REQUEST},{})),c.save_new_user_bookmark(e,t).then((function(e){!0===e.status?a(Object(i.A)({type:s.u.SAVE_NEW_BOOKMARK_SUCCESS},{user_bookmarks:e.result})):a(Object(i.A)({type:s.u.SAVE_NEW_BOOKMARK_FAILURE},{error:e.message}))}),(function(e){var t=Object(i.c)(e);a(Object(i.A)({type:s.u.SAVE_NEW_BOOKMARK_FAILURE},{error:t}))}))}},this.remove_user_bookmark=function(e,t){return function(a){a(Object(i.A)({type:s.u.REMOVE_BOOKMARK_REQUEST},{})),c.remove_user_bookmark(e,t).then((function(e){!0===e.status?a(Object(i.A)({type:s.u.REMOVE_BOOKMARK_SUCCESS},{bookmark:e.result})):a(Object(i.A)({type:s.u.REMOVE_BOOKMARK_FAILURE},{error:e.message}))}),(function(e){var t=Object(i.c)(e);a(Object(i.A)({type:s.u.REMOVE_BOOKMARK_FAILURE},{error:t}))}))}}}},144:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(4),s=a(5),r=a(1),o=a(180),i=a(2),c=new function e(){Object(s.a)(this,e),this.fetchNotifications=function(){return function(e){e(Object(i.A)({type:r.hb.FETCH_NOTIFICATIONS_REQUEST},{})),o.a.fetchNotifications().then((function(t){(null===t||void 0===t?void 0:t.status)?e(Object(i.A)({type:r.hb.FETCH_NOTIFICATIONS_SUCCESS},{notifications:t.result})):e(Object(i.A)({type:r.hb.FETCH_NOTIFICATIONS_FAILURE},{error:null===t||void 0===t?void 0:t.message}))}),(function(t){var a=Object(i.c)(t);e(Object(i.A)({type:r.hb.FETCH_NOTIFICATIONS_FAILURE},{error:a}))}))}},this.markNotificationsAsRead=function(e){return function(t){t(Object(i.A)({type:r.hb.MARK_NOTIFICATIONS_AS_READ_REQUEST},{})),o.a.updateNotifications(e).then((function(a){(null===a||void 0===a?void 0:a.status)?t(Object(i.A)({type:r.hb.MARK_NOTIFICATIONS_AS_READ_SUCCESS},Object(n.a)(Object(n.a)({},a.result),{},{user_bootcamp_id:e.user_bootcamp_id}))):t(Object(i.A)({type:r.hb.MARK_NOTIFICATIONS_AS_READ_FAILURE},{error:a.message}))}),(function(e){var a=Object(i.c)(e);t(Object(i.A)({type:r.hb.MARK_NOTIFICATIONS_AS_READ_FAILURE},{error:a}))}))}},this.markNotificationsAsArchived=function(e){return function(t){t(Object(i.A)({type:r.hb.SET_NOTIFICATIONS_AS_ARCHIVED_REQUEST},{})),o.a.updateNotifications(e).then((function(a){(null===a||void 0===a?void 0:a.status)?t(Object(i.A)({type:r.hb.SET_NOTIFICATIONS_AS_ARCHIVED_SUCCESS},{set_notifications_to_archived_response:a.result,user_bootcamp_id:e.user_bootcamp_id})):t(Object(i.A)({type:r.hb.SET_NOTIFICATIONS_AS_ARCHIVED_FAILURE},{error:a.message}))}),(function(e){var a=Object(i.c)(e);t(Object(i.A)({type:r.hb.SET_NOTIFICATIONS_AS_ARCHIVED_FAILURE},{error:a}))}))}}}},160:function(e,t,a){},169:function(e,t,a){"use strict";var n=a(5),s=a(8),r=a(33),o=a(7),i=a(6),c=a(0),_=a.n(c),l=a(17),d=a(2),u=a(46),p=a(41),m=a.n(p),h=a(1),E=a(14),f=(a(545),function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var s,o,i,c;return Object(n.a)(this,a),(c=t.call(this,e)).handleSubmitReportMistake=function(e){e.preventDefault();var t=c.state.fields,a=t.email,n=t.concern,s=t.description,o=document.getElementById("upload_issue_input").files[0];if(!(o&&o.size/1024/1024>20)&&a===c.props.user.user_details.general.email_address&&(null===s||void 0===s?void 0:s.trim())&&(null===n||void 0===n?void 0:n.trim())){var i=Object(r.a)(c);if(o){var _=new FileReader;_.onload=function(e){i.setState({concern:i.state.fields.concern,email:i.state.fields.email,description:i.state.fields.description,base64ImageData:e.target.result,file_name:o.name,file_size:o.size},(function(){i.reportAnIssueBackend(i.state)}))},_.readAsDataURL(o)}else i.setState({concern:i.state.fields.concern,email:i.state.fields.email,description:i.state.fields.description},(function(){i.reportAnIssueBackend(i.state)}))}},c.reportAnIssueBackend=function(e){e.operating_system=navigator.platform,e.browser=navigator.vendor,e.browser_version=navigator.appVersion,e.url=window.location.href,e.referrer=window.location.hostname;var t=(c.props.location&&c.props.location.state||{from:{pathname:"/report_an_issue"}}).from;c.props.reportAnIssue(e,t),c.props.onAddActivityLog("3.9.18"),c.setState({is_success:!0})},c.onCloseModal=function(e){c.props.toggleShowModal(!1),c.setState({fields:{email:c.props.user.user_details.general.email_address,concern:""}}),c.props.onAddActivityLog("3.9.13")},c.state={fields:{email:null===(s=c.props.user)||void 0===s||null===(o=s.user_details)||void 0===o||null===(i=o.general)||void 0===i?void 0:i.email_address,concern:"",description:""},is_success:!1,base64ImageData:"",operating_system:"",browser_version:"",browser:"",url:"",referrer:"",email:"",concern:"",description:"",file_name:"",file_size:0,is_loading:!1,success_message:{curriculum:"Thank you for your inquiry. Your message has been routed to the appropriate team.",admission:"Thank you for your inquiry. Your message has been routed to the appropriate team.",technical:"Thanks for submitting a bug report. Our team will be closely reviewing this issue and taking the necessary actions for it. We appreciate your efforts in helping improve Coding Dojo! Cheers!"}},c}return Object(s.a)(a,[{key:"handleOnChangeField",value:function(e,t){var a=this,n=this.state.fields;n[e]=t.target.value,this.setState({fields:n}),"img_url"===e&&""!==t.target.value&&(this.setState({is_loading:!0}),setTimeout((function(){a.setState({is_loading:!1})}),2e3))}},{key:"render",value:function(){var e,t,a,n,s=this,r=this.state,o=r.fields,i=o.concern,c=o.email,l=o.description,d=o.img_url,u=r.is_success,p=r.is_loading,f=r.success_message,g=(null===d||void 0===d?void 0:d.split("\\"))||[],v=null===(e=this.props.user.user_details)||void 0===e||null===(t=e.workspace)||void 0===t?void 0:t.workspace_id,b=[h.Xb.chile,h.Xb.colombia,h.Xb.peru,h.Xb.costa_rica,h.Xb.dominican_republic,h.Xb.paraguay,h.Xb.ecuador].includes(v);return _.a.createElement(E.a,{id:"report_issue_modal",className:u?"narrow":"wide",show:this.props.show,onHide:this.onCloseModal,onExited:function(){return s.setState({is_success:!1})}},_.a.createElement("div",{className:"blk ".concat(u?"hidden":"")},_.a.createElement(E.a.Header,null,_.a.createElement("h4",null,b?"Reporta un problema":"Report an Issue"),_.a.createElement("button",{onClick:this.onCloseModal},_.a.createElement("span",{className:"close_icon"}))),_.a.createElement(E.a.Body,null,_.a.createElement("form",{onSubmit:this.handleSubmitReportMistake},_.a.createElement("p",null,b?"Por favor selecciona la categor\xeda apropiada para tu inquietud":"Please select the appropriate category for your concern","*"),_.a.createElement("div",{className:"issue_category"},_.a.createElement("input",{type:"radio",name:"concern",id:"technical",value:"technical",checked:"technical"===i,onChange:this.handleOnChangeField.bind(this,"concern")}),_.a.createElement("label",{htmlFor:"technical"},_.a.createElement("span",null,b?"Problema tecnico":"Technical Issues")),_.a.createElement("input",{type:"radio",name:"concern",id:"admission",value:"admission",checked:"admission"===i,onChange:this.handleOnChangeField.bind(this,"concern")}),_.a.createElement("label",{htmlFor:"admission"},_.a.createElement("span",null,_.a.createElement(m.a,{minWidth:h.Vb.DESKTOP},b?"Admisiones o Soporte":"Admissions or Support"),_.a.createElement(m.a,{maxWidth:h.Vb.MOBILE},b?"Admisiones o Soporte":"Admissions or Support"))),_.a.createElement("input",{type:"radio",name:"concern",id:"curriculum",value:"curriculum",checked:"curriculum"===i,onChange:this.handleOnChangeField.bind(this,"concern")}),_.a.createElement("label",{htmlFor:"curriculum"},_.a.createElement("span",null,_.a.createElement(m.a,{minWidth:h.Vb.DESKTOP},b?"Instrucci\xf3n o curriculum":"Instruction or curriculum"),_.a.createElement(m.a,{maxWidth:h.Vb.MOBILE},b?"Instrucci\xf3n o curriculum":"Instruction or Curriculum")))),_.a.createElement("label",{htmlFor:"email"},b?"Tu direcci\xf3n de correo electronico":"Your email address","*"),_.a.createElement("input",{id:"email",name:"email",type:"text",className:"form-control",value:c,onChange:this.handleOnChangeField.bind(this,"email"),disabled:!0}),_.a.createElement("label",{htmlFor:"description_textarea"},b?"Cuentanos sobre tu experiencia":"Tell us about your experience","*"),_.a.createElement("textarea",{id:"description_textarea",className:"form-control",onChange:this.handleOnChangeField.bind(this,"description")},l),_.a.createElement("label",{id:"upload_issue_label",htmlFor:"upload_issue_input"},!p&&!d&&_.a.createElement(_.a.Fragment,null,_.a.createElement(m.a,{minWidth:h.Vb.DESKTOP},b?"Subir archivo":"Upload file"),_.a.createElement(m.a,{maxWidth:h.Vb.MOBILE},b?"Subir archivo":"Select a file to upload")),p&&"Uploading...",_.a.createElement("input",{id:"upload_issue_input",className:"hidden",onChange:this.handleOnChangeField.bind(this,"img_url"),type:"file",accept:"image/*",disabled:p}),!p&&_.a.createElement("small",null,g[(null===g||void 0===g?void 0:g.length)-1])),_.a.createElement("button",{type:"submit",disabled:!i||c!==this.props.user.user_details.general.email_address||!(null===l||void 0===l?void 0:l.trim())||(null===(a=document.getElementById("upload_issue_input"))||void 0===a||null===(n=a.files[0])||void 0===n?void 0:n.size)/1024/1024>20||p},b?"Enviar":"Submit")))),_.a.createElement("div",{className:"blk success_container ".concat(u?"":"hidden")},_.a.createElement(E.a.Header,null,_.a.createElement("h4",null,"Your message has been sent!"),_.a.createElement("button",{onClick:this.onCloseModal},_.a.createElement("span",{className:"close_icon"}))),_.a.createElement(E.a.Body,null,_.a.createElement("p",null,f[i]))))}}]),a}(c.Component)),g=Object(d.J)(void 0,{reportAnIssue:u.a.reportAnIssue}),v=g.mapStateToProps,b=g.mapDispatchToProps;t.a=Object(l.b)(v,b)(f)},172:function(e,t,a){"use strict";var n=a(5),s=a(8),r=a(7),o=a(6),i=a(0),c=a.n(i),_=a(14),l=(a(294),a(1)),d=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).redirectTo=function(){var t;(null===(t=e.props.location)||void 0===t?void 0:t.pathname.indexOf("/logout"))>-1?e.props.history.goBack():e.props.toggleShowModal(!1)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.user_details.workspace_custom_data.customizations.links,a=this.props.user_details.workspace_custom_data.sence_integration,n=this.props.is_logout?"logout":"dashboard",s="/".concat(a.enc_user_id,"/").concat(a.enc_applicant_id,"/").concat(l.Z),r=this.props.user_details.workspace_custom_data.sence_integration.active_stack_id;return c.a.createElement(_.a,{className:"chile_sence_modal",show:this.props.show,centered:!0,onHide:function(){return e.props.toggleShowModal(!1)}},c.a.createElement(_.a.Header,null,c.a.createElement("button",{onClick:function(){return e.props.toggleShowModal(!1)}},c.a.createElement("span",{className:"close_icon"}))),c.a.createElement(_.a.Body,null,c.a.createElement("form",{action:t.production.stop,method:"post"},c.a.createElement("p",null,"\xbfEst\xe1s seguro de que deseas terminar la sesi\xf3n anticipadamente?"),c.a.createElement("input",{type:"hidden",name:"RutOtec",value:a.rut_otec}),c.a.createElement("input",{type:"hidden",name:"token",value:a.token}),c.a.createElement("input",{type:"hidden",name:"CodSence",value:a.cod_sence}),c.a.createElement("input",{type:"hidden",name:"CodigoCurso",value:a.course_code}),c.a.createElement("input",{type:"hidden",name:"LineaCapacitacion",value:a.linea}),c.a.createElement("input",{type:"hidden",name:"RunAlumno",value:a.pupil_rut}),c.a.createElement("input",{type:"hidden",name:"IdSesionAlumno",value:"LP"+a.pupil_rut}),c.a.createElement("input",{type:"hidden",name:"IdSesionSence",value:a.sence_session_id}),c.a.createElement("input",{type:"hidden",name:"UrlRetoma",value:l.f.URL+"/sence_integration/stop_sence_session/success/"+n+s}),c.a.createElement("input",{type:"hidden",name:"UrlError",value:l.f.URL+"/sence_integration/stop_sence_session/failed/"+(null===r||void 0===r?void 0:r.toString())+s}),c.a.createElement("button",{type:"button",onClick:function(){return e.redirectTo()}},"Cancelar"),c.a.createElement("button",{type:"submit"},"Terminar Sesi\xf3n"))))}}]),a}(i.Component);t.a=d},179:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(5),s=a(7),r=a(6),o=a(1),i=a(2),c=new(function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e,s,r;Object(n.a)(this,a),(r=t.call(this)).fetch_user_enrolled_tracks=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/tracks/fetch_track_courses"),e||{},!0).then(i.z).then((function(e){return e}))},r.fetch_track_progress=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/tracks/fetch_track_progress"),e||{},!0).then(i.z).then((function(e){return e}))},r.searchLearningContent=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/tracks/search_learning_content"),e,!0).then(i.z).then((function(e){return e}))};var c=Object(i.y)();return r.API_pre_link=(null===c||void 0===c||null===(e=c.user_details)||void 0===e||null===(s=e.general)||void 0===s?void 0:s.trial_platform_mode)?"/t":"",r}return a}(a(34).a))},180:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(5),s=a(7),r=a(6),o=a(1),i=a(2),c=a(34),_=a(186),l=new(function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e,s,r;Object(n.a)(this,a),(r=t.call(this)).fetchNotifications=function(){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/notifications/unarchived_notifications"),{},!0).then(i.z).then((function(e){return e.result.token&&localStorage.setItem("__BarioOtsoOtso__",e.result.token),e})).catch((function(e){console.log(e)}))},r.updateNotifications=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/notifications/update"),e,!0).then(i.z).then((function(e){return e})).catch((function(e){console.log(e)}))},r.CurrentUser=new _.a(null),r.VerifyUser=new _.a(null);var c=Object(i.y)();return r.API_pre_link=(null===c||void 0===c||null===(e=c.user_details)||void 0===e||null===(s=e.general)||void 0===s?void 0:s.trial_platform_mode)?"/t":"",r}return a}(c.a))},182:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var n=a(5),s=a(7),r=a(6),o=a(1),i=a(2),c=a(186),_=new(function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e,s,r;Object(n.a)(this,a),(r=t.call(this)).fetch_user_checklists=function(){var e=this;return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/checklists/fetch_checklist"),{},!0).then(i.z).then((function(t){return t.status&&e.CurrentTrack.next(t.result),t}))},r.fetch_checklist_track_courses=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/checklists/fetch_track_course_checklist"),e,!0).then(i.z).then((function(e){return e}))},r.fetch_checklist_course_assignments=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/checklists/fetch_chapter_module_checklists"),e,!0).then(i.z).then((function(e){return e}))},r.getCurrentTrack=function(){return r.CurrentTrack.asObservable()},r.CurrentTrack=new c.a(null);var _=Object(i.y)();return r.API_pre_link=(null===_||void 0===_||null===(e=_.user_details)||void 0===e||null===(s=e.general)||void 0===s?void 0:s.trial_platform_mode)?"/t":"",r}return a}(a(34).a))},2:function(e,t,a){"use strict";a.d(t,"W",(function(){return S})),a.d(t,"C",(function(){return A})),a.d(t,"F",(function(){return k})),a.d(t,"A",(function(){return O})),a.d(t,"J",(function(){return T})),a.d(t,"z",(function(){return C})),a.d(t,"c",(function(){return w})),a.d(t,"y",(function(){return y})),a.d(t,"G",(function(){return R})),a.d(t,"j",(function(){return D})),a.d(t,"o",(function(){return N})),a.d(t,"Q",(function(){return I})),a.d(t,"B",(function(){return P})),a.d(t,"M",(function(){return j})),a.d(t,"g",(function(){return L})),a.d(t,"l",(function(){return M})),a.d(t,"I",(function(){return F})),a.d(t,"s",(function(){return x})),a.d(t,"R",(function(){return B})),a.d(t,"L",(function(){return W})),a.d(t,"K",(function(){return H})),a.d(t,"p",(function(){return K})),a.d(t,"H",(function(){return G})),a.d(t,"x",(function(){return V})),a.d(t,"Y",(function(){return q})),a.d(t,"u",(function(){return Y})),a.d(t,"w",(function(){return Q})),a.d(t,"i",(function(){return $})),a.d(t,"V",(function(){return z})),a.d(t,"v",(function(){return J})),a.d(t,"ab",(function(){return X})),a.d(t,"r",(function(){return Z})),a.d(t,"f",(function(){return ee})),a.d(t,"q",(function(){return te})),a.d(t,"n",(function(){return ae})),a.d(t,"d",(function(){return ne})),a.d(t,"h",(function(){return se})),a.d(t,"E",(function(){return re})),a.d(t,"k",(function(){return oe})),a.d(t,"Z",(function(){return ie})),a.d(t,"O",(function(){return ce})),a.d(t,"t",(function(){return _e})),a.d(t,"b",(function(){return le})),a.d(t,"D",(function(){return de})),a.d(t,"P",(function(){return ue})),a.d(t,"N",(function(){return pe})),a.d(t,"X",(function(){return he})),a.d(t,"e",(function(){return Ee})),a.d(t,"S",(function(){return fe})),a.d(t,"T",(function(){return ge})),a.d(t,"U",(function(){return ve})),a.d(t,"a",(function(){return be})),a.d(t,"m",(function(){return Se}));var n=a(467),s=a(67),r=a(11),o=a(44),i=a.n(o),c=a(63),_=a(15),l=a(4),d=a(29),u=a(80),p=a(470),m=a(57),h=a(1),E=(a(1429),a(341)),f=a.n(E),g=(a(468),a(469)),v=a(12),b=a.n(v),S=function(e,t,a){return e.setState(Object(d.a)({},t,a))},A=function(e,t){t.setState(Object(d.a)({},e.target.name,e.target.value))},k=Object(p.a)({forceRefresh:!0}),O=function(e,t){return Object.assign({},e,t)},T=function(e,t){return{mapStateToProps:function(t){if(void 0!==e){var a={};if(e.constructor===Array)for(var n=0;n<e.length;n++)a[e[n]]=t[e[n]]||{};else a[e]=t[e];return a}return t},mapDispatchToProps:function(e){return Object(l.a)({dispatch:e},Object(u.b)(t,e))}}},C=function(e){return e.text().then((function(t){var a,n=t&&JSON.parse(t);if(!e.ok){401===e.status&&(n.is_logout=n.is_logout);var s=n&&n.message||e.statusText;return Promise.reject(s)}return(null===n||void 0===n?void 0:n.status)&&(null===n||void 0===n||null===(a=n.auth)||void 0===a?void 0:a.is_refreshed_token)&&localStorage.setItem("JWT88",n.auth.access_token),(null===n||void 0===n?void 0:n.token)&&localStorage.setItem("__BarioOtsoOtso__",n.token),localStorage.setItem("z-casarafa",null===n||void 0===n?void 0:n.casarafa),n}))},w=function(e){var t,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=(null===(t=e.message)||void 0===t?void 0:t.toString())||(null===e||void 0===e?void 0:e.toString());if(r.indexOf("TypeError: Failed to fetch")>=0&&(r="Something went wrong. Please try again or contact your technical support!"),e.is_logout||e.toString().indexOf("TypeError: Failed to fetch")>-1||a){var o,i,c=localStorage.getItem("last_api_request");r=(null===(o=e.info)||void 0===o?void 0:o.message)||r,(-1===(null===c||void 0===c?void 0:c.indexOf("/ua_session"))&&(n||n&&s)||(null===(i=r)||void 0===i?void 0:i.indexOf("You don't have the right permission to access."))>=0)&&D()}else window.location.href="/dashboard";return r},y=function(){var e=localStorage.getItem("JWT88")||null,t=localStorage.getItem("__BarioOtsoOtso__")||null;try{if(null!==e&&null!==t)return{status:!0,user_details:Object(g.a)(t)};throw new Error("User not logged in!")}catch(a){return{status:!1,error:a}}},R=function(){var e=localStorage.getItem("PANAGSIPNGET");return e||(localStorage.setItem("PANAGSIPNGET",!1),e=!1),!0===e||"true"===e},D=function(){m.a.logout().then((function(e){return U(),{type:h.Nb.LOGOUT}}),(function(e){U()}))},U=function(){localStorage.removeItem("JWT88"),localStorage.removeItem("__BarioOtsoOtso__"),localStorage.removeItem("hsitoe");var e="/t/logout"===window.location.pathname;"/login"!==window.location.pathname&&"/learn_autologin"!==window.location.pathname&&(window.location.href=e?"/t/signin":"/login")},N=function(e,t){return(e.getTime()-t.getTime())/864e5},I=function(e,t,a,n){if(!e||t&&!Number.isInteger(t))return!1;var s=me(e.name),r={Path:"/user".concat(t,"/assignment_uploads"),Key:"".concat(a?"".concat(a,"-"):"").concat((new Date).getTime(),"-").concat(s)};switch(n){case"track_resource":r.Path="/cd-admin-files/track-resources",r.Key="".concat((new Date).getTime(),"-").concat(s);break;case"exam":r.Path="boomyeah2015/codingdojo/chapter_module_".concat(a,"/user_").concat(t),r.Key="".concat((new Date).getTime(),"-").concat(s),r.bucket="cd-student-files"}return r},P=function(e,t){t.setState(Object(d.a)({},e.target.name,e.target.checked))},j=function(e){e.setState({is_show_report_issue_modal:!0}),e.props.onAddActivityLog("3.9.12")},L=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[];return(null===e||void 0===e?void 0:e.constructor)===Array&&(null===t||void 0===t?void 0:t.constructor)===Array&&(n=e.filter((function(e){return-1!==t.indexOf(e)}))),a?n:n.length>0},M=function(){var e=Object(c.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.blob();case 5:return a=e.sent,n=Math.floor(1e9*Math.random()),e.abrupt("return",new File([a],"COMMENT_IMG"+n+".png",{type:"image/png"}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(e,t){var a,n=(null===e||void 0===e?void 0:e.general)&&h.d.includes(null===e||void 0===e?void 0:e.general.user_level_id);if(!n&&(null===e||void 0===e||null===(a=e.workspace_custom_data)||void 0===a?void 0:a.stack_info)){var s=e.general,r=e.workspace_custom_data,o=e.workspace,i=r.stack_info,c=[parseInt(i.current.program_type_id)],_=[parseInt(i.current.stack_id)],l=[i.current.start_date],d=[o.workspace_id];if([h.Kb.ASSIGNMENT_FORUM.id].includes(t))for(var u=0,p=Object.values(h.Kb[t]);u<p.length;u++){var m=p[u];if(m.user_level_ids){var E=m.user_level_ids,f=m.allowed_stack_ids,g=m.allowed_program_type_ids,v=m.allowed_stack_start_dates,b=m.allowed_stack_start_date_after,S=m.allowed_workspace_ids;if(n=E.includes(s.user_level_id)&&(!f||L(_,f))&&(!g||L(c,g))&&(!v||L(l,v))&&(!S||L(d,S))&&(!b||new Date(b)<=new Date(l)))break}}}return!0},x=function(e){var t=b()(e);return b()(new Date).diff(t,"days")>7?"on "+b()(t).format("MMM DD, YYYY"):b()(e).fromNow()},B=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{if("object"!==typeof e||"object"!==typeof t)throw new Error("Invalid arguments passed. Check document for parameters.");var s=null,r=null;a&&(s=Object.keys(a)[0],r=a[s]),e.sort((function(e,t){return new Date(t[n])-new Date(e[n])})),r.length>0?e.map((function(a){r&&r.includes(a[s])&&e.sort((function(e,a){return e[t[0]]&&!a[t[0]]?-1:!e[t[0]]&&a[t[0]]?1:a[t[1]]-e[t[1]]}))})):e.sort((function(e,a){return a[t[0]]-e[t[0]]}))}catch(o){console.log(o)}return e},W=function(){var e=Object(c.a)(i.a.mark((function e(t){var a,n,s,r,o,c,_,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=/(data:image\/[^;]+;base64[^"]+)/g,n=/(<img[^;]+src=[^;]+data:application[^;]+;base64[^;]+">)/g,s=t.html_string,r=t.uploaded_base64_images,o=!1,c=null,_=r,l=s.replace(n,""),d=l.length!==s.length,(l.match(a)||[]).map((function(e){if(!r.includes(e)){var t=e.length;Math.floor(3*t/4-18)<=h.ab.comment_img_file?c=e:(l=s.replace(e,""),o=!0)}})),e.abrupt("return",{new_html_string:l,to_upload_attachment:c,base64_images:_,is_file_too_large:o,is_not_image:d});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(c.a)(i.a.mark((function e(t,a){var n,s,r,o,c,_,l,d=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>2&&void 0!==d[2]?d[2]:void 0,s=/(data:image\/[^;]+;base64[^"]+)/g,r=[],o=t.uploaded_attachments,c=t.uploaded_base64_images,_=a.match(s)||[],o.length>0&&0===_.length?r=o:(c.map((function(e,t){a=a.replace(e,o[t])})),r=_.filter((function(e){return!c.includes(e)}))),l=a.length+(n?n.length+25:0),e.abrupt("return",{comment_description:a,total_character_length:l,unused_attachments:r});case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),K=function(e,t,a){var n=[];if(e&&a){var s=e.match(/"https?:\/\/cd-student-files.+?"/g)||[];t=[].concat(Object(r.a)(t),Object(r.a)(s))}return t.map((function(e){var t=e.replaceAll('"',"");a.includes(t)||n.push(t)})),n},G=function(e){var t,a=Object(s.a)(e);try{for(a.s();!(t=a.n()).done;){if(t.value.replace(/<[\S]*?>/g,"").replace(/\s/g,"").length<1)return!0}}catch(n){a.e(n)}finally{a.f()}},V=function(e){var t={100:"Password incorrect or the user does not have key SENCE.",200:"The request has one or more mandatory parameters without information.",201:"Retake the URL and / or URL Error no information. Both parameters are mandatory in all POST.",202:"Retake the URL is incorrect.",203:"Error URL is incorrect.",204:"The SENCE Code is invalid.",205:"The Course Code is invalid.",206:"Line training is incorrect.",207:"The student Rut is incorrect.",208:"The student is not allowed to take the course.",209:"The Rut OTEC is incorrect, or has the wrong check digit.",210:"The system did not recieve an activity for more than three (3) minutes. The page has expired, please try again.",211:"The Token does not belong to the OTEC.",212:"The Token is not in force.",300:"Internal error unrated, please report to the SENCE.",301:"Could not register or logoff.",302:"Could not validate the information of the Agency please report to the SENCE.",303:"The Token does not exist, or its format is incorrect.",304:"Could not be verified data submitted, please report to the SENCE.",305:"Could not register information plese report to the SENCE.",306:"Course Code does not correspond to the SENCE Code.",308:"The Course Code does not correspond to the RUT OTEC",309:"The execution date communicated for the Course Code do not correspond to the actual date.",310:"The Course Code is in the Terminated or Canceled state.",311:"Run entered in the \u201cClave Unica\u201d Login does not correspond to Run student informed by the executor.",312:"Authentication with \u201cClave Unica\u201d could not be completed.",CD100:"Something went wrong while starting your Sence session.",CD101:"Something went wrong while stopping your Sence session.",CD102:"Sence student data not found.",CD103:"Your Sence session access has expired.",CD104:"The Sence session will reset you will be logged out from Sence."};return t[e]||t.CD100},q=function(e,t){var a=function(a){e.map((function(e){if(t[a].name===e.name||"Course"===e.name&&"Course Assigned To"===t[a].name){var n=e.options.map((function(e){return e.value}));t[a].options=e.options,t[a].selected=t[a].selected.filter((function(e){return n.includes(e.value)}))}}))};for(var n in t)a(n);return t},Y=function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(null===e||void 0===e||null===(a=e.admin)||void 0===a?void 0:a.visibility)&&(e.admin.rostering.visibility&&e.admin.rostering.view_student_rostering.visibility?n?t="/admin/student_rostering/roster":t.push({icon_name:"users",link:"student_rostering/roster"}):e.admin.rostering.visibility&&e.admin.rostering.view_instructor_rostering.visibility?n?t="/admin/student_rostering/matching":t.push({icon_name:"users",link:"student_rostering/matching"}):e.admin.student_progress.visibility&&e.admin.student_progress.view_by_stack.visibility?n?t="/admin/student_progress/course":t.push({icon_name:"users",link:"student_progress/course"}):e.admin.student_progress.visibility&&e.admin.student_progress.view_by_program.visibility?n?t="/admin/student_progress/program":t.push({icon_name:"users",link:"student_progress/program"}):e.admin.admin_exam_page.visibility?n?t="/admin/exam":t.push({icon_name:"users",link:"exam"}):e.admin.student_access.visibility&&e.admin.student_access.view_by_access.visibility?n?t="/admin/student_access/access":t.push({icon_name:"users",link:"student_access/access"}):e.admin.admin_survey_page.visibility&&(n?t="/admin/survey_management":t.push({icon_name:"users",link:"survey_management"})),e.admin.access_control_list.visibility&&(n?t||(t="/admin/access_control"):t.push({icon_name:"key",link:"access_control"})),e.admin.calendar.visibility&&(n?t||(t="/admin/course_schedule"):t.push({icon_name:"calendar",link:"course_schedule"}))),t},Q=function(e,t){var a,n={title:"Management",links:[]};if(null===e||void 0===e||null===(a=e.admin)||void 0===a?void 0:a.visibility){var s,r,o,i,c,_,l,d,u,p,m,E;if((null===(s=e.admin)||void 0===s||null===(r=s.rostering)||void 0===r?void 0:r.visibility)&&["rostering","course_dashboard","student_progress","student_access","admin_exam","admin_survey_management"].includes(t)){n.title="Management";var f={name:"Student Rostering",link:"/admin/student_rostering/roster",sub_links:[]};e.admin.rostering.view_student_rostering.visibility&&"rostering"===t&&f.sub_links.push({name:"Student Roster",link:"student_rostering/roster"}),e.admin.rostering.view_instructor_rostering.visibility&&"rostering"===t&&(f.link=f.link?f.link:"/admin/student_rostering/matching",f.sub_links.push({name:"Instructor - Student Matching",link:"student_rostering/matching"})),n.links.push(f)}if((null===(o=e.admin)||void 0===o||null===(i=o.student_progress)||void 0===i?void 0:i.visibility)&&["rostering","course_dashboard","student_progress","student_access","admin_exam","admin_survey_management"].includes(t)){n.title="Management";var g={name:"Student Progress",link:"/admin/student_progress/course",sub_links:[]};e.admin.student_progress.view_by_stack.visibility&&"student_progress"===t&&(g.link="/admin/student_progress/course",g.sub_links.push({name:"By Course",link:"student_progress/course"})),e.admin.student_progress.view_by_program.visibility&&"student_progress"===t&&(g.link=g.link?g.link:"/admin/student_progress/program",g.sub_links.push({name:"By Program",link:"student_progress/program"})),n.links.push({name:"Course Dashboard",link:"/admin/course_dashboard",sub_links:[]},g)}if((null===(c=e.admin)||void 0===c||null===(_=c.student_access)||void 0===_?void 0:_.visibility)&&["rostering","course_dashboard","student_progress","student_access","admin_exam","admin_survey_management"].includes(t)){var v={name:"Access",link:"/admin/student_access/access",sub_links:[]};e.admin.student_access.view_by_access.visibility&&"student_access"===t&&v.sub_links.push({name:"Student Access",link:"student_access/access"}),n.links.push(v)}if((null===(l=e.admin)||void 0===l||null===(d=l.admin_exam_page)||void 0===d?void 0:d.visibility)&&["rostering","course_dashboard","student_progress","student_access","admin_exam","admin_survey_management"].includes(t)&&(n.title="Management",n.links.push({name:"Exam",link:"/admin/exam"})),(null===(u=e.admin)||void 0===u||null===(p=u.admin_survey_page)||void 0===p?void 0:p.visibility)&&["rostering","course_dashboard","student_progress","student_access","admin_exam","admin_survey_management"].includes(t)&&(n.title="Management",n.links.push({name:"Surveys",link:"/admin/survey_management"})),["access_control","workspace_management"].includes(t)&&(n.title="access_control"===t?"Accounts":"Settings",e.admin.workspace_management.visibility&&n.links.push({name:"Workspace",active_link:"workspace_management",link:"/admin/workspace_management"}),e.admin.access_control_list.visibility&&n.links.push({name:"Access Control",link:"/admin/access_control"})),(null===(m=e.admin)||void 0===m||null===(E=m.admin_survey_page)||void 0===E?void 0:E.visibility)&&["program_calendar","course_schedule"].includes(t)){var b=y(),S=b.status,A=b.user_details;S&&A.workspace.workspace_id===h.Xb.codingdojo&&(n.title="Course Calendar",n.links.push({name:"Program",link:"/admin/program_calendar"}))}}return n},$=function(e,t){var a,n,s,r,o,i,c,_,l,d,u,p,m,E,f,g,v,b,S,A,k,O,T,C,w,y,R,D,U,N,I,P,j,L,M,F,x,B,W,H,K,G,V,q,Y,Q,$,z,J,X,Z,ee,te,ae,ne,se,re,oe,ie,ce,_e,le,de,ue,pe,me,he,Ee,fe,ge,ve,be,Se,Ae,ke,Oe,Te,Ce,we,ye,Re,De,Ue,Ne,Ie,Pe,je,Le,Me,Fe,xe,Be,We,He,Ke,Ge,Ve,qe,Ye,Qe,$e,ze,Je,Xe,Ze,et,tt,at,nt,st,rt,ot,it,ct,_t,lt,dt,ut,pt,mt,ht,Et,ft=h.v.no_access.value,gt=h.v.no_access.value;switch(t){case"admin.visibility":ft=null===e||void 0===e||null===(a=e.admin)||void 0===a?void 0:a.visibility,gt=h.v.read_only.value;break;case"admin.rostering.visibility":ft=null===e||void 0===e||null===(n=e.admin)||void 0===n||null===(s=n.rostering)||void 0===s?void 0:s.visibility,gt=h.v.read_only.value;break;case"admin.rostering.view_student_rostering.visibility":ft=null===e||void 0===e||null===(r=e.admin)||void 0===r||null===(o=r.rostering)||void 0===o||null===(i=o.view_student_rostering)||void 0===i?void 0:i.visibility,gt=h.v.read_only.value;break;case"admin.rostering.view_student_rostering.set_student_stack":ft=null===e||void 0===e||null===(c=e.admin)||void 0===c||null===(_=c.rostering)||void 0===_||null===(l=_.view_student_rostering)||void 0===l?void 0:l.set_student_stack,gt=h.v.read_write.value;break;case"admin.rostering.view_student_rostering.set_academy_probation":ft=null===e||void 0===e||null===(d=e.admin)||void 0===d||null===(u=d.rostering)||void 0===u||null===(p=u.view_student_rostering)||void 0===p?void 0:p.set_academy_probation,gt=h.v.read_write.value;break;case"admin.rostering.view_student_rostering.set_receiving_stack":ft=null===e||void 0===e||null===(m=e.admin)||void 0===m||null===(E=m.rostering)||void 0===E||null===(f=E.view_student_rostering)||void 0===f?void 0:f.set_receiving_stack,gt=h.v.read_write.value;break;case"admin.rostering.view_student_rostering.set_student_region":ft=null===e||void 0===e||null===(g=e.admin)||void 0===g||null===(v=g.rostering)||void 0===v||null===(b=v.view_student_rostering)||void 0===b?void 0:b.set_student_region,gt=h.v.read_write.value;break;case"admin.rostering.view_instructor_rostering.visibility":ft=null===e||void 0===e||null===(S=e.admin)||void 0===S||null===(A=S.rostering)||void 0===A||null===(k=A.view_instructor_rostering)||void 0===k?void 0:k.visibility,gt=h.v.read_only.value;break;case"admin.rostering.view_instructor_rostering.set_student_to_instructor":ft=null===e||void 0===e||null===(O=e.admin)||void 0===O||null===(T=O.rostering)||void 0===T||null===(C=T.view_instructor_rostering)||void 0===C?void 0:C.set_student_to_instructor,gt=h.v.read_write.value;break;case"admin.student_progress.visibility":ft=null===e||void 0===e||null===(w=e.admin)||void 0===w||null===(y=w.student_progress)||void 0===y?void 0:y.visibility,gt=h.v.read_only.value;break;case"admin.student_progress.view_by_stack.visibility":ft=null===e||void 0===e||null===(R=e.admin)||void 0===R||null===(D=R.student_progress)||void 0===D||null===(U=D.view_by_stack)||void 0===U?void 0:U.visibility,gt=h.v.read_only.value;break;case"admin.student_progress.view_by_stack.set_attendance":ft=null===e||void 0===e||null===(N=e.admin)||void 0===N||null===(I=N.student_progress)||void 0===I||null===(P=I.view_by_stack)||void 0===P?void 0:P.set_attendance,gt=h.v.read_write.value;break;case"admin.student_progress.view_by_stack.set_academy_probation":ft=null===e||void 0===e||null===(j=e.admin)||void 0===j||null===(L=j.student_progress)||void 0===L||null===(M=L.view_by_stack)||void 0===M?void 0:M.set_academy_probation,gt=h.v.read_write.value;break;case"admin.student_progress.view_by_stack.progress_view.visibility":ft=null===e||void 0===e||null===(F=e.admin)||void 0===F||null===(x=F.student_progress)||void 0===x||null===(B=x.view_by_stack)||void 0===B||null===(W=B.progress_view)||void 0===W?void 0:W.visibility,gt=h.v.read_only.value;break;case"admin.student_progress.view_by_stack.progress_view.set_assignment_status":ft=null===e||void 0===e||null===(H=e.admin)||void 0===H||null===(K=H.student_progress)||void 0===K||null===(G=K.view_by_stack)||void 0===G||null===(V=G.progress_view)||void 0===V?void 0:V.set_assignment_status,gt=h.v.read_write.value;break;case"admin.student_progress.view_by_stack.progress_view.set_assignment_feedback":ft=null===e||void 0===e||null===(q=e.admin)||void 0===q||null===(Y=q.student_progress)||void 0===Y||null===(Q=Y.view_by_stack)||void 0===Q||null===($=Q.progress_view)||void 0===$?void 0:$.set_assignment_feedback,gt=h.v.read_write.value;break;case"admin.student_progress.view_by_stack.attendance_view.visibility":ft=null===e||void 0===e||null===(z=e.admin)||void 0===z||null===(J=z.student_progress)||void 0===J||null===(X=J.view_by_stack)||void 0===X||null===(Z=X.attendance_view)||void 0===Z?void 0:Z.visibility,gt=h.v.read_only.value;break;case"admin.student_progress.view_by_stack.attendance_view.set_attendance":ft=null===e||void 0===e||null===(ee=e.admin)||void 0===ee||null===(te=ee.student_progress)||void 0===te||null===(ae=te.view_by_stack)||void 0===ae||null===(ne=ae.attendance_view)||void 0===ne?void 0:ne.set_attendance,gt=h.v.read_write.value;break;case"admin.student_progress.view_by_stack.attendance_view.mark_holidays":ft=null===e||void 0===e||null===(se=e.admin)||void 0===se||null===(re=se.student_progress)||void 0===re||null===(oe=re.view_by_stack)||void 0===oe||null===(ie=oe.attendance_view)||void 0===ie?void 0:ie.mark_holidays,gt=h.v.read_write.value;break;case"admin.student_progress.view_by_program.visibility":ft=null===e||void 0===e||null===(ce=e.admin)||void 0===ce||null===(_e=ce.student_progress)||void 0===_e||null===(le=_e.view_by_program)||void 0===le?void 0:le.visibility,gt=h.v.read_only.value;break;case"admin.student_progress.view_by_program.set_graduation_validation":ft=null===e||void 0===e||null===(de=e.admin)||void 0===de||null===(ue=de.student_progress)||void 0===ue||null===(pe=ue.view_by_program)||void 0===pe?void 0:pe.set_graduation_validation,gt=h.v.read_write.value;break;case"admin.student_access.view_by_access.visibility":ft=null===e||void 0===e||null===(me=e.admin)||void 0===me||null===(he=me.student_access)||void 0===he||null===(Ee=he.view_by_access)||void 0===Ee?void 0:Ee.visibility,gt=h.v.read_only.value;break;case"admin.student_access.view_by_access.set_bootcamp_access":ft=null===e||void 0===e||null===(fe=e.admin)||void 0===fe||null===(ge=fe.student_access)||void 0===ge||null===(ve=ge.view_by_access)||void 0===ve?void 0:ve.set_bootcamp_access,gt=h.v.read_write.value;break;case"admin.student_profile_modal.visibility":ft=null===e||void 0===e||null===(be=e.admin)||void 0===be||null===(Se=be.student_profile_modal)||void 0===Se?void 0:Se.visibility,gt=h.v.read_only.value;break;case"admin.student_profile_modal.set_stack_schedule":ft=null===e||void 0===e||null===(Ae=e.admin)||void 0===Ae||null===(ke=Ae.student_profile_modal)||void 0===ke?void 0:ke.set_stack_schedule,gt=h.v.read_write.value;break;case"admin.student_profile_modal.set_bootcamp_access":ft=null===e||void 0===e||null===(Oe=e.admin)||void 0===Oe||null===(Te=Oe.student_profile_modal)||void 0===Te?void 0:Te.set_bootcamp_access,gt=h.v.read_write.value;break;case"admin.student_profile_modal.manage_admin_internal_notes":ft=null===e||void 0===e||null===(Ce=e.admin)||void 0===Ce||null===(we=Ce.student_profile_modal)||void 0===we?void 0:we.manage_admin_internal_notes,gt=h.v.read_write.value;break;case"admin.access_control_list.visibility":ft=null===e||void 0===e||null===(ye=e.admin)||void 0===ye||null===(Re=ye.access_control_list)||void 0===Re?void 0:Re.visibility,gt=h.v.read_only.value;break;case"admin.access_control_list.set_admin_account":ft=null===e||void 0===e||null===(De=e.admin)||void 0===De||null===(Ue=De.access_control_list)||void 0===Ue?void 0:Ue.set_admin_account,gt=h.v.read_write.value;break;case"admin.admin_exam_page.visibility":ft=null===e||void 0===e||null===(Ne=e.admin)||void 0===Ne||null===(Ie=Ne.admin_exam_page)||void 0===Ie?void 0:Ie.visibility,gt=h.v.read_only.value;break;case"admin.admin_exam_page.view_exam_code.visibility":ft=null===e||void 0===e||null===(Pe=e.admin)||void 0===Pe||null===(je=Pe.admin_exam_page)||void 0===je||null===(Le=je.view_exam_code)||void 0===Le?void 0:Le.visibility,gt=h.v.read_only.value;break;case"admin.admin_exam_page.view_exam_code.set_exam_code":ft=null===e||void 0===e||null===(Me=e.admin)||void 0===Me||null===(Fe=Me.admin_exam_page)||void 0===Fe||null===(xe=Fe.view_exam_code)||void 0===xe?void 0:xe.set_exam_code,gt=h.v.read_write.value;break;case"admin.admin_exam_page.view_exam_record.visibility":ft=null===e||void 0===e||null===(Be=e.admin)||void 0===Be||null===(We=Be.admin_exam_page)||void 0===We||null===(He=We.view_exam_record)||void 0===He?void 0:He.visibility,gt=h.v.read_only.value;break;case"admin.admin_exam_page.view_exam_record.set_exam_record":ft=null===e||void 0===e||null===(Ke=e.admin)||void 0===Ke||null===(Ge=Ke.admin_exam_page)||void 0===Ge||null===(Ve=Ge.view_exam_record)||void 0===Ve?void 0:Ve.set_exam_record,gt=h.v.read_write.value;break;case"admin.admin_exam_page.view_exam_record.set_grade_and_belt":ft=null===e||void 0===e||null===(qe=e.admin)||void 0===qe||null===(Ye=qe.admin_exam_page)||void 0===Ye||null===(Qe=Ye.view_exam_record)||void 0===Qe?void 0:Qe.set_grade_and_belt,gt=h.v.read_write.value;break;case"admin.workspace_management.visibility":ft=null===e||void 0===e||null===($e=e.admin)||void 0===$e||null===(ze=$e.workspace_management)||void 0===ze?void 0:ze.visibility,gt=h.v.read_only.value;break;case"admin.workspace_management.set_workspace":ft=null===e||void 0===e||null===(Je=e.admin)||void 0===Je||null===(Xe=Je.workspace_management)||void 0===Xe?void 0:Xe.set_workspace,gt=h.v.read_write.value;break;case"admin.admin_survey_page.visibility":ft=null===e||void 0===e||null===(Ze=e.admin)||void 0===Ze||null===(et=Ze.admin_survey_page)||void 0===et?void 0:et.visibility,gt=h.v.read_only.value;break;case"admin.admin_survey_page.set_admin_survey":ft=null===e||void 0===e||null===(tt=e.admin)||void 0===tt||null===(at=tt.admin_survey_page)||void 0===at?void 0:at.set_admin_survey,gt=h.v.read_write.value;break;case"admin.calendar.visibility":ft=null===e||void 0===e||null===(nt=e.admin)||void 0===nt||null===(st=nt.calendar)||void 0===st?void 0:st.visibility,gt=h.v.read_write.value;break;case"admin.calendar.view_course_schedules.visibility":ft=null===e||void 0===e||null===(rt=e.admin)||void 0===rt||null===(ot=rt.calendar)||void 0===ot||null===(it=ot.view_course_schedules)||void 0===it?void 0:it.visibility,gt=h.v.read_write.value;break;case"admin.calendar.view_course_schedules.delete_course":ft=null===e||void 0===e||null===(ct=e.admin)||void 0===ct||null===(_t=ct.calendar)||void 0===_t||null===(lt=_t.view_course_schedules)||void 0===lt?void 0:lt.delete_course,gt=h.v.read_write.value;break;case"admin.calendar.view_course_schedules.update_course":ft=null===e||void 0===e||null===(dt=e.admin)||void 0===dt||null===(ut=dt.calendar)||void 0===ut||null===(pt=ut.view_course_schedules)||void 0===pt?void 0:pt.update_course,gt=h.v.read_write.value;break;case"admin.calendar.view_course_schedules.create_course":ft=null===e||void 0===e||null===(mt=e.admin)||void 0===mt||null===(ht=mt.calendar)||void 0===ht||null===(Et=ht.view_course_schedules)||void 0===Et?void 0:Et.create_course,gt=h.v.read_write.value}return ft&&gt&&ft>=gt},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;for(var n in e)t&&e[n].filter_name===t&&(e[n].is_hide_filter=!1),a&&e[n].filter_name===a&&(e[n].is_hide_filter=!0);return e},J=function(e){return/[.]/.exec(e)?(e=e.substr(1+e.lastIndexOf("/")).split("?")[0]).split("#")[0].substr(e.lastIndexOf(".")):"no_file_extension"},X=function(e,t,a,n,s){var r=[];return t.map((function(t){n&&a?e===t.is_locked&&(t.is_locked=Number(!t.is_locked)):n?t.is_locked=Number(!e):s&&s.user_track_id===t.user_track_id&&(t.is_locked=Number(s.receiving_stack_status)),r.push(t)})),r},Z=function(e,t){var a={new_stack_data:{},stack_index:void 0};return t.map((function(t,n){var s=t.stack,r=t.stack_name,o=t.is_locked,i=t.cc_stack_start_date,c=t.stack_start_date,_=t.cc_stack_end_date,l=t.stack_end_date,d=t.user_track_id;if(!e.includes(d)){var u="".concat(b()(c).format("MMM D, YYYY")," - ").concat(b()(l).format("MMM D, YYYY")),p="".concat(s," (").concat(u,")");r&&i&&_&&(u="".concat(b()(i).format("MMM D, YYYY")," - ").concat(b()(_).format("MMM D, YYYY")),p="".concat(r," (").concat(u,")")),a={new_stack_data:{is_locked:o,stack:p,user_track_id:d},stack_index:n}}})),a},ee=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(e.keyCode===h.V.equal||e.keyCode===h.V.minus||t&&(e.keyCode===h.V.period||e.keyCode===h.V.numpad_decimal)||e.keyCode===h.V.numpad_subtract||e.keyCode===h.V.numpad_add||e.keyCode===h.V.key_e)&&e.preventDefault()},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e.getFullYear(),a=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0"),s=e.getHours().toString().padStart(2,"0"),r=e.getMinutes().toString().padStart(2,"0"),o=e.getSeconds().toString().padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(n," ").concat(s,":").concat(r,":").concat(o)},ae=function(e,t,a){var n=Object(l.a)({},a.state.copy_clipboard_popover);n.is_show=!0,n.position=e.target.parentElement.getBoundingClientRect(),n.zIndex=n.zIndex?99999:9,a.setState({copy_clipboard_popover:n},(function(){var e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),setTimeout((function(){n.is_show=!1,a.setState({copy_clipboard_popover:n})}),1e3)}))},ne=function(e,t,a){if(t){a.props.student_access.is_account_exist=!1,/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.target.value)?a.setState({is_valid_email:!0}):a.setState({is_valid_email:!1})}a.setState({student_access_data:Object(l.a)(Object(l.a)({},a.state.student_access_data),{},Object(d.a)({},e.target.name,e.target.value))})},se=function(e,t){var a=e.target.value.replace(/\+/g,"").replace(h.ob.comma_white_space,",").split(h.ob.comma_new_line),n=0;for(var s in a){var r=a[s];h.ob.email_validation.test(r)||(n+=1)}t.setState({assign_data:Object(l.a)(Object(l.a)({},t.state.assign_data),{},{student_emails:n?[]:a})})},re=function(e){return/[ `!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/.test(e)},oe=function(e){var t=Object(r.a)(e),a=t.length>1?t.pop():null;return"".concat(t.join(", ")," ").concat(a&&"and ".concat(a)||"")},ie=function(e,t,a){return e.map((function(e){return e.id===t.user_id&&Object.entries(a).forEach((function(a){var n=Object(_.a)(a,2),s=n[0],r=n[1];(t.applicant_id&&t.applicant_id===e.applicant_id||"is_at_risk"===s)&&(e[s]=r)})),e}))},ce=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s={},o={},i=null;return a.map((function(a){a.name===t.name&&(t.is_multi_select?a.selected=e.length?Object(r.a)(e):[]:(a.selected=e.length?[Object(l.a)(Object(l.a)({},e[0]),{},{filter_name:t.filter_name})]:[],n&&("program_type_id"===a.filter_name&&(o.selected_program_type_id=t.selected.length?Object(r.a)(e):[]),"bootcamp_start_date"===a.filter_name&&(o.selected_program_start_date=t.selected.length?Object(r.a)(e):[]),"bootcamp_end_date"===a.filter_name&&(o.selected_program_end_date=t.selected.length?Object(r.a)(e):[]),"cc_stack_id"===a.filter_name&&(o.selected_cc_stack_id=t.selected.length?t.selected[0].value:null)))),["cc_stack_id","cc_stack_start_date","program_type_id","bootcamp_start_date","bootcamp_end_date"].includes(a.filter_name)&&a.selected.length&&(s[a.filter_name]="program_type_id"===a.filter_name?a.selected:a.selected[0].value)})),"cc_stack_id"===t.filter_name&&(i=e[0]?e[0].is_major:h.s.YES_VALUE,a.map((function(e){["cc_stack_start_date"].includes(e.filter_name)&&!i&&(e.selected=[],s[e.filter_name]=null)}))),Object(l.a)(Object(l.a)({},s),{},{is_major_track:i,states_value:o,filter_dropdowns:a})},_e=function(e,t){var a,s=e.split("/"),r=Object(n.a)(s),o=r[3],i=r.slice(4),c=i.pop();return c=(null===(a=c)||void 0===a?void 0:a.split("?")[0])||"",{Path:"".concat("boomyeah2015"===o?"".concat(o,"/"):"").concat(i.join("/")),Key:c,bucket:("boomyeah2015"===o?"cd-student-files":o).toLowerCase(),file_name:c,user_file_type:t}},le=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t?f()(null===e||void 0===e?void 0:e.blob,"".concat(null===e||void 0===e?void 0:e.file_name)):window.open(null===e||void 0===e?void 0:e.url_link,"_blank")},de=function(){var e=localStorage.getItem("hsitoe");return!0===e||"true"===e},ue=function(e,t){t.map((function(t){e.includes(t.name)&&(t.selected=[])}))},pe=function(e){var t={},a={},n=[],s={Year:"year",Programs:"programs",Course:"course","Lead Instructor":"lead_instructor"};return e.map((function(e){t[s[e.name]]=e.selected.map((function(e){return e.value})),"Programs"===e.name&&e.options.map((function(e){a[e.value]=e.label,n.push(e.value)}))})),{filter_dropdowns_selected:t,programs_on_selected_yr:n,programs_label_json:a}},me=function(e){return e.replace(/[^\w/s\-._]/g,"_")},he=function(e,t){var a,n,s,o,i,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,_=0;t.map((function(e){"Year"!==e.name&&_<e.options.length&&(_=e.options.length)}));for(var d={program:[],course:[],lead_instructor:[]},u=0;u<_;u++){var p,m,E,f,g,v;(null===(p=t[1].options)||void 0===p||null===(m=p[u])||void 0===m?void 0:m.value)&&d.program.push(t[1].options[u].value),(null===(E=t[2].options)||void 0===E||null===(f=E[u])||void 0===f?void 0:f.value)&&d.course.push(t[2].options[u].value),(null===(g=t[3].options)||void 0===g||null===(v=g[u])||void 0===v?void 0:v.value)&&d.lead_instructor.push(t[3].options[u].value)}var b=e.program_type_id,S=e.cc_stack_id,A=e.stack_name,k=e.lead_instructor_id,O=e.lead_instructor;b&&b.map((function(e){d.program.includes(parseInt(e.value))||(t[1].options=[].concat(Object(r.a)(t[1].options),[{label:e.label,value:parseInt(e.value)}]))})),S&&!d.course.includes(S)&&(t[2].options=[].concat(Object(r.a)(t[2].options),[{label:A,value:S}])),k&&!d.lead_instructor.includes(k)&&(t[3].options=[].concat(Object(r.a)(t[3].options),[{label:O,value:k}]));var T=t[1].selected.map((function(e){return e.value}));b&&b.map((function(e){T.includes(parseInt(e.value))||t[1].selected.push(Object(l.a)(Object(l.a)({},e),{},{value:parseInt(e.value)}))}));var C=(null===(a=t[2].selected)||void 0===a||null===(n=a[0])||void 0===n?void 0:n.value)||null;C&&parseInt(C)!==parseInt(S)&&(t[2].selected=[{label:A,value:parseInt(S)}]);var w=(null===(s=t[3].selected)||void 0===s||null===(o=s[0])||void 0===o?void 0:o.value)||null;return w&&parseInt(w)!==parseInt(k)&&(t[3].selected=[{label:O,value:parseInt(k)}]),c&&(null===c||void 0===c||null===(i=c.collective_lead_instructor_ids)||void 0===i?void 0:i.length)===h.s.NO_VALUE&&c.old_lead_instructor_id!==k&&(t[3].options=t[3].options.filter((function(e){return e.value!==c.old_lead_instructor_id}))),Object(r.a)(t)},Ee=function(e,t){var a,n,s,r,o=!1,i={programs:fe(e[1].selected.map((function(e){return e.value}))),course:(null===(a=e[2].selected)||void 0===a||null===(n=a[0])||void 0===n?void 0:n.value)||null,lead_instructor:(null===(s=e[3].selected)||void 0===s||null===(r=s[0])||void 0===r?void 0:r.value)||null};return t.programs=t.programs.length?fe(t.programs):[],(i.programs.filter((function(e){return!t.programs.includes(e)})).length||JSON.stringify(t.programs)!==JSON.stringify(i.programs)||i.course&&parseInt(i.course)!==parseInt(t.course)||i.lead_instructor&&parseInt(i.lead_instructor)!==parseInt(t.lead_instructor))&&(o=!0),o},fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.constructor!==Array?[]:e.sort((function(e,n){return a?e-n:e[t]<n[t]?-1:e[t]>n[t]?1:0}))},ge=function(e){e.sort((function(e,t){var a=e.start_date<t.start_date?-1:e.start_date>t.start_date?h.s.YES_VALUE:h.s.NO_VALUE;return a!==h.s.NO_VALUE?a:e.end_date<t.end_date?-1:e.end_date>t.end_date?h.s.YES_VALUE:h.s.NO_VALUE}))},ve=function(e,t,a,n,s){if(["program_type_id","cc_stack_start_date","cc_stack_id","cc_stack_instructor_id","bootcamp_start_date"].includes(t.filter_name)){var o=s===h.lb.admin_page.by_program,i=s===h.lb.admin_page.by_course,c=s===h.lb.admin_page.course_dashboard,d={},u={},p={},m={},E={};if(c){var f=Object(_.a)(a,5);p=f[0],u=f[1],d=f[2],E=f[3],m=f[4]}else{var g=Object(_.a)(a,4);d=g[0],u=g[1],p=g[2],m=g[3]}var v=e.map((function(e){return e.value})),b=[],S="",A="",k=[],O="";if("program_type_id"===t.filter_name?(d.selected=e,b=v):b=d.selected.map((function(e){return e.value})),"cc_stack_id"===t.filter_name){p.selected=e,A=Object(_.a)(v,1)[0]}else{var T=p.selected.map((function(e){return e.value}));A=Object(_.a)(T,1)[0]}if("cc_stack_start_date"===t.filter_name){u.selected=e,S=Object(_.a)(v,1)[0]}else{var C=u.selected.map((function(e){return e.value}));S=Object(_.a)(C,1)[0]}if("cc_stack_instructor_id"===t.filter_name?(m.selected=e,k=v):k=m.selected.map((function(e){return e.value})),c)if("bootcamp_start_date"===t.filter_name){E.selected=e,O=Object(_.a)(v,1)[0]}else{var w=E.selected.map((function(e){return e.value}));O=Object(_.a)(w,1)[0]}var y=[],R=[],D=[],U=[],N=[],I={},P={},j={},L={},M={};if(A||S||b||k||O){for(var F=0;F<n.length;F++){var x=n[F],B=x.cc_stack_id,W=x.cc_stack_name,H=x.instructor_id,K=x.instructor_name,G=x.start_date,V=x.start_date_title,q=x.program_type_id,Y=x.title,Q=(x.is_program_current_course,x.is_courses_current_course),$=x.is_major_track,z=x.program_start_date,J=x.program_start_date_title,X=!b.length||b.includes(q),Z=!A||B===A,ee=!k.length||k.includes(H),te=!O||O===z,ae=!1;ae=!S||("current"===S?Q===h.s.YES_VALUE:S===G),Z&&ae&&ee&&te&&(I["".concat(q)]={label:Y,value:q}),X&&ae&&ee&&te&&(P["".concat(B)]={label:W,value:B,is_major:$}),X&&Z&&ee&&$&&(j["".concat(G)]={label:V,value:G}),X&&Z&&ae&&$&&(L["".concat(H)]={label:K,value:H}),X&&Z&&J&&z&&(M["".concat(z)]={label:J,value:z})}y=Object.values(I),R=Object.values(P),D=Object.values(j),U=Object.values(L),N=Object.values(M)}else n.forEach((function(e){var t=e.cc_stack_id,a=e.cc_stack_name,n=e.instructor_id,s=e.instructor_name,r=e.start_date,o=e.start_date_title,i=e.program_type_id,_=e.title,d=e.is_major_track,u=e.program_start_date,p=e.program_start_date_title;I["".concat(i)]={label:_,value:i},P["".concat(t)]=Object(l.a)({label:a,value:t},c?{is_major:d}:{}),j["".concat(r)]={label:o,value:r},L["".concat(n)]={label:s,value:n},c&&(M["".concat(u)]={label:p,value:u})})),y=Object.values(I),R=Object.values(P),D=Object.values(j),U=Object.values(L),N=Object.values(M);if(d.options=fe(y,"label",!1),d.selected.length){var ne=d.options.map((function(e){return e.value}));d.selected=d.selected.filter((function(e){return ne.includes(e.value)}))}if(u.options=D.sort((function(e,t){return new Date(t.value)-new Date(e.value)})),p.options=fe(R,"label",!1),m.options=fe(U,"label",!1),m.selected.length){var se=m.options.map((function(e){return e.value}));m.selected=m.selected.filter((function(e){return se.includes(e.value)}))}E.options=N.sort((function(e,t){return new Date(t.value)-new Date(e.value)})),(o||i)&&u.options.unshift({label:"Current Courses",value:"current"})}else a.map((function(a){a.name===t.name&&(t.is_multi_select?a.selected=e.length>0?Object(r.a)(e):[]:a.selected=e.length>0?[Object(l.a)(Object(l.a)({},e[0]),{},{filter_name:t.filter_name})]:[])}));return a},be=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n={},s={},r={},o={},i={},c=a===h.lb.admin_page.course_dashboard,_=a===h.lb.admin_page.by_program,d=a===h.lb.admin_page.by_course;t&&t.forEach((function(e){var t=e.cc_stack_id,a=e.cc_stack_name,_=e.instructor_id,d=e.instructor_name,u=e.start_date,p=e.start_date_title,m=e.program_type_id,h=e.title,E=e.is_major_track,f=e.program_start_date,g=e.program_start_date_title;n["".concat(m)]={label:h,value:m},s["".concat(t)]=Object(l.a)({label:a,value:t},c?{is_major:E}:{}),r["".concat(u)]={label:p,value:u},o["".concat(_)]={label:d,value:_},c&&(i["".concat(f)]={label:g,value:f})}));for(var u=0;u<e.length;u++){var p=e[u].filter_name;e[u].selected=[],"program_type_id"===p?e[u].options=fe(Object.values(n),"label",!1):"cc_stack_start_date"===p?(e[u].options=Object.values(r).sort((function(e,t){return new Date(t.value)-new Date(e.value)})),(_||d)&&e[u].options.unshift({label:"Current Courses",value:"current"})):"cc_stack_instructor_id"===p?e[u].options=fe(Object.values(o),"label",!1):"cc_stack_id"===p?e[u].options=fe(Object.values(s),"label",!1):c&&"bootcamp_start_date"===p&&(e[u].options=Object.values(i).sort((function(e,t){return new Date(t.value)-new Date(e.value)})))}},Se=function(e,t){var a=e||b()().utc().format("YYYY-MM-DD HH:mm:ss"),n=function(){var e=b()().format("ZZ");return"".concat(e.slice(0,3),":").concat(e.slice(3))}(),s=b.a.tz(a,"YYYY-MM-DD HH:mm:ss",n);return((null===t||void 0===t?void 0:t.value)?s.utcOffset(t.value):s.tz(t.acronym)).format("YYYY-MM-DD HH:mm:ss")}},206:function(e,t,a){"use strict";var n=a(5),s=a(8),r=a(7),o=a(6),i=a(0),c=a.n(i),_=a(348),l=a.n(_),d=(a(768),l.a.Quill.import("ui/icons"));d.bold="<i class='bold_icon'></i>",d.italic="<i class='italic_icon'></i>",d.strike="<i class='strike_icon'></i>",d.link="<i class='link_icon'></i>",d["code-block"]="<i class='code_block_icon'></i>",d.list="<i class='list_icon'></i>",d.bullet="<i class='bullet_icon'></i>",d.image="<i class='image_icon'></i> Attach image";var u=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).modules={toolbar:[["bold","italic","strike","link","code-block",{list:"ordered"},{list:"bullet"}],["image"]]},s.formats=["bold","italic","link","strike","code-block","list","bullet","image"],s.state={},s}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement(l.a,{theme:"snow",modules:this.modules,formats:this.formats,placeholder:this.props.placeholder,value:this.props.value,onChange:function(t){return e.props.updateDescription(t)}})}}]),a}(i.Component);t.a=u},245:function(module,__webpack_exports__,__webpack_require__){"use strict";var _var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(33),_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7),_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),react_bootstrap__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1428),react_bootstrap__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(216),react_redux__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(17),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(9),react_responsive__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(41),react_responsive__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(react_responsive__WEBPACK_IMPORTED_MODULE_10__),react_calendly__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(473),_helpers_helpers__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2),_actions_user_actions__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(46),_actions_dashboard_actions__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(37),_actions_admin_actions__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(64),_actions_file_upload_actions__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(59),_config_constants__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(1),_assets_images_global_profile_placeholder_png__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(293),_assets_images_global_profile_placeholder_png__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(_assets_images_global_profile_placeholder_png__WEBPACK_IMPORTED_MODULE_18__),_user_modals_my_files_modal__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(523),_mobile_sub_navigation_component__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(474),_user_modals_reset_password_modal__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(475),_user_modals_chile_sence_stop_sence_session_modal__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(172),_profile_component_scss__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(551),_profile_component_scss__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(_profile_component_scss__WEBPACK_IMPORTED_MODULE_23__),UserProfile=function(_Component){Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__.a)(UserProfile,_Component);var _super=Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__.a)(UserProfile);function UserProfile(props){var _this;Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,UserProfile),_this=_super.call(this,props),_this.componentDidMount=function(){var _this$state$profile,_this$state$profile$g,url_parameter=new URLSearchParams(window.location.search),is_multipage=eval(url_parameter.get("multipage"));is_multipage&&"/m/1/4635/20395"===window.location.pathname&&(document.getElementById("show_profile_modal").click(),document.getElementsByTagName("body")[0].className="is_last_platform_demo");var admin_default_url=Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_12__.u)(null===(_this$state$profile=_this.state.profile)||void 0===_this$state$profile||null===(_this$state$profile$g=_this$state$profile.general)||void 0===_this$state$profile$g?void 0:_this$state$profile$g.user_capabilities,"",!0);_this.setState({admin_default_url:admin_default_url})},_this.userLogout=function(){var e,t,a;(null===(e=_this.state.profile)||void 0===e||null===(t=e.workspace_custom_data)||void 0===t||null===(a=t.sence_integration)||void 0===a?void 0:a.is_sence_session_on)?_this.setState({is_show_stop_sence_modal:!0}):window.location.href=_this.props.user.user_details.general.trial_platform_mode?"/t/logout":"/logout"},_this.redirectToEnrollApp=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.preventDefault(),void 0!==_this.props.onAddActivityLog&&_this.props.onAddActivityLog("3.2.3"),_this.props.get_enroll_app_link(t,a,n)},_this.displayProfileModal=function(){void 0!==_this.props.onAddActivityLog&&_this.props.onAddActivityLog("3.2.6"),_this.setState({is_show_profile:!_this.state.is_show_profile})},_this.displayMyFilesModal=function(){Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_12__.W)(Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__.a)(_this),"is_show_my_files_modal",!0),_this.props.fetch_private_files(),void 0!==_this.props.onAddActivityLog&&_this.props.onAddActivityLog("3.2.3")},_this.redirectToMattermost=function(){void 0!==_this.props.onAddActivityLog&&_this.props.onAddActivityLog("3.2.3")},_this.redirectToReferralPage=function(){void 0!==_this.props.onAddActivityLog&&_this.props.onAddActivityLog("3.2.3")},_this.displayResetPasswordModal=function(){Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_12__.W)(Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__.a)(_this),"is_show_reset_password_modal",!0),void 0!==_this.props.onAddActivityLog&&_this.props.onAddActivityLog("3.2.3")},_this.handleUploadedProfilePicture=function(e){0!=e.target.files.length&&(_this.setState({is_uploading_profile_pic:!0}),_this.props.upload_user_profile_pic({pic_upload:e.target.files[0]}),void 0!==_this.props.onAddActivityLog&&_this.props.onAddActivityLog("3.2.14"))},_this.state={is_show_reset_password_modal:!1,is_show_my_files_modal:!1,is_uploading_profile_pic:!1,is_show_profile:!1,is_show_special_request_form_modal:!1,admin_default_url:"",is_show_stop_sence_modal:!1};var get_user_details=Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_12__.y)();if(!0===get_user_details.status){var is_skip_walkthrough=localStorage.getItem("SKIP_WALKTHROUGH");_this.state={profile:get_user_details.user_details},_this.state.profile.show_notification_indicator=!0,is_skip_walkthrough&&!0===get_user_details.user_details.workspace_custom_data.customizations.is_show_platform_demo&&!1===["?startProductTour=true","?multipage=true"].includes(window.location.search)&&(localStorage.setItem("SKIP_WALKTHROUGH",!0),window.location.href="/dashboard?startProductTour=true")}else _this.userLogout(),_helpers_helpers__WEBPACK_IMPORTED_MODULE_12__.F.push("/login");return _this}return Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(UserProfile,[{key:"render",value:function(){var e,t,a,n,s,r,o,i,c,_=this,l=this.state.profile,d=l.general,u=d.email_address,p=d.first_name,m=d.last_name,h=d.user_level_id,E=d.access_expiration,f=d.user_capabilities,g=l.workspace_custom_data,v=l.workspace,b=(null===(e=this.props.user)||void 0===e||null===(t=e.user_details)||void 0===t||null===(a=t.general)||void 0===a?void 0:a.image_url)||null,S=(null===g||void 0===g?void 0:g.bootcamp_info)||{},A=(null===g||void 0===g?void 0:g.enrollment)||{},k=this.state.admin_default_url;return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__.a,{className:"profile_nav_dropdown",id:"show_profile_modal",title:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_responsive__WEBPACK_IMPORTED_MODULE_10___default.a,{maxWidth:768},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{id:"hamburger_menu_btn"}),!!this.props.notification.notification_count&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"dot"})),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_responsive__WEBPACK_IMPORTED_MODULE_10___default.a,{minWidth:769},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("img",{src:b||"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:b?"".concat(p," ").concat(m):"user icon"}))),onClick:function(e){return _.displayProfileModal()}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{id:"basic_info_container"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("label",{htmlFor:"upload_profile_pic_input",title:"Upload Profile Picture",className:this.props.user.is_uploading_profile_pic?"is_uploading":""},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("input",{id:"upload_profile_pic_input",onChange:function(e){return _.handleUploadedProfilePicture(e)},type:"file",accept:"image/*"}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__.a,{icon:["fas","upload"]}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("img",{className:"loading",src:"https://assets.codingdojo.com/learn_platform/global/loader.gif",alt:"loading icon"}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("img",{src:b||"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:b?"".concat(p," ").concat(m):"user icon"})),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_7__.a.Text,{className:"name"},p," ",m),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_7__.a.Text,{className:"light"},u),S&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_7__.a.Text,{className:"light location"},S.program_type,S.location_id!==_config_constants__WEBPACK_IMPORTED_MODULE_17__.Zb?" at ".concat(S.location):""),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_7__.a.Text,null,"Access Expires: ",react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"bold"},E&&null!==E?new Date(E.toString()).toLocaleDateString([],{year:"numeric",month:"long",day:"numeric"}):"")," "),A&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_7__.a.Text,null,"Career Services: ",react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"bold"},A.is_cs_enrolled&&A.is_cs_enrolled===_config_constants__WEBPACK_IMPORTED_MODULE_17__.Db?"Opted-in":"Opted-out")),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_responsive__WEBPACK_IMPORTED_MODULE_10___default.a,{maxWidth:768},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{type:"button",onClick:function(e){return document.getElementById("show_profile_modal").click()},id:"close_right_nav_btn"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__.a,{icon:["fas","chevron-up"]})))),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_responsive__WEBPACK_IMPORTED_MODULE_10___default.a,{maxWidth:768},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_mobile_sub_navigation_component__WEBPACK_IMPORTED_MODULE_20__.a,{onAddActivityLog:this.props.onAddActivityLog,history:this.props.history,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,is_dark_mode:this.props.is_dark_mode,onRemoveBookmark:this.props.onRemoveBookmark,onAddBookmark:this.props.onAddBookmark})),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{id:"profile_navigation_container"},A.latest_application_status>=_config_constants__WEBPACK_IMPORTED_MODULE_17__.A.paid_deposit&&!!A.has_payment_record&&v.workspace_id===_config_constants__WEBPACK_IMPORTED_MODULE_17__.Xb.codingdojo&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a",{target:"_blank",onClick:function(e){return _.redirectToEnrollApp(e,!1,!1,!0)},href:"#"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"profile_btn_icon user_icon"}),"Student Information"),this.state.profile&&_config_constants__WEBPACK_IMPORTED_MODULE_17__.d.includes(h)&&Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_12__.i)(f,"admin.visibility")&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),_.props.navigateToLP2Admin()}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"profile_btn_icon admin_icon"}),"Admin View (LP2)"),this.state.profile&&_config_constants__WEBPACK_IMPORTED_MODULE_17__.d.includes(h)&&Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_12__.i)(f,"admin.visibility")&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a",{href:k},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"profile_btn_icon admin_icon"}),"Admin View (LP3)"),A&&A.has_payment_record===_config_constants__WEBPACK_IMPORTED_MODULE_17__.Db&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{type:"button",onClick:function(e){return _.redirectToEnrollApp(e,!1)}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"profile_btn_icon dollar_icon"}),"My Payment"),this.props.user&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{type:"button",onClick:function(e){return _.displayMyFilesModal()}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"profile_btn_icon file_icon"}),"My Files"),A&&A.has_payment_record===_config_constants__WEBPACK_IMPORTED_MODULE_17__.Db&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{type:"button",onClick:function(){return _.setState({is_show_special_request_form_modal:!0})}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__.a,{icon:["fas","pencil-alt"]}),"Special Request Form"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_calendly__WEBPACK_IMPORTED_MODULE_11__.a,{url:"https://calendly.com/d/cn9-4p8-843?hide_gdpr_banner=1",onModalClose:function(){return _.setState({is_show_special_request_form_modal:!1})},open:this.state.is_show_special_request_form_modal,rootElement:document.getElementById("root")})),this.state.profile&&!0===[_config_constants__WEBPACK_IMPORTED_MODULE_17__.Sb.STUDENT,_config_constants__WEBPACK_IMPORTED_MODULE_17__.Sb.GRADUATE,_config_constants__WEBPACK_IMPORTED_MODULE_17__.Sb.ALUMNI_PASS_USER].includes(h)&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a",{target:"_blank",onClick:function(e){return _.redirectToReferralPage()},href:"https://www.codingdojo.com/referral"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"profile_btn_icon user_icon"}),"Refer a Friend")),this.state.profile&&h===_config_constants__WEBPACK_IMPORTED_MODULE_17__.Sb.ALUMNI_PASS_USER&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a",{target:"_blank",href:"https://www.codingdojo.com/alumni_pass/update-card-login/70eba9eb6d94c3deff697e806192d81b/?email_address=".concat(u)},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"profile_btn_icon alumni_pass_icon"}),"Alumni Pass Settings"),!(null===(n=this.props.user.user_details)||void 0===n||null===(s=n.general)||void 0===s?void 0:s.trial_platform_mode)&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{id:"show_reset_password_btn",type:"button",onClick:function(e){return _.displayResetPasswordModal()}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"profile_btn_icon lock_icon"}),"Reset Password"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_responsive__WEBPACK_IMPORTED_MODULE_10___default.a,{minWidth:769},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{type:"button",onClick:function(){return window.location.href="/dashboard?startProductTour=true"}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"profile_btn_icon platform_demo_icon"}),"Platform Demo")))),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{id:"sticky_footer_container"},this.state.profile&&h===_config_constants__WEBPACK_IMPORTED_MODULE_17__.Sb.ALUMNI_PASS_USER&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a",{target:"_blank",href:"https://www.codingdojo.com/alumni_pass/cancellation/?first_name=".concat(p,"&last_name=").concat(m,"&email_address=").concat(u)},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"profile_btn_icon close_icon"}),"Cancel Subscription"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{type:"button",onClick:this.userLogout},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"profile_btn_icon logout_icon"}),"Log Out"))),this.props.user&&(null===(r=this.props.user)||void 0===r?void 0:r.user_private_files)&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_user_modals_my_files_modal__WEBPACK_IMPORTED_MODULE_19__.a,{show:this.state.is_show_my_files_modal,is_dark_mode:this.props.is_dark_mode,user_files:null===(o=this.props.user)||void 0===o?void 0:o.user_private_files,generateS3Url:this.props.generateS3Url,clearPresignedURL:this.props.clearPresignedURL,dashboard:this.props.dashboard,toggleShowModal:function(e){return Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_12__.W)(_,"is_show_my_files_modal",!1)}}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_user_modals_reset_password_modal__WEBPACK_IMPORTED_MODULE_21__.a,{is_dark_mode:this.props.is_dark_mode,show:this.state.is_show_reset_password_modal,toggleShowModal:function(e){return Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_12__.W)(_,"is_show_reset_password_modal",!1)},onAddActivityLog:this.props.onAddActivityLog}),(null===(i=this.state.profile)||void 0===i||null===(c=i.workspace_custom_data)||void 0===c?void 0:c.sence_integration)&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_user_modals_chile_sence_stop_sence_session_modal__WEBPACK_IMPORTED_MODULE_22__.a,{history:this.props.history,show:this.state.is_show_stop_sence_modal,toggleShowModal:function(){return Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_12__.W)(_,"is_show_stop_sence_modal",!1)},user_details:this.state.profile,is_logout:!0}))}}]),UserProfile}(react__WEBPACK_IMPORTED_MODULE_5__.Component),_mapAnddispatchAction=Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_12__.J)(["user","dashboard","notification"],{logout:_actions_user_actions__WEBPACK_IMPORTED_MODULE_13__.a.logout,upload_user_profile_pic:_actions_user_actions__WEBPACK_IMPORTED_MODULE_13__.a.upload_user_profile_pic,get_enroll_app_link:_actions_dashboard_actions__WEBPACK_IMPORTED_MODULE_14__.a.get_enroll_app_link,fetch_private_files:_actions_user_actions__WEBPACK_IMPORTED_MODULE_13__.a.fetchPrivateFiles,navigateToLP2Admin:_actions_admin_actions__WEBPACK_IMPORTED_MODULE_15__.a.navigateToLP2Admin,generateS3Url:_actions_file_upload_actions__WEBPACK_IMPORTED_MODULE_16__.a.generateS3Url,clearPresignedURL:_actions_file_upload_actions__WEBPACK_IMPORTED_MODULE_16__.a.clearPresignedURL}),mapStateToProps=_mapAnddispatchAction.mapStateToProps,mapDispatchToProps=_mapAnddispatchAction.mapDispatchToProps;__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_8__.b)(mapStateToProps,mapDispatchToProps)(UserProfile)},253:function(e,t,a){"use strict";var n=a(5),s=a(8),r=a(7),o=a(6),i=a(0),c=a.n(i),_=a(14),l=a(9),d=a(17),u=a(2),p=a(143),m=(a(542),function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).renderBookmarkClassIcon=function(e){return{0:"lesson",1:"quiz",2:"todo",3:"chapter_survey"}[e]},s.fetchUserBookmarks=function(){s.props.get_user_bookmarks()},s.clickedBookmarkIcon=function(e){s.props.onAddActivityLog("bookmarked"===e?"3.12.19":"3.12.20")},s.removeHTMLTags=function(e){return e.replace(/(<([^>]+)>)/gi,"")},s}return Object(s.a)(a,[{key:"render",value:function(){var e,t,a=this,n=this.props,s=n.user_bookmarks,r=n.show,o=n.user,i=(null===o||void 0===o||null===(e=o.user_details)||void 0===e||null===(t=e.general)||void 0===t?void 0:t.trial_platform_mode)?"/t":"";return c.a.createElement(_.a,{show:r,centered:!0,onHide:function(){return a.props.toggleShowModal(!1)},onShow:function(){return a.fetchUserBookmarks()},id:"bookmarks_modal"},c.a.createElement(_.a.Header,null,c.a.createElement(_.a.Title,null,"Bookmarked Content"),c.a.createElement("button",{onClick:function(e){return a.props.toggleShowModal(!1)}},c.a.createElement("span",{className:"close_icon"}))),c.a.createElement(_.a.Body,null,0===s.bookmark_list.length&&c.a.createElement("p",null,"You haven't yet saved any bookmarks."),c.a.createElement("ul",{className:"list-unstyled"},s.bookmark_list.map((function(e){return c.a.createElement("li",{key:e.user_bookmark_id},c.a.createElement("form",{action:"",onSubmit:function(t){return!0===e.deleted?a.props.onAddBookmark(t,e):a.props.onRemoveBookmark(t,e.chapter_module_id,e.user_bookmark_id,e.track_id)}},c.a.createElement("button",{type:"submit",className:"".concat(!0===e.deleted?"outline_button":"")},c.a.createElement(l.a,{icon:!0===e.deleted?["far","bookmark"]:["fas","bookmark"],onClick:function(){return a.clickedBookmarkIcon(!0===e.deleted?"bookmarked":"unbookmarked")}}))),c.a.createElement("a",{onClick:function(e){return e.nativeEvent.stopImmediatePropagation()},href:"".concat(i,"/").concat(e.bookmark_url),target:"_blank"},c.a.createElement("div",{className:"left_container"},c.a.createElement("h5",null,e.title),!!e.chapter_module_id&&c.a.createElement("div",{className:"icons_container"},c.a.createElement("span",{className:"".concat(a.renderBookmarkClassIcon(e.module_type))},c.a.createElement("i",{className:"icon"})),c.a.createElement("img",{src:e.course_icon_src,alt:"Course Icon"}))),c.a.createElement("div",{className:"right_container"},c.a.createElement("ul",{className:"list-unstyled"},!!e.chapter_module_id&&c.a.createElement("li",null,e.course_alias),c.a.createElement("li",null,e.chapter_title||e.track_title),c.a.createElement("li",null,e.chapter_module_title||"Course Overview")),c.a.createElement("p",null,e.chapter_module_id?a.removeHTMLTags(e.content_description):a.removeHTMLTags(e.track_description||"")))))})))))}}]),a}(i.Component)),h=Object(u.J)("user_bookmarks",{get_user_bookmarks:p.a.get_user_bookmarks}),E=h.mapStateToProps,f=h.mapDispatchToProps;t.a=Object(d.b)(E,f)(m)},254:function(e,t,a){"use strict";var n=a(4),s=a(29),r=a(11),o=a(5),i=a(8),c=a(7),_=a(6),l=a(0),d=a.n(l),u=a(140),p=a(76),m=a(38),h=a(9),E=a(28),f=a(12),g=a.n(f),v=(a(547),a(1)),b=function(e){Object(c.a)(a,e);var t=Object(_.a)(a);function a(e){var i;return Object(o.a)(this,a),(i=t.call(this,e)).markAllAsRead=function(e){e.preventDefault();var t=i.props,a=t.is_empty_notification,n=t.raw_notifications,s=t.markNotificationsAsRead;if(!a){var o=[],c=null;n.map((function(e){var t=e.id,a=e.is_read,n=e.notification_type_id,s=e.content_json;!a&&o.push.apply(o,Object(r.a)(t)),n===v.hb.ASSIGNMENT_FEEDBACK&&(c=s.user_bootcamp_id)})),o.length&&(s({notification_ids:o,update_data:{is_read:v.s.YES_VALUE},additional_conditions:{is_read:v.s.NO_VALUE},user_bootcamp_id:c}),i.setState({is_show_notification_options:!1}))}},i.markAsRead=function(e){!e.is_read&&i.props.markNotificationsAsRead({notification_ids:e.id,update_data:{is_read:v.s.YES_VALUE},additional_conditions:{is_read:v.s.NO_VALUE},user_bootcamp_id:e.content_json.user_bootcamp_id})},i.archiveNotifications=function(e,t){var a,n;e.preventDefault();var o=i.props,c=o.raw_notifications,_=o.markNotificationsAsArchived,l=o.profile,d=t||{},u=d.id,p=d.content_json;u=u||[];var m=p?p.user_bootcamp_id:null;!u.length&&c.map((function(e){var t,a=e.id,n=e.notification_type_id,s=e.content_json;(t=u).push.apply(t,Object(r.a)(a)),n===v.hb.ASSIGNMENT_FEEDBACK&&(m=s.user_bootcamp_id)})),_(Object(s.a)({notification_ids:u,user_bootcamp_id:m,update_data:{is_archived:v.s.YES_VALUE},additional_conditions:{is_archived:v.s.NO_VALUE}},"user_bootcamp_id",null===l||void 0===l||null===(a=l.workspace_custom_data)||void 0===a||null===(n=a.bootcamp_info)||void 0===n?void 0:n.user_bootcamp_id))},i.determineAuthorType=function(e){return v.d.includes(e)?"instructor":"student"},i.notificationTemplate=function(e){var t=e.id,a=e.notifier_details,s=e.questions_details,r=e.subject_record_id,o=e.created_at,c=e.updated_at,_=e.description,l=e.chapter_module_title,m=e.content_json,h=e.feedback_type_id,f=e.student_name,b=e.notification_type_id,S=e.details,A=e.language_code,k=b===v.hb.NOTE_FEEDBACK?S.notifier_count:t.length,O=a?a.first_name+" "+a.last_name.charAt(0)+".":"Someone";return a=k>1?k+" people have":O+" has ",{1:d.a.createElement(d.a.Fragment,null,d.a.createElement(E.b,{to:"/m/".concat(m.track_id,"/").concat(m.chapter_id,"/").concat(m.chapter_module_id,"/forum_question/").concat(m.parent_comment_id),onClick:function(){return i.markAsRead(e)}},a," answered your question ",d.a.createElement("span",{className:"cd_blue"},_)),d.a.createElement("span",{className:"date_text"},g()(o).fromNow())),2:d.a.createElement(d.a.Fragment,null,d.a.createElement("p",{className:"question_text"},a," new question",k>1?"s":""," for you in ","\n",s&&s.map((function(e,t){return d.a.createElement(E.b,{key:e.id,to:"/m/".concat(e.content_json.track_id,"/").concat(e.content_json.chapter_id,"/").concat(e.content_json.chapter_module_id,"/forum_question/").concat(e.content_json.parent_comment_id),onClick:function(){return i.markAsRead(e)}},e.chapter_module_title,t<s.length-1&&", ")}))),d.a.createElement("span",{className:"date_text"},g()(o).fromNow())),3:d.a.createElement(d.a.Fragment,null,d.a.createElement(E.b,{to:"/m/".concat(m.track_id,"/").concat(m.chapter_id,"/").concat(m.chapter_module_id,"/forum_question/").concat(m.parent_comment_id),onClick:function(){return i.markAsRead(e)}},a," up voted your ",r!==m.parent_comment_id?"answer":"question"," in ",d.a.createElement("span",{className:"cd_blue"},r!==m.parent_comment_id?_:l)),d.a.createElement("span",{className:"date_text"},g()(o).fromNow())),4:null,5:d.a.createElement(d.a.Fragment,null,d.a.createElement(E.b,{to:"/m/".concat(m.track_id,"/").concat(m.chapter_id,"/").concat(m.chapter_module_id,"/forum_question/").concat(m.parent_comment_id),onClick:function(){return i.markAsRead(e)}},a&&d.a.createElement(d.a.Fragment,null,d.a.createElement(p.a,{trigger:["hover","hover"],placement:"auto",overlay:d.a.createElement(u.a,{person_details:Object(n.a)(Object(n.a)({},e.notifier_details),{},{user_id:m.notifier_user_id}),determineAuthorType:i.determineAuthorType,user_forum_summaries:i.props.user_forum_summaries,resetUserForumSummaries:i.props.resetUserForumSummaries,fetchUserForumSummary:i.props.fetchUserForumSummary})},d.a.createElement("span",{className:"cd_blue name"},O," ")),"has endorsed your answer to ",d.a.createElement("span",{className:"cd_blue"},_))),d.a.createElement("span",{className:"date_text"},g()(o).fromNow())),6:d.a.createElement(d.a.Fragment,null,d.a.createElement("p",{className:"question_text"},"You have new ",d.a.createElement(E.b,{to:"/stats",onClick:function(){return i.props.triggerShowExamFeedback({is_auto_show_exam_feedback_modal:!0,is_auto_fetch_exam_feedback:!0,user_exam_id:m.exam_id})}}," feedback ")," on your exam."),d.a.createElement("span",{className:"date_text"},g()(c||o).fromNow())),7:d.a.createElement(d.a.Fragment,null,d.a.createElement("p",{className:"question_text"},O," added a feedback on your ",d.a.createElement(E.b,{to:"/progress",onClick:function(){return i.triggerAutoShowAssignmentFeedback(e)}}," ",l," ")," assignment."),d.a.createElement("span",{className:"date_text"},g()(o).fromNow())),9:d.a.createElement(d.a.Fragment,null,d.a.createElement("p",{className:"question_text"},"Reminder: Your Discussion Post for ",d.a.createElement(E.b,{to:"/d/".concat(m.track_id,"/").concat(m.discussion_id,"/").concat(e.subject_record_id),onClick:function(){return i.markAsRead(e)}}," ",_," ")," is due in 48 hours. Please complete at your earliest convenience."),d.a.createElement("span",{className:"date_text"},g()(o).fromNow())),10:d.a.createElement(d.a.Fragment,null,d.a.createElement("p",{className:"question_text"},"Reminder: Your Discussion Post for ",d.a.createElement(E.b,{to:"/d/".concat(m.track_id,"/").concat(m.discussion_id,"/").concat(e.subject_record_id),onClick:function(){return i.markAsRead(e)}}," ",_," ")," is due in 24 hours. Please complete at your earliest convenience."),d.a.createElement("span",{className:"date_text"},g()(o).fromNow())),11:d.a.createElement(d.a.Fragment,null,d.a.createElement("p",{className:"question_text"},"Reminder: Your Discussion Post for ",d.a.createElement(E.b,{to:"/d/".concat(m.track_id,"/").concat(m.discussion_id,"/").concat(e.subject_record_id),onClick:function(){return i.markAsRead(e)}}," ",_," ")," is due in 12 hours. Please complete at your earliest convenience."),d.a.createElement("span",{className:"date_text"},g()(o).fromNow())),12:d.a.createElement(d.a.Fragment,null,d.a.createElement("p",{className:"question_text"},a," left ",h===v.R.performance_review?"an Internal Note":"a Transcript Note"," to ",d.a.createElement("button",{onClick:function(){return i.triggerAutoShowNoteFeedbacks(e)}},f),"."),d.a.createElement("span",{className:"date_text"},g()(o).fromNow())),13:d.a.createElement(d.a.Fragment,null,A===v.W.spanish?d.a.createElement("p",{className:"question_text"}," ",d.a.createElement(E.b,{to:"/dashboard/surveys/".concat(e.subject_record_id,"/").concat(t[0])}," Aqu\xed ")," est\xe1 el link en donde podr\xe1s tomar la encuesta. "):d.a.createElement("p",{className:"question_text"}," Let's talk. Student experience is at the core of the Coding Dojo values and we wanna hear about your. ",d.a.createElement(E.b,{to:"/dashboard/surveys/".concat(e.subject_record_id,"/").concat(t[0])}," Take the survey now ")," "),d.a.createElement("span",{className:"date_text"},g()(o).fromNow())),14:d.a.createElement(d.a.Fragment,null,d.a.createElement("p",{className:"question_text"},"Reminder: Your Discussion Post for ",d.a.createElement(E.b,{to:"/d/".concat(m.track_id,"/").concat(m.discussion_id,"/").concat(e.subject_record_id),onClick:function(){return i.markAsRead(e)}}," ",_," ")," is due in 72 hours. Please complete at your earliest convenience."),d.a.createElement("span",{className:"date_text"},g()(o).fromNow()))}[e.notification_type_id]},i.triggerAutoShowAssignmentFeedback=function(e){var t=e.track_course_id,a=e.content_json,n=a.chapter_module_id,s=a.cc_stack_schedule_id,r=a.track_id;i.markAsRead(e),i.props.triggerShowAssignmentFeedback({chapter_module_id:n,cc_stack_schedule_id:s,track_id:r,track_course_id:t,is_auto_fetch_track_course:!0})},i.triggerAutoShowNoteFeedbacks=function(e){var t=e.id,a=e.student_email,n=e.content_json,s=n.student_user_id,r=n.student_applicant_id,o=e.is_read;t=typeof t!==typeof[]?[t]:t,i.props.triggerAutoShowNoteFeedbacks({notification_id:t,student_email:a,student_user_id:s,student_applicant_id:r,is_read:o,is_all_notifications:!1})},i.state={is_show_options:!1,is_show_notification_options:!1},i}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.is_show_options,n=t.is_show_notification_options,s=this.props,r=s.grouped_notifications,o=s.is_empty_notification;return d.a.createElement("div",{id:"notification_content"},d.a.createElement("div",{id:"notification_header"},d.a.createElement("h2",null,"Notifications"),!this.props.is_empty_notification&&d.a.createElement(m.a,{show:n,onClick:function(){e.setState({is_show_notification_options:!n})}},d.a.createElement(m.a.Toggle,{id:"notification_dropdown"},d.a.createElement(h.a,{icon:["fas","ellipsis-h"]})),!a&&d.a.createElement(m.a.Menu,null,d.a.createElement("button",{type:"button",disabled:0==this.props.notification_count,onClick:function(t){return e.markAllAsRead(t)}},"Mark all as read"),d.a.createElement("button",{type:"button",onClick:function(t){return e.archiveNotifications(t)}},"Delete all")))),o&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{id:"empty_box_icon"}),d.a.createElement("p",null,"No new notifications")),!o&&d.a.createElement(d.a.Fragment,null,r.map((function(t){if(t.content.length)return d.a.createElement("div",{key:t.id,className:"block"},d.a.createElement("h2",null,t.title),d.a.createElement("ul",null,t.content.map((function(t){return d.a.createElement("li",{key:t.id,className:0===t.is_read?"unread_notification":void 0},e.notificationTemplate(t),d.a.createElement("form",{onSubmit:function(a){return e.archiveNotifications(a,t)},className:"delete_notification_form",action:""},d.a.createElement("button",{type:"submit"},d.a.createElement(h.a,{icon:["fas","times"]}))))}))))}))))}}]),a}(l.Component);t.a=b},269:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAxCAYAAACoJ+s+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAb7SURBVHgB1ZnbbxRVHMe/Z3Z39n6hUglNCku5tJQC5eKFINoGiLwY64saQKgPJkQ04IM++MKDf4A8GGN4ocYXXwzok4kkJRIDMWLLRcCllHJTQS5LL7ttd2aOv3NmZndmu9s2dFriN5k9Z+acmd9nvucyZ2YZPFLTPp4O+NAt8jrHG5e+ZL3wQAo8UsCPVg6kxUYX7YBH8gwQBlKYBXkHOEtyATa/x1tFX8JTUvogT7Xs423OY0XA5vd5p6Kix+9DD+VbMccSxsQL6AENtJb9vHsCIGXSVjalMHTPJaQ9A/ASAxxcpvwqDlPSO9eQ5XCUDmg63p0A2HuYZf0BtM8lZCU4XUf7la/YwATAuYacDtwEwJlA+lQcF0EomzWA4/AATohVu0grDXmtIB9dNpgAXyJuoNo5YpoQ6cAkdYRolPbY150MTqjqRF3JSUwhATYVnFNTwQkxTENyjlQwcPELdhIeSDaxgraCgZOTwf0vNC0Hm3ZfbQNje+GRGHiWg5+78s2KrqnrTgb29uU0C/iPLq8PtK1pCCESZJwuzEqncXkJZmbED2MUnSoxZ3mxnlWWH+M4c3kUd/7VBvh4of3KtysHqjFMupphaqB7x/Oxtv0dNWioU8VClBnEZ1A8zhk3DCZTOi7LdJpfaGOi3NyYK7XLFtb48fFbNXj1uUiaqf5jkzH4qxU0vZPpXFoXSG/dGOXf/TzEfs+MYlNL1FGDM3c6fZ04O4ym+gBe2xzH1TuFVk6xqjV3VUDGlEPt66PI3CqwzK1xHP10MaIhb5aPI3kDHxy+jUa67tb1MfTfGRf9u6tS3YoRV+7u60jFlPSiBUGcupDDzu01nsEJRcMKdm2fR06OoH6BivRCtU0OxOkCUrc68HJrDPezOh4Nati2MQ6vtWlVFPceaei7M441y8JiAB3CdACX78y0JmO+tlVLIujuHZbuzYaEi69vSaLnah4tFCsYVCq6OAEw4FMObG6J4+Ggzu89LGDN0jBmSx0vpaj/jWE4z7GhMVrRRRegmPfiMaWzMR3BqXNDbDXBPTvPj9mS7eKvl0ewdnkUQZVcJAZUA1QCgUONiyLknoZrdGe7Zql5nRIuZm7loWlMQjLVd9DFZGcEOQ2OzhWLorzv9ii2rI3Oqnu2hIvrV4TRkxnGqiVRqAHf3nRnT2oCIAuoB5bXU2dVfezCtZE5cc+WaObzFFMzFBBDKmJEDroAWzuvp8B4x+plCfx5M4cXmiNz4p6thoVBNC4K4sqNHKUxenIrB2wXJeCoXuhYUhdOB1U/ejND2LbB+3lvKomJ+9L1YZpu/GROsOiiBBSPtZUNSfTdztHd+LF6FqeWalrdEKYFSQB/3x9Dc0NCuigBxaJgfkqV7mVukHsbE3haEi5e7B/EvEQI81OhlGBjK/f0XX9xbe1iscg7fe7ehJMa6oL46M1amXqp/r/GcOSHB7jQn59Qtmnts3IJSTwnCfAq37G53lHsXozefZDD9dtZHPmk3rMFw116Bn/4+S00L5uPZ5IhisSdy9pivR9/uWn2wXGd8YLOYG6wNjNfk4ogHgvjp98G4ZUuXMsjEQ8jEQvJGJoVW3PFN+tKQPoWwgqaBWUwXl5xXjKCMxdz8Eonzg7JGy/BlWIV9zU3IAr0GJFwGsGKioYiQcUWCqm4ea+AkVEDM5VYrAoHo5GQCWOYUJo0RimBGqwEWKDnIIFBt+BoI1BOedH0om8o9E7hx/m+PGYqMSji1LT0saTolJkKMzg0R1MXAQWt2GyLaZNNrhnFfSQT1MyXRjBTnb44gppkzBkLukzJHMM0RBijOQGtO2F2YbE/Fqzmpi0Rj+H0HzMHPN8/imA45Op3446BqTkGjZB84Gq6PcilmPNdVr7IMrHvoyMqPvv6H8TCTzbdDFP/e5xjqKkNwHbICmhHt9+5i+/eEtBsb4UXq4iXXfqVWVmREjpWW1uLgQfjMIwnHyx1dRFzhDIXmBW6dMQ+7nSw7P2WsVI1q0wJIBjyo/IHCXeoajJf5Mvr8grXcAGKLwWyMndN5WQkYTLuuhSrzMbKvnag/JnkDM+c59p9yMxTUPP7iQVI8bNjBZ5UFFHJKjHrc/PKbjxZXB7dsV883aKSvcXkZ8XzmetkZpth/ihEyJmuy5k66zegfz8y9HhPKJYqIpmNyy0OVnLActRBD+cTlEs3nB+XzMj2vt04Vhe34OwymAet1hjL5YSXx1lT5+W0jwd7wsm6lEL/RTghnB22vGHlZy4b1rx7lPZLLV5Jk5fTvFjIIT94N2uwsXWyWjO9rNOD4phPTaQVf9h9Mi/r/qwUgJfmBlcT2/WcMJxXwSkDNbQ89LGhLLV0+6WuFb3FYuEkdF8bDdVX8BRFHepc3jfcNdC1Tn7r/g+BmJJT/wKdyAAAAABJRU5ErkJggg=="},281:function(e,t,a){"use strict";var n=a(11),s=a(5),r=a(8),o=a(7),i=a(6),c=a(0),_=a.n(c),l=a(14),d=(a(543),function(e){return _.a.createElement("div",{id:"coming_soon_container"},_.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/coming_soon.png",alt:"Coming Soon Image"}),_.a.createElement("h5",null,"Coming Soon."),_.a.createElement("p",null,"We are working on some awesome things you can look forward to. Stay tuned!"))}),u=(a(544),function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={videos:[{id:1,is_active:!0,video_url:"https://player.vimeo.com/video/170021157",title:"Nearing graduation!",date_release:"August 10, 2020",img_overlay:"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80"},{id:2,is_active:!1,title:"Anyone can learn to code!",video_url:"https://player.vimeo.com/video/170021053",date_release:"August 11, 2020",img_overlay:"https://images.unsplash.com/photo-1498050108023-c5249f4df085?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=752&q=80"},{id:3,is_active:!1,title:"Falling behind?",video_url:"https://player.vimeo.com/video/170021052",date_release:"August 12, 2020",img_overlay:"https://images.unsplash.com/photo-1504639725590-34d0984388bd?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=667&q=80"},{id:4,is_active:!1,title:"Belt Exams",video_url:"https://player.vimeo.com/video/170020509",date_release:"August 13, 2020",img_overlay:"https://images.unsplash.com/photo-1555099962-4199c345e5dd?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80"},{id:5,is_active:!1,title:"Staying Focused",video_url:"https://player.vimeo.com/video/170020469",date_release:"August 14, 2020",img_overlay:"https://images.unsplash.com/photo-1542831371-29b0f74f9713?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80"},{id:6,is_active:!1,title:"Improving your bootcamp experience",video_url:"https://player.vimeo.com/video/170020422",date_release:"August 15, 2020",img_overlay:"https://images.unsplash.com/photo-1534972195531-d756b9bfa9f2?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80"},{id:7,is_active:!1,title:"Aha Moments",video_url:"https://player.vimeo.com/video/170021050",date_release:"August 16, 2020",img_overlay:"https://images.unsplash.com/photo-1580927752452-89d86da3fa0a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80"},{id:8,is_active:!1,title:"Imposter Syndrome",video_url:"https://player.vimeo.com/video/170021054",date_release:"August 17, 2020",img_overlay:"https://images.unsplash.com/photo-1503252947848-7338d3f92f31?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=889&q=80"},{id:9,is_active:!1,title:"Being Proactive!",video_url:"https://player.vimeo.com/video/170021060",date_release:"August 18, 2020",img_overlay:"https://images.unsplash.com/photo-1562813733-b31f71025d54?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=749&q=80"},{id:10,is_active:!1,title:"Being ahead",video_url:"https://player.vimeo.com/video/165821795",date_release:"August 19, 2020",img_overlay:"https://images.unsplash.com/photo-1555949963-ff9fe0c870eb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80"}],active_videos:[],show_more_videos:!0},e.handleChangeActiveVideos=function(){var t=Object(n.a)(e.state.videos).filter((function(e){return e.is_active}));e.setState({active_videos:t})},e.handleInputChange=function(t){var a=t.target.value;if(a.length>=2)e.setState((function(e){return{active_videos:e.videos.filter((function(e){return e.title.toLowerCase().includes(a.toLowerCase())})),show_more_videos:!1}}));else{e.handleChangeActiveVideos();var n=e.state.active_videos.length>2;e.setState({show_more_videos:!n})}},e.showMoreVideos=function(){var t=Object(n.a)(e.state.videos),a=0;t.map((function(e){a<=5&&(a++,e.is_active=!0)})),e.handleChangeActiveVideos(),e.setState({show_more_videos:!1})},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.handleChangeActiveVideos()}},{key:"render",value:function(){var e=this;return _.a.createElement(l.a,{id:"daily_tip_modal",show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)}},_.a.createElement(l.a.Header,null,_.a.createElement("h4",null,"Daily Tip"),_.a.createElement("button",{onClick:function(t){return e.props.toggleShowModal(!1)}},_.a.createElement("span",{className:"close_icon"}))),_.a.createElement(l.a.Body,null,_.a.createElement(d,null)))}}]),a}(c.Component));t.a=u},293:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABiCAYAAACvUNYzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABSFSURBVHgB7V1rjBxVdr5V1e+emZ7xYwyYYIMJYDDYEghkodiGjYIgUbJKYkuRkgUlUjYbKT+SSHmgZAGL9Z8oCT9wiET8YwmrSEEQJVjJIgUJL0sEUgA7yAg72B4PBgM2np5Hd08/qmrPd+qemtvtnpme7qqeGZgj3anqruqae8/7nHvuLaXWYA3WYA3WoAOw5MT3ffls0bmlv7PkO+OaWoMe4Mknn7TpYMtRN8s4t/fv3++0XG9tTCRpaoXBSusQkA3Ec7+KxeKWgYGBvZZlbaWPW/RxKx0LdBxu+W2REDxJxzF9fqLRaJyge8+lUqkTuMEHBQhwanz8RouJqUZsQvhNruv+sed5b9B3E350MIFn4tmVSuVG1SIdauUxYnwgA8YRquOTTz5ZV6/XnyIEjbVizfN8v+H6ft31/Grd82epVWpBK1fdplapufw97sG9tYbHv8Uz2sA5EAMEV82q7WtNCB6g6GvixAc1p1+F8CojuhnBpdmGP12p+8WZqv/V5OxVbWJ6lq9NlWptiYNngpCtBEEfqtXqr1OfHLUMhIj9H/mh2mWwidv3Oo7zffpub3BdKY8aMazyPF9+o+oNV9Xqrmo0PD53PU8tBZIJR+H/ppKObonwmm1byiFUJ+ym4Y+RVBx8+umnf4gPxChsJ1TMECcBzGdbxPH70ul0E+KBdGJKPgfSK7N1NVtrENJdIkr0YwcRsumkSqUcIoCtwBc2/Uk6lhIeoX6cJ4n43Ww2e4w+evo732CiSCGh4gHprXXhwoWR66677ggN4NfwBfBadwPEA2r1hioT4muEeC9mvx3/Cw2QTadUNpNgoqAvji2EsLZkMpnXSRp+OD09ffCZZ54Z0z+PpXORklUbWCU6hzjp2+QCHqHT4VaOByJmyrUQIcsFkISBXJqIkeTPCScgBADSQK7sQRoD1JLowEgJYasIAXh/6qmnmOuJg/6eOv4yfT0MZq+SLicDq6rE6Vcmy9yWG/kA2JbJmYq6dGWG+4M+kifFzAJpSCaTR8hu/R15ayOqOdKOBKJ6UKhyvvjiixs3btz4OjovXN9gleOp6Zkq6fi6WskA1TSQT7FkQBpgqCHPkIZLly59a9OmTee0TYhEEnolgKU7w+5bqVTamcvlXlda5YDrcSzP1tRMqRq7jo8KTLUE5KcTthjpsXK5/Bv5fP64Cmyz6pUQPRNANzKitcdIXP+WToeh52Fo4VbOlKuqVKmp1Qj5TIoJAbc1mbDYUBMUSSX9qbYLfq/S0LMNQO5GI5+NLVROrQG146nLE6VVi3xAiST3crFEatTjMYGpCIYxVhrzo/gAm+f3INldSYAOrhDVqscff1yQzx1scHPVxGRlycHTSgWopJGhrEpQcGd6SSQJvwdJQECNz91IQrcqCGlg6/nnn99VKBT+mz4Pm8i/UiyvGn3fKcDDW1/ItRKhSDbhW2QTkG0FEfpCAIuQbz/77LNbxdvpJ/IRuaYpmnU4nRBoUEgaVF697sYqdSYRQICEJsKXX355D7wjNUeAjhGwJAIgkQa1o6Pbd4F8N9T58SIfESsMIvI6CwHiDNiduGIMkwgpbZjhop46deru7du3Tyg919Dp8zpORUhSDapndHT0CfHz69rHh86PA/ng+MJgRqVTyY7uT6cS3CrVOru+UUsEDO7EVEWtG85RktBWdjJIX9xyyy3fp8t/ogLkW53mjzqSAO3vst5/4YUXHqNcyT+Jnw9XE95OHKIPFYOBiqpZKqBPkMq4+rZhOK9sUkMSJ8zMzOwfHBz8NxhljfxFObJTFcT+vhnlit6fLs3G4mr2inyBOImAQK0wkG0yyqdPn/75W2+9daJTInRCAAm2bMrvHLFt+zui95E+Rh4lDoDb16naWQxgD5B7igMG8xmVz6ZUmlQR1CUh/t8JR7+p5ryiBQnQKXtZJF57gXx8EL2PKDcOQD4mKuQDZB4gDgAOXB2oQS0j7Q5cQV3rWxZk8sUIICUgFuV4wmAL/ygOAyeAZFjUkCcPKg6AfZyemQ0nmACEq7+mxF1HEfKCBEB5CFESqYbvhNlNIgBEGl5GHABu7VXvt4MEzUEu5sJ2C5jFA05cN5SCvUePHt174MABW0ps5oOFLiLVwJPoNHH9MQgAMYP+R+48Nu4nTh2IiVuhLuJSmyDuukKe4wLEB8T9x0hl/6JaxBbMx2osPidPnrRoWu7bwv1APgxvnNGmOXkeNWCiPi5AAQFLgTcnBcVicZ9aZBJnXllH1PXSSy9ZNDn9R/isM4GxcVA/wHGiV20mCG7EFgwNDf3Vvn37pHa17W/a9UgohaKprY7j7MEHRLkBhePNcDpOPNUH/YBQCgxbcPDgQZ7KnC9t3ZYlkGzDkYIurmQQsYL6iRtcN75EnteH9HiZglKMwNXI3r17NzQIp+5VGzXUVgLuuOMOzmdQrpvVD2UcmPPj8nxMcN34kNRw4ydAlaTA9+bKbkiDIHaCN2m1yw1ZbT6z708pVqSb/x+ERJVAnFGvCVmaBiwMZFQcMDld6QsTSXScSQY5orNnz96ybds2pKs9NVfewtAkAaKj7r77bosMCKsfyXD2o+OAWfo/vhePGoKO7gdUdeWHqKHNmzf/qlxrtQNNBNAyYr377rt+IpHgH4nU9quGBx3EXGzUELf7bEId1SBc6xp81rhsKloTCAkglNFuk0266y58Fu+nn4DsapRSEGfeqh1wcTFNUEmxMQVkO+lgEW6l+jqEkABCmTfeeENdvHgRPxgOimb7J7oCGMBUeVZFBXHmreYD4CxYhsO4LZw5c2YLvtfeUAitXhCroIGBAb7ZU374sH4DVEYUXItn9Mt+mYAKb4CvcXjNNdfsBXPzd8ZatSYVhMQbGWBF7ickINRhvdS99AJAHjKN3QBnKWmyaLki97o2noYdAFNzfs00A2HipWkVRaCzlKjheqP/EiAAg4xso1nBvBjAZk1Ozy5rXRLiGTbEehEI8mnt7jMzXz6CBSTg9CpEhn4EL4uBVDCDm+FfJxJ2U9IO3I4BB2lhd0VUXQM8VkAc04KpWQKUTnQKv5sEsDCJ8OGHH8rNPDDPW34CCIAQU6XojHPcgLSKJGAFp+QJKWOpbGADRMeLkVCyBld7QWvQHbSkVYbb3cMEAEWgfhAB64+sgoB7z1ujQC8gDGyqdQ2sg0IviHL//uDg4Bq24wXL0DIMdstF6+abb1ZrECs0zY6FNgAxAE4//vhjtQbxAeIsgNjdJhWEo5aAIv7EtDT2GwMo7hAUEsIngVtKdDKzS9wVEkBmbLQETMr3K2mKEOUqmFjHnEFWLx8KAjTKvWMBNsUG9griGl46N9edomgXYnYc5txQEAMBmNzpuu55+T7uiez5AIgEYodocgblHpvWD6qN6wbU+uE8T9igCQFwPjyYpftyapTuw734DX4LwiwXURAEy78mnI7ffvvtnJ/DNgi+1kEciOH8wIED4Q8p+BqndHQwNdbHzoODZV+HXoqozD0icnpyDRF9BWmNaqNvKQqsIbDmRGASQa7ZR77H+MDUgZ6CBCSTyUCHecFKlLg6HXB6kmtB46pcA6AyDlOFg/mAGCVKa1Rj3B4h6QRjEf7F5lFyzUxJi36Ryi2fMqF+vV4/b/44joImIB7qA2oFiIkT+a0AYhRIZa0fyXMf4iiFtHQSTjR4tVpdkACyTRjngj777LOfBBe1mCSi7SASakA8Bm8tk34GyIJsrEOIunpaGEpU0MTExDi5oKENkPva1gHedttt58kOTCJ8toyH9QoYMDivn9zeCUi/oAqjSmPDjgV5ncAFfeCBB06MjY1ddV/I2k888QQoEy61JDvwf3wDrxJ3+NgLyIqXlYZ8E4C0KFblBM+awxlwSchfuDi3xRX1SWe9ihPoMFxL9OCORrXcqB8gfe2F4WSuwtD/r8IFpVT0VVXSTVOSOhpm+fvoo4+YANKRTA86ciCfXhXIF0BfEVd0CzJzJy78Bx98cBRHIxEXEsGUAKEO0tLePffcA0/oPMcCtmIj1Q1XYDBxLQ+KE3qJRQL1E+h/xFS7d+8eI+cGEnDVve0q4zgtTfGAVy6Xf4Qvgj1zsPBg6bX7nc7jrkToZq0C1rfxXkOaWUul0mGlF2mQBIQRsEA7vYAbUZjrv/LKK8/yTXbgTOWyS0fmalI9rdBN33mPIf5tQIDTp0//h1wz3U+Bq4pz9YQx76F5/fXXO+fOnXstkUj8gqwLvjJZWlKdkCxotuzl8/e7AeBhqQvQMVbEN7JMiaLfNymj8EtkgD1SQVKYO39xLv4vFhLom/wLFy74n3/++SFc0BtTLHn9Fk+kl1fPRLrA1MzS4wE4GwDZzoaCL6gfNTo6yoj32xRYtWPLsESdKGcT5RKUmvgxpEAW6S1VCrhzMS6+ixq6WczXyv0wvqRBtl+8eBE1MkCWb6yeD6GtDcAfmjTwYbnpIaEUYNsu/LwbRK6Wrcu6XUlZ0G6rcP/09PQPCPlhYIv8TycLNMLvkRsiY2yTGnLIkjvj4+M/Nm1BcbrMqd2lwkqWBGwuONVFKSQ8H+zoInsI6XT+dtIgDagfwuO8S1XnM/N848aNGzFH7IOSpi0A1ZDB7CYuiHOtbi+APnWDfE7o5VOME7GTlMz8Lh1geNn1VAusE15wobYKgjKH5jF5x3MKqf+V3NNfQQ69Wg8WUnRbPAuuGSKjtdzeEZfC0xi6raDmJB6mQ/XmTbOzsz/KZrO/T5egHoTz5zWYCzm6TLGbbrop1GMvvvjid5HZs61A1LCtI1LL3UClqnckXMbCX9SQwtXsFvkYO5APXAD5UD3Hjx//wdatWxlnsKOqxe1shcUiDREbdqMoYzpx+fJliFeoinqZ0ICbByL0u5JZStexhU23/1fmElj1aCmenJw8REgfy+VyTACsNl2stH8x+Q8XbevzxLXXXmufOXPmb0jM/pB3zeJ9lnvfFIlzRhRFosUVPfP6M/LEsJa3l6lIyZgm6JjWKyFJPR/OZDJ/pgJ1YwZdC/6jjrJNMltGlFUUGUMt/e/OnTv3kxEuBBMOFs3pOlwe3u24fF6L5jJyUFUMGkRVkRFskV9jSavSeS+zwFC/jHwn2LTP1qrn5Zdffuydd96pTE1NdYR4gUUtoE5NSHDmyPHtt9++8d577/0fzJrBLa3LtpUk1lEV9ILTJCuZpGnRRIdz07yBUs1VNbIvVdLvUU28m8g3Xc633nrr4T179pwjt9NtSTmEZejzQacuSLjjB3lFtvaKHMpz7yI9959xEqEV5NUkrdKBUnBelYI1DTHt3tiKfDgkp06denj79u3HkT0ml93FrKKRdFu0I53KeOjLEvI9zBfQuXfnnXceLxaLf44bZOM6dBAFUnHp8eDdMg2u8TGbbCQSB/JDne80bdiqvvrqq78g5KPaAfGSp70epS1vNCqozf2hOiJ3y6a5TvvKlSu/MzIy8o+4QSQhzt0K+wnmdKqJfPIGv0eB6gsqUDWc61Ftsp2LwVLZ1Cyr8NavX+/C5123bt2LlPn7A4gkOgjjBA9hw0i+6zhhJQD6jjFgLDwmrXaA/B07dvyzat4Ny1vU52wDXYWhWOeKtDURQoyy2ISdZIj+xbbtG8RFRY/i2sU2LoC+xyZ/IAAGJ64mkH/y5MlHSPWeoCSlR26nR0eXphq9bl971W0eQNQQ91enre1NmzY5NLG/5f777/8vJoJSelNvvc1laXkWTS8FMqmkGhxIX/UKE3g7x44de+TBBx8cI6l3SfWyuoHRRUlPty9x6CURw7+VrCma0q8FfO6550YeffTRxxGs4R5+o0YjWLAJXx/bxqw0aTA3B+diNHJ7xY+oVCr/QIx1iMaEzblNP190v1JdcD+g10yYZcQJIglsoMlA4fy3yT78JaQBN4uBBqwUtdSKeMnriMqhTPD3Nm/e/CplADw65ygX9T1GilmpLpEP6NVXNDvA857aRXUvXbrkwlBBbGu1WlBdQYPDJkYYIJJYmEFCHX+/y1ag46Fq8L/hMgP56BN0fUK/VY/6fPTIkSM7du3ahfooN5/PhymGqJAPiCQX3BIti1EOjTPOKX+0h3TncyINsvU9AjaWZUSvpJ6wSUccK905g0tBXCYdbGOM7rZyPICmX39K+fxD1Nc3VXt1YxrbnoOOSKIlWV+g3TAzFEeneU5027Ztx2iW6A64cDBo+Alcu0wqcPGQagBiwJHXbBhi7gxUQ6Kr8ngYUVTzcfUzPSuQtpzKUQrdYVfZbuJ4IP7s2bO/TPMdD993330/0X1nrtdS7RueTlceT7+AOR+vGlcB96O6KUUchbUqWdKluQ0bNgx++umnv0Vi/qZ/1etsg/cBV1peSYs2VcbrbGv+xHT7V9riGl55i1ffNr3OtorX2bpt3y+MPpB0PkJ9GyQvLo/+0Tn6igAmocchEr2qgLc9xgDIaIEIUPSYDM7oQeapDbz22ms7kM7Aqhy/BeT9wng5MxA4W9cvbm5DnOCFzsE9AbLnf6Ez/tfMzMyhw4cP/xz6oPvCiKecTlr3FY2Rr9+BvLpAB4VsE/QARBpCQlDLgetUgIRBIQa4ktRU0Y8I8Cw8E8/G/8D/UnOIz+q+oE/M9WAY3Wcz3okF+iFWnJIlsLCbuF6i2WqsWxvf8/777981Ojp6Q6FQuDORSNxFBrxAduQGXjjSsvcCPX8SDasRG43GOCH9PPnv4++9995PH3rooXG6xSPXGBsnwZ3kn6hgTRwn0nTpuDKi2vDR6usAkAg0eaV5i2oSqUhTaM92ApJhSIe0Qd2G5JzijCHje2nmb/JqjtNNbk+SccX/FW5vZYavLZhqSfQrE0IjJKWbqClBXNawHaK6uOnzHK7re9CyMPxoWq/jmUxsTXg0R1SNH+zj9rVGfCvwoI2Bm3bCtBcmUYQwTU0jOCPnFJGnNDGlyTMdk9u/iUhfCBgZghTDcJst0dIEuQmTq1UzskM3cg3hSwADWZbhkbDK0tccI9aw2zV5hm9sE7nSYFVwgz+X6jA9Egm/576YW/G/6GT4GqwBw88AwVo9oT3+bs4AAAAASUVORK5CYII="},294:function(e,t,a){},314:function(e,t){},315:function(e,t,a){},32:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var n=a(5),s=a(1),r=a(7),o=a(6),i=a(2),c=new(function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){var e,r,o;Object(n.a)(this,a),(o=t.call(this)).getStudentAccessFilters=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/admin/rostering/get_student_rostering_filters"),e,!0).then(i.z).then((function(e){return e}))},o.updateStudentAccessFilterOptions=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/admin/update_filter_options"),e,!0).then(i.z).then((function(e){return e}))},o.getFilteredStudents=function(e){return"export"===e.event?this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/admin/student_access/get_filtered_students"),e,!0).then((function(e){return e.blob()})).then((function(e){return{status:!0,result:e}})):this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/admin/student_access/get_filtered_students"),e,!0).then(i.z).then((function(e){return e}))},o.getStudentProfileDetails=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/admin/rostering/get_student_profile_details"),e,!0).then(i.z).then((function(e){return e}))},o.addStudentAccess=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/admin/student_access/add_student_access"),e,!0).then(i.z).then((function(e){return e}))},o.uploadCSVStudentAccess=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/admin/student_access/upload_csv_student_access"),e,!0).then(i.z).then((function(e){return e}))},o.updateStudentProgramAccess=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/admin/student_access/update_program_access"),e,!0).then(i.z).then((function(e){return e}))},o.getNextStackOptionsList=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/admin/rostering/get_next_stack_options_list"),e,!0).then(i.z).then((function(e){return e}))},o.updateStudentStackAccessStatus=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/admin/rostering/unlock_student_next_stack"),e,!0).then(i.z).then((function(e){return e}))},o.processSelectedStudentsNextStack=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/admin/rostering/process_selected_students_next_stack"),e,!0).then(i.z).then((function(e){return e}))},o.updateStudentStackSchedule=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/admin/rostering/update_student_stack_schedule"),e,!0).then(i.z).then((function(e){return e}))},o.deleteStudentMinorStack=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/admin/rostering/delete_student_stack_schedule"),e,!0).then(i.z).then((function(e){return e}))},o.getStudentExamHistories=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/exam/histories"),e,!0).then(i.z).then((function(e){return e}))},o.fetchStudentNote=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/admin/student_access/fetch_student_note"),e,!0).then(i.z).then((function(e){return e}))},o.addStudentNote=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/admin/student_access/add_student_note"),e,!0).then(i.z).then((function(e){return e}))},o.deleteStudentNote=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/admin/student_access/delete_student_note"),e,!0).then(i.z).then((function(e){return e}))},o.updateStudentNote=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/admin/student_access/update_student_note"),e,!0).then(i.z).then((function(e){return e}))},o.fetchCampusLocation=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/admin/student_access/fetch_campus_location"),e,!0).then(i.z).then((function(e){return e}))},o.updateBootcampExpiration=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/admin/student_access/update_bootcamp_expiration"),e,!0).then(i.z).then((function(e){return e}))},o.triggerAutoShowNoteFeedbacks=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/admin/student_access/trigger_auto_show_note_feedbacks"),e,!0).then(i.z).then((function(e){return e}))},o.fetchStudentInfo=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/admin/student_access/fetch_student_info"),e,!0).then(i.z).then((function(e){return e}))};var c=Object(i.y)();return o.API_pre_link=(null===c||void 0===c||null===(e=c.user_details)||void 0===e||null===(r=e.general)||void 0===r?void 0:r.trial_platform_mode)?"/t":"",o}return a}(a(34).a)),_=new function e(){Object(n.a)(this,e),this.getStudentAccessFilters=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(a){a(Object(i.A)({type:s.wb.GET_STUDENT_ACCESS_FILTERS_REQUEST},{})),c.getStudentAccessFilters(e).then((function(e){a(Object(i.A)({type:s.wb.GET_STUDENT_ACCESS_FILTERS_SUCCESS},{filters:e})),t&&t()}),(function(e){var t=Object(i.c)(e);a(Object(i.A)({type:s.wb.GET_STUDENT_ACCESS_FILTERS_FAILURE},{error:t}))}))}},this.updateStudentAccessFilterOptions=function(e){return function(t){t(Object(i.A)({type:s.wb.UPDATE_STUDENT_ACCESS_FILTER_OPTIONS_REQUEST},{})),c.updateStudentAccessFilterOptions(e).then((function(a){t(Object(i.A)({type:s.wb.UPDATE_STUDENT_ACCESS_FILTER_OPTIONS_SUCCESS},{filters:a,is_create_student:e.is_create_student||!1}))}),(function(e){var a=Object(i.c)(e);t(Object(i.A)({type:s.wb.UPDATE_STUDENT_ACCESS_FILTER_OPTIONS_FAILURE},{error:a}))}))}},this.getFilteredStudents=function(e){var t="export"===e.event;return function(a){a(Object(i.A)({type:s.wb.GET_FILTERED_STUDENTS_REQUEST},{is_export:t})),c.getFilteredStudents(e).then((function(e){e&&!e.status&&alert(e.error),a(Object(i.A)({type:s.wb.GET_FILTERED_STUDENTS_SUCCESS},{students:e,is_export:t}))}),(function(e){var n=Object(i.c)(e);a(Object(i.A)({type:s.wb.GET_FILTERED_STUDENTS_FAILURE},{error:n,is_export:t}))}))}},this.getStudentProfileDetails=function(e){return function(t){t(Object(i.A)({type:s.wb.GET_STUDENT_PROFILE_DETAILS_REQUEST},{})),c.getStudentProfileDetails(e).then((function(e){t(Object(i.A)({type:s.wb.GET_STUDENT_PROFILE_DETAILS_SUCCESS},{student_details:e}))}),(function(e){var a=Object(i.c)(e);t(Object(i.A)({type:s.wb.GET_STUDENT_PROFILE_DETAILS_FAILURE},{error:a}))}))}},this.addStudentAccess=function(e){var t=this;return function(a){t.clearStudentAccess(e),c.addStudentAccess(e).then((function(e){e.status?a(Object(i.A)({type:s.wb.ADD_STUDENT_ACCESS_ITEM_SUCCESS},{students:e.result})):a(Object(i.A)({type:s.wb.ADD_STUDENT_ACCESS_ITEM_FAILURE},{is_account_exist:e.email_existed,error:e.message}))}),(function(e){var t=Object(i.c)(e);a(Object(i.A)({type:s.wb.ADD_STUDENT_ACCESS_ITEM_FAILURE},{error:t}))}))}},this.clearStudentAccess=function(e){var t="export"===e.event;return function(e){e(Object(i.A)({type:s.wb.ADD_STUDENT_ACCESS_ITEM_REQUEST,is_export:t},{}))}},this.uploadCSVStudentAccess=function(e){var t="export"===e.event;return function(a){a(Object(i.A)({type:s.wb.UPLOAD_CSV_STUDENT_ACCESS_ITEM_REQUEST,is_export:t},{})),c.uploadCSVStudentAccess(e).then((function(e){e.status?a(Object(i.A)({type:s.wb.UPLOAD_CSV_STUDENT_ACCESS_ITEM_SUCCESS},{students:e.result})):a(Object(i.A)({type:s.wb.UPLOAD_CSV_STUDENT_ACCESS_ITEM_FAILURE},{is_account_exist:e.email_existed,error:e.message}))}),(function(e){var t=Object(i.c)(e);a(Object(i.A)({type:s.wb.UPLOAD_CSV_STUDENT_ACCESS_ITEM_FAILURE},{error:t}))}))}},this.resetStudentAccessProps=function(){return function(e){e(Object(i.A)({type:s.wb.RESET_STUDENT_ACCESS_PROPS},{}))}},this.updateStudentProgramAccess=function(e){return function(t){t(Object(i.A)({type:s.wb.UPDATE_STUDENT_PROGRAM_ACCESS_REQUEST},{})),c.updateStudentProgramAccess(e).then((function(a){a.status?t(Object(i.A)({type:s.wb.UPDATE_STUDENT_PROGRAM_ACCESS_SUCCESS},{program_access_response:a.result,is_from_student_profile:e.is_from_student_profile,admin_page:e.admin_page})):(alert(a.message),t(Object(i.A)({type:s.wb.UPDATE_STUDENT_PROGRAM_ACCESS_FAILURE},{error:a.message})))}),(function(e){var a=Object(i.c)(e);t(Object(i.A)({type:s.wb.UPDATE_STUDENT_PROGRAM_ACCESS_FAILURE},{error:a}))}))}},this.getNextStackOptionsList=function(e){return function(t){t(Object(i.A)({type:s.wb.GET_STUDENT_NEXT_STACKS_OPTIONS_REQUEST},{})),c.getNextStackOptionsList(e).then((function(e){e.status?t(Object(i.A)({type:s.wb.GET_STUDENT_NEXT_STACKS_OPTIONS_SUCCESS},{student_next_stack_options:e})):(alert(e.message),t(Object(i.A)({type:s.wb.GET_STUDENT_NEXT_STACKS_OPTIONS_FAILURE},{error:e.error})))}),(function(e){var a=Object(i.c)(e);t(Object(i.A)({type:s.wb.GET_STUDENT_NEXT_STACKS_OPTIONS_FAILURE},{error:a}))}))}},this.fetchStudentNote=function(e){return function(t){t(Object(i.A)({type:s.wb.FETCH_STUDENT_NOTE_REQUEST},{})),c.fetchStudentNote(e).then((function(e){e.status?t(Object(i.A)({type:s.wb.FETCH_STUDENT_NOTE_SUCCESS},{fetch_note_data:e.result})):t(Object(i.A)({type:s.wb.FETCH_STUDENT_NOTE_FAILURE},{error:e.error}))}),(function(e){var a=Object(i.c)(e);t(Object(i.A)({type:s.wb.FETCH_STUDENT_NOTE_FAILURE},{error:a}))}))}},this.addStudentNote=function(e){return function(t){t(Object(i.A)({type:s.wb.ADD_STUDENT_NOTE_REQUEST},{})),c.addStudentNote(e).then((function(a){a.status?t(Object(i.A)({type:s.wb.ADD_STUDENT_NOTE_SUCCESS},{student_note_data:a.result,admin_page:e.admin_page})):t(Object(i.A)({type:s.wb.ADD_STUDENT_NOTE_FAILURE},{error:a.error}))}),(function(e){var a=Object(i.c)(e);t(Object(i.A)({type:s.wb.ADD_STUDENT_NOTE_FAILURE},{error:a}))}))}},this.deleteStudentNote=function(e){return function(t){t(Object(i.A)({type:s.wb.DELETE_STUDENT_NOTE_REQUEST},{})),c.deleteStudentNote(e).then((function(a){a.status?t(Object(i.A)({type:s.wb.DELETE_STUDENT_NOTE_SUCCESS},{student_note_data:a.result,admin_page:e.admin_page})):(alert(a.error),t(Object(i.A)({type:s.wb.DELETE_STUDENT_NOTE_FAILURE},{error:a.error})))}),(function(e){var a=Object(i.c)(e);t(Object(i.A)({type:s.wb.DELETE_STUDENT_NOTE_FAILURE},{error:a}))}))}},this.updateStudentStackAccessStatus=function(e){return function(t){t(Object(i.A)({type:s.wb.UPDATE_STUDENT_STACK_ACCESS_REQUEST},{})),c.updateStudentStackAccessStatus(e).then((function(a){a.status||(alert(a.message),a.result.receiving_stack_status=Number(!a.result.receiving_stack_status)),t(Object(i.A)({type:s.wb.UPDATE_STUDENT_STACK_ACCESS_SUCCESS},{update_stack_access_response:a,admin_page:e.admin_page}))}),(function(e){var a=Object(i.c)(e);t(Object(i.A)({type:s.wb.UPDATE_STUDENT_STACK_ACCESS_FAILURE},{error:a}))}))}},this.processSelectedStudentsNextStack=function(e){return function(t){t(Object(i.A)({type:s.wb.PROCESS_STUDENT_NEXT_STACK_REQUEST},{})),c.processSelectedStudentsNextStack(e).then((function(a){if(a.status){var n="";a.failed&&Object.entries(a.failed).map((function(e){n+=e[1].total>0?"".concat(e[1].error,"\n"):""})),n&&(a.status=!1,alert("ERROR ASSIGNING SELECTED NEXT COURSE TO THE FOLLOWING STUDENTS: \n"+n))}else alert(a.message||a.error);var r;a.status?((null===a||void 0===a||null===(r=a.new_stack)||void 0===r?void 0:r.is_disabled)&&alert("You have added an out-of-schedule course."),t(Object(i.A)({type:s.wb.PROCESS_STUDENT_NEXT_STACK_SUCCESS},{process_next_stack:a,admin_page:e.admin_page}))):t(Object(i.A)({type:s.wb.PROCESS_STUDENT_NEXT_STACK_FAILURE},{}))}),(function(e){var a=Object(i.c)(e);t(Object(i.A)({type:s.wb.PROCESS_STUDENT_NEXT_STACK_FAILURE},{error:a}))}))}},this.updateStudentStackSchedule=function(e){return function(t){t(Object(i.A)({type:s.wb.UPDATE_STUDENT_STACK_REQUEST},{})),c.updateStudentStackSchedule(e).then((function(a){a.status?(""!==a.message&&alert("ERROR ON UPDATING THE FOLLOWING COURSE SCHEDULES: \n"+a.message),t(Object(i.A)({type:s.wb.UPDATE_STUDENT_STACK_SUCCESS},{update_student_stack:a.results,admin_page:e.admin_page}))):(alert(a.message||a.error),t(Object(i.A)({type:s.wb.UPDATE_STUDENT_STACK_FAILURE},{error:a.error})))}),(function(e){var a=Object(i.c)(e);t(Object(i.A)({type:s.wb.UPDATE_STUDENT_STACK_FAILURE},{error:a}))}))}},this.deleteStudentMinorStack=function(e){return function(t){t(Object(i.A)({type:s.wb.DELETE_STUDENT_MINOR_STACK_REQUEST},{})),c.deleteStudentMinorStack(e).then((function(a){a.status?t(Object(i.A)({type:s.wb.DELETE_STUDENT_MINOR_STACK_SUCCESS},{delete_minor_stack:a,admin_page:e.admin_page})):alert(a.error)}),(function(e){var a=Object(i.c)(e);t(Object(i.A)({type:s.wb.DELETE_STUDENT_MINOR_STACK_FAILURE},{error:a}))}))}},this.updateStudentNote=function(e){return function(t){t(Object(i.A)({type:s.wb.UPDATE_STUDENT_NOTE_REQUEST},{})),c.updateStudentNote(e).then((function(e){e.status?t(Object(i.A)({type:s.wb.UPDATE_STUDENT_NOTE_SUCCESS},{updated_note:e.result})):(alert(e.error),t(Object(i.A)({type:s.wb.UPDATE_STUDENT_NOTE_FAILURE},{error:e.error})))}),(function(e){var a=Object(i.c)(e);t(Object(i.A)({type:s.wb.UPDATE_STUDENT_NOTE_FAILURE},{error:a}))}))}},this.getStudentExamHistories=function(e){return function(t){t(Object(i.A)({type:s.wb.GET_STUDENT_EXAM_HISTORIES_REQUEST},{})),c.getStudentExamHistories(e).then((function(e){var a=e.result.belts_and_exams_progress.exam_histories.all_user_exams;t(Object(i.A)({type:s.wb.GET_STUDENT_EXAM_HISTORIES_SUCCESS},{all_user_exams:a}))}),(function(e){var a=Object(i.c)(e);t(Object(i.A)({type:s.wb.GET_STUDENT_EXAM_HISTORIES_FAILURE},{error:a}))}))}},this.fetchRequiredDataForCreateStudent=function(e){return function(t){t(Object(i.A)({type:s.wb.GET_REQUIRED_DATA_FOR_CREATE_STUDENT_REQUEST},{})),c.getStudentAccessFilters(e).then((function(e){e.status?t(Object(i.A)({type:s.wb.GET_REQUIRED_DATA_FOR_CREATE_STUDENT_SUCCESS},{required_data_response:e.result})):t(Object(i.A)({type:s.wb.GET_REQUIRED_DATA_FOR_CREATE_STUDENT_FAILURE},{error:e.error}))}),(function(e){var a=Object(i.c)(e);t(Object(i.A)({type:s.wb.GET_REQUIRED_DATA_FOR_CREATE_STUDENT_FAILURE},{error:a}))}))}},this.fetchCampusLocation=function(e){return function(t){t(Object(i.A)({type:s.wb.FETCH_CAMPUS_LOCATION_REQUEST},{})),c.fetchCampusLocation(e).then((function(e){e.status?t(Object(i.A)({type:s.wb.FETCH_CAMPUS_LOCATION_SUCCESS},{campus:e.result})):t(Object(i.A)({type:s.wb.FETCH_CAMPUS_LOCATION_FAILURE},{error:e.error}))}),(function(e){var a=Object(i.c)(e);t(Object(i.A)({type:s.wb.FETCH_CAMPUS_LOCATION_FAILURE},{error:a}))}))}},this.updateBootcampExpiration=function(e){return function(t){t(Object(i.A)({type:s.wb.UPDATE_BOOTCAMP_EXPIRATION_REQUEST},{})),c.updateBootcampExpiration(e).then((function(a){a.status?t(Object(i.A)({type:s.wb.UPDATE_BOOTCAMP_EXPIRATION_SUCCESS},{bootcamp_data:a.result,is_from_student_profile:e.is_from_student_profile,admin_page:e.admin_page})):(alert(a.message),t(Object(i.A)({type:s.wb.UPDATE_BOOTCAMP_EXPIRATION_FAILURE},{error:a.error})))}),(function(e){var a=Object(i.c)(e);t(Object(i.A)({type:s.wb.UPDATE_BOOTCAMP_EXPIRATION_FAILURE},{error:a}))}))}},this.triggerAutoShowNoteFeedbacks=function(e){return function(t){t(Object(i.A)({type:s.wb.TRIGGER_AUTO_SHOW_NOTE_FEEDBACKS_REQUEST},{})),c.triggerAutoShowNoteFeedbacks(e).then((function(e){e.status?t(Object(i.A)({type:s.wb.TRIGGER_AUTO_SHOW_NOTE_FEEDBACKS_SUCCESS},{redirect_link:e.result.redirect_link})):t(Object(i.A)({type:s.wb.TRIGGER_AUTO_SHOW_NOTE_FEEDBACKS_FAILURE},{error:e.message}))}),(function(e){var a=Object(i.c)(e);t(Object(i.A)({type:s.wb.TRIGGER_AUTO_SHOW_NOTE_FEEDBACKS_FAILURE},{error:a}))}))}},this.fetchStudentInfo=function(e){return function(t){t(Object(i.A)({type:s.wb.GET_STUDENT_INFO_REQUEST},{})),c.fetchStudentInfo(e).then((function(a){a.status?t(Object(i.A)({type:s.wb.GET_STUDENT_INFO_SUCCESS},{student_info:a.result,admin_page:e.admin_page})):(alert(a.message),t(Object(i.A)({type:s.wb.GET_STUDENT_INFO_FAILURE},{error:a.error})))}),(function(e){var a=Object(i.c)(e);t(Object(i.A)({type:s.wb.GET_STUDENT_INFO_FAILURE},{error:a}))}))}}}},325:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL0AAAAjCAMAAAD2ZfsxAAAC91BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///+Ussa0AAAA+3RSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiMkJSYnKCkqKywtLi8xMjM0Njc4OTo7PD0+P0BBQkNERUZHSElKTE1OT1BRUlNUVVZXWFlaW1xdXl9gYWJjZGVmZ2hpamtsbW5vcHFyc3R1d3h5ent8fX5/gIGCg4SFhoeIiYqLjI2Oj5CRkpOUlZaXmJmam5ydnp+goaKjpKWmp6ipqqusra6vsLGys7S1tre4ubq7vL2+v8DBwsPExcbHyMnKy8zNzs/Q0dLT1NXW19jZ2tvc3d7f4OHi4+Tl5ufo6err7O3u7/Dx8vP09fb3+Pn6+/z9/vmtXBYAAAABYktHRPw8DqN/AAAI8klEQVRYw9XYaVhU1xkH8P8MCAqIorgjiuCaTlAitohLgk1xRcS6xTXuoSCCJnEZDUbcqWaok6poXBlAQVuNjiixIkTHHRfQ476giAZElpGZ/5d+uHcQ8zhqRR/t+fSe5c7zu/c55z3nDGbzdYsxBG+5kJXhpW17BgBrI4Em57fu8Uf4XsP6DgAQqc8IBX7ap1v0wp+Ybn49fGlfyxPey8+JrLl1AcB+SvqVnJ39AcBPr9frU+Z6AsCnhhGoeSSxFgA0MswEgLZx2ddOLnO3pj8Bh1O2DQ7trQG3VNQ/Cqh0AIDh0VBoe0PfwtoXmGh6HXzxZ5bxocaS3fFneb090PwUL25MvM/NtkAwT6cZrpqfzlcAwYyEA6kBAHdqAEwuM6VvzDQV/tmK/rxLJ4MibMhXQXDLrNllP9Be0m9tBbRdA3148CdW+COevhr/m59ldBBPuQP46+NY2B2rmKQAnDZzETCYwQC8DnJ2pZ79AbSkBuhjzmkHoMt5rRV9gW6lCkc93P8Ft5u/5DcDvCR9QjPg47XQfxHSzdrXDyp7FT6/k2Ws7e2CxgAAF2Awl0htJ4wNMJTBAOBwsbyJrD90/UEzwIMaKC6UeQAAlNZmzhEAH53UanPd3HTYpQJaSvqvvgHig6B3fMny+fzJy/G3O1QO7SGLASCJ8jyezPEYLukxmRNlfap/xQElWlEDFTe9YtUmAQjzBYJCm65EUzXQNF563Vmp++YAOuXLVn/Xo4ZzJMlUXZWSTpI0GNJbPRs5nCMr47MP5cCP8zBS1ntzqaxPwXx+DU9qMJjTgfohISEhIQ4v1le3qEiSrlWbepIkFc8NG8MplXF2oRx8yoUYLet9uEjWb4dtprFza2oQwiigC0nS/b3qezKuMt7OllIwjeMr9eEcI+uTgVaFl32owUdMBBx9fHwS3rPe9sqjJgCAxsAwxgIA7K+Wulr0LjeeuMr6JAAjmEENcMaoAgCssqa3/f7OzalAoKFkb3NMEp2BWqvu5UUoYBDHUzsD/cRZe3QXp9K+dYLd4jv5s5VvpMdA8+m2AMaVfQ+bLPMMJeC6j7Mg6/90kuGWjKkDgE2kBggw3fgjAJ9sur1YP5+bfzaqvJ9e1hTn2M1kd2AdE9I4Ffn34wvPADvKGIRAZqSYdiGWKbv5zXMoj0CSpE+rKmUYSdKz2fP8KcaKw7pcZjcHGh/j3eSfy6lVAKOZJ64WsjQcFn0CANS5Qg2AUSXmY1uPm0unWsk5d45C6YaF9MUEDpjJ7rApOwRFTi7yLw4R11CvPPpWIgIZhjg2LTgNHLv3nKnYer7M/N0c81qWKfZHOAGA7ahd2cfX9wCAHjqdbtvq0EYA4KvrC3tdOACgi+5LAPBYlJ57eLmntYxZkAlFA8TQB+MYLOkPQnHhCvJJTsMkLjWU1A5kGNbQ/cFxIOvBm+rfxSltJdemlqlU5bnLHt5xnsnNMa3/yU07qUb+5eUciMMkOSyQ+3dSj6VMTOTyD0lvsyj/fhjQ+2zJgT9gkhCiq4Pm4b3vbGHY4XxufePLGjfVySUBN3MOr6gLu2X5D5bafUj6apbX1fvrdLo1Wu2ymIhOVffqv2eczNm9uKtU62fZrKOkesOIfxsuH9GNd3pnejlj+rpUKWNekDFHVHkry3G33SFL035PAIiyVLcDgK26VK4WTHjH+vZVmwa/XE9GKwCgW9GzlsJuVfXJAOx3V3lgtcKKXggh1rcVQoi6ilk3789VeovpGC1ajBUz8EMWNMIJY3MfxTlAkSEmA0ln34KeMwG4PyJJ86VrJpLMbwiE6PV6fQ7JJADxJMm809IrRlnRaw9zW5iK57VaxwjuSDT38mU0wugVQWPHnXeRROf+PKQ1T4Qfy44DRx6/uf4QbFzaz3hMsrwdoCPJtY2ABv8gyQ2wnH3IRKAbSeZ0U0A58j7JkqZWZk4o20BFsXEpzl2ygRt8ecdwg14RfHom/S6S6LzziROaA6t/i2T7auoB4JNSksvhZiIpX5lWkyyrL8URJBOAZJK3pftM51KSc16qLzqtx+UcJRrCl+eTr9ArggtN5rtIovPeYgc0hH1B7hzOewt6rCB5DRNIPpazSf0SkqOlOJLkNtgWkfyb/Gw8yayX6s/FxjjMZcKmil6+jMa39Ipg4CreRRKdv2DayooJA0nyIo6Ux8RUU9+LZIXNEpJ7LL0HSC6QwiiSW9CKJFvLvSEk86zoRwoPWFbtrUdqG28xHWNFi7Giu1OWtGrH5RbHOa487+s2O7dlkhCimnofknSMJbnF0ruFtNwcZ5LchI4kWa/yVkmWvfeMKev7kTTbLiaZZulNJxkthbNIbpC+vZfcO4jknQ9Fv5HkBXxJssRFanEtJy333rkk46F8TDJcfnYdyYwPRD/ATHIpGj4l+SMAQLGBZHEdtLUDEEtyjZRP85tLM834u4RfdbdajyGij59Yi2mi9iDRd3eGHTYfVOYIITqHiZwjs5U11xVcjcUC0eykEGLrQPEXxwPr3kzv6NLSP66CZKkn8BNJbnUH3LeQ5Gq43vq1DVT3pQXsayZ5JVAJ+xEFJAsbvVhvPoCpHBhADl7MOmM4VM3PG5m2wXhPq22j5vZfGTCIa7TR0LLFioNMjrQXZ9Vm/2rutaEA3PJI0nT9hpkkr9ZFMmm6WUGSPQH8IJ0ghHTYmWxlrzVmYDp7B/Bp/jbWGcOhXuZ1UxkMY8EWrbOaM7QM8mNRgj+0bIFR7AgMpjmxeieFihkAgE73njXd6gj7w5ZKGgDUSKzyxAJrp7SHZ6CmfwBXFZlZZwyHIrPoRGEtGMvPGeqpSebURL+UJ8YmlXrFKX5cHb05rYvc1jJV/h/atKMRAIfNUi1LmiXKSMsp7tYgq2fMtHJ1rqlJAKOmUNJPJdcDxryVMR5qRj35BV2y5+0ze1bqsdZs97/rfbVarVYTE/P10Kr/bXjP2ms4kTLfsi19tl3cTRtbw9Jbd8Sm/2Qf+LGPnfXzvXfWQxEKPzFemSJqDxJ94XpJ9ATkVdvxO9Had09R3gwsEM0wUHQAoL70Bjnnw7xb/V+W/wJF6RZ+spzsUAAAAABJRU5ErkJggg=="},326:function(e,t,a){e.exports=a.p+"static/media/chief_of_staff_signature.af9cc692.jpg"},327:function(e,t,a){},34:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(5),s=(a(2),function e(){var t=this;Object(n.a)(this,e),this.sendRequest=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.api_header.headers=!1===s?{"Content-Type":"application/json"}:{},t.api_header.body=!1===s?JSON.stringify(a):a,n&&(t.api_header.headers.Authorization="Bearer ".concat(localStorage.getItem("JWT88")),t.api_header.headers["csrf-token"]=localStorage.getItem("z-casarafa")),localStorage.setItem("last_api_request",e),fetch("".concat(e),t.api_header)},this.api_header={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({}),mode:"cors",credentials:"include"}})},366:function(e,t,a){},367:function(e,t,a){},37:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(67),s=a(15),r=a(5),o=a(1),i=a(7),c=a(6),_=a(2),l=a(186),d=new(function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){var e,n,s;Object(r.a)(this,a),(s=t.call(this)).fetch_user_dashboard=function(){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/users/dashboard"),{},!0).then(_.z).then((function(e){if(e.status&&e.token){localStorage.setItem("__BarioOtsoOtso__",e.token);var t=Object(_.y)();t.status&&t.user_details.workspace_custom_data&&(e.result.sence_integration=t.user_details.workspace_custom_data.sence_integration)}return e}))},s.get_enroll_app_link=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/codingdojo/get_enroll_app_link"),e,!0).then(_.z).then((function(e){return e}))},s.updateGoogleReviewLog=function(e){var t=this;return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/users/update_google_review"),{params:e},!0).then(_.z).then((function(e){localStorage.setItem("__BarioOtsoOtso__",e.result);var a=Object(_.y)();return!0===a.status&&(e.result=a.user_details,t.CurrentUser.next({is_logged_in:!0,user_details:a.user_details})),e}))},s.getCurrentTrack=function(){return s.CurrentTrack.asObservable()},s.switchWorkspace=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/users/switch_workspace"),{params:e},!0).then(_.z).then((function(t){if(t&&t.status)if(localStorage.setItem("__BarioOtsoOtso__",t.user_token),e.force_reload_page)window.location.reload();else if(e.manage_workspace_users)window.location.href="/admin/access_control";else{var a=Object(_.y)();!0===a.status&&(t.result=a.user_details)}return t}))},s.CurrentTrack=new l.a(null),s.CurrentUser=new l.a(null);var i=Object(_.y)();return s.API_pre_link=(null===i||void 0===i||null===(e=i.user_details)||void 0===e||null===(n=e.general)||void 0===n?void 0:n.trial_platform_mode)?"/t":"",s}return a}(a(34).a)),u=a(57),p=a(179),m=a(180),h=new function e(){Object(r.a)(this,e),this.get_user_dashboard=function(){return function(e){e(Object(_.A)({type:o.Ob.GET_USER_DASHBOARD_REQUEST},{})),d.fetch_user_dashboard().then((function(t){if(t.status){for(var a,r,i={track_progress_limit:10,rececent_exam_limit:8,is_show_track_courses_modal:!1,is_show_daily_survey_modal:!1,is_show_career_service_survey_modal:!1,active_track:void 0,track_progress:[],belts:[],belt_exams:[],tracks:[],special_tracks:[],pre_bootcamp_tracks:[],locked_tracks:[],cd_survey_scheds:[],is_show_installment_due_reminder_modal:!1,is_show_installment_overdue_modal:!1,is_show_withdrawal_request_form_modal:!1,is_show_withdrawal_request_modal:!1,is_show_enrollment_agreement_modal:!1,is_show_enrollment_agreement_amendment_modal:!1,is_show_bootcamp_readiness_modal:!1,is_show_survey_modal:!1,is_show_new_survey_modal:!1,tuition_reminders_data:{pending_payment:{status:!1,message:"",is_overdue:!1}},last_visited_url:null,is_show_google_rating_modal:!1,review_data:{},enc_user_id:t.result.user_id,enc_applicant_id:t.result.applicant_id,lp2_login_url:t.result.auto_login_url,new_custom_surveys:[],discussion_notifications:[]},c=void 0!=t.result?t.result:{enrolled_tracks:[]},l=c.enrolled_tracks,d=c.unenrolled_tracks,u=c.tuition_reminders,p=t.result.belts||{},m=p.belt_summaries,h=p.exam_histories,E=void 0!==m?Object.keys(m):[],f=0;f<E.length;f++){var g=m[E[f]];void 0!==g&&i.belts.push({id:parseInt(E[f]),name:g.label,is_completed:g.level>-1,level:g.level,class:g.color})}for(var v in h){var b=h[v];if(b.label){var S=b.label.split(" - "),A=Object(s.a)(S,2),k=A[0],O=A[1];i.belt_exams.push({id:v,name:k,option:O,score:b.score})}}var T,C=Object(n.a)(d);try{for(C.s();!(T=C.n()).done;){var w=T.value,y={id:w.id,name:w.title,alias:w.track_alias,progress:w.track_progress_percent,is_locked:!0};1===w.is_special_track?i.special_tracks.push(y):i.locked_tracks.push(y)}}catch(z){C.e(z)}finally{C.f()}var R,D=Object(n.a)(l);try{for(D.s();!(R=D.n()).done;){var U,N=R.value,I={id:N.id,name:N.title,alias:N.track_alias,progress:N.track_progress_percent,is_locked:!1,track_belt:N.track_belt,is_current:N.is_current,is_major_track:N.is_major_track};if(1==N.is_current&&(I.courses=N.courses,I.current_module_link=N.current_module_link,i.track_progress={title:N.title,courses:N.courses,current_module_link:N.current_module_link,is_major_track:N.is_major_track}),1===N.is_special_track)i.special_tracks.push(I);else(null===t||void 0===t||null===(U=t.result)||void 0===U?void 0:U.pre_bootcamps_ids.includes(N.id))?i.pre_bootcamp_tracks.push(I):o.w.includes(N.id)||N.is_major_track===o.Db?i.tracks.push(I):i.locked_tracks.unshift(I)}}catch(z){D.e(z)}finally{D.f()}void 0!==u&&u.status&&(i.is_show_withdrawal_request_form_modal=!1,i.is_show_withdrawal_request_modal=u.result.pending_wf.status,i.is_show_enrollment_agreement_modal=u.result.pending_ea,i.is_show_enrollment_agreement_amendment_modal=u.result.pending_eaa,i.tuition_reminders_data=u.result.pending_payment,i.tuition_reminders_data.status&&(i.tuition_reminders_data.is_overdue?i.is_show_installment_overdue_modal=!0:i.is_show_installment_due_reminder_modal=!0));var P=Object(_.D)();i.is_show_installment_overdue_modal&&!P?localStorage.setItem("hsitoe",!0):!i.is_show_installment_overdue_modal&&P&&localStorage.removeItem("hsitoe"),i.is_show_progress=t.result.show_progress;var j=Object(_.y)();if(j.status){var L=j.user_details.workspace_custom_data,M=L.bootcamp_info,F=L.enrollment,x=L.surveys.unfinished_mandatory_survey_ids;if(i.last_visited_url=void 0!==M&&null!==M.last_visited_url?M.last_visited_url:null,void 0!==F&&null!==F.google_review_json){var B=JSON.parse(F.google_review_json);void 0!==B.finished_google_review_logs&&B.unfinished_google_review_logs.length>0&&!1===j.user_details.is_show_platform_demo&&(i.is_show_google_rating_modal=!0,i.review_data.unfinished_google_review_logs=B.unfinished_google_review_logs[0])}i.unfinished_mandatory_survey_ids=x}if(null===(a=t.result.cd_survey_scheds)||void 0===a?void 0:a.length){var W,H=new Date;i.is_show_new_survey_modal=!0;var K=[],G=[];t.result.cd_survey_scheds.map((function(e){return e.cd_survey_schedule_id>=o.yb.LAST_MANUALLY_INSERTED_CD_SURVEY_SCHED_ID?G.push(e):K.push(e)})),i.new_custom_surveys=G;for(var V=0,q=K;V<q.length;V++){var Y=q[V];if(j.user_details&&!j.user_details.workspace_custom_data.surveys.skipped.includes(Y.cd_survey_user_id)&&!j.user_details.workspace_custom_data.surveys.taken.includes(Y.cd_survey_schedule_id)){var Q=Y.show_at_time.split(":"),$=Object(_.o)(H,new Date(Y.show_at_date));Math.floor($)>=0&&Y.validity_days>=Math.floor($)&&(H.getHours()>parseInt(Q[0])||H.getHours()===parseInt(Q[0])&&H.getMinutes()>=parseInt(Q[1]))?(Y.skippable=Math.floor($)<Y.validity_days,i.cd_survey_scheds.push(Y)):(o.hc.includes(Y.cd_survey_schedule_id)||o.fc.includes(Y.cd_survey_schedule_id))&&(i.cd_survey_scheds.push(Y),o.t.includes(Y.cd_survey_schedule_id)&&(i.is_show_bootcamp_readiness_modal=!0))}}i.is_show_survey_modal=!!(null===(W=i.cd_survey_scheds)||void 0===W?void 0:W.length)}i.discussion_notifications=null===(r=t.result.discussion_notifications)||void 0===r?void 0:r.filter((function(e){var t=e.details;if(!1===JSON.parse(t).is_answered)return e})),e(Object(_.A)({type:o.Ob.GET_USER_DASHBOARD_SUCCESS},{dashboard:i,sence_integration:t.result.sence_integration}))}else e(Object(_.A)({type:o.Ob.GET_USER_DASHBOARD_FAILURE},{error:t.message}))}),(function(t){var a=Object(_.c)(t);e(Object(_.A)({type:o.Ob.GET_USER_DASHBOARD_FAILURE},{error:a}))}))}},this.get_enroll_app_link=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(n){n(Object(_.A)({type:o.N.GET_ENROLLAPP_LINK_REQUEST},{})),d.get_enroll_app_link({is_make_payment:e,is_special_request:t,is_student_information:a}).then((function(e){e.status?(n(Object(_.A)({type:o.N.GET_ENROLLAPP_LINK_SUCCESS},{enrollapp:e.result})),void 0!==e.result.link&&window.open(e.result.link,"_blank")):n(Object(_.A)({type:o.N.GET_ENROLLAPP_LINK_FAILURE},{error:e.message}))}),(function(e){var t=Object(_.c)(e);n(Object(_.A)({type:o.N.GET_ENROLLAPP_LINK_FAILURE},{error:t}))}))}},this.get_track_courses=function(e,t){return function(a){a(Object(_.A)({type:o.Ob.GET_DASHBOARD_TRACK_COURSES_REQUEST},{})),p.a.fetch_user_enrolled_tracks({track_ids:[e]}).then((function(e){if(!0===e.status){var n=Object(s.a)(e.result,1)[0];if(void 0!==n){for(var r={id:n.id,name:n.title,progress:0,is_locked:null!==n.track_access_level_id,courses:[],show:!0,is_major_track:t},i=0;i<n.courses.length;i++){var c=Object(s.a)(n.courses[i],1)[0];r.courses.push({id:c.course_id,name:c.name,link:c.link,image_src:c.image_src})}a(Object(_.A)({type:o.Ob.GET_DASHBOARD_TRACK_COURSES_SUCCESS},{active_track:r}))}else a(Object(_.A)({type:o.Ob.GET_DASHBOARD_TRACK_COURSES_FAILURE},{error:"selected track not found!!!"}))}else a(Object(_.A)({type:o.Ob.GET_DASHBOARD_TRACK_COURSES_FAILURE},{error:e.message}))}),(function(e){var t=Object(_.c)(e);a(Object(_.A)({type:o.Ob.GET_DASHBOARD_TRACK_COURSES_FAILURE},{error:t}))}))}},this.get_tracks_progress=function(e){return function(t){t(Object(_.A)({type:o.Ob.GET_DASHBOARD_TRACK_PROGRESS_REQUEST},{})),p.a.fetch_track_progress({track_ids:[e]}).then((function(e){if(!0===e.status){var a=e.result.track_progress;t(Object(_.A)({type:o.Ob.GET_DASHBOARD_TRACK_PROGRESS_SUCCESS},{track_progress:a}))}else t(Object(_.A)({type:o.Ob.GET_DASHBOARD_TRACK_PROGRESS_FAILURE},{error:"selected course not found!!!"}))}),(function(e){var a=Object(_.c)(e);t(Object(_.A)({type:o.Ob.GET_DASHBOARD_TRACK_PROGRESS_FAILURE},{error:a}))}))}},this.check_current_user=function(){return function(e){e(Object(_.A)({type:o.Nb.VERIFY_USER_REQUEST},{})),u.a.checkCurrentUser().then((function(t){!0===t.status?e(Object(_.A)({type:o.Nb.VERIFY_USER_SUCCESS},{})):e(Object(_.A)({type:o.Nb.VERIFY_USER_FAILURE},{error:t.message}))}),(function(t){var a=Object(_.c)(t);e(Object(_.A)({type:o.Nb.VERIFY_USER_FAILURE},{error:a}))}))}},this.hideDueReminderModal=function(e,t){return function(a){a(Object(_.A)({type:o.Ob.HIDE_DUE_REMINDER_REQUEST},{modal_name:e,new_value:t}))}},this.updateGoogleReviewLog=function(e){return function(t){t(Object(_.A)({type:o.Ob.SUBMIT_REVIEW_REQUEST},{})),d.updateGoogleReviewLog(e).then((function(e){!0===e.status?t(Object(_.A)({type:o.Ob.SUBMIT_REVIEW_SUCCESS},{is_show_google_rating_modal:!1,dashboard:e.result})):t(Object(_.A)({type:o.Ob.SUBMIT_REVIEW_FAILURE},{error:e.message}))}),(function(e){var a=Object(_.c)(e);t(Object(_.A)({type:o.Ob.SUBMIT_REVIEW_FAILURE},{error:a}))}))}},this.switchWorkspace=function(e,t){return function(a){a(Object(_.A)({type:o.Ob.SWITCH_WORKSPACE_REQUEST},{})),d.switchWorkspace(e).then((function(e){e.status?(a(Object(_.A)({type:o.Nb.LOGIN_SUCCESS},{user_details:e.result})),a(Object(_.A)({type:o.Ob.SWITCH_WORKSPACE_SUCCESS},{user_details:e.result})),a(Object(_.A)({type:o.m.SWITCH_WORKSPACE},{user_details:e.result})),t&&(window.location.href=t)):a(Object(_.A)({type:o.Ob.SWITCH_WORKSPACE_FAILURE},{error:e.message}))}),(function(e){var t=Object(_.c)(e);a(Object(_.A)({type:o.Ob.SWITCH_WORKSPACE_FAILURE},{error:t}))}))}},this.dismissDiscussionReminderModal=function(e,t){return function(a){a(Object(_.A)({type:o.Ob.SKIP_DISCUSSION_REMINDER_MODAL_REQUEST},{to_skip_notification_ids:e.notification_ids,discussion_notifications:t})),m.a.updateNotifications(e).then((function(e){var t;e.status?a(Object(_.A)({type:o.Ob.SKIP_DISCUSSION_REMINDER_MODAL_SUCCESS},{skipped_discussion_notification_ids:(null===(t=e.result)||void 0===t?void 0:t.updated_notification_ids)||[]})):a(Object(_.A)({type:o.Ob.SKIP_DISCUSSION_REMINDER_MODAL_FAILURE},{error:e.message}))}),(function(e){var t=Object(_.c)(e);a(Object(_.A)({type:o.Ob.SKIP_DISCUSSION_REMINDER_MODAL_FAILURE},{error:t}))}))}}}},392:function(e,t,a){},434:function(e,t,a){},435:function(e,t,a){},440:function(e,t,a){},441:function(e,t,a){},442:function(e,t,a){},443:function(e,t,a){},444:function(e,t,a){},445:function(e,t,a){},459:function(e,t,a){},46:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(5),s=a(1),r=a(57),o=a(2),i=new function e(){Object(n.a)(this,e),this.login=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"user";return function(_){_(Object(o.A)({type:s.Nb.LOGIN_REQUEST},{username:e})),localStorage.removeItem("is_platform_demo"),r.a.login(e,t,a,n,i,c).then((function(e){if(!0===e.auth){var t=Object(o.G)();null==e.result.general.is_dark_mode?r.a.updateDarkmodeSettings(t).then((function(a){a.status&&(localStorage.setItem("__BarioOtsoOtso__",a.result.token),e.result.general.is_dark_mode=t),_(Object(o.A)({type:s.Nb.LOGIN_SUCCESS},{user_details:e.result}))}),(function(e){var t=Object(o.c)(e,!1);_(Object(o.A)({type:s.Nb.LOGIN_FAILURE},{error:t}))})):_(Object(o.A)({type:s.Nb.LOGIN_SUCCESS},{user_details:e.result}))}else if(!0===a)window.location.href="/login";else{var n;(null===(n=e.info.result)||void 0===n?void 0:n.redirect_url)&&window.open(e.info.result.redirect_url,"_blank"),_(Object(o.A)({type:s.Nb.LOGIN_FAILURE},{error:void 0!==e.info&&e.info.message||e.message}))}}),(function(e){var t=Object(o.c)(e,!1);_(Object(o.A)({type:s.Nb.LOGIN_FAILURE},{error:t}))}))}},this.forgotPassword=function(e,t){return function(t){t(Object(o.A)({type:s.Nb.FORGOT_PASSWORD_REQUEST},{email_address:e})),r.a.forgotPassword(e).then((function(e){!0===e.status?t(Object(o.A)({type:s.Nb.FORGOT_PASSWORD_SUCCESS},{user_details:e.result})):t(Object(o.A)({type:s.Nb.FORGOT_PASSWORD_FAILURE},{error:e.message}))}),(function(e){var a=Object(o.c)(e,!1);t(Object(o.A)({type:s.Nb.FORGOT_PASSWORD_FAILURE},{error:a}))}))}},this.resetPassword=function(e,t,a,n){return function(n){n(Object(o.A)({type:s.Nb.RESET_PASSWORD_REQUEST},{old_password:e,new_password:t,confirm_password:a})),r.a.resetPassword(e,t,a).then((function(e){!0===e.status?n(Object(o.A)({type:s.Nb.RESET_PASSWORD_SUCCESS},{user_details:e.result})):n(Object(o.A)({type:s.Nb.RESET_PASSWORD_FAILURE},{error:e.message}))}),(function(e){var t=Object(o.c)(e);n(Object(o.A)({type:s.Nb.RESET_PASSWORD_FAILURE},{error:t}))}))}},this.reportAnIssue=function(e,t){return function(t){t(Object(o.A)({type:s.Nb.REPORT_ISSUE_REQUEST},e)),r.a.reportAnIssue(e).then((function(e){!0===e.status?t(Object(o.A)({type:s.Nb.REPORT_ISSUE_SUCCESS},{user_details:e.result})):t(Object(o.A)({type:s.Nb.REPORT_ISSUE_FAILURE},{error:e.message}))}),(function(e){var a=Object(o.c)(e);t(Object(o.A)({type:s.Nb.REPORT_ISSUE_FAILURE},{error:a}))}))}},this.switchProgram=function(e,t,a){return function(a){a(Object(o.A)({type:s.Nb.SWITCH_PROGRAM_REQUEST},{user_bootcamp_id:e,current_user_bootcamp_id:t})),r.a.switchProgram({user_bootcamp_id:e,current_user_bootcamp_id:t}).then((function(e){e&&!0===e.status?a(Object(o.A)({type:s.Nb.SWITCH_PROGRAM_SUCCESS},{user_details:e.result})):a(Object(o.A)({type:s.Nb.SWITCH_PROGRAM_FAILURE},{error:e&&e.message?e.message:"Something went wrong in switching program."}))}),(function(e){var t=Object(o.c)(e);a(Object(o.A)({type:s.Nb.SWITCH_PROGRAM_FAILURE},{error:t}))}))}},this.logout=function(){return function(e){r.a.updateLastVisitedUrl().then((function(e){return Object(o.j)()}),(function(e){return Object(o.j)()}))}},this.check_current_user=function(e){return function(t){t(Object(o.A)({type:s.Nb.VERIFY_USER_REQUEST},{})),r.a.checkCurrentUser(e).then((function(e){e.status?t(Object(o.A)({type:s.Nb.VERIFY_USER_SUCCESS},{user_details:e.result})):t(Object(o.A)({type:s.Nb.VERIFY_USER_FAILURE},{error:e.message}))}),(function(e){var a=Object(o.c)(e);t(Object(o.A)({type:s.Nb.VERIFY_USER_FAILURE},{error:a}))}))}},this.finish_platform_walkthrough=function(){return function(e){e(Object(o.A)({type:s.Nb.USER_VIEW_WALKTHROUGH_REQUEST},{})),r.a.finishPlatformWalkthrough().then((function(t){!0===t.status?(e(Object(o.A)({type:s.Nb.USER_VIEW_WALKTHROUGH_SUCCESS},{user_details:t.result})),localStorage.removeItem("is_platform_demo"),window.location.href="/dashboard"):e(Object(o.A)({type:s.Nb.USER_VIEW_WALKTHROUGH_FAILURE},{error:t.message}))}),(function(t){var a=Object(o.c)(t);e(Object(o.A)({type:s.Nb.USER_VIEW_WALKTHROUGH_FAILURE},{error:a}))}))}},this.upload_user_profile_pic=function(e){return function(t){t(Object(o.A)({type:s.Nb.USER_UPLOAD_PROFILE_PIC_REQUEST},e)),r.a.uploadUserProfilePic(e).then((function(e){!0===e.status?t(Object(o.A)({type:s.Nb.USER_UPLOAD_PROFILE_PIC_SUCCESS},{user_uploads:e})):t(Object(o.A)({type:s.Nb.USER_UPLOAD_PROFILE_PIC_FAILURE},{error:e.message}))}),(function(e){var a=Object(o.c)(e);t(Object(o.A)({type:s.Nb.USER_UPLOAD_PROFILE_PIC_FAILURE},{error:a}))}))}},this.updateGoogleReviewLog=function(e){return function(t){t(Object(o.A)({type:s.Nb.SUBMIT_REVIEW_REQUEST},{})),r.a.updateGoogleReviewLog(e).then((function(e){!0===e.status?t(Object(o.A)({type:s.Nb.SUBMIT_REVIEW_SUCCESS},{is_show_google_rating_modal:!1,dashboard:e.result})):t(Object(o.A)({type:s.Nb.SUBMIT_REVIEW_FAILURE},{error:e.message}))}),(function(e){var a=Object(o.c)(e);t(Object(o.A)({type:s.Nb.SUBMIT_REVIEW_FAILURE},{error:a}))}))}},this.stopSenceSession=function(e){return function(t){t(Object(o.A)({type:s.Nb.STOP_SENCE_SESSION_REQUEST},{})),r.a.stopSenceSession(e).then((function(e){t(Object(o.A)({type:s.Nb.STOP_SENCE_SESSION_SUCCESS},{sence_integration:e.result}))}),(function(e){var a=Object(o.c)(e);t(Object(o.A)({type:s.Nb.STOP_SENCE_SESSION_FAILURE},{error:a}))}))}},this.fetchPrivateFiles=function(){return function(e){e(Object(o.A)({type:s.Nb.FETCH_PRIVATE_FILES_REQUEST},{})),r.a.fetchPrivateFiles().then((function(t){t.status?e(Object(o.A)({type:s.Nb.FETCH_PRIVATE_FILES_SUCCESS},t.result)):e(Object(o.A)({type:s.Nb.FETCH_PRIVATE_FILES_FAILURE},{error:t.message}))}),(function(t){var a=Object(o.c)(t);e(Object(o.A)({type:s.Nb.FETCH_PRIVATE_FILES_FAILURE},{error:a}))}))}},this.registerTrialAccount=function(e){return function(t){t(Object(o.A)({type:s.Nb.REGISTER_TRIAL_ACCOUNT_REQUEST},{})),r.a.registerTrialAccount(e).then((function(a){a.status?(t(Object(o.A)({type:s.Nb.REGISTER_TRIAL_ACCOUNT_SUCCESS},{response_data:e})),r.a.loginTrialAccount({email_address:e.email_address,password:!0,is_trial_platform:!0}).then((function(e){e.auth?t(Object(o.A)({type:s.Nb.SIGNIN_TRIAL_ACCOUNT_SUCCESS},{response_data:e.results})):t(Object(o.A)({type:s.Nb.SIGNIN_TRIAL_ACCOUNT_FAILURE},{error:e.message}))}),(function(e){var a=Object(o.c)(e);t(Object(o.A)({type:s.Nb.REGISTER_TRIAL_ACCOUNT_FAILURE},{error:a}))}))):t(Object(o.A)({type:s.Nb.REGISTER_TRIAL_ACCOUNT_FAILURE},{error:a.message}))}),(function(e){var a=Object(o.c)(e);t(Object(o.A)({type:s.Nb.REGISTER_TRIAL_ACCOUNT_FAILURE},{error:a}))}))}},this.signInTrialAccount=function(e){return function(t){t(Object(o.A)({type:s.Nb.SIGNIN_TRIAL_ACCOUNT_REQUEST},{})),r.a.loginTrialAccount(e).then((function(e){e.auth?t(Object(o.A)({type:s.Nb.SIGNIN_TRIAL_ACCOUNT_SUCCESS},{response_data:e.results})):t(Object(o.A)({type:s.Nb.SIGNIN_TRIAL_ACCOUNT_FAILURE},{error:e.message}))}),(function(e){var a=Object(o.c)(e);t(Object(o.A)({type:s.Nb.REGISTER_TRIAL_ACCOUNT_FAILURE},{error:a}))}))}},this.resetErrorMessage=function(e){return function(e){e(Object(o.A)({type:s.Nb.RESET_ERROR_MESSAGE_SUCCESS},{}))}}}},460:function(e,t,a){},472:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CourseReducer}));var _var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(29),_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_config_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),_helpers_helpers__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),initialState={track:{chapters:[]},todo_upload_error:null,end_chapter_survey_response_status:null,is_late_assignment:!1,user_details:null,is_show_failed_sence_login_modal:!1};function CourseReducer(){var _state$track$active_m,_state$track$active_m2,_state$track$active_m3,_state$track$active_m4,_state$track$user_fil,state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.FETCH_COURSE_PAGE_DATA_REQUEST:return{track:{chapters:[]},todo_upload_error:state.todo_upload_error,end_chapter_survey_response_status:state.end_chapter_survey_response_status,is_show_check_solution_timer:!1,disable_next_previous_button:!0};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.FETCH_COURSE_PAGE_DATA_SUCCESS:var is_show_check_solution_timer=!1;is_show_check_solution_timer=new Date(action.track.assignment_remaining_time)<Date.now()||action.track.assignment_remaining_time;var get_user_details=Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_3__.y)();return state.user_details=get_user_details.status&&get_user_details.user_details.general,{track:action.track,end_chapter_survey_response_status:null,quiz_module:action.quiz_module,assignment_tasks:action.assignment_tasks,user_details:state.user_details,is_show_check_solution_timer:is_show_check_solution_timer};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.FETCH_COURSE_PAGE_DATA_FAILURE:return{track:{chapters:[]},is_show_failed_sence_login_modal:!0,disable_next_previous_button:!1};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.C.SAVE_CHAPTER_SURVEY_DATA_REQUEST:return{track:Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),{},{is_chapter_survey_form_submitted:!1}),end_chapter_survey_response_status:null,assignment_tasks:state.assignment_tasks};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.C.SAVE_CHAPTER_SURVEY_DATA_SUCCESS:return{track:Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),{},{is_chapter_survey_form_submitted:!1,proceed_to_next_link:!0}),end_chapter_survey_response_status:action.chapter_survey,assignment_tasks:state.assignment_tasks};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.C.SAVE_CHAPTER_SURVEY_DATA_FAILURE:return{track:state.track,end_chapter_survey_response_status:null,assignment_tasks:state.assignment_tasks,user_details:state.user_details};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.UPLOAD_TODO_FILE_REQUEST:case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.UPLOAD_TODO_GITHUB_REQUEST:return state;case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.UPLOAD_TODO_FILE_SUCCESS:case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.UPLOAD_TODO_GITHUB_SUCCESS:if(void 0!==action.todo.file_data){var tracks_data=state.track,_assignment_remaining_time_value=!!state.track.is_admin_user||action.todo.assignment_remaining_time;return tracks_data.completed_chapter_module_ids&&(action.todo.is_late_assignment?0==tracks_data.completed_chapter_module_ids.within_stack_sched.includes(parseInt(tracks_data.chapter_module_id))&&tracks_data.completed_chapter_module_ids.outside_stack_sched.push(parseInt(tracks_data.chapter_module_id)):(tracks_data.completed_chapter_module_ids.outside_stack_sched=tracks_data.completed_chapter_module_ids.outside_stack_sched.filter((function(e){return![tracks_data.chapter_module_id].includes(e)})),tracks_data.completed_chapter_module_ids.within_stack_sched.push(parseInt(tracks_data.chapter_module_id)))),{track:Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},tracks_data),{},{user_files:[action.todo.file_data],todo_solution:action.todo.todo_solution,cd_survey_scheds:action.todo.cd_survey_scheds,assignment_remaining_time:_assignment_remaining_time_value,user_module:[action.todo.user_module]}),todo_upload_error:null,end_chapter_survey_response_status:null,assignment_tasks:state.assignment_tasks,is_late_assignment:action.todo.is_late_assignment,is_show_check_solution_timer:!0,user_details:state.user_details}}return state;case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.UPLOAD_TODO_FILE_FAILURE:case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.UPLOAD_TODO_GITHUB_FAILURE:return{track:Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),todo_upload_error:action.error,end_chapter_survey_response_status:null,assignment_tasks:state.assignment_tasks,user_details:state.user_details};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.DELETE_USER_TODO_FILE_REQUEST:return state;case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.DELETE_USER_TODO_FILE_SUCCESS:var is_core_assignment=(null===(_state$track$active_m=state.track.active_module)||void 0===_state$track$active_m||null===(_state$track$active_m2=_state$track$active_m.checklist)||void 0===_state$track$active_m2?void 0:_state$track$active_m2.is_optional)===_config_constants__WEBPACK_IMPORTED_MODULE_2__.P&&(null===(_state$track$active_m3=state.track.active_module)||void 0===_state$track$active_m3||null===(_state$track$active_m4=_state$track$active_m3.checklist)||void 0===_state$track$active_m4?void 0:_state$track$active_m4.is_practice)===_config_constants__WEBPACK_IMPORTED_MODULE_2__.P;if((null===(_state$track$user_fil=state.track.user_files)||void 0===_state$track$user_fil?void 0:_state$track$user_fil.length)&&action.todo.user_file_id){var new_user_file_list=state.track.user_files.filter((function(e){return parseInt(e.id)!==parseInt(action.todo.user_file_id)}));return{track:Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),{},{user_files:new_user_file_list,todo_solution:action.todo.todo_solution}),end_chapter_survey_response_status:null,assignment_tasks:state.assignment_tasks,is_show_check_solution_timer:!0,user_details:state.user_details}}return state;case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.DELETE_USER_TODO_FILE_FAILURE:return Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state),{},{is_file_deleted_within:null===action||void 0===action?void 0:action.is_file_deleted_within});case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.START_TASK_SUCCESS:return{track:Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),{},{is_show_todo_modal:!1,user_module:[action.start_todo],assignment_remaining_time:action.start_todo.assignment_remaining_time}),end_chapter_survey_response_status:null,is_show_check_solution_timer:!0,assignment_tasks:state.assignment_tasks,user_details:state.user_details};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.FETCH_USER_TODO_SOLUTION_REQUEST:var current_todo_solution_request=state.track.todo_solution||{};return void 0===action.post_data.dir_path&&delete current_todo_solution_request.solution_content,{track:Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),{},{todo_solution:current_todo_solution_request}),end_chapter_survey_response_status:null,assignment_tasks:state.assignment_tasks,user_details:state.user_details};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.FETCH_USER_TODO_SOLUTION_SUCCESS:var current_todo_solution=state.track.todo_solution;if(current_todo_solution&&!current_todo_solution.solution_content)current_todo_solution.solution_content=action.todo_solution_content,current_todo_solution.active_solution_content=action.todo_solution_content.length>0?action.todo_solution_content[0].children:[],current_todo_solution.active_tab_index=0;else if(action.todo_solution_content.length>0){for(var _current_active_tab_index=parseInt(state.track.todo_solution.active_tab_index),content_keys_array=action.todo_solution_content[0].id.split("."),key_finder="current_todo_solution.solution_content",active_key_finder="current_todo_solution.active_solution_content",ctr=0;ctr<content_keys_array.length-1;ctr++)key_finder+="[".concat(content_keys_array[ctr],"].children");eval(key_finder+" = action.todo_solution_content"),eval(active_key_finder+" = current_todo_solution.solution_content[".concat(content_keys_array[0],"].children")),current_todo_solution.active_tab_index=parseInt(content_keys_array[0]),_current_active_tab_index!==parseInt(content_keys_array[0])&&void 0!==current_todo_solution.active_file_content&&(current_todo_solution.active_file_content.content=void 0)}return{track:Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),{},{todo_solution:current_todo_solution}),end_chapter_survey_response_status:null,assignment_tasks:state.assignment_tasks,user_details:state.user_details};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.FETCH_USER_TODO_SOLUTION_FAILURE:return state.track.todo_solution.is_failed_to_fetch_solution=action.is_failed_to_fetch_solution,state;case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.CHANGE_ACTIVE_TAB_CONTENT_REQUEST:var active_current_todo_solution=state.track.todo_solution,current_active_tab_index=parseInt(state.track.todo_solution.active_tab_index);return current_active_tab_index!==parseInt(action.id)&&void 0!==active_current_todo_solution.active_file_content&&(active_current_todo_solution.active_file_content.content=void 0),active_current_todo_solution.active_solution_content=action.todo_solution_content,active_current_todo_solution.active_tab_index=action.id,{track:Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),{},{todo_solution:active_current_todo_solution}),end_chapter_survey_response_status:null,assignment_tasks:state.assignment_tasks,user_details:state.user_details};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.FETCH_USER_TODO_SOLUTION_FILE_REQUEST:var current_todo_solution_file_object=state.track.todo_solution;return current_todo_solution_file_object.is_loading_file_content=!0,{track:Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),{},{todo_solution:current_todo_solution_file_object}),end_chapter_survey_response_status:null,assignment_tasks:state.assignment_tasks,user_details:state.user_details};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.FETCH_USER_TODO_SOLUTION_FILE_SUCCESS:var current_todo_solution_object=state.track.todo_solution;if(current_todo_solution_object.active_file_content=action.todo_solution_content,current_todo_solution_object.is_loading_file_content=void 0,void 0===action.todo_solution_content.is_image){for(var _content_keys_array=action.todo_solution_content.content_key_id.split("."),_key_finder="current_todo_solution_object.solution_content",_ctr=0;_ctr<_content_keys_array.length;_ctr++)_key_finder+=_ctr+1===_content_keys_array.length?"[".concat(_content_keys_array[_ctr],"].content"):"[".concat(_content_keys_array[_ctr],"].children");eval(_key_finder+" = action.todo_solution_content.content")}return{track:Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),{},{todo_solution:current_todo_solution_object}),end_chapter_survey_response_status:null,assignment_tasks:state.assignment_tasks,user_details:state.user_details};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.CHANGE_ACTIVE_FILE_CONTENT_REQUEST:var current_todo_solution_content_request_object=state.track.todo_solution;return current_todo_solution_content_request_object.active_file_content=action.active_file_data,{track:Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),{},{todo_solution:current_todo_solution_content_request_object}),end_chapter_survey_response_status:null,assignment_tasks:state.assignment_tasks,user_details:state.user_details};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.COMPLETE_LESSON_MODULE_DATA_REQUEST:return{lesson_module:action.lesson_module,track:Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),assignment_tasks:state.assignment_tasks,user_details:state.user_details,is_lesson_module_submitted:!0,disable_next_previous_button:!0};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.COMPLETE_LESSON_MODULE_DATA_SUCCESS:return{lesson_module:{message:action.error},track:Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),assignment_tasks:state.assignment_tasks,user_details:state.user_details,is_lesson_module_submitted:!1,disable_next_previous_button:!1};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.COMPLETE_LESSON_MODULE_DATA_FAILURE:return{lesson_module:{status:!1},track:Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),assignment_tasks:state.assignment_tasks,user_details:state.user_details,is_lesson_module_submitted:!1,disable_next_previous_button:!1};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.SUBMIT_ASSIGNMENT_TASK_SUCCESS:var assignment_remaining_time_value=!!state.track.is_admin_user||action.assignment_remaining_time;return{lesson_module:Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.lesson_module),track:Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),{},{assignment_remaining_time:assignment_remaining_time_value}),assignment_tasks:action.assignment_tasks,is_show_check_solution_timer:!0};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.CHANGE_PROPS_VALUE_REQUEST:return{track:Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),{},Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},action.modal_name,action.new_value)),end_chapter_survey_response_status:null,assignment_tasks:state.assignment_tasks,user_details:state.user_details};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.START_QUIZ_REQUEST:return Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state),{},{quiz_module:{},assignment_tasks:state.assignment_tasks,user_details:state.user_details});case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.START_QUIZ_SUCCESS:return state.quiz_module=action.quiz_details,state.quiz_module.current_index=0,state.quiz_module.questions=state.track.active_module.content.constructor===Object?state.track.active_module.content.data.questions:JSON.parse(state.track.active_module.content).data.questions,state.quiz_module.questions.map((function(e,t){e.is_active=0===t,e.choices.map((function(e){e.is_selected=!1}))})),state;case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.NAVIGATE_QUIZ_SUCCESS:return state.quiz_module=action.quiz_details,state.is_disable_see_result=action.is_disable_see_result,state;case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.COURSE_DETAILS_REQUEST:return Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state);case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.COURSE_DETAILS_SUCCESS:return state.tracks=action.course_details.tracks,state.active_track=action.course_details.active_track,state;case _config_constants__WEBPACK_IMPORTED_MODULE_2__.D.COURSE_DETAILS_FAILURE:return Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state);case _config_constants__WEBPACK_IMPORTED_MODULE_2__.qb.DOWNLOAD_GET_PRESIGNED_URL_REQUEST:return Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state),{},{assignment_file:null});case _config_constants__WEBPACK_IMPORTED_MODULE_2__.qb.DOWNLOAD_GET_PRESIGNED_URL_SUCCESS:return Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state),{},{assignment_file:action.assignment_file});case _config_constants__WEBPACK_IMPORTED_MODULE_2__.qb.DOWNLOAD_GET_PRESIGNED_URL_FAILURE:case _config_constants__WEBPACK_IMPORTED_MODULE_2__.qb.DOWNLOAD_GET_PRESIGNED_URL_RESET:return Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state),{},{assignment_file:null});default:return state}}},474:function(e,t,a){"use strict";var n=a(5),s=a(8),r=a(33),o=a(7),i=a(6),c=a(0),_=a.n(c),l=a(17),d=a(56),u=a(2),p=a(144),m=a(114),h=a(32),E=a(79),f=a(84),g=a(253),v=a(281),b=a(169),S=a(254),A=a(525),k=a(76),O=(a(549),function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).openBookmarksModal=function(){s.props.onAddActivityLog("3.12.12"),Object(u.W)(Object(r.a)(s),"is_show_bookmarks_modal",!0)},s.openDailyTipModal=function(){s.props.onAddActivityLog("3.13.12"),Object(u.W)(Object(r.a)(s),"is_show_daily_tip_modal",!0)},s.notificationPopover=function(){var e=s.props,t=e.notification,a=e.markNotificationsAsArchived,n=e.markNotificationsAsRead,r=e.fetchUserForumSummary,o=e.user_forum_summaries,i=e.resetUserForumSummaries,c=e.triggerAutoShowNoteFeedbacks,l=e.triggerShowExamFeedback,d=e.triggerShowAssignmentFeedback,u=t.notifications,p=t.is_empty_notification,m=t.notification_count,h=t.grouped_notifications,E=t.datetime_requested;return _.a.createElement(A.a,{id:"notification_popover",onClick:function(e){return e.nativeEvent.stopImmediatePropagation()}},_.a.createElement(S.a,{raw_notifications:u,is_empty_notification:p,notification_count:m,grouped_notifications:h,markNotificationsAsArchived:a,markNotificationsAsRead:n,notification_requested_datetime:E,fetchUserForumSummary:r,user_forum_summaries:o,resetUserForumSummaries:i,triggerAutoShowNoteFeedbacks:c,triggerShowExamFeedback:l,triggerShowAssignmentFeedback:d}))},s.state={is_show_bookmarks_modal:!1,is_show_daily_tip_modal:!1,is_show_report_issue_modal:!1},s}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return _.a.createElement("div",{id:"mobile_sub_navigation_container"},_.a.createElement("button",{type:"button",id:"bookmarks_btn",onClick:function(){return e.openBookmarksModal()}}," ",_.a.createElement("span",{className:"icon"})," Bookmarked Content"),_.a.createElement("button",{type:"button",id:"daily_news_btn",onClick:function(){return e.openDailyTipModal()}}," ",_.a.createElement("span",{className:"icon"})," Daily Tip"),_.a.createElement("button",{type:"button",id:"report_mistake_btn",onClick:function(){return Object(u.M)(e)}}," ",_.a.createElement("span",{className:"icon"})," Report"),_.a.createElement(k.a,{rootClose:!0,trigger:"click",placement:"top",overlay:this.notificationPopover()},_.a.createElement("button",{type:"button",id:"notification_btn"},_.a.createElement("span",{className:"icon"},!!this.props.notification.notification_count&&_.a.createElement("span",{className:"dot"})),"Notifications")),_.a.createElement("div",{className:"form-group"},_.a.createElement("span",{id:"dark_mode_icon",className:"icon"}),_.a.createElement("span",null,"Dark Mode"),_.a.createElement("input",{type:"checkbox",id:"switch_dark_mode_input",defaultChecked:this.props.is_dark_mode,onChange:function(t){return e.props.handleOnChangeDarkMode(t)}}),_.a.createElement("label",{htmlFor:"switch_dark_mode_input"})),_.a.createElement(g.a,{onRemoveBookmark:this.props.onRemoveBookmark,onAddBookmark:this.props.onAddBookmark,onAddActivityLog:this.props.onAddActivityLog,onUpdateUserSessionPage:this.props.onUpdateUserSessionPage,user_bookmarks:this.props.user_bookmarks,show:this.state.is_show_bookmarks_modal,user:this.props.user,toggleShowModal:function(){return Object(u.W)(e,"is_show_bookmarks_modal",!1)}}),_.a.createElement(v.a,{show:this.state.is_show_daily_tip_modal,toggleShowModal:function(){return Object(u.W)(e,"is_show_daily_tip_modal",!1)}}),_.a.createElement(b.a,{show:this.state.is_show_report_issue_modal,toggleShowModal:function(){return Object(u.W)(e,"is_show_report_issue_modal",!1)},modal_status:this.state.is_show_report_issue_modal,onAddActivityLog:this.props.onAddActivityLog}))}}]),a}(c.Component)),T=m.a.fetchUserForumSummary,C=m.a.resetUserForumSummaries,w=p.a.markNotificationsAsRead,y=p.a.markNotificationsAsArchived,R=h.a.triggerAutoShowNoteFeedbacks,D=E.a.triggerShowExamFeedback,U=f.a.triggerShowAssignmentFeedback,N=Object(u.J)(["exams","notification","user_forum_summaries"],{get_lp2_exam_link:d.a.get_lp2_exam_link,markNotificationsAsRead:w,markNotificationsAsArchived:y,fetchUserForumSummary:T,resetUserForumSummaries:C,triggerShowExamFeedback:D,triggerAutoShowNoteFeedbacks:R,triggerShowAssignmentFeedback:U}),I=N.mapStateToProps,P=N.mapDispatchToProps;t.a=Object(l.b)(I,P)(O)},475:function(e,t,a){"use strict";var n=a(15),s=a(4),r=a(11),o=a(5),i=a(8),c=a(7),_=a(6),l=a(0),d=a.n(l),u=a(17),p=a(46),m=a(2),h=(a(1),a(14)),E=(a(550),function(e){Object(c.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(o.a)(this,a);for(var i=arguments.length,c=new Array(i),_=0;_<i;_++)c[_]=arguments[_];return(e=t.call.apply(t,[this].concat(c))).state={inputs:[{name:"old_password",type:"password",error_message:"Incorrect Old Password",label:"Old Password",value:"",is_valid:!0},{name:"new_password",type:"password",error_message:"Password does not match",label:"New Password",value:"",is_valid:!0},{name:"confirm_password",type:"password",error_message:"Password does not match",label:"Confirm Password",value:"",is_valid:!0}]},e.handleInputChange=function(t,a){var n=Object(r.a)(e.state.inputs),o=n.indexOf(a);n[o]=Object(s.a)({},a),n[o].value=t.target.value,n[o].is_valid=!0,e.setState({inputs:n})},e.handleSubmitRetrieveForm=function(t){t.preventDefault();var a=Object(r.a)(e.state.inputs);if(a.map((function(e){return e.is_valid=""!==e.value,e.error_message=""===e.value?"Must be filled out":"",e})),a[1].value!==a[2].value){a[1].error_message="Password doesn\u2019t match";for(var s=1;s<a.length;s++)a[s].is_valid=!1}if(e.setState({inputs:a}),0===a.filter((function(e){return!1===e.is_valid})).length){var o=Object(n.a)(a,3),i=o[0],c=o[1],_=o[2],l=(e.props.location&&e.props.location.state||{from:{pathname:"/change_password"}}).from;e.props.resetPassword(i.value,c.value,_.value,l),e.props.onAddActivityLog("3.2.18")}},e.resetModalOnHide=function(){var t=Object(r.a)(e.state.inputs);t.map((function(e){e.is_valid=!0,e.value=""})),e.setState({inputs:t}),e.props.user.is_password_reset=!1,e.props.toggleShowModal(!1)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return d.a.createElement(h.a,{show:this.props.show,onHide:function(){return e.resetModalOnHide()},centered:!0,id:"reset_password_modal"},d.a.createElement(h.a.Header,null,d.a.createElement(h.a.Title,null,"Reset Your Password"),d.a.createElement("button",{onClick:function(){return e.resetModalOnHide()}},d.a.createElement("span",{className:"close_icon"}))),d.a.createElement(h.a.Body,null,this.props.user.is_password_reset?d.a.createElement("div",{id:"reset_password_success_container"},d.a.createElement("div",{className:"lock_icon is_locked"}),d.a.createElement("p",null,"Your password has been reset successfully!")):d.a.createElement("form",{action:"",id:"reset_password_form",onSubmit:this.handleSubmitRetrieveForm},this.state.inputs.map((function(t){var a="old_password"===t.name&&!e.props.user.is_current_password;return d.a.createElement("div",{className:"form-group ".concat(t.is_valid?"":"error"," ").concat(a?"error":""),key:t.name},d.a.createElement("label",{htmlFor:""},t.label),d.a.createElement("span",{className:"error_message"},a?"Wrong old password.":t.error_message),d.a.createElement("input",{type:t.type,name:t.name,className:"form-control",onChange:function(a){return e.handleInputChange(a,t)},value:t.value}))})),d.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Reset"))))}}]),a}(l.Component)),f=Object(m.J)(void 0,{resetPassword:p.a.resetPassword}),g=f.mapStateToProps,v=f.mapDispatchToProps;t.a=Object(u.b)(g,v)(E)},479:function(e,t,a){"use strict";var n=a(5),s=a(8),r=a(7),o=a(6),i=a(0),c=a.n(i),_=a(14),l=(a(392),function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement(_.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,className:"delete_forum_modal"},c.a.createElement(_.a.Header,null,c.a.createElement(_.a.Title,null,"You are about to delete this answer")),c.a.createElement(_.a.Body,null,c.a.createElement("p",null,"This answers will be permanently removed. Users won\u2019t be able to see them again after the deletion."),c.a.createElement("p",null,"Are you sure you want to delete this answer?")),c.a.createElement(_.a.Footer,null,c.a.createElement("form",{onSubmit:function(t){return e.props.onHandleDeleteAnswer(t)}},c.a.createElement("button",{type:"button",onClick:function(){return e.props.toggleShowModal(!1)}},"Cancel"),c.a.createElement("button",{type:"submit"},"Yes, Delete it"))))}}]),a}(i.Component));t.a=l},480:function(e,t,a){"use strict";var n=a(44),s=a.n(n),r=a(63),o=a(11),i=a(5),c=a(8),_=a(7),l=a(6),d=a(0),u=a.n(d),p=(a(9),a(14)),m=a(38),h=a(2),E=a(206),f=(a(769),a(293),a(1)),g=(a(770),function(e){Object(_.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=n.props.selected_question;if(void 0!==e){var t=Object(o.a)(n.state.post_type);t.map((function(t){t.is_active=t.label===e.post_type})),n.setState({question_title:e.title,question_description:e.description,old_question_description:e.description,post_type:t})}},n.componentWillUnmount=Object(r.a)(s.a.mark((function e(){var t,a,r,o,i,c,_;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.uploaded_attachments,r=t.deleteAttachedFiles,o=n.state,i=o.old_question_description,c=o.final_comment_description,e.next=4,Object(h.p)(i,a,c);case 4:(_=e.sent).length>0&&r({file_url:_});case 6:case"end":return e.stop()}}),e)}))),n.componentDidUpdate=function(){var e=Object(r.a)(s.a.mark((function e(t){var a,r,i,c,_,l,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.props,r=a.is_uploading,i=a.user_details,c=n.state,_=c.to_upload_attachment,l=c.uploaded_base64_images,!_||!1!==r){e.next=8;break}return e.next=5,Object(h.l)(_);case 5:d=e.sent,n.props.uploadImageToS3({file:d,user_id:i.id}),n.setState({to_upload_attachment:null,uploaded_base64_images:[].concat(Object(o.a)(l),[_])});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.resetModalOnHide=function(){n.props.toggleShowModal(!1),n.setState({question_title:"",question_description:"",uploaded_base64_images:[],uploaded_attachments:[]})},n.handleChangePostType=function(e){var t=Object(o.a)(n.state.post_type);t.map((function(t){t.is_active=t.id===e})),n.setState({post_type:t})},n.handleSubmitForm=function(){var e=Object(r.a)(s.a.mark((function e(t,a){var r,o,i,c,_;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Object(h.H)([a.question_description,a.question_title]);case 3:if(e.sent){e.next=14;break}return r=n.props.uploaded_attachments,o=n.state.uploaded_base64_images,e.next=9,Object(h.K)({uploaded_attachments:r,uploaded_base64_images:o},a.question_description,a.question_title);case 9:i=e.sent,c=i.comment_description,_=i.total_character_length,a.question_description=c,_<=f.db.STRING.text?(void 0!==n.props.selected_question?n.props.onHandleUpdateQuestion(a):n.props.onHandleCreateNewQuestion(a),n.setState({uploaded_base64_images:[],is_max_char_length:!1,final_comment_description:c}),n.props.toggleShowModal(!1)):n.setState({is_max_char_length:!0});case 14:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.onChangeListener=function(){var e=Object(r.a)(s.a.mark((function e(t){var a,r,o,i,c,_,l,d,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.state,r=a.uploaded_base64_images,o=a.question_description,t===o){e.next=11;break}return e.next=4,Object(h.L)({html_string:t,uploaded_base64_images:r});case 4:i=e.sent,c=i.new_html_string,_=i.to_upload_attachment,l=i.base64_images,d=i.is_file_too_large,u=i.is_not_image,n.setState({question_description:c,to_upload_attachment:_,uploaded_base64_images:l,is_file_too_large:d,is_not_image:u});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={question_title:"",question_description:"",post_type:[{id:0,label:"public",is_active:!0},{id:1,label:"anonymous",is_active:!1}],is_uploading:!1,to_upload_attachment:null,uploaded_base64_images:[],is_file_too_large:!1,is_max_char_length:!1,old_question_description:null,final_comment_description:""},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.post_type,n=t.question_title,s=t.question_description,r=t.is_file_too_large,o=t.is_max_char_length,i=this.props,c=i.user_details,_=i.selected_question,l=i.is_uploading,d=a.filter((function(e){return e.is_active}))[0],f=void 0!==_,g=Object(h.H)([s,n])||l;return u.a.createElement(p.a,{show:this.props.show,onHide:function(){return e.resetModalOnHide()},centered:!0,id:"ask_forum_question_modal"},u.a.createElement(p.a.Header,null,u.a.createElement(p.a.Title,null,f?"Update":"Ask"," Question"),u.a.createElement("button",{onClick:function(){return e.props.toggleShowModal(!1)}},u.a.createElement("span",{class:"close_icon"}))),u.a.createElement(p.a.Body,null,u.a.createElement("div",{id:"best_practices_container"},u.a.createElement("h5",null,"Best Practices to ask a good question"),u.a.createElement("ul",null,u.a.createElement("li",null,"Share a code snippet of the piece of code where you're experiencing the error.",u.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/code_snippet_img.png",alt:"Share a Code Snippet"})),u.a.createElement("li",null,"What is the expected behavior?"),u.a.createElement("li",null,"What is the existing behavior?"),u.a.createElement("li",null,"What steps have you taken to solve?"))),u.a.createElement("form",{action:"",onSubmit:function(t){return e.handleSubmitForm(t,{question_title:n,question_description:s,active_post_type:d})}},u.a.createElement("div",{className:"form_head_container"},u.a.createElement("p",null,u.a.createElement("img",{src:(null===c||void 0===c?void 0:c.image_url)?c.image_url:"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:c.first_name+" "+c.last_name.charAt(0)+"."}),c.first_name+" "+c.last_name.charAt(0)+"."," asked"),u.a.createElement(m.a,{className:"forum_post_type_dropdown"},u.a.createElement(m.a.Toggle,{variant:"default"},this.props.onRenderPostTypeIcon(d.id),d.label,u.a.createElement("i",{className:"arrow_down"})),u.a.createElement(m.a.Menu,null,a.map((function(t){return u.a.createElement(m.a.Item,{key:t.id,as:"button",type:"button",className:"".concat(t.is_active?"active":""),onClick:function(){return e.handleChangePostType(t.id)}},t.label)}))))),u.a.createElement("input",{type:"text",value:n,onChange:function(t){return e.setState({question_title:t.target.value})},placeholder:"Type your question here."}),u.a.createElement(E.a,{placeholder:"Include context, code snippet, picture, or link.",value:s,updateDescription:function(t){return e.onChangeListener(t)}}),u.a.createElement("div",{className:"warning_msg"},o&&u.a.createElement("p",null,"Maximum characters reached"),r&&u.a.createElement("p",null,"File is > 20 MB")),u.a.createElement("div",{className:"button_container"},u.a.createElement("button",{type:"button",onClick:function(){return e.props.toggleShowModal(!1)}},"Cancel"),u.a.createElement("button",{type:"submit",className:"".concat(g?"disabled":"")},f?"Update":"Ask"," Question")))))}}]),a}(d.Component));t.a=g},481:function(e,t,a){"use strict";var n=a(5),s=a(8),r=a(7),o=a(6),i=a(0),c=a.n(i),_=a(14),l=(a(392),function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement(_.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,className:"delete_forum_modal"},c.a.createElement(_.a.Header,null,c.a.createElement(_.a.Title,null,"You are about to delete this question")),c.a.createElement(_.a.Body,null,c.a.createElement("p",null,"The quesion and all of its answers will be permanently removed. Users won\u2019t be able to see them again after the deletion."),c.a.createElement("p",null,"Are you sure you want to delete the question?")),c.a.createElement(_.a.Footer,null,c.a.createElement("form",{onSubmit:function(t){return e.props.onHandleDeleteQuestion(t)}},c.a.createElement("button",{type:"button",onClick:function(){return e.props.toggleShowModal(!1)}},"Cancel"),c.a.createElement("button",{type:"submit"},"Yes, Delete it"))))}}]),a}(i.Component));t.a=l},482:function(module,__webpack_exports__,__webpack_require__){"use strict";var _var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(44),_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11),_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(63),_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5),_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8),_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),_config_constants__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(9),react_bootstrap__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(76),react_bootstrap__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(90),react_bootstrap__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(38),moment__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(12),moment__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_13__),interweave__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(349),react_redux__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(17),_helpers_helpers__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2),_actions_forum_actions__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(89),_assignment_quill_editor_component__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(206),_global_components_profile_popover_component__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(140),_modals_forum_image_modal__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(483),_assignment_forum_question_component_scss__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(1177),_assignment_forum_question_component_scss__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(_assignment_forum_question_component_scss__WEBPACK_IMPORTED_MODULE_21__),_assets_images_courses_no_question_placeholder_png__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(269),_assets_images_courses_no_question_placeholder_png__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(_assets_images_courses_no_question_placeholder_png__WEBPACK_IMPORTED_MODULE_22__),AssignmentForumQuestion=function(_Component){Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__.a)(AssignmentForumQuestion,_Component);var _super=Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_6__.a)(AssignmentForumQuestion);function AssignmentForumQuestion(e){var t;Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__.a)(this,AssignmentForumQuestion),(t=_super.call(this,e)).componentDidMount=function(){var e=t.props,a=e.pathParams,n=e.forum,s=t.getActiveQuestionId();t.autoMarkAsRead(),n.new_question_id||t.props.fetchAnswerComments({question_id:s,chapter_module_id:a.module_id}),window.scrollTo({top:document.querySelector("#assignment_forum_container").offsetTop-30,behavior:"smooth"})},t.componentWillUnmount=function(){t.props.resetForumAnswerComments()},t.componentDidUpdate=function(){var e=Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function e(a,n){var s,r,o,i,c,_,l,d,u,p;return _var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.props,r=s.is_uploading,o=s.user_details,i=s.deleteAttachedFiles,c=t.state,_=c.to_upload_attachment,l=c.uploaded_base64_images,d=c.unused_attachments,u=t.getActiveQuestionId(),void 0!==n.question&&n.question.comment_id!==u&&t.setState({question:t.props.forum.forum_assignment_questions.filter((function(e){return e.comment_id===u}))[0]}),!_||!1!==r){e.next=10;break}return e.next=7,Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_16__.l)(_);case 7:p=e.sent,t.props.uploadImageToS3({file:p,user_id:o.id}),t.setState({to_upload_attachment:null,uploaded_base64_images:[].concat(Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__.a)(l),[_])});case 10:(null===d||void 0===d?void 0:d.length)>0&&(i({file_url:d}),t.setState({unused_attachments:[]}));case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),t.getActiveQuestionId=function(){var e=document.URL.split("/");return Number(e[e.length-1].split("?")[0])},t.showMoreAnswers=function(){t.setState({default_showed_answers_count:t.state.default_showed_answers_count+5})},t.copyQuestionLinkToClipboard=function(){t.setState({is_show_share_question_tooltip:!0},(function(){var e=document.createElement("textarea");e.value=window.location.href,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),setTimeout((function(){t.setState({is_show_share_question_tooltip:!1})}),1e3)}))},t.handleChangePostType=function(e){var a=Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__.a)(t.state.post_type);a.map((function(t){t.is_active=t.id===e})),t.setState({post_type:a})},t.handleCreateNewAnswer=function(){var e=Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function e(a,n){var s,r,o,i,c,_,l,d;return _var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),s=t.props,r=s.uploaded_attachments,o=s.deleteAttachedFiles,i=t.state.uploaded_base64_images,e.next=5,Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_16__.K)({uploaded_attachments:r,uploaded_base64_images:i},n.answer_description);case 5:c=e.sent,_=c.comment_description,l=c.total_character_length,d=c.unused_attachments,n.answer_description=_,l<=_config_constants__WEBPACK_IMPORTED_MODULE_8__.db.STRING.text?(d.length>0&&o({file_url:d}),t.props.onHandleCreateNewAnswer(n),t.setState({uploaded_base64_images:[],is_max_char_length:!1}),t.hideAnswerForm()):t.setState({is_max_char_length:!0});case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),t.hideAnswerForm=function(){t.setState({is_show_answer_form:!1,answer_description:""})},t.viewMyAnswer=function(){var e=t.props.forum.forum_assignment_answers.filter((function(e){return e.author_details.user_id===t.props.user_details.id}))[0].comment_id;t.setState({default_showed_answers_count:t.props.forum.forum_assignment_answers.length},(function(){window.scrollTo({top:document.querySelector("#answers_list li[data-answer-id='"+e+"']").offsetTop-30,behavior:"smooth"}),t.showFullAnswerDescription(e)}))},t.showAnswerEditor=function(e,a){var n,s=Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__.a)(t.state.post_type),r=[];s.map((function(e){e.is_active=e.label===a.post_type})),(null===(n=t.props.forum.uploaded_attachments)||void 0===n?void 0:n.length)>0&&(r=t.props.forum.uploaded_attachments),t.setState({answer_description:a.description,post_type:s,original_answer_description:a.description,unused_attachments:r}),t.props.onToggleShowAnswerEditor(e,a.comment_id)},t.submitUpdateAnswer=function(){var e=Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function e(a,n,s){var r,o,i,c,_,l,d,u,p,m;return _var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r=t.props,o=r.uploaded_attachments,i=r.deleteAttachedFiles,c=t.state,_=c.uploaded_base64_images,l=c.original_answer_description,e.next=5,Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_16__.K)({uploaded_attachments:o,uploaded_base64_images:_},s.answer_description);case 5:d=e.sent,u=d.comment_description,p=d.total_character_length,m=d.unused_attachments,s.answer_description=u,p<=_config_constants__WEBPACK_IMPORTED_MODULE_8__.db.STRING.text?((l.match(t.comment_image_regex)||[]).map((function(e){var t=e.replace(/"/g,"");s.answer_description.includes(t)||m.push(t)})),m.length>0&&i({file_url:m}),t.props.updateCommentRecord({comment_id:n,description:s.answer_description,post_type:s.active_post_type.label,user_details:t.state.user_details})):t.setState({is_max_char_length:!0}),t.setState({uploaded_base64_images:[],unused_attachments:[]});case 12:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),t.showFullAnswerDescription=function(e){var a=Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__.a)(t.props.forum.forum_assignment_answers);a.map((function(t){t.comment_id===e&&(t.is_show_full_description=!0)})),t.setState({forum_assignment_answers:a})},t.onChangeListener=function(){var e=Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function e(a){var n,s,r,o,i,c,_,l,d;return _var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,s=n.uploaded_base64_images,r=n.answer_description,a===r){e.next=11;break}return e.next=4,Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_16__.L)({html_string:a,uploaded_base64_images:s});case 4:o=e.sent,i=o.new_html_string,c=o.to_upload_attachment,_=o.base64_images,l=o.is_file_too_large,d=o.is_not_image,t.setState({answer_description:i,to_upload_attachment:c,uploaded_base64_images:_,is_file_too_large:l,is_not_image:d,is_max_char_length:!1});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.autoMarkAsRead=function(){var e=t.getActiveQuestionId(),a=t.props,n=a.notification_count,s=a.raw_notifications;n>0&&s.map((function(a){a.parent_comment_id===e&&a.notification_type_id===_config_constants__WEBPACK_IMPORTED_MODULE_8__.hb.QUESTION&&a.is_read===_config_constants__WEBPACK_IMPORTED_MODULE_8__.P&&t.props.markNotificationAsRead({notification_id:[a.id]})}))},t.showQuillImage=function(e){"IMG"===e.target.tagName&&e.target.src&&t.setState({is_show_forum_image_modal:!0,forum_image_src:e.target.src})},t.getCommentVisualLength=function(e){var a=0,n=0;if(e){var s,r,o,i=e;a+=(null===(s=i.match(/&.*?;/gm))||void 0===s?void 0:s.length)||0,a+=(null===(r=i.match(/<li>|<br>|<p>|<pre>/gm))||void 0===r?void 0:r.length)||0,n=(null===(o=i.replace(/<.*?>|&.*?;/gm,""))||void 0===o?void 0:o.length)+a}return{actual_length:null===e||void 0===e?void 0:e.length,visual_length:n,collapsed_html_string:null===e||void 0===e?void 0:e.substr(0,t.maximum_answer_characters)}},t.state={is_show_share_question_tooltip:!1,is_show_answer_form:!1,answer_description:"",default_showed_answers_count:5,post_type:[{id:0,label:"public",is_active:!0},{id:1,label:"anonymous",is_active:!1}],question:void 0,forum_assignment_answers:[],is_uploading:!1,to_upload_attachment:null,uploaded_base64_images:[],is_file_too_large:!1,is_show_forum_image_modal:!1,forum_image_src:null,original_answer_description:"",is_max_char_length:!1,unused_attachments:[]},t.comment_image_regex=/"https?:\/\/cd-student-files.+?"/g,t.maximum_answer_characters=420;var a=Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_16__.y)();return!0===a.status&&(t.state.user_details=a.user_details.general),t}return Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(AssignmentForumQuestion,[{key:"render",value:function render(){var _this2=this,_this$props6=this.props,votePost=_this$props6.votePost,forum=_this$props6.forum,is_uploading=_this$props6.is_uploading,determineAuthorType=_this$props6.determineAuthorType,uploaded_attachments=_this$props6.uploaded_attachments,_this$state4=this.state,default_showed_answers_count=_this$state4.default_showed_answers_count,post_type=_this$state4.post_type,is_show_share_question_tooltip=_this$state4.is_show_share_question_tooltip,is_show_answer_form=_this$state4.is_show_answer_form,answer_description=_this$state4.answer_description,is_max_char_length=_this$state4.is_max_char_length,is_file_too_large=_this$state4.is_file_too_large,user_details=_this$state4.user_details,active_post_type=post_type.filter((function(e){return e.is_active}))[0],active_question_id=this.getActiveQuestionId(),question=forum.forum_assignment_questions.filter((function(e){return e.comment_id===active_question_id}))[0],answers=forum.forum_assignment_answers,is_admin=_config_constants__WEBPACK_IMPORTED_MODULE_8__.d.includes(user_details.user_level_id),is_not_allowed_to_post=Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_16__.H)([answer_description])||is_max_char_length||is_uploading,current_answer="";if(question){var is_question_owner=question.author_details.user_id===user_details.id,url_parameter=new URLSearchParams(window.location.search),step=eval(url_parameter.get("step"));return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{id:"assignment_forum_question_container"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"user_details"},"anonymous"!==question.post_type&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a,Object.assign({},step?{show:5===step}:null,{trigger:["hover","hover"],placement:5===step?"right":"auto",overlay:react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_global_components_profile_popover_component__WEBPACK_IMPORTED_MODULE_19__.a,{person_details:question.author_details,determineAuthorType:this.props.determineAuthorType,fetchUserForumSummary:this.props.fetchUserForumSummary,resetUserForumSummaries:this.props.resetUserForumSummaries,user_forum_summaries:this.props.user_forum_summaries})}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"normal_details"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("img",{src:question.author_details.profile_img_url?question.author_details.profile_img_url:"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:"".concat(question.author_details.first_name," ").concat(question.author_details.last_name[0])}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{className:"user_type ".concat(determineAuthorType(question.author_details.type))},_config_constants__WEBPACK_IMPORTED_MODULE_8__.d.includes(question.author_details.type)?"instructor":"student"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{className:"user_name sss"},"".concat(question.author_details.first_name," ").concat(question.author_details.last_name[0]),"."))),"anonymous"===question.post_type&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"anonymous"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:"Anonymous User"}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{className:"user_type anonymous"},"Anonymous User")),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{className:"date_posted"},"asked ",Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_16__.s)(question.date_posted),void 0!==question.is_edited&&question.is_edited?" (Edited)":null)),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"voting_container"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a,{overlay:react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__.a,{className:"forum_tooltip"},is_question_owner?"You can't up vote your question":"This question is useful")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",onClick:function(){return!is_question_owner&&votePost(question.comment_id,_config_constants__WEBPACK_IMPORTED_MODULE_8__.Wb.up_vote)},className:"up_vote_btn ".concat(question.vote_state!=_config_constants__WEBPACK_IMPORTED_MODULE_8__.Db||is_question_owner?"":"selected")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__.a,{icon:["fas","chevron-up"]}))),_config_constants__WEBPACK_IMPORTED_MODULE_8__.T?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,!_config_constants__WEBPACK_IMPORTED_MODULE_8__.U&&question.cache_downvotes_count>question.cache_upvotes_count?_config_constants__WEBPACK_IMPORTED_MODULE_8__.dc:question.cache_upvotes_count-question.cache_downvotes_count):react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,question.cache_upvotes_count),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a,{overlay:react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__.a,{className:"forum_tooltip"},is_question_owner?"You can't down vote your question":"This question is not useful")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",onClick:function(){return!is_question_owner&&votePost(question.comment_id,_config_constants__WEBPACK_IMPORTED_MODULE_8__.Wb.down_vote)},className:"\n                                        down_vote_btn \n                                        ".concat(question.vote_state===_config_constants__WEBPACK_IMPORTED_MODULE_8__.P?"selected":"","\n                                        ").concat(question.cache_upvotes_count-question.cache_downvotes_count<=_config_constants__WEBPACK_IMPORTED_MODULE_8__.P&&!question.vote_state===_config_constants__WEBPACK_IMPORTED_MODULE_8__.P?"disabled":"","\n                                    ")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__.a,{icon:["fas","chevron-down"]})))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"post_container"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("h5",null,question.title),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"post_description",dangerouslySetInnerHTML:{__html:question.description},onClick:function(e){return _this2.showQuillImage(e)}}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"menu_container"},question.author_details.user_id===user_details.id&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",className:"edit_btn",onClick:function(){return _this2.props.onShowUpdateQuestionModal(question)}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("i",{className:"btn_icon"}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,"Edit Question")),answers&&answers.filter((function(e){return e.author_details.user_id===user_details.id})).length>0?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",className:"view_answer_btn",onClick:function(){return _this2.viewMyAnswer()}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("i",{className:"btn_icon"}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,"View My Answer")):react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",className:"answer_btn",onClick:function(){return _this2.setState({is_show_answer_form:!is_show_answer_form,answer_description:""})}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("i",{className:"btn_icon"}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,"Answer")),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a,{placement:"right",show:is_show_share_question_tooltip,overlay:react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__.a,{id:"share_question_tooltip"},"Question link copied to clipboard")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",className:"share_btn",onClick:function(){return _this2.copyQuestionLinkToClipboard()}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("i",{className:"btn_icon"}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,"Share"))),(question.author_details.user_id===user_details.id||_config_constants__WEBPACK_IMPORTED_MODULE_8__.d.indexOf(user_details.user_level_id)>-1)&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",className:"delete_btn",onClick:function(){return _this2.props.onShowDeleteModal(!0,question.comment_id)}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("i",{className:"btn_icon"}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,"Delete Question"))),is_show_answer_form&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("form",{onSubmit:function(e){return _this2.handleCreateNewAnswer(e,{question:question,answer_description:answer_description,active_post_type:active_post_type})}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"form_head_container"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("img",{src:(null===user_details||void 0===user_details?void 0:user_details.image_url)?user_details.image_url:"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:user_details.first_name+" "+user_details.last_name.charAt(0)+"."})," ",user_details.first_name+" "+user_details.last_name.charAt(0)+"."," answered"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_12__.a,{className:"forum_post_type_dropdown"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_12__.a.Toggle,{variant:"default"},this.props.onRenderPostTypeIcon(active_post_type.id),active_post_type.label,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("i",{className:"arrow_down"})),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_12__.a.Menu,null,post_type.map((function(e){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_12__.a.Item,{key:e.id,as:"button",type:"button",className:"".concat(e.is_active?"active":""),onClick:function(){return _this2.handleChangePostType(e.id)}},e.label)}))))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_assignment_quill_editor_component__WEBPACK_IMPORTED_MODULE_18__.a,{placeholder:"Write your answer here",value:answer_description,updateDescription:function(e){return _this2.onChangeListener(e)}}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"warning_msg"},is_max_char_length&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"Maximum characters reached"),is_file_too_large&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"File is > 20 MB")),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"button_container"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",onClick:function(){return _this2.setState({is_show_answer_form:!1,answer_description:"",unused_attachments:uploaded_attachments,uploaded_base64_images:[]})}},"Cancel"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"submit",className:"".concat(is_not_allowed_to_post?"disabled":"")},"Post"))))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{id:"forum_question_answers_container"},0===answers.length?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"no_question_available_container"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("img",{src:_assets_images_courses_no_question_placeholder_png__WEBPACK_IMPORTED_MODULE_22___default.a,alt:"There is no answer to this question yet!"}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"There is no answer to this question yet!"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",onClick:function(){return _this2.setState({is_show_answer_form:!0,answer_description:""})}},"Be The First To Answer")):react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,answers.length)," ","Answer".concat(answers.length>1?"s ranked by top votes":"")),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("ul",{id:"answers_list"},answers.slice(0,default_showed_answers_count).map((function(e){var t;return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("li",{key:e.comment_id,"data-answer-id":e.comment_id},e.is_show_editor?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("form",{onSubmit:function(t){return _this2.submitUpdateAnswer(t,e.comment_id,{answer_description:answer_description,active_post_type:active_post_type})}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"form_head_container"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("img",{src:(null===(t=e.author_details)||void 0===t?void 0:t.profile_img_url)?e.author_details.profile_img_url:"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:e.author_details.name}),e.author_details.name," answered"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_12__.a,{className:"forum_post_type_dropdown"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_12__.a.Toggle,{variant:"default"},_this2.props.onRenderPostTypeIcon(active_post_type.id),active_post_type.label,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("i",{className:"arrow_down"})),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_12__.a.Menu,null,post_type.map((function(e){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_12__.a.Item,{key:e.id,as:"button",type:"button",className:"".concat(e.is_active?"active":""),onClick:function(){return _this2.handleChangePostType(e.id)}},e.label)}))))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_assignment_quill_editor_component__WEBPACK_IMPORTED_MODULE_18__.a,{placeholder:"Write your answer here",value:answer_description,updateDescription:function(e){return _this2.onChangeListener(e)}}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"warning_msg"},is_max_char_length&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"Maximum characters reached"),is_file_too_large&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"File is > 20 MB")),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"button_container"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",onClick:function(){return _this2.showAnswerEditor(!1,e)}},"Cancel"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"submit",className:"".concat(is_not_allowed_to_post?"disabled":"")},"Save"))):react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"user_details"},"anonymous"!==e.post_type&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a,{trigger:["hover","hover"],placement:"auto",overlay:react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_global_components_profile_popover_component__WEBPACK_IMPORTED_MODULE_19__.a,{person_details:e.author_details,determineAuthorType:_this2.props.determineAuthorType,fetchUserForumSummary:_this2.props.fetchUserForumSummary,resetUserForumSummaries:_this2.props.resetUserForumSummaries,user_forum_summaries:_this2.props.user_forum_summaries})},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"normal_details"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("img",{src:e.author_details.profile_img_url?e.author_details.profile_img_url:"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:e.author_details.name}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{className:"user_type ".concat(determineAuthorType(e.author_details.type))},determineAuthorType(e.author_details.type)),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{className:"user_name "},e.author_details.first_name," ",e.author_details.last_name[0],"."))),"anonymous"===e.post_type&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"anonymous"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:"Anonymous"}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{className:"user_type anonymous"},"Anonymous User")),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{className:"date_posted"},"answered ",Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_16__.s)(e.date_posted)),e.is_edited?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{className:"is_edited_label"},"(Edited)"):null),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"voting_container"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a,{overlay:react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__.a,{className:"forum_tooltip"}," ",e.author_details.user_id===user_details.id?"You can't up vote your answer":"This answer is useful")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",onClick:function(){return e.author_details.user_id!==user_details.id&&votePost(e.comment_id,_config_constants__WEBPACK_IMPORTED_MODULE_8__.Wb.up_vote)},className:"up_vote_btn ".concat(e.author_details.user_id!==user_details.id&&e.vote_state===_config_constants__WEBPACK_IMPORTED_MODULE_8__.Db?"selected":"")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__.a,{icon:["fas","chevron-up"]}))),_config_constants__WEBPACK_IMPORTED_MODULE_8__.T?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,!_config_constants__WEBPACK_IMPORTED_MODULE_8__.U&&e.cache_downvotes_count>e.cache_upvotes_count?_config_constants__WEBPACK_IMPORTED_MODULE_8__.dc:e.cache_upvotes_count-e.cache_downvotes_count):react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,e.cache_upvotes_count),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a,{overlay:react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__.a,{className:"forum_tooltip"},e.author_details.user_id===user_details.id?"You can't down vote your answer":"This answer is not useful")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",onClick:function(){return e.author_details.user_id!==user_details.id&&votePost(e.comment_id,_config_constants__WEBPACK_IMPORTED_MODULE_8__.Wb.down_vote)},className:"\n                                                                        down_vote_btn \n                                                                        ".concat(e.vote_state===_config_constants__WEBPACK_IMPORTED_MODULE_8__.P?"selected":"","\n                                                                        ").concat(question.cache_upvotes_count-question.cache_downvotes_count<=_config_constants__WEBPACK_IMPORTED_MODULE_8__.P&&!e.vote_state===_config_constants__WEBPACK_IMPORTED_MODULE_8__.P?"disabled":"","\n                                                                    ")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__.a,{icon:["fas","chevron-down"]})))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"post_container"},(current_answer=_this2.getCommentVisualLength(e.description),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"post_description",onClick:function(e){return _this2.showQuillImage(e)}},current_answer.visual_length<_this2.maximum_answer_characters||e.is_show_full_description?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",{className:"answer_description"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(interweave__WEBPACK_IMPORTED_MODULE_14__.a,{content:e.description})):react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",{className:"answer_description"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(interweave__WEBPACK_IMPORTED_MODULE_14__.a,{content:current_answer.collapsed_html_string}),"...(",react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{className:"show_full_answer_description_btn",onClick:function(){return _this2.showFullAnswerDescription(e.comment_id)},type:"button"},"More"),")"))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"menu_container"},e.author_details.user_id===user_details.id&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",className:"edit_btn",onClick:function(){return _this2.showAnswerEditor(!0,e)}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("i",{className:"btn_icon"}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,"Edit")),(e.author_details.user_id===user_details.id||is_admin)&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",className:"delete_btn ".concat(is_admin&&e.author_details.user_id!==user_details.id?"is_admin_btn":""),onClick:function(){return _this2.props.onShowDeleteModal(!1,e.comment_id)}},is_admin&&e.author_details.user_id!==user_details.id?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a,{overlay:react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__.a,{className:"forum_tooltip"},"Delete this answer")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("i",{className:"btn_icon"})):react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("i",{className:"btn_icon"}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,"Delete")),is_admin||e.is_answer_endorsed?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",Object.assign({disabled:!is_admin,type:"button",className:"endorse_btn \n                                                                                ".concat(e.is_answer_endorsed?"answer_endorsed":""," \n                                                                                ").concat(is_admin?"is_admin_btn":"","\n                                                                                ").concat(question.author_details.user_id===user_details.id||e.author_details.user_id===user_details.id?"is_owner_btn":"","\n                                                                            ")},is_admin&&{onClick:function(){return _this2.props.onToggleEndorseAnswer(question.comment_id,e.comment_id)}}),is_admin?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a,{overlay:react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__.a,{className:"forum_tooltip"},e.is_answer_endorsed?"Unendorse":"Endorse"," this answer")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("i",{className:"btn_icon"})):react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("i",{className:"btn_icon"}),e.endorsed_by?e.endorsed_by.user_id===user_details.id?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"You endorsed this answer"):react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"Answer endorsed by ",react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,e.endorsed_by.name)):null):null))))}))),answers.length-default_showed_answers_count>0&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",onClick:function(){return _this2.showMoreAnswers()}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__.a,{icon:["fas","chevron-down"]}),"View ",answers.length-default_showed_answers_count<5?answers.length-default_showed_answers_count:5," More Answers"))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_modals_forum_image_modal__WEBPACK_IMPORTED_MODULE_20__.a,{show:this.state.is_show_forum_image_modal,forum_image_src:this.state.forum_image_src,toggleShowModal:function(){return Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_16__.W)(_this2,"is_show_forum_image_modal",!1)}}))}return!1}}]),AssignmentForumQuestion}(react__WEBPACK_IMPORTED_MODULE_7__.Component),fetchAnswerComments=_actions_forum_actions__WEBPACK_IMPORTED_MODULE_17__.a.fetchAnswerComments,updateCommentRecord=_actions_forum_actions__WEBPACK_IMPORTED_MODULE_17__.a.updateCommentRecord,resetForumAnswerComments=_actions_forum_actions__WEBPACK_IMPORTED_MODULE_17__.a.resetForumAnswerComments,_mapAnddispatchAction=Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_16__.J)(["forum"],{fetchAnswerComments:fetchAnswerComments,updateCommentRecord:updateCommentRecord,resetForumAnswerComments:resetForumAnswerComments}),mapStateToProps=_mapAnddispatchAction.mapStateToProps,mapDispatchToProps=_mapAnddispatchAction.mapDispatchToProps;__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_15__.b)(mapStateToProps,mapDispatchToProps)(AssignmentForumQuestion)},483:function(e,t,a){"use strict";var n=a(5),s=a(8),r=a(7),o=a(6),i=a(0),c=a.n(i),_=a(14),l=(a(1176),function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement(_.a,{id:"forum_image_modal",show:this.props.show,centered:!0,onHide:function(){return e.props.toggleShowModal(!1)}},c.a.createElement(_.a.Header,null,c.a.createElement("button",{onClick:function(){return e.props.toggleShowModal(!1)}},c.a.createElement("span",{className:"close_icon"}))),c.a.createElement(_.a.Body,null,c.a.createElement("img",{src:this.props.forum_image_src,alt:"Forum Image"})))}}]),a}(i.Component));t.a=l},485:function(module,__webpack_exports__,__webpack_require__){"use strict";var _var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),react_redux__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(17),intro_js_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(273),intro_js_react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(intro_js_react__WEBPACK_IMPORTED_MODULE_6__),_helpers_helpers__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),_actions_user_actions__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(46),intro_js_introjs_css__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(439),intro_js_introjs_css__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(intro_js_introjs_css__WEBPACK_IMPORTED_MODULE_9__),_product_tour_component_scss__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(440),_product_tour_component_scss__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_product_tour_component_scss__WEBPACK_IMPORTED_MODULE_10__),ProductTourComponent=function(_Component){Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__.a)(ProductTourComponent,_Component);var _super=Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__.a)(ProductTourComponent);function ProductTourComponent(props){var _this;return Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,ProductTourComponent),_this=_super.call(this,props),_this.onStepsBeforeChange=function(e){var t=_this.props.history.location.pathname;return(6!==e&&4!==e||"/courses"===t)&&((3!==e||"/dashboard"===t)&&((7!==e&&8!==e||"/m/1/4635/13614"===t)&&((9!==e||"/m/1/4635/20395"===t)&&void 0)))},_this.onStepsPreventChange=function(e){var t=_this.props.history.location;4===e&&"/dashboard"!==t.pathname?window.location.href="/dashboard?multipage=true":3!==e&&7!==e||"/courses"===t.pathname?6!==e&&9!==e||"/m/1/4635/13614"===t.pathname?8===e&&"/m/1/4635/20395"!==t.pathname&&(window.location.href="/m/1/4635/20395?multipage=true"):window.location.href="/m/1/4635/13614?multipage=true":window.location.href="/courses?multipage=true"},_this.onExit=function(){_this.setState({is_enable:!1}),_this.props.finish_platform_walkthrough()},_this.componentDidMount=function(){var pathname=_this.props.history.location.pathname,url_parameter=new URLSearchParams(window.location.search),is_multipage=eval(url_parameter.get("multipage")),get_user_details=Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_7__.y)();!1!==get_user_details.status||-1!==window.location.pathname.indexOf("/autologin")||["/login","/learn_autologin","/t/signup","/t/signin"].includes(window.location.pathname)?!0===get_user_details.status&&(!0===get_user_details.user_details.is_show_platform_demo?localStorage.setItem("is_platform_demo",!0):localStorage.removeItem("is_platform_demo"),setTimeout((function(){"/dashboard"===pathname&&is_multipage?_this.setState({is_enable:!0,initial_step:3}):"/courses"===pathname&&is_multipage?setTimeout((function(){_this.setState({is_enable:!0,initial_step:4})}),2e3):"/m/1/4635/13614"===pathname&&is_multipage?_this.setState({is_enable:!0,initial_step:7}):"/dashboard"===pathname&&eval(url_parameter.get("startProductTour"))?_this.setState({is_enable:!0,initial_step:0}):"/m/1/4635/20395"===pathname&&is_multipage&&_this.setState({is_enable:!0,initial_step:9})}),1e3)):window.location.href="/login"},_this.state={is_enable:!1,initial_step:void 0,steps:[{element:".main_links_container",intro:"Use the tabs to navigate yourself between main sections",position:"left",tooltipClass:"myTooltipClass",highlightClass:"myHighlightClass"},{element:"#progress_container",intro:"Check your learning progress",position:"right"},{element:"#tracks_list > li:nth-child(1)",intro:"To start learning, select your course or click continue to resume from your previous spot",position:"bottom"},{element:"#daily_news_btn",intro:"We\u2019ve moved \u201cDaily Video Tips\u201d to here",position:"left"},{element:"#tracks_list > li:nth-child(1) > ul > li:nth-child(1) > a",intro:"Click a unit icon to start learning",position:"bottom"},{element:"#sub_navigation_container > ul",intro:"Use these tabs to navigate further",position:"bottom"},{element:"#sub_navigation_container > ul > li:nth-child(3)",intro:"We\u2019ve renamed the \u201cchecklist\u201d from the previous version as \u201cMy Progress\u201d here",position:"bottom"},{element:"#bookmark_module_btn",intro:"You can use the bookmark feature to save important content",position:"left"},{element:"#bookmarks_btn",intro:"    Reach your saved content later here",position:"left"},{element:"#show_reset_password_btn",intro:"If this is the first time you log into this platform,\n                    don\u2019t forget to reset your default password here. <br/><br/><br/>\n                    Enjoy the platform!",position:"left",tooltipClass:"last_step"}]},_this}return Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(ProductTourComponent,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",null,void 0!==this.state.initial_step&&react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(intro_js_react__WEBPACK_IMPORTED_MODULE_6__.Steps,{enabled:this.state.is_enable,steps:this.state.steps,initialStep:this.state.initial_step,onBeforeChange:this.onStepsBeforeChange,onPreventChange:this.onStepsPreventChange,onExit:this.onExit,options:{showBullets:!1,hidePrev:!1,prevLabel:"Previous",nextLabel:"Next",doneLabel:"Finish",hideNext:!0,exitOnOverlayClick:!1,disableInteraction:!0}}))}}]),ProductTourComponent}(react__WEBPACK_IMPORTED_MODULE_4__.Component),finish_platform_walkthrough=_actions_user_actions__WEBPACK_IMPORTED_MODULE_8__.a.finish_platform_walkthrough,_mapAnddispatchAction=Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_7__.J)("user",{finish_platform_walkthrough:finish_platform_walkthrough}),mapStateToProps=_mapAnddispatchAction.mapStateToProps,mapDispatchToProps=_mapAnddispatchAction.mapDispatchToProps;__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_5__.b)(mapStateToProps,mapDispatchToProps)(ProductTourComponent)},486:function(module,__webpack_exports__,__webpack_require__){"use strict";var _var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),intro_js_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(273),intro_js_react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(intro_js_react__WEBPACK_IMPORTED_MODULE_5__),intro_js_introjs_css__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(439),intro_js_introjs_css__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(intro_js_introjs_css__WEBPACK_IMPORTED_MODULE_6__),_forum_tour_component_scss__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1224),_forum_tour_component_scss__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_forum_tour_component_scss__WEBPACK_IMPORTED_MODULE_7__),_product_tour_component_scss__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(440),_product_tour_component_scss__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_product_tour_component_scss__WEBPACK_IMPORTED_MODULE_8__),ForumTourComponent=function(_Component){Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__.a)(ForumTourComponent,_Component);var _super=Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__.a)(ForumTourComponent);function ForumTourComponent(props){var _this;return Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,ForumTourComponent),_this=_super.call(this,props),_this.onStepsBeforeChange=function(next_step_index){var url_parameter=new URLSearchParams(window.location.search),step=eval(url_parameter.get("step")),prevent_transition_steps=[1,2,3,5,6];return _this.setState({next_step_index:next_step_index}),(!prevent_transition_steps.includes(next_step_index)||step===next_step_index)&&((4!==next_step_index||5!==step||step===next_step_index)&&void 0)},_this.onStepsPreventChange=function(e){var t=_this.props.history.location,a=_this.state.next_step_index,n=_this.renderForumQuestionID();0===e||1===a?window.location.href="/m/1/4635/34300?step=1":1!==e&&2!==a||"/m/1/4635/34300"!==t.pathname?2!==e&&3!==a||"/m/1/4635/34300"!==t.pathname?4===e&&"/m/1/4635/34300"===t.pathname?window.location.href="/m/1/4635/34300/forum_question/".concat(n,"?step=5"):5===e&&4===a&&t.pathname==="/m/1/4635/34300/forum_question/".concat(n)?window.location.href="/m/1/4635/34300?step=3":5===e&&t.pathname==="/m/1/4635/34300/forum_question/".concat(n)?window.location.href="/m/1/4635/34300/forum_question/".concat(n,"?step=6"):6===e&&5===a&&t.pathname==="/m/1/4635/34300/forum_question/".concat(n)&&(window.location.href="/m/1/4635/34300/forum_question/".concat(n,"?step=5")):window.location.href="/m/1/4635/34300?step=3":window.location.href="/m/1/4635/34300?step=2"},_this.onExit=function(){_this.setState({is_enable:!1}),window.location.href="/dashboard"},_this.componentDidMount=function(){var pathname=_this.props.history.location.pathname,url_parameter=new URLSearchParams(window.location.search),step=eval(url_parameter.get("step")),forum_question_id=_this.renderForumQuestionID();setTimeout((function(){if("/dashboard"===pathname&&eval(url_parameter.get("startForumTour")))_this.setState({is_enable:!0,initial_step:0});else if(("/m/1/4635/34300"===pathname||pathname==="/m/1/4635/34300/forum_question/".concat(forum_question_id))&&step){var additional_delay=1e3;setTimeout((function(){_this.setState({is_enable:!0,initial_step:step})}),additional_delay)}}),1e3)},_this.renderForumQuestionID=function(){return 34},_this.state={is_enable:!1,initial_step:void 0,next_step_index:void 0,steps:[{element:".main_links_container > .nav-link:nth-child(2)",intro:"Check out any assignment module. (1/8)",position:"left"},{element:"#forum_head_container",intro:"You can ask a question regarding the assignment. Your peers and instructors can help answer it. (2/8)",position:"bottom"},{element:"#ask_forum_question_modal .forum_post_type_dropdown",intro:"You can choose to ask your question with your name shown to public, or stay anonymous. (3/8)",position:"bottom"},{element:"#questions_list > li:nth-child(1) .voting_container",intro:"Use the arrows to upvote or downvote questions. (4/8)",position:"bottom"},{element:"#questions_list > li:nth-child(1)",intro:"Click the question to view answers posted. (5/8)",position:"bottom"},{element:".profile_popover",intro:"Hover your cursor over other users\u2019 thumbnails to view their profiles. (6/8)",position:"left"},{element:"#answers_list > li:nth-child(1) .answer_endorsed",intro:"Check out answers endorsed by instructors! (7/8)",position:"left"},{element:"#notification_btn",intro:"You\u2019ll receive notifications when there are interactions or changes to your posts. You\u2019ll also be notified when there are questions posted which you might be able to help answer. (8/8)",position:"left",tooltipClass:"last_step"}]},_this}return Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(ForumTourComponent,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",null,void 0!==this.state.initial_step&&react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(intro_js_react__WEBPACK_IMPORTED_MODULE_5__.Steps,{enabled:this.state.is_enable,steps:this.state.steps,initialStep:this.state.initial_step,onBeforeChange:this.onStepsBeforeChange,onPreventChange:this.onStepsPreventChange,onExit:this.onExit,options:{showBullets:!1,hidePrev:!1,prevLabel:"Previous",nextLabel:"Next",doneLabel:"Finish",hideNext:!0,exitOnOverlayClick:!1,disableInteraction:!0,showStepNumbers:!1}}))}}]),ForumTourComponent}(react__WEBPACK_IMPORTED_MODULE_4__.Component);__webpack_exports__.a=ForumTourComponent},487:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF9SURBVHgB5ZRdToNAEMdnttWY9IUXqyY+4A16hPYE1hMoJ+AExiUeoPEE1BNYTyCeQG4gb40mJvtIGmGchYVSCpHGJ9NJNmR3Zn/573wAsHeGbY77xy83pWRaPxeIwe31sdcZKP13C2BgI8IbbxWvsBI+AiBFlEykcxb9CpT+xxQRnypHAV8u1SD2fP7YZhsRra6kcx5WGf0NOqJLWhHBA29HrNJlyLgaQ5SyT4QcOxN46PKR0wo0pqQznOeKl4tNV499p5kib/5513C3EVga5ylo8+k8EsRqJ2AJ9pd2LX/GBorz7knnpHyJ6AI0MK4wRDWXpYuYd8YOQK2M22FBRK9GpV762aYgR6MisNOTCyMQCoEis42aYroqzKwHCUOhXH8GaiRfCOTN8ILXpCli68mcK4urOl6fxFnfUd7oir924RfYv6RMa6IagSmlzwLFjKv6Umo6sOzvVezpSvPlLPnF9GiYnpzq+DX8HKrq1s2texG2+lBPzjCEf2U/GRGJyPUyXbwAAAAASUVORK5CYII="},523:function(e,t,a){"use strict";var n=a(4),s=a(5),r=a(8),o=a(7),i=a(6),c=a(0),_=a.n(c),l=a(1429),d=a(14),u=(a(366),function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props.file;return _.a.createElement(d.a,{show:this.props.show,onHide:function(){e.props.handleChangeId(void 0),e.props.toggleShowModal()},centered:!0,id:"confirm_download_file"},_.a.createElement(d.a.Header,null,_.a.createElement("button",{onClick:function(t){e.props.handleChangeId(void 0),e.props.toggleShowModal(e,"is_show_confirm_download_file",!1)}},_.a.createElement("span",{className:"close_icon"}))),_.a.createElement(d.a.Body,null,_.a.createElement("p",null,"This file is password protected. The default passcode should be your birthday registered with us (MMDDYY)."),_.a.createElement("button",{type:"button",onClick:function(){e.props.handleChangeId(t.id),e.props.downloadFiles(t,!0,!0),e.props.toggleShowModal()}},"Download File")))}}]),a}(c.Component)),p=a(76),m=a(90),h=a(12),E=a.n(h),f=a(1),g=a(2),v=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).resetModalOnHide=function(){r.props.toggleShowModal(!1)},r.downloadFiles=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(r.setState({active_file_data:e,is_show_confirm_download_file:t}),(!t||t&&a)&&!r.state.download_my_files)if(!(null===e||void 0===e?void 0:e.link.includes("codingdojo_assets"))&&(null===e||void 0===e?void 0:e.link.includes(".amazonaws.com"))){var n=Object(g.t)(e.link,"user-files");r.setState({download_my_files:!0}),r.props.generateS3Url(n,"download","my-files")}else(null===e||void 0===e?void 0:e.link.includes("codingdojo_assets."))?Object(l.a)({url:null===e||void 0===e?void 0:e.link,method:"GET",responseType:"blob"}).then((function(t){var a=new Blob([t.data]),n=window.URL.createObjectURL(a);Object(g.b)({pre_signed_url:n,file_name:null===e||void 0===e?void 0:e.link.split("/").pop(),blob:a}),r.setState({downloading_file_id:void 0})})).catch((function(e){console.log(e)})):(Object(g.b)({url_link:null===e||void 0===e?void 0:e.link},!1),r.setState({downloading_file_id:void 0}))},r.componentDidUpdate=function(e){var t;if((null===(t=r.props.dashboard.my_file)||void 0===t?void 0:t.pre_signed_url)&&r.state.download_my_files){var a=r.props.dashboard.my_file.pre_signed_url.replace(r.props.dashboard.my_file.file_name,encodeURIComponent(r.props.dashboard.my_file.file_name));r.setState({download_my_files:!1}),Object(l.a)({url:a,method:"GET",responseType:"blob"}).then((function(e){var t=new Blob([e.data]),a=window.URL.createObjectURL(t);Object(g.b)(Object(n.a)(Object(n.a)({},r.props.dashboard.my_file),{},{pre_signed_url:a,blob:t})),r.props.clearPresignedURL()})).catch((function(e){console.log(e),r.props.clearPresignedURL()}))}e.dashboard.my_file!==r.props.dashboard.my_file&&(r.state.download_my_files||r.setState({downloading_file_id:void 0}))},r.renderFileListData=function(e,t){return _.a.createElement("div",null,_.a.createElement("span",{className:"file_icon"}),r.renderFileTooltip(e.is_password_protected?"file-lock":"description",t,e.id))},r.renderFileTooltip=function(e,t,a){return _.a.createElement(p.a,{placement:"top",overlay:_.a.createElement(m.a,{className:"file_name_tooltip"},t)},_.a.createElement("span",{className:e},r.state.downloading_file_id===a&&_.a.createElement("span",{className:"download_loader"}),t))},r.state={active_file_data:void 0,is_show_card_list:!0,is_show_confirm_download_file:!1,downloading_file_id:void 0},r}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props.user_files,a=this.state.is_show_card_list,n=[];if(t&&""!==t.file_link){var s,r,o,i,c,l=(null===t||void 0===t||null===(s=t.file_name)||void 0===s?void 0:s.split(","))||[],h=(null===t||void 0===t||null===(r=t.file_link)||void 0===r?void 0:r.split(",http"))||[];h.length&&(h=h.map((function(e,t){return t&&(e="http".concat(e)),e})));var v=(null===t||void 0===t||null===(o=t.file_types)||void 0===o?void 0:o.split(","))||[],b=(null===t||void 0===t||null===(i=t.password_protected)||void 0===i?void 0:i.split(","))||[],S=(null===t||void 0===t||null===(c=t.created_at)||void 0===c?void 0:c.split(","))||[],A={".zip":{file_type:"file-zip"},".rar":{file_type:"file-rar"},".pdf":{file_type:"file-pdf"},".csv":{file_type:"file-excel"},".xlsx":{file_type:"file-excel"},".docs":{file_type:"file-word"},".docx":{file_type:"file-word"},".png":{file_type:"file-image"},".jpeg":{file_type:"file-image"},".jpg":{file_type:"file-image"},".txt":{file_type:"file-code"},no_file_extension:{file_type:"file-alt"}};if(h.length)for(var k in h){var O,T=h[k],C=Object(g.v)(T);n.push({id:k,file_name:l[k]?l[k]:null,file_type:null===(O=A[C])||void 0===O?void 0:O.file_type,is_password_protected:parseInt(b[k]),link:T,date_created:S[k]?E()(S[k]).format("LL"):null,description:f.Ib[v[k]]?f.Ib[v[k]]:"Others"})}}return _.a.createElement(_.a.Fragment,null,_.a.createElement(d.a,{show:this.props.show,onHide:function(){return e.resetModalOnHide()},centered:!0,id:"my_files_modal"},_.a.createElement(d.a.Header,null,_.a.createElement(d.a.Title,null,"My Files",_.a.createElement(p.a,{placement:"bottom",overlay:_.a.createElement(m.a,{id:"my_files_info_tooltip"},"We protect your sensitive information with a passcode. The default passcode should be your birthday registered with us (MMDDYY). E.g. if your birthday is March 21, 1999, then your passcode would be 032199. For assistance, please contact support@codingdojo.com.")},_.a.createElement("span",{className:"info_icon"}))),_.a.createElement("button",{onClick:function(t){return e.props.toggleShowModal(t,"reset_password_modal",!1)}},_.a.createElement("span",{className:"close_icon"}))),_.a.createElement(d.a.Body,null,n.length?_.a.createElement(_.a.Fragment,null,_.a.createElement("ul",{id:"file_tabbings"},_.a.createElement("li",{className:"set_file_view_btn card_view ".concat(a?"active":""),onClick:function(){e.setState({is_show_card_list:!0})}},_.a.createElement("span",{className:"file_view_icon"})),_.a.createElement("li",{className:"set_file_view_btn list_view ".concat(a?"":"active"),onClick:function(){e.setState({is_show_card_list:!1})}},_.a.createElement("span",{className:"file_view_icon"}))),a?_.a.createElement("ul",{id:"file_view_card_list"},n.map((function(t){var a="Others"===t.description?t.link.replace(Object(g.v)(t.link),"").replace("https://s3-us-west-2.amazonaws.com/cd-student-files/",""):t.description;return _.a.createElement("li",{key:t.id},_.a.createElement("button",{type:"button",className:"locked_file",onClick:function(){t.is_password_protected||e.setState({downloading_file_id:t.id}),e.downloadFiles(t,t.is_password_protected)},disabled:e.state.downloading_file_id},e.renderFileListData(t,a),_.a.createElement("span",{className:"date_created"},t.date_created?t.date_created:"-")))}))):_.a.createElement("div",{id:"my_files_list_view_wrapper"},_.a.createElement("table",null,_.a.createElement("thead",null,_.a.createElement("tr",null,_.a.createElement("th",null,"Document"),_.a.createElement("th",null,"Date Created"),_.a.createElement("th",null,"File name"))),_.a.createElement("tbody",null,n.map((function(t){var a="Others"===t.description?t.link.replace(Object(g.v)(t.link),"").replace("https://s3-us-west-2.amazonaws.com/cd-student-files/",""):t.description;return _.a.createElement("tr",{className:"locked_file"},_.a.createElement("td",{className:e.state.downloading_file_id?"disabled_td":"",onClick:function(){t.is_password_protected||e.setState({downloading_file_id:t.id}),e.downloadFiles(t,t.is_password_protected)}},e.renderFileListData(t,a)),_.a.createElement("td",null,t.date_created?t.date_created:"-"),_.a.createElement("td",null,t.file_name?e.renderFileTooltip("file_name",t.file_name):t.file_name?t.file_name:"-"))})))))):_.a.createElement("p",{id:"no_files_yet"},"No files yet."))),this.state.active_file_data&&this.state.active_file_data.is_password_protected===f.Db&&_.a.createElement(u,{show:this.state.is_show_confirm_download_file,file:this.state.active_file_data,toggleShowModal:function(){return Object(g.W)(e,"is_show_confirm_download_file",!1)},downloadFiles:this.downloadFiles,handleChangeId:function(t){return e.setState({downloading_file_id:t})},downloading_file_id:this.state.downloading_file_id}))}}]),a}(c.Component);t.a=v},529:function(e,t,a){e.exports=a(1423)},542:function(e,t,a){},543:function(e,t,a){},544:function(e,t,a){},545:function(e,t,a){},546:function(e,t,a){},547:function(e,t,a){},549:function(e,t,a){},550:function(e,t,a){},551:function(e,t,a){},552:function(e,t,a){},555:function(e,t,a){},556:function(e,t,a){},559:function(e,t,a){},56:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(15),s=a(4),r=a(77),o=a(5),i=a(1),c=a(71),_=a(69),l=a(2),d=new function e(){Object(o.a)(this,e),this.get_lp2_exam_link=function(){return function(e){e(Object(l.A)({type:i.Pb.GET_USER_LP2_EXAM_LINK_REQUEST},{})),_.a.fetch_lp2_exam_link().then((function(t){!0===t.status?e(Object(l.A)({type:i.Pb.GET_USER_LP2_EXAM_LINK_SUCCESS},{exam:t.result})):e(Object(l.A)({type:i.Pb.GET_USER_LP2_EXAM_LINK_FAILURE},{error:t.message}))}),(function(t){var a=Object(l.c)(t);e(Object(l.A)({type:i.Pb.GET_USER_LP2_EXAM_LINK_FAILURE},{error:a}))}))}},this.get_exam_histories=function(){return function(e){e(Object(l.A)({type:i.Pb.GET_USER_EXAM_HISTORY_REQUEST},{})),_.a.fetch_exam_histories().then((function(t){if(!0===t.status){var a=(t.result.belts_and_exams_progress||[]).exam_histories;e(Object(l.A)({type:i.Pb.GET_USER_EXAM_HISTORY_SUCCESS},{exam_histories:a}))}else e(Object(l.A)({type:i.Pb.GET_USER_EXAM_HISTORY_FAILURE},{error:t.message}))}),(function(t){var a=Object(l.c)(t);e(Object(l.A)({type:i.Pb.GET_USER_EXAM_HISTORY_FAILURE},{error:a}))}))}},this.get_user_belts=function(){return function(e){e(Object(l.A)({type:i.Pb.GET_USER_BELTS_REQUEST},{})),_.a.fetch_user_belts().then((function(t){if(!0===t.status){for(var a=[],n=void 0!==t.result.belts_and_exams_progress?t.result.belts_and_exams_progress:{belt_summaries:{}},s=n.belt_summaries,r=n.exam_histories,o=s?Object.keys(s):[],c=0;c<o.length;c++){var _=s[parseInt(o[c])];_&&Object.keys(_).length>0&&a.push({id:parseInt(o[c]),name:_.label,is_completed:_.level>-1,level:_.level,class:_.color})}e(Object(l.A)({type:i.Pb.GET_USER_BELTS_SUCCESS},{user_belts:a,exam_histories:r}))}else e(Object(l.A)({type:i.Pb.GET_USER_BELTS_FAILURE},{error:t.message}))}),(function(t){var a=Object(l.c)(t);e(Object(l.A)({type:i.Pb.GET_USER_BELTS_FAILURE},{error:a}))}))}},this.updateStudentGrade=function(e){return function(t){t(Object(l.A)({type:i.n.UPDATE_STUDENT_GRADE_REQUEST},{})),_.a.updateStudentGrade(e).then((function(e){e.status?t(Object(l.A)({type:i.n.UPDATE_STUDENT_GRADE_SUCCESS},{admin_exam_data:e.result})):t(Object(l.A)({type:i.n.UPDATE_STUDENT_GRADE_FAILURE},{error:e.message}))}),(function(e){var a=Object(l.c)(e);t(Object(l.A)({type:i.n.UPDATE_STUDENT_GRADE_FAILURE},{error:a}))}))}},this.saveExamRecord=function(e,t){return function(a){a(Object(l.A)({type:i.n.ADD_EXAM_RECORD_REQUEST},{})),_.a.saveExamRecord(e).then((function(e){if(e.status){var n=e.result,o=(n.user_exam_file_id,Object(r.a)(n,["user_exam_file_id"])),c=Object(s.a)(Object(s.a)({},o),t);a(Object(l.A)({type:i.n.ADD_EXAM_RECORD_SUCCESS},{admin_exam_data:c}))}else a(Object(l.A)({type:i.n.ADD_EXAM_RECORD_FAILURE},{error:e.error}))}),(function(e){var t=Object(l.c)(e);a(Object(l.A)({type:i.n.ADD_EXAM_RECORD_FAILURE},{error:t}))}))}},this.fetchExamCodes=function(e){return function(t){t(Object(l.A)({type:i.n.FETCH_ADMIN_EXAM_CODE_REQUEST},{})),_.a.fetchExamCodes(e).then((function(e){e.status?t(Object(l.A)({type:i.n.FETCH_ADMIN_EXAM_CODE_SUCCESS},{exam_codes:e.result})):t(Object(l.A)({type:i.n.FETCH_ADMIN_EXAM_CODE_FAILURE},{error:e.message}))}),(function(e){var a=Object(l.c)(e);t(Object(l.A)({type:i.n.FETCH_ADMIN_EXAM_CODE_FAILURE},{error:a}))}))}},this.fetchExamOptionsDropdown=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(n){n(Object(l.A)({type:i.n.FETCH_EXAM_CODE_DROPDOWN_REQUEST},{})),_.a.fetchExamOptionsDropdown(Object(s.a)(Object(s.a)({},e),{},{is_generate_exam_code:t,has_selected_user:a})).then((function(e){e.status?n(Object(l.A)({type:i.n.FETCH_EXAM_CODE_DROPDOWN_SUCCESS},{exam_code_dropdown:e.result})):n(Object(l.A)({type:i.n.FETCH_EXAM_CODE_DROPDOWN_FAILURE},{error:e.message}))}),(function(e){var t=Object(l.c)(e);n(Object(l.A)({type:i.n.FETCH_EXAM_CODE_DROPDOWN_FAILURE},{error:t}))}))}},this.updateExamOptionDropdown=function(e){return function(t){t(Object(l.A)({type:i.n.UPDATE_EXAM_CODE_DROPDOWN_REQUEST},{})),_.a.updateExamOptionDropdown(e).then((function(e){e.status?t(Object(l.A)({type:i.n.UPDATE_EXAM_CODE_DROPDOWN_SUCCESS},{update_exam_code_dropdown:e.result})):t(Object(l.A)({type:i.n.UPDATE_EXAM_CODE_DROPDOWN_FAILURE},{error:e.message}))}),(function(e){var a=Object(l.c)(e);t(Object(l.A)({type:i.n.UPDATE_EXAM_CODE_DROPDOWN_FAILURE},{error:a}))}))}},this.saveGeneratedExamCode=function(e){return function(t){t(Object(l.A)({type:i.n.SAVE_EXAM_CODE_REQUEST},{})),_.a.saveGeneratedExamCode(e).then((function(e){e.status?t(Object(l.A)({type:i.n.SAVE_EXAM_CODE_SUCCESS},{save_exam_code_status:e.status,save_exam_code:e.result})):t(Object(l.A)({type:i.n.SAVE_EXAM_CODE_SUCCESS},{save_exam_code_status:e.status,error:e.message}))}),(function(e){var a=Object(l.c)(e);t(Object(l.A)({type:i.n.SAVE_EXAM_CODE_SUCCESS},{error:a}))}))}},this.searchStudents=function(e){return function(t){t(Object(l.A)({type:i.n.SEARCH_STUDENTS_REQUEST},{})),_.a.searchStudents(e).then((function(e){e.status?t(Object(l.A)({type:i.n.SEARCH_STUDENTS_SUCCESS},{searched_students:e.result})):t(Object(l.A)({type:i.n.SEARCH_STUDENTS_FAILURE},{error:e.message}))}),(function(e){var a=Object(l.c)(e);t(Object(l.A)({type:i.n.SEARCH_STUDENTS_FAILURE},{error:a}))}))}},this.fetchStudentExamFilterOptions=function(e){return function(t){t(Object(l.A)({type:i.n.FETCH_STUDENT_EXAM_FILTER_OPTIONS_REQUEST},{})),_.a.fetchStudentExamFilterOptions(e).then((function(a){a.status?t(Object(l.A)({type:i.n.FETCH_STUDENT_EXAM_FILTER_OPTIONS_SUCCESS},{workspace_id:e.is_switch_workspace?e.selected_workspace_id:a.workspace_id,filters:a.result,search_student_keyword:a.search_student_keyword,page_count:a.page_count,is_filter:!0})):t(Object(l.A)({type:i.n.FETCH_STUDENT_EXAM_FILTER_OPTIONS_FAILURE},{error:a.message}))}),(function(e){t(Object(l.A)({type:i.n.FETCH_STUDENT_EXAM_FILTER_OPTIONS_FAILURE},{error:Object(l.c)(e)}))}))}},this.fetchFilteredStudentExamData=function(e){return function(t){t(Object(l.A)({type:i.n.FETCH_STUDENT_EXAM_FILTER_DATA_REQUEST},{})),_.a.fetchFilteredStudentExamData(e).then((function(a){a.status?t(Object(l.A)({type:i.n.FETCH_STUDENT_EXAM_FILTER_DATA_SUCCESS},{admin_exam_data:{table_data:a.results.filtered_student_data||[]},workspace_timezone:a.results.workspace_timezone,belt_summary_data:a.results.belt_summary,total_success_rate:a.results.total_success_rate,total_results:a.results.total_results||0,set_active_student:e.set_active_student})):t(Object(l.A)({type:i.n.FETCH_STUDENT_EXAM_FILTER_DATA_FAILURE},{error:a.message}))}),(function(e){t(Object(l.A)({type:i.n.FETCH_STUDENT_EXAM_FILTER_DATA_FAILURE},{error:Object(l.c)(e)}))}))}},this.updateExamFilterOptions=function(e){return function(t){t(Object(l.A)({type:i.n.ADMIN_UPDATE_EXAM_FILTER_OPTIONS_REQUEST},{})),_.a.update_exam_filter_options(e).then((function(e){t(Object(l.A)({type:i.n.ADMIN_UPDATE_EXAM_FILTER_OPTIONS_SUCCESS},{filters:e}))}),(function(e){var a=Object(l.c)(e);t(Object(l.A)({type:i.n.ADMIN_UPDATE_EXAM_FILTER_OPTIONS_FAILURE},{error:a}))}))}},this.getStudentProfileDetails=function(e){return function(t){t(Object(l.A)({type:i.n.ADMIN_GET_STUDENT_PROFILE_DATA_REQUEST},{})),c.a.get_student_profile_details(e).then((function(e){var a;!0===e.status?t(Object(l.A)({type:i.n.ADMIN_GET_STUDENT_PROFILE_DATA_SUCCESS},{student_details:null===e||void 0===e?void 0:e.result,auto_login_url:null===e||void 0===e||null===(a=e.result)||void 0===a?void 0:a.auto_login_url})):(alert(e.error),t(Object(l.A)({type:i.n.ADMIN_GET_STUDENT_PROFILE_DATA_FAILURE},{error:e.error})))}),(function(e){var a=Object(l.c)(e);t(Object(l.A)({type:i.n.ADMIN_GET_STUDENT_PROFILE_DATA_FAILURE},{error:a}))}))}},this.getStudentExamDetails=function(e){return function(t){t(Object(l.A)({type:i.n.FETCH_STUDENT_EXAM_DATA_REQUEST},{})),_.a.get_student_exam_details(e).then((function(e){if(e.status){var a=Object(n.a)(e.results.filtered_student_data,1)[0];t(Object(l.A)({type:i.n.FETCH_STUDENT_EXAM_DATA_SUCCESS},{student_details:a}))}else alert(e.error),t(Object(l.A)({type:i.n.FETCH_STUDENT_EXAM_DATA_FAILURE},{error:e.error}))}),(function(e){var a=Object(l.c)(e);t(Object(l.A)({type:i.n.FETCH_STUDENT_EXAM_DATA_FAILURE},{error:a}))}))}}}},560:function(e,t,a){},561:function(e,t,a){},562:function(e,t,a){},563:function(e,t,a){},57:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var n=a(5),s=a(7),r=a(6),o=a(1),i=a(2),c=a(186),_=new(function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).login=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"user",c=this,_="".concat(o.f.URL,"/users/").concat(!1===a?"login":"".concat("user"!==r?"admin_":"","autologin/").concat(n));return c.sendRequest(_,{email_address:e,password:t,autologin_key:n}).then(i.z).then((function(e){if(!0===e.auth){localStorage.setItem("JWT88",e.token),localStorage.setItem("__BarioOtsoOtso__",e.user_token);var t=Object(i.y)();if(!0===t.status)if(e.result=t.user_details,null!==s){var a=s.split(":");window.location.href="/".concat(a.join("/"))}else c.CurrentUser.next({is_logged_in:!0,user_details:e.result})}return e}))},e.logout=function(){return this.sendRequest("".concat(o.f.URL,"/users/logout")).then(i.z).then((function(e){return e}))},e.checkCurrentUser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this;return this.sendRequest("".concat(o.f.URL,"/users/check_current_user")).then(i.z).then((function(a){if(a.status){localStorage.setItem("JWT88",a.token),localStorage.setItem("__BarioOtsoOtso__",a.user_token);var n=Object(i.y)();n.status?e?window.location.href=e:(a.result=n.user_details,t.CurrentUser.next({is_logged_in:!0,user_details:n.user_details})):Object(i.j)()}return a}))},e.updateLastVisitedUrl=function(){return this.sendRequest("".concat(o.f.URL,"/users/update_last_visited_url"),{},!0).then((function(){return{status:!0}})).catch((function(e){console.log(e)}))},e.forgotPassword=function(e){var t=this;return this.sendRequest("".concat(o.f.URL,"/users/forgot_password"),{email_address:e}).then(i.z).then((function(e){var a=!0===e.status?e.result:{};return t.CurrentUser.next({forgot_password_result:a}),e}))},e.resetPassword=function(e,t,a){var n=this;return this.sendRequest("".concat(o.f.URL,"/users/change_password"),{old_password:e,new_password:t,confirm_password:a},!0).then(i.z).then((function(e){var t=!0===e.status?e.result:{};return n.CurrentUser.next({is_logged_in:!0,user_details:t}),e}))},e.reportAnIssue=function(e){var t=this;return this.sendRequest("".concat(o.f.URL,"/users/report_an_issue"),e,!0).then(i.z).then((function(e){var a=!0===e.status?e.result:{};return t.CurrentUser.next({is_logged_in:!0,user_details:a}),e}))},e.finishPlatformWalkthrough=function(){var e=this;return this.sendRequest("".concat(o.f.URL,"/users/finish_walkthrough"),{},!0).then(i.z).then((function(t){if(!0===t.status){localStorage.setItem("__BarioOtsoOtso__",t.result);var a=Object(i.y)();!0===a.status&&(t.result=a.user_details,e.CurrentUser.next({is_logged_in:!0,user_details:a.user_details}))}return t}))},e.switchProgram=function(e){return this.sendRequest("".concat(o.f.URL,"/users/switch_program"),e,!0).then(i.z).then((function(e){if(!e||!0!==e.status)return e;localStorage.setItem("__BarioOtsoOtso__",e.user_token),window.location.reload()}))},e.uploadUserProfilePic=function(e){var t,a,n=new FormData;n.append("file",e.pic_upload);var s=(null===(t=Object(i.y)().user_details)||void 0===t||null===(a=t.general)||void 0===a?void 0:a.trial_platform_mode)?"/t":"";return this.sendRequest("".concat(o.f.URL).concat(s,"/users/profile_upload/profile_pic"),n,!0,!0).then(i.z).then((function(e){return e.status&&localStorage.setItem("__BarioOtsoOtso__",e.result),e})).catch((function(e){return{status:!1,error:!0,message:e}}))},e.updateDarkmodeSettings=function(e){return this.sendRequest("".concat(o.f.URL,"/users/update_dark_mode_settings"),{is_dark_mode:e},!0).then(i.z).then((function(e){return e}))},e.fetchPrivateFiles=function(){var e,t,a=Object(i.y)(),n=(null===a||void 0===a||null===(e=a.user_details)||void 0===e||null===(t=e.general)||void 0===t?void 0:t.trial_platform_mode)?"/t":"";return this.sendRequest("".concat(o.f.URL).concat(n,"/users/fetch_private_files"),{},!0).then(i.z).then((function(e){return e}))},e.getCurrentUser=function(){return e.CurrentUser.asObservable()},e.getVerifyUser=function(){return e.VerifyUser.asObservable()},e.stopSenceSession=function(e){return this.sendRequest("".concat(o.f.URL,"/sence_integration/set_active_session_expired"),e,!0).then(i.z).then((function(e){return e.status&&e.token&&localStorage.setItem("__BarioOtsoOtso__",e.token),e}))},e.registerTrialAccount=function(e){var t="".concat(o.f.URL,"/t/codingdojo/signup");return this.sendRequest(t,e).then(i.z).then((function(e){return e})).catch((function(e){return{status:!1,error:!0,message:e}}))},e.loginTrialAccount=function(e){var t="".concat(o.f.URL,"/t/users/login");return this.sendRequest(t,e).then(i.z).then((function(e){if(e.auth){localStorage.setItem("JWT88",e.token),localStorage.setItem("__BarioOtsoOtso__",e.user_token);var t=Object(i.y)();t.status&&(e.result=t.user_details,window.location.href="/t/dashboard")}return e}))},e.CurrentUser=new c.a(null),e.VerifyUser=new c.a(null),e}return a}(a(34).a))},59:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(4),s=a(5),r=a(1),o=a(7),i=a(6),c=a(2),_=new(function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e,n,o;Object(s.a)(this,a),(o=t.call(this)).getPreSignedURL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"download";return this.sendRequest("".concat(r.f.URL).concat(this.API_pre_link,"/file_management/initialize/").concat(t),e,!0).then(c.z).then((function(e){return e}))},o.uploadFile=function(e){return this.sendRequest("".concat(r.f.URL).concat(this.API_pre_link,"/file_management/upload"),e,!0,!0).then(c.z).then((function(e){return e}))};var i=Object(c.y)();return o.API_pre_link=(null===i||void 0===i||null===(e=i.user_details)||void 0===e||null===(n=e.general)||void 0===n?void 0:n.trial_platform_mode)?"/t":"",o}return a}(a(34).a)),l=new function e(){Object(s.a)(this,e),this.generateS3Url=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"upload",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(s){var o,i,l={},d=r.rb.presigned_url.download_by_page[a].user_file_type;d&&(s(Object(c.A)({type:null===r.qb||void 0===r.qb?void 0:r.qb[null===(o=r.rb.presigned_url.actions)||void 0===o||null===(i=o[t])||void 0===i?void 0:i.request]},{})),e.bucket=e.bucket.toLowerCase(),_.getPreSignedURL(e,t).then((function(a){var o,i,_,u;a.status?(l[d]=Object(n.a)(Object(n.a)({},a.result),{},{file_name:e.file_name}),s(Object(c.A)({type:null===r.qb||void 0===r.qb?void 0:r.qb[null===(o=r.rb.presigned_url.actions)||void 0===o||null===(i=o[t])||void 0===i?void 0:i.success]},l))):s(Object(c.A)({type:null===r.qb||void 0===r.qb?void 0:r.qb[null===(_=r.rb.presigned_url.actions)||void 0===_||null===(u=_[t])||void 0===u?void 0:u.failure]},{error:a.message}))}),(function(e){var a,n,o=Object(c.c)(e);s(Object(c.A)({type:null===r.qb||void 0===r.qb?void 0:r.qb[null===(a=r.rb.presigned_url.actions)||void 0===a||null===(n=a[t])||void 0===n?void 0:n.failure]},{error:o}))})))}},this.uploadFileAttachment=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(a){var s,o,i={},l=r.rb.presigned_url.download_by_page[t].user_file_type;l&&(a(Object(c.A)({type:null===r.qb||void 0===r.qb?void 0:r.qb[null===(s=r.rb.presigned_url.actions)||void 0===s||null===(o=s.upload)||void 0===o?void 0:o.request]},{})),_.uploadFile(e).then((function(t){var s,o,_,d;(i[l]=Object(n.a)({},t.result),!0===t.status)?(console.log(e),a(Object(c.A)({type:null===r.qb||void 0===r.qb?void 0:r.qb[null===(s=r.rb.presigned_url.actions)||void 0===s||null===(o=s.upload)||void 0===o?void 0:o.success]},i))):a(Object(c.A)({type:null===r.qb||void 0===r.qb?void 0:r.qb[null===(_=r.rb.presigned_url.actions)||void 0===_||null===(d=_.upload)||void 0===d?void 0:d.failure]},{error:t.message}))}),(function(e){var t,n,s=Object(c.c)(e);a(Object(c.A)({type:null===r.qb||void 0===r.qb?void 0:r.qb[null===(t=r.rb.presigned_url.actions)||void 0===t||null===(n=t.upload)||void 0===n?void 0:n.failure]},{error:s}))})))}},this.clearPresignedURL=function(){return function(e){e(Object(c.A)({type:null===r.qb||void 0===r.qb?void 0:r.qb[r.rb.presigned_url.actions.download.reset]},{}))}}}},623:function(e,t,a){},624:function(e,t,a){},625:function(e,t,a){},626:function(e,t,a){},627:function(e,t,a){},628:function(e,t,a){},64:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var n=a(4),s=a(5),r=a(1),o=a(86),i=a(83),c=a(2),_=new function e(){Object(s.a)(this,e),this.fetchAdminCoursePageData=function(e){return function(t){t(Object(c.A)({type:r.m.FETCH_ADMIN_COURSE_PAGE_DATA_REQUEST},{})),o.a.fetchCoursePageData(e,!0).then((function(e){if(!0===e.status){var a=e.result.active_module,n=a.content,s=a.program_types;if(e.result.active_module.content=JSON.parse(n)||{},e.result.active_module.program_types=null!==s&&s.split(",").map((function(e){return parseInt(e)})).filter((function(e){return!1===isNaN(e)}))||[],void 0!==e.result.active_module.content.data&&void 0!==e.result.active_module.content.data.questions)for(var o=0;o<e.result.active_module.content.data.questions.length;o++)if(void 0===e.result.active_module.content.data.questions[o].id&&(e.result.active_module.content.data.questions[o].id=o),void 0!==e.result.active_module.content.data.questions[o].choices&&e.result.active_module.content.data.questions[o].choices.length>0)for(var i=0;i<e.result.active_module.content.data.questions[o].choices.length;i++)void 0===e.result.active_module.content.data.questions[o].choices[i].id&&(e.result.active_module.content.data.questions[o].choices[i].id=i);if(e.result.chapters.length>0)for(var _=0;_<e.result.chapters.length;_++)if(void 0!==e.result.chapters[_].chapter_modules&&e.result.chapters[_].chapter_modules.length>0)for(var l=0;l<e.result.chapters[_].chapter_modules.length;l++){var d=e.result.chapters[_].chapter_modules[l],u=d.content,p=d.program_types;e.result.chapters[_].chapter_modules[l].content=JSON.parse(u)||{},e.result.chapters[_].chapter_modules[l].program_types=null!==p&&p.split(",").map((function(e){return parseInt(e)})).filter((function(e){return!1===isNaN(e)}))||[]}t(Object(c.A)({type:r.m.FETCH_ADMIN_COURSE_PAGE_DATA_SUCCESS},{track:e.result}))}else t(Object(c.A)({type:r.m.FETCH_ADMIN_COURSE_PAGE_DATA_FAILURE},{error:e.message})),window.location.href="/dashboard"}),(function(e){var a=Object(c.c)(e);t(Object(c.A)({type:r.m.FETCH_ADMIN_COURSE_PAGE_DATA_FAILURE},{error:a}))}))}},this.updateChapterModule=function(e){return function(t){var a=e.selected_module,n=a.chapter_module_title,s=a.program_types,o=a.content;t(Object(c.A)({type:r.m.ADMIN_SAVE_MODULE_REQUEST},{})),i.a.updateChapterModule({track_id:e.track_id,chapter_id:e.chapter_id,chapter_module_id:e.chapter_module_id,params_data:{title:n,program_types:s,content:o}}).then((function(e){!0===e.status?t(Object(c.A)({type:r.m.ADMIN_SAVE_MODULE_SUCCESS},{last_updated_at:e.result,module_data:{title:n,program_types:s,content:o}})):t(Object(c.A)({type:r.m.ADMIN_SAVE_MODULE_FAILURE},{error:e.message}))}),(function(e){var a=Object(c.c)(e);t(Object(c.A)({type:r.m.ADMIN_SAVE_MODULE_FAILURE},{error:a}))}))}},this.updateQuizOrders=function(e){return function(t){t(Object(c.A)({type:r.m.ADMIN_UPDATE_ORDER_SUCCESS},{track:e.track}))}},this.removeChapterModule=function(e){return function(t){t(Object(c.A)({type:r.m.ADMIN_REMOVE_MODULE_REQUEST},{})),i.a.removeChapterModule(e).then((function(a){!0===a.status?window.location.href=e.redirect_url:(t(Object(c.A)({type:r.m.ADMIN_REMOVE_MODULE_FAILURE},{error:a.message})),window.location.href="/dashboard")}),(function(e){var a=Object(c.c)(e);t(Object(c.A)({type:r.m.ADMIN_REMOVE_MODULE_FAILURE},{error:a}))}))}},this.duplicateChapterModule=function(e){return function(t){t(Object(c.A)({type:r.m.ADMIN_COPY_MODULE_REQUEST},{})),i.a.duplicateChapterModule(e).then((function(e){!0===e.status?window.location.href=e.result.redirect_url:t(Object(c.A)({type:r.m.ADMIN_COPY_MODULE_FAILURE},{error:e.message}))}),(function(e){var a=Object(c.c)(e);t(Object(c.A)({type:r.m.ADMIN_COPY_MODULE_FAILURE},{error:a}))}))}},this.fetchFilterOptions=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(a){a(Object(c.A)({type:r.o.FETCH_FILTER_OPTIONS_DATA_REQUEST},{})),i.a.fetchFilterOptions(e).then((function(n){n.status?(a(Object(c.A)({type:r.o.FETCH_FILTER_OPTIONS_DATA_SUCCESS},{filter_data:n.result,workspace_id:e.is_switch_workspace===r.Db?e.selected_workspace_id:n.workspace_id,admin_page:e.admin_page})),t&&t()):a(Object(c.A)({type:r.o.FETCH_FILTER_OPTIONS_DATA_FAILURE},{error:n.message}))}),(function(e){var t=Object(c.c)(e);a(Object(c.A)({type:r.o.FETCH_FILTER_OPTIONS_DATA_FAILURE},{error:t}))}))}},this.updateFilterOptions=function(e){return function(t){t(Object(c.A)({type:r.o.UPDATE_FILTER_OPTIONS_REQUEST},{})),i.a.updateFilterOptions(e).then((function(e){!0===e.status?t(Object(c.A)({type:r.o.UPDATE_FILTER_OPTIONS_SUCCESS},{filter_data:e.result})):t(Object(c.A)({type:r.o.UPDATE_FILTER_OPTIONS_FAILURE},{error:e.message}))}),(function(e){var a=Object(c.c)(e);t(Object(c.A)({type:r.o.UPDATE_FILTER_OPTIONS_FAILURE},{error:a}))}))}},this.fetchFilteredStudents=function(e){return function(t){t(Object(c.A)({type:r.o.FETCH_FILTERED_STUDENT_DATA_REQUEST},{})),i.a.fetchFilteredStudents(e).then((function(a){!0===a.status?t(Object(c.A)({type:r.o.FETCH_FILTERED_STUDENT_DATA_SUCCESS},{filtered_students:a.result.filtered_students,filtered_instructors:a.result.filtered_instructors,filter_used:e})):t(Object(c.A)({type:r.o.FETCH_FILTERED_STUDENT_DATA_FAILURE},{error:a.message}))}),(function(e){var a=Object(c.c)(e);t(Object(c.A)({type:r.o.FETCH_FILTERED_STUDENT_DATA_FAILURE},{error:a}))}))}},this.assignStudentToInstructor=function(e,t){return function(a){a(Object(c.A)({type:r.o.ASSIGN_STUDENT_TO_INSTRUCTOR_REQUEST},{})),i.a.assignStudentToInstructor(t).then((function(t){t.status&&!t.message?a(Object(c.A)({type:r.o.ASSIGN_STUDENT_TO_INSTRUCTOR_SUCCESS},Object(n.a)(Object(n.a)({table_data:e},t.results),{error:t.message}))):a(Object(c.A)({type:r.o.ASSIGN_STUDENT_TO_INSTRUCTOR_FAILURE},{error:t.message}))}),(function(e){var t=Object(c.c)(e);a(Object(c.A)({type:r.o.ASSIGN_STUDENT_TO_INSTRUCTOR_FAILURE},{error:t}))}))}},this.assignStudentViaEmail=function(e,t){var a=Object(n.a)(Object(n.a)({},t.instructor_item_data),{student_emails:t.student_emails,is_assign:!0});return function(t){t(Object(c.A)({type:r.o.ASSIGN_STUDENT_TO_INSTRUCTOR_REQUEST},{})),i.a.assignStudentViaEmail(a).then((function(a){a.status?t(Object(c.A)({type:r.o.ASSIGN_STUDENT_TO_INSTRUCTOR_SUCCESS},Object(n.a)(Object(n.a)({table_data:e},a.results),{error:a.error}))):t(Object(c.A)({type:r.o.ASSIGN_STUDENT_TO_INSTRUCTOR_FAILURE},{error:a.error}))}),(function(e){var a=Object(c.c)(e);t(Object(c.A)({type:r.o.ASSIGN_STUDENT_TO_INSTRUCTOR_FAILURE},{error:a}))}))}},this.changePropsValue=function(e,t){return function(a){a(Object(c.A)({type:r.o.CHANGE_PROPS_VALUE_REQUEST},{props_name:e,props_value:t}))}},this.navigateToLP2Admin=function(){return function(e){i.a.getLP2AdminUrl().then((function(e){var t;if(!0===e.status&&(null===(t=e.result)||void 0===t?void 0:t.auto_login_url)){var a=window.open(e.result.auto_login_url,"_blank","noopener,noreferrer");a&&(a.opener=null)}}))}}}},651:function(e,t){},654:function(e,t,a){},655:function(e,t,a){},656:function(e,t,a){},657:function(e,t,a){},658:function(e,t,a){},659:function(e,t,a){},660:function(e,t,a){},661:function(e,t,a){},662:function(e,t,a){},663:function(e,t,a){},664:function(e,t,a){},665:function(e,t,a){},666:function(e,t,a){},667:function(e,t,a){},668:function(module,__webpack_exports__,__webpack_require__){"use strict";var _var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11),_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(15),_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7),_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),_helpers_helpers__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),_config_constants__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1),react_redux__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(17),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(9),moment__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(12),moment__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_11__),react_bootstrap__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(76),react_bootstrap__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(90),_actions_forum_actions__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(89),_actions_user_forum_summaries_actions__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(114),_modals_delete_forum_answer_modal__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(479),_modals_ask_forum_question_modal__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(480),_modals_delete_forum_question_modal__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(481),_assignment_forum_question_component__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(482),_global_components_profile_popover_component__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(140),_assignment_forum_component_scss__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(1178),_assignment_forum_component_scss__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(_assignment_forum_component_scss__WEBPACK_IMPORTED_MODULE_21__),_assets_images_courses_no_question_placeholder_png__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(269),_assets_images_courses_no_question_placeholder_png__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(_assets_images_courses_no_question_placeholder_png__WEBPACK_IMPORTED_MODULE_22__),AssignmentForum=function(_Component){Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(AssignmentForum,_Component);var _super=Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_5__.a)(AssignmentForum);function AssignmentForum(e){var t;Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__.a)(this,AssignmentForum),(t=_super.call(this,e)).componentDidUpdate=function(e,a){var n=t.props,s=n.pathParams,r=n.history,o=n.forum,i=document.URL.split("/"),c=parseInt(i.pop());t.props&&e.pathParams.module_id!==t.props.pathParams.module_id&&t.props.fetchAssignmentForumData({track_id:t.props.pathParams.track_id,chapter_id:t.props.pathParams.chapter_id,chapter_module_id:t.props.pathParams.module_id}),o.new_question_id&&o.new_question_id!==c&&e.forum!==o&&(i.includes("forum_question")?window.location.href="/m/"+s.track_id+"/"+s.chapter_id+"/"+s.module_id+"/forum_question/"+o.new_question_id:r.push("/m/"+s.track_id+"/"+s.chapter_id+"/"+s.module_id+"/forum_question/"+o.new_question_id),window.scrollTo({top:document.querySelector("#assignment_forum_container").offsetTop-30,behavior:"smooth"})),i.includes("forum_question")&&o.question_id&&o.question_id!==c&&(window.location.href="/m/"+s.track_id+"/"+s.chapter_id+"/"+s.module_id+"/forum_question/"+c)},t.showMoreQuestions=function(){t.setState({default_showed_questions_count:t.state.default_showed_questions_count+5})},t.votePost=function(e,a){var n=t.props.pathParams,s=n.track_id,r=n.chapter_id,o=n.module_id,i=[s,r,o].map(Number),c=Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(i,3);s=c[0],r=c[1],o=c[2],t.props.toggleVoteComment({comment_id:e,vote_type:a,track_id:s,chapter_id:r,module_id:o})},t.handleCreateNewQuestion=function(e){e.path_params=t.props.pathParams,e.is_question=!0,t.props.submitNewComment(e)},t.handleCreateNewAnswer=function(e){e.path_params=t.props.pathParams,e.is_question=!1,t.props.submitNewComment(e)},t.handleDeleteQuestion=function(e){e.preventDefault();var a=t.props.forum.action;t.props.setCommentToArchive({comment_id:t.state.question_id_to_be_delete}),t.setState({is_show_delete_question_modal:!1},(function(){t.props.history.push("/m/".concat(a.track_id,"/").concat(a.chapter_id,"/").concat(a.chapter_module_id))}))},t.handleDeleteAnswer=function(e){e.preventDefault(),t.props.setCommentToArchive({comment_id:t.state.answer_id_to_be_delete}),t.setState({is_show_delete_answer_modal:!1})},t.toggleEndorseAnswer=function(e,a){var n=t.props.forum.forum_assignment_answers,s=t.props.pathParams,r=s.track_id,o=s.chapter_id,i=s.module_id,c=t.state.user_details,_=[],l=!1;n.map((function(e){e.comment_id===a?(e.is_answer_endorsed=!e.is_answer_endorsed,e.is_show_full_description=!0,e.is_answer_endorsed?(e.endorsed_by={user_id:c.id,name:c.first_name+" "+c.last_name.charAt(0)+"."},_.push(e.comment_id)):l=!0):e.is_answer_endorsed&&_.push(e.comment_id)}));var d=[r,o,i].map(Number),u=Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(d,3);r=u[0],o=u[1],i=u[2],t.props.toggleVoteComment({parent_comment_id:e,comment_id:a,vote_type:_config_constants__WEBPACK_IMPORTED_MODULE_8__.Wb.endorsement,track_id:r,chapter_id:o,module_id:i}),a=l?[]:_;var p=Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_7__.R)(n,["is_answer_endorsed","cache_upvotes_count"],{comment_id:a},"date_posted");t.setState({forum_assignment_answers:p})},t.toggleShowAnswerEditor=function(e,a){var n=Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(t.props.forum.forum_assignment_answers);n.map((function(t){t.comment_id===a&&(t.is_show_editor=e)})),t.setState({forum_assignment_answers:n})},t.showDeleteModal=function(e,a){e?t.setState({is_show_delete_question_modal:!0,question_id_to_be_delete:a}):t.setState({is_show_delete_answer_modal:!0,answer_id_to_be_delete:a})},t.showUpdateQuestionModal=function(e){t.setState({is_show_ask_forum_question_modal:!0,selected_question:e})},t.handleUpdateQuestion=function(e){t.props.updateCommentRecord({comment_id:t.state.selected_question.comment_id,title:e.question_title,description:e.question_description,post_type:e.active_post_type.label,user_details:t.state.user_details})},t.viewFullQuestion=function(e,a){var n=t.props.pathParams;null===e.target.closest(".edit_btn, .delete_btn")&&t.props.history.push("/m/"+n.track_id+"/"+n.chapter_id+"/"+n.module_id+"/forum_question/"+a),window.scrollTo({top:document.querySelector("#assignment_forum_container").offsetTop-30,behavior:"smooth"})},t.renderPostTypeIcon=function(e){return 0===e?react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5ZM12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17ZM12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z",fill:"#394A64"})):react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.0035 10.3334H16.5032V8.49891C16.5032 6.01207 14.4872 3.99609 12.0004 3.99609C9.51354 3.99609 7.49757 6.01207 7.49757 8.49891V10.3334H6.99725C6.26041 10.3334 5.66309 10.9307 5.66309 11.6676V18.6719C5.66309 19.4088 6.26041 20.0061 6.99725 20.0061H17.0035C17.7403 20.0061 18.3377 19.4088 18.3377 18.6719V11.6676C18.3377 10.9307 17.7403 10.3334 17.0035 10.3334ZM10.6662 14.3359C10.6633 13.6877 11.1267 13.1312 11.7647 13.0167C12.4028 12.9022 13.0308 13.2629 13.2534 13.8716C13.476 14.4804 13.2288 15.1612 12.6675 15.4853V17.0042C12.6675 17.3726 12.3688 17.6713 12.0004 17.6713C11.632 17.6713 11.3333 17.3726 11.3333 17.0042V15.4853C10.9218 15.2486 10.6675 14.8106 10.6662 14.3359ZM12.0004 5.6638C10.4346 5.6638 9.16527 6.93312 9.16527 8.49891V9.99984C9.16527 10.1841 9.31461 10.3334 9.49882 10.3334H14.5019C14.6861 10.3334 14.8355 10.1841 14.8355 9.99984V8.49891C14.8355 6.93312 13.5662 5.6638 12.0004 5.6638Z",fill:"#5E6871"}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("mask",{id:"mask0","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"5",y:"3",width:"14",height:"18"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.0035 10.3334H16.5032V8.49891C16.5032 6.01207 14.4872 3.99609 12.0004 3.99609C9.51354 3.99609 7.49757 6.01207 7.49757 8.49891V10.3334H6.99725C6.26041 10.3334 5.66309 10.9307 5.66309 11.6676V18.6719C5.66309 19.4088 6.26041 20.0061 6.99725 20.0061H17.0035C17.7403 20.0061 18.3377 19.4088 18.3377 18.6719V11.6676C18.3377 10.9307 17.7403 10.3334 17.0035 10.3334ZM10.6662 14.3359C10.6633 13.6877 11.1267 13.1312 11.7647 13.0167C12.4028 12.9022 13.0308 13.2629 13.2534 13.8716C13.476 14.4804 13.2288 15.1612 12.6675 15.4853V17.0042C12.6675 17.3726 12.3688 17.6713 12.0004 17.6713C11.632 17.6713 11.3333 17.3726 11.3333 17.0042V15.4853C10.9218 15.2486 10.6675 14.8106 10.6662 14.3359ZM12.0004 5.6638C10.4346 5.6638 9.16527 6.93312 9.16527 8.49891V9.99984C9.16527 10.1841 9.31461 10.3334 9.49882 10.3334H14.5019C14.6861 10.3334 14.8355 10.1841 14.8355 9.99984V8.49891C14.8355 6.93312 13.5662 5.6638 12.0004 5.6638Z",fill:"white"})),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("g",{mask:"url(#mask0)"}))},t.determineAuthorType=function(e){return _config_constants__WEBPACK_IMPORTED_MODULE_8__.d.includes(e)?"instructor":"student"},t.state={is_show_ask_forum_question_modal:!1,is_show_delete_question_modal:!1,is_show_delete_answer_modal:!1,answer_id_to_be_delete:null,question_id_to_be_delete:null,default_showed_questions_count:5,selected_question:void 0,user_details:void 0,forum_assignment_questions:[],unused_attachments:[]};var a=Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_7__.y)();return!0===a.status&&(t.state.user_details=a.user_details.general),t}return Object(_var_www_login_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__.a)(AssignmentForum,[{key:"componentDidMount",value:function componentDidMount(){this.props.fetchAssignmentForumData({track_id:this.props.pathParams.track_id,chapter_id:this.props.pathParams.chapter_id,chapter_module_id:this.props.pathParams.module_id});var url_parameter=new URLSearchParams(window.location.search),step=eval(url_parameter.get("step"));2===step&&"/m/1/4635/34300"===window.location.pathname&&this.setState({is_show_ask_forum_question_modal:!0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.is_show_ask_forum_question_modal,n=t.is_show_delete_question_modal,s=t.is_show_delete_answer_modal,r=t.default_showed_questions_count,o=t.user_details,i=t.selected_question,c=this.props,_=c.pathParams,l=c.forum,d=c.notification_count,u=c.raw_notifications,p=c.markNotificationAsRead,m=c.user_forum_summaries;return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{id:"assignment_forum_container"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{id:"forum_head_container"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("h2",null,"Assignment Forum"),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("a",{href:"/dashboard?startForumTour=true"},"Watch Forum Demo"),0!==l.forum_assignment_questions.length&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{id:"forum_menu_container"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",{className:"".concat(!1===document.URL.split("/").includes("forum_question")?"not_visible":""),onClick:function(){return e.props.history.push("/m/"+_.track_id+"/"+_.chapter_id+"/"+_.module_id)},id:"back_to_questions_list_btn",type:"button"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__.a,{icon:["fas","chevron-left"]})," Back to Questions List"),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",{id:"ask_question_btn",type:"button",onClick:function(){return e.setState({is_show_ask_forum_question_modal:!0,selected_question:void 0})}},"Ask Question"))),0===l.forum_assignment_questions.length?react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"no_question_available_container"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("img",{src:_assets_images_courses_no_question_placeholder_png__WEBPACK_IMPORTED_MODULE_22___default.a,alt:"No one has asked any questions!"}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p",null,"No one has asked any questions!"),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",{type:"button",onClick:function(){return e.setState({is_show_ask_forum_question_modal:!0,selected_question:void 0})}},"Be The First To Ask A Question")):react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment,null,document.URL.split("/").includes("forum_question")?react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_assignment_forum_question_component__WEBPACK_IMPORTED_MODULE_19__.a,{notification_count:d,raw_notifications:u,markNotificationAsRead:p,pathParams:_,votePost:this.votePost,user_details:o,onShowDeleteModal:this.showDeleteModal,onHandleCreateNewAnswer:this.handleCreateNewAnswer,onToggleEndorseAnswer:this.toggleEndorseAnswer,onToggleShowAnswerEditor:this.toggleShowAnswerEditor,onShowUpdateQuestionModal:this.showUpdateQuestionModal,onRenderPostTypeIcon:this.renderPostTypeIcon,uploadImageToS3:this.props.uploadImageToS3,is_uploading:l.is_uploading,uploaded_attachments:l.uploaded_attachments,deleteAttachedFiles:this.props.deleteAttachedFiles,deleted_attachments:l.deleted_attachments,unable_to_delete:l.unable_to_delete,determineAuthorType:this.determineAuthorType,fetchUserForumSummary:this.props.fetchUserForumSummary,resetUserForumSummaries:this.props.resetUserForumSummaries,user_forum_summaries:m}):react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{id:"questions_list_container"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span",null,l.forum_assignment_questions.length)," question",l.forum_assignment_questions.length>1?"s ranked by top votes.":""),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("ul",{id:"questions_list"},l.forum_assignment_questions.slice(0,r).map((function(t){var a=t.author_details.user_id===o.id;return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("li",{key:t.comment_id},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"voting_container"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_12__.a,{overlay:react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_13__.a,{className:"forum_tooltip"},a?"You can't up vote your question":"This question is useful")},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",{type:"button",onClick:function(){return!a&&e.votePost(t.comment_id,_config_constants__WEBPACK_IMPORTED_MODULE_8__.Wb.up_vote)},className:"up_vote_btn ".concat(t.vote_state!==_config_constants__WEBPACK_IMPORTED_MODULE_8__.Db||a?"":"selected","\n                                                                ")},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__.a,{icon:["fas","chevron-up"]}))),_config_constants__WEBPACK_IMPORTED_MODULE_8__.T?react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span",null,!_config_constants__WEBPACK_IMPORTED_MODULE_8__.U&&t.cache_downvotes_count>t.cache_upvotes_count?_config_constants__WEBPACK_IMPORTED_MODULE_8__.dc:t.cache_upvotes_count-t.cache_downvotes_count):react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span",null,t.cache_upvotes_count),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_12__.a,{overlay:react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_13__.a,{className:"forum_tooltip"},a?"You can't down vote your question":"This question is not useful")},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",{type:"button",onClick:function(){return!a&&e.votePost(t.comment_id,_config_constants__WEBPACK_IMPORTED_MODULE_8__.Wb.down_vote)},className:"\n                                                                    down_vote_btn \n                                                                    ".concat(t.vote_state===_config_constants__WEBPACK_IMPORTED_MODULE_8__.P?"selected":"","\n                                                                    ").concat(0===t.cache_downvotes_count&&!t.vote_state===_config_constants__WEBPACK_IMPORTED_MODULE_8__.P?"disabled":"","\n                                                                ")},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__.a,{icon:["fas","chevron-down"]})))),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"post_container",onClick:function(a){return e.viewFullQuestion(a,t.comment_id)}},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("h5",null,t.title),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"post_description",dangerouslySetInnerHTML:{__html:t.description}}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"menu_container"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",{type:"button",className:"answers_btn"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("i",{className:"btn_icon"}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span",null,t.total_replies," Answer",t.total_replies>1?"s":"")),t.total_endorsed_answers>0&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",{type:"button",className:"endorse_btn"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("i",{className:"btn_icon"}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span",null,t.total_endorsed_answers," Endorsed Answer",t.total_endorsed_answers>1?"s":"")),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p",{className:"".concat("anonymous"===t.post_type?"anonymous":e.determineAuthorType(t.author_details.type),"_type")},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("i",{className:"user_type_icon"}),"anonymous"!==t.post_type?react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_12__.a,{trigger:["hover","hover"],overlay:react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_global_components_profile_popover_component__WEBPACK_IMPORTED_MODULE_20__.a,{person_details:t.author_details,determineAuthorType:e.determineAuthorType,fetchUserForumSummary:e.props.fetchUserForumSummary,resetUserForumSummaries:e.props.resetUserForumSummaries,user_forum_summaries:m})},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span",null,t.author_details.first_name," ",t.author_details.last_name[0],".")):react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span",null,"Anonymous User"),"asked ",Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_7__.s)(t.date_posted),void 0!==t.is_edited&&t.is_edited?" (Edited)":null),t.author_details.user_id===o.id&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",{type:"button",className:"edit_btn",onClick:function(){return e.showUpdateQuestionModal(t)}},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("i",{className:"btn_icon"}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span",null,"Edit Question")),(t.author_details.user_id===o.id||_config_constants__WEBPACK_IMPORTED_MODULE_8__.d.indexOf(o.user_level_id)>-1)&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",{type:"button",className:"delete_btn",onClick:function(){return e.showDeleteModal(!0,t.comment_id)}},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("i",{className:"btn_icon"}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span",null,"Delete Question")))))}))),l.forum_assignment_questions.length-r>0&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",{type:"button",onClick:function(){return e.showMoreQuestions()}},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__.a,{icon:["fas","chevron-down"]}),"View ",l.forum_assignment_questions.length-r<5?l.forum_assignment_questions.length-r:5," More Questions"))),a&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_modals_ask_forum_question_modal__WEBPACK_IMPORTED_MODULE_17__.a,{show:a,selected_question:i,onHandleCreateNewQuestion:this.handleCreateNewQuestion,onHandleUpdateQuestion:this.handleUpdateQuestion,user_details:o,onRenderPostTypeIcon:this.renderPostTypeIcon,uploadImageToS3:this.props.uploadImageToS3,is_uploading:l.is_uploading,uploaded_attachments:l.uploaded_attachments,deleteAttachedFiles:this.props.deleteAttachedFiles,deleted_attachments:l.deleted_attachments,unable_to_delete:l.unable_to_delete,toggleShowModal:function(){return Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_7__.W)(e,"is_show_ask_forum_question_modal",!1)}}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_modals_delete_forum_question_modal__WEBPACK_IMPORTED_MODULE_18__.a,{show:n,onHandleDeleteQuestion:this.handleDeleteQuestion,toggleShowModal:function(){return Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_7__.W)(e,"is_show_delete_question_modal",!1)}}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_modals_delete_forum_answer_modal__WEBPACK_IMPORTED_MODULE_16__.a,{show:s,onHandleDeleteAnswer:this.handleDeleteAnswer,toggleShowModal:function(){return Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_7__.W)(e,"is_show_delete_answer_modal",!1)}}))}}]),AssignmentForum}(react__WEBPACK_IMPORTED_MODULE_6__.Component),fetchUserForumSummary=_actions_user_forum_summaries_actions__WEBPACK_IMPORTED_MODULE_15__.a.fetchUserForumSummary,resetUserForumSummaries=_actions_user_forum_summaries_actions__WEBPACK_IMPORTED_MODULE_15__.a.resetUserForumSummaries,submitNewComment=_actions_forum_actions__WEBPACK_IMPORTED_MODULE_14__.a.submitNewComment,fetchAssignmentForumData=_actions_forum_actions__WEBPACK_IMPORTED_MODULE_14__.a.fetchAssignmentForumData,toggleVoteComment=_actions_forum_actions__WEBPACK_IMPORTED_MODULE_14__.a.toggleVoteComment,setCommentToArchive=_actions_forum_actions__WEBPACK_IMPORTED_MODULE_14__.a.setCommentToArchive,updateCommentRecord=_actions_forum_actions__WEBPACK_IMPORTED_MODULE_14__.a.updateCommentRecord,uploadImageToS3=_actions_forum_actions__WEBPACK_IMPORTED_MODULE_14__.a.uploadImageToS3,deleteAttachedFiles=_actions_forum_actions__WEBPACK_IMPORTED_MODULE_14__.a.deleteAttachedFiles,_mapAnddispatchAction=Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_7__.J)(["forum","user_forum_summaries"],{submitNewComment:submitNewComment,fetchAssignmentForumData:fetchAssignmentForumData,toggleVoteComment:toggleVoteComment,setCommentToArchive:setCommentToArchive,updateCommentRecord:updateCommentRecord,uploadImageToS3:uploadImageToS3,deleteAttachedFiles:deleteAttachedFiles,fetchUserForumSummary:fetchUserForumSummary,resetUserForumSummaries:resetUserForumSummaries}),mapStateToProps=_mapAnddispatchAction.mapStateToProps,mapDispatchToProps=_mapAnddispatchAction.mapDispatchToProps,_unused_webpack_default_export=Object(react_redux__WEBPACK_IMPORTED_MODULE_9__.b)(mapStateToProps,mapDispatchToProps)(AssignmentForum)},69:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var n=a(4),s=a(5),r=a(7),o=a(6),i=a(1),c=a(2),_=new(function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){var e,r,o;Object(s.a)(this,a),(o=t.call(this)).fetch_lp2_exam_link=function(){return this.sendRequest("".concat(i.f.URL).concat(this.API_pre_link,"/exam/get_lp2_exam_link"),{},!0).then(c.z).then((function(e){return e}))},o.fetch_exam_histories=function(e){return this.sendRequest("".concat(i.f.URL).concat(this.API_pre_link,"/exam/histories"),e,!0).then(c.z).then((function(e){return e}))},o.fetch_user_belts=function(){return this.sendRequest("".concat(i.f.URL).concat(this.API_pre_link,"/users/fetch_user_belts"),{},!0).then(c.z).then((function(e){return e}))},o.updateStudentGrade=function(e){return this.sendRequest("".concat(i.f.URL).concat(this.API_pre_link,"/exam/update_student_grade"),e,!0).then(c.z).then((function(e){return e}))},o.saveExamRecord=function(e){return this.sendRequest("".concat(i.f.URL).concat(this.API_pre_link,"/exam/add_exam_record"),e,!0).then(c.z).then((function(e){return e}))},o.fetchExamCodes=function(e){return this.sendRequest("".concat(i.f.URL).concat(this.API_pre_link,"/exam/fetch_exam_codes"),e,!0).then(c.z).then((function(e){return e}))},o.searchStudents=function(e){return this.sendRequest("".concat(i.f.URL).concat(this.API_pre_link,"/exam/search_students"),e,!0).then(c.z).then((function(e){return e}))},o.fetchExamOptionsDropdown=function(e){return this.sendRequest("".concat(i.f.URL).concat(this.API_pre_link,"/exam/fetch_exam_code_type_dropdown"),e,!0).then(c.z).then((function(e){return e}))},o.updateExamOptionDropdown=function(e){return this.sendRequest("".concat(i.f.URL).concat(this.API_pre_link,"/exam/update_exam_code_option_dropdown"),e,!0).then(c.z).then((function(e){return e}))},o.saveGeneratedExamCode=function(e){return this.sendRequest("".concat(i.f.URL).concat(this.API_pre_link,"/exam/save_generated_exam_code"),e,!0).then(c.z).then((function(e){return e}))},o.fetchStudentExamFilterOptions=function(e){return this.sendRequest("".concat(i.f.URL).concat(this.API_pre_link,"/admin/exam/student/filter_options"),Object(n.a)({},e),!0).then(c.z).then((function(e){return e}))},o.fetchFilteredStudentExamData=function(e){return this.sendRequest("".concat(i.f.URL).concat(this.API_pre_link,"/admin/exam/filtered_students_data"),Object(n.a)(Object(n.a)({},e),e.filters),!0).then(c.z).then((function(e){return e}))},o.update_exam_filter_options=function(e){return this.sendRequest("".concat(i.f.URL).concat(this.API_pre_link,"/admin/update_filter_options"),e,!0).then(c.z).then((function(e){return e}))},o.get_student_exam_details=function(e){return this.sendRequest("".concat(i.f.URL).concat(this.API_pre_link,"/exam/get_student_exam_details"),e,!0).then(c.z).then((function(e){return e}))},o.getUploadPreSignedURL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"upload";return this.sendRequest("".concat(i.f.URL).concat(this.API_pre_link,"/file_management/initialize/").concat(t),e,!0).then(c.z).then((function(e){return e}))};var _=Object(c.y)();return o.API_pre_link=(null===_||void 0===_||null===(e=_.user_details)||void 0===e||null===(r=e.general)||void 0===r?void 0:r.trial_platform_mode)?"/t":"",o}return a}(a(34).a))},71:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(5),s=a(7),r=a(6),o=a(1),i=a(2),c=new(function(e){Object(s.a)(c,e);var t=Object(r.a)(c);function c(){var e,s,r;Object(n.a)(this,c),(r=t.call(this)).get_student_rostering_filters=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/admin/rostering/get_student_rostering_filters"),e,!0).then(i.z).then((function(e){return e}))},r.update_rostering_filter_options=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/admin/update_filter_options"),e,!0).then(i.z).then((function(e){return e}))},r.get_filtered_student_rostering_list_data=function(e){return"export"===e.event?this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/admin/rostering/get_filtered_student_list"),e,!0).then((function(e){return e.blob()})).then((function(e){var t=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.href=t;var s=a(12);n.setAttribute("download","student-roster-export(".concat(s().format("MMDDYYYY"),").csv")),document.body.appendChild(n),n.click(),n.parentNode.removeChild(n)})):this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/admin/rostering/get_filtered_student_list"),e,!0).then(i.z).then((function(e){return e}))},r.get_next_stack_options_list=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/admin/rostering/get_next_stack_options_list"),e,!0).then(i.z).then((function(e){return e}))},r.process_selected_students_next_stack=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/admin/rostering/process_selected_students_next_stack"),e,!0).then(i.z).then((function(e){return e}))},r.get_student_profile_details=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/admin/rostering/get_student_profile_details"),e,!0).then(i.z).then((function(e){return e}))},r.unlock_student_next_stack=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/admin/rostering/unlock_student_next_stack"),e,!0).then(i.z).then((function(e){return e}))},r.update_student_ap_status=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/admin/rostering/update_student_ap_status"),e,!0).then(i.z).then((function(e){return e}))},r.delete_student_stack_schedule=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/admin/rostering/delete_student_stack_schedule"),e,!0).then(i.z).then((function(e){return e}))},r.update_student_stack_schedule=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/admin/rostering/update_student_stack_schedule"),e,!0).then(i.z).then((function(e){return e}))},r.update_student_region=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/admin/rostering/update_student_region"),e,!0).then(i.z).then((function(e){return e}))},r.fetch_instructor_options=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/admin/rostering/fetch_instructor_options"),e,!0).then(i.z).then((function(e){return e}))};var _=Object(i.y)();return r.API_pre_link=(null===_||void 0===_||null===(e=_.user_details)||void 0===e||null===(s=e.general)||void 0===s?void 0:s.trial_platform_mode)?"/t":"",r}return c}(a(34).a))},769:function(e,t,a){},79:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(77),s=a(15),r=a(5),o=a(1),i=a(69),c=a(7),_=a(6),l=a(2),d=new(function(e){Object(c.a)(a,e);var t=Object(_.a)(a);function a(){var e,n,s;Object(r.a)(this,a),(s=t.call(this)).fetchStats=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/stats/stats"),e,!0).then(l.z).then((function(e){return e}))},s.fetchCoreAssignmentsBreakdown=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/stats/core-assignments-breakdown"),e,!0).then(l.z).then((function(e){return e}))},s.getUserAttendanceBreakdown=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/stats/user_attendance_breakdown"),e,!0).then(l.z).then((function(e){return e}))},s.getExamFeedback=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/stats/get_exam_feedback"),e,!0).then(l.z).then((function(e){return e}))};var i=Object(l.y)();return s.API_pre_link=(null===i||void 0===i||null===(e=i.user_details)||void 0===e||null===(n=e.general)||void 0===n?void 0:n.trial_platform_mode)?"/t":"",s}return a}(a(34).a)),u=new function e(){Object(r.a)(this,e),this.getCoreAssignmentCompletionRate=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){t(Object(l.A)({type:o.Ub.GET_STATS_CORE_COMPLETION_REQUEST},{})),d.fetchCoreAssignmentsProgress({is_overall_progress:e}).then((function(e){if(e.status){var a=e.result.core_completion_data;t(Object(l.A)({type:o.Ub.GET_STATS_CORE_COMPLETION_SUCCESS},{core_completion_data:a}))}else t(Object(l.A)({type:o.Ub.GET_STATS_CORE_COMPLETION_FAILURE},{error:e.message}))}),(function(e){var a=Object(l.c)(e);t(Object(l.A)({type:o.Ub.GET_STATS_CORE_COMPLETION_FAILURE},{error:a}))}))}},this.getCoreAssignmentBreakdown=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(n){n(Object(l.A)({type:o.Ub.GET_STATS_CORE_BREAKDOWN_REQUEST},{})),d.fetchCoreAssignmentsBreakdown({track_id:e,cc_stack_schedule_id:t,page_index:a}).then((function(e){e.status?n(Object(l.A)({type:o.Ub.GET_STATS_CORE_BREAKDOWN_SUCCESS},{core_breakdown_data:e.result})):n(Object(l.A)({type:o.Ub.GET_STATS_CORE_BREAKDOWN_FAILURE},{error:e.message}))}),(function(e){var t=Object(l.c)(e);n(Object(l.A)({type:o.Ub.GET_STATS_CORE_BREAKDOWN_FAILURE},{error:t}))}))}},this.getUserAttendanceBreakdown=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return function(n){n(Object(l.A)({type:o.Ub.GET_STATS_ATTENDANCE_BREAKDOWN_REQUEST},{})),d.getUserAttendanceBreakdown({cc_stack_schedule_id:e,track_id:t,week_no:a}).then((function(e){if(e.status){var t=e.result;n(Object(l.A)({type:o.Ub.GET_STATS_ATTENDANCE_BREAKDOWN_SUCCESS},{user_attendance_data:t}))}else n(Object(l.A)({type:o.Ub.GET_STATS_ATTENDANCE_BREAKDOWN_FAILURE},{error:e.error}))}),(function(e){var t=Object(l.c)(e);n(Object(l.A)({type:o.Ub.GET_STATS_ATTENDANCE_BREAKDOWN_FAILURE},{error:t}))}))}},this.fetchContentBreakdown=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(n){n(Object(l.A)({type:o.Ub.GET_CONTENT_BREAKDOWN_REQUEST},{})),d.fetchContentBreakdown({track_id:e,cc_stack_schedule_id:t,page_index:a}).then((function(e){e.status?n(Object(l.A)({type:o.Ub.GET_CONTENT_BREAKDOWN_SUCCESS},{content_breakdown_table:e.result})):n(Object(l.A)({type:o.Ub.GET_CONTENT_BREAKDOWN_FAILURE},{error:e.message}))}),(function(e){var t=Object(l.c)(e);n(Object(l.A)({type:o.Ub.GET_CONTENT_BREAKDOWN_FAILURE},{error:t}))}))}},this.getUserBelts=function(){return function(e){e(Object(l.A)({type:o.Ub.GET_STATS_BELT_REQUEST},{})),i.a.fetch_user_belts(!0).then((function(t){if(t.status){var a=[],n=t.result.belts_and_exams_progress.belt_summaries;if(!n)for(var r=0,i=Object.entries(n);r<i.length;r++){var c=Object(s.a)(i[r],2),_=c[0],d=c[1],u="Orange",p=d.color.split(" ").pop();u=p.indexOf("_belt")>-1?p.replace("_belt",""):p,d.level>=0&&a.push({id:parseInt(_),belt_description:"".concat(d.label,": ").concat(u.charAt(0).toUpperCase()).concat(u.slice(1)),belt_class:d.color})}e(Object(l.A)({type:o.Ub.GET_STATS_BELT_SUCCESS},{user_belts:a}))}else e(Object(l.A)({type:o.Ub.GET_STATS_BELT_FAILURE},{error:t.message}))}),(function(t){var a=Object(l.c)(t);e(Object(l.A)({type:o.Ub.GET_STATS_BELT_FAILURE},{error:a}))}))}},this.getStatExamHistories=function(){return function(e){e(Object(l.A)({type:o.Ub.GET_STATS_EXAM_HISTORY_REQUEST},{})),i.a.fetch_exam_histories().then((function(t){if(t.status){var a=t.result.belts_and_exams_progress.exam_histories;e(Object(l.A)({type:o.Ub.GET_STATS_EXAM_HISTORY_SUCCESS},{exam_histories:a}))}else e(Object(l.A)({type:o.Ub.GET_STATS_EXAM_HISTORY_FAILURE},{error:t.message}))}),(function(t){var a=Object(l.c)(t);e(Object(l.A)({type:o.Ub.GET_STATS_EXAM_HISTORY_FAILURE},{error:a}))}))}},this.getStats=function(e){return function(t){t(Object(l.A)({type:o.Ub.GET_STATS_REQUEST},{})),d.fetchStats(e).then((function(e){e.status?t(Object(l.A)({type:o.Ub.GET_STATS_SUCCESS},{stats_data:e.result})):t(Object(l.A)({type:o.Ub.GET_STATS_FAILURE},{error:e.message}))}),(function(e){var a=Object(l.c)(e);t(Object(l.A)({type:o.Ub.GET_STATS_FAILURE},{error:a}))}))}},this.getExamFeedback=function(e){return function(t){t(Object(l.A)({type:o.Pb.GET_EXAM_FEEDBACK_REQUEST},{})),d.getExamFeedback(e).then((function(e){if(e.status){var a=e.result,s=(a.is_read_feedback,a.notification_id,a.updated_feedback_ids),r=a.updated_notification_ids,i=a.user_bootcamp_id,c=Object(n.a)(a,["is_read_feedback","notification_id","updated_feedback_ids","updated_notification_ids","user_bootcamp_id"]);t(Object(l.A)({type:o.Pb.GET_EXAM_FEEDBACK_SUCCESS},{selected_user_exam_feedback:c,updated_feedback_ids:s,updated_notification_ids:r,user_bootcamp_id:i}))}else t(Object(l.A)({type:o.Pb.GET_EXAM_FEEDBACK_FAILURE},{error:e.error}))}),(function(e){var a=Object(l.c)(e);t(Object(l.A)({type:o.Pb.GET_EXAM_FEEDBACK_FAILURE},{error:a}))}))}},this.triggerShowExamFeedback=function(e){return function(t){t(Object(l.A)({type:o.Pb.TRIGGER_SHOW_EXAM_FEEDBACK},{exam_feedback_details:e}))}}}},83:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var n=a(67),s=a(5),r=a(7),o=a(6),i=a(1),c=a(2),_=new(function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){var e,r,o;Object(s.a)(this,a),(o=t.call(this)).uploadModuleFiles=function(e,t){var a,s=new FormData,r=Object(n.a)(e.files);try{for(r.s();!(a=r.n()).done;){var o=a.value;s.append("files[]",o,o.name)}}catch(_){r.e(_)}finally{r.f()}return this.sendRequest("".concat(i.f.URL).concat(this.API_pre_link,"/admin/modules/").concat(e.track_id,"/").concat(e.chapter_id,"/").concat(e.chapter_module_id,"/upload"),s,!0,!0).then(c.z).then((function(e){t.complete(e)})).catch((function(e){t.complete(e)}))},o.updateChapterModule=function(e){var t=e.track_id,a=e.chapter_id,n=e.chapter_module_id,s=e.params_data;return this.sendRequest("".concat(i.f.URL).concat(this.API_pre_link,"/admin/modules/").concat(t,"/").concat(a,"/").concat(n,"/update"),{chapter_module_id:n,details:s},!0).then(c.z).then((function(e){return e}))},o.removeChapterModule=function(e){var t=e.track_id,a=e.chapter_id,n=e.chapter_module_id;return this.sendRequest("".concat(i.f.URL).concat(this.API_pre_link,"/admin/modules/").concat(t,"/").concat(a,"/").concat(n,"/remove"),{chapter_id:a,chapter_module_id:n},!0).then(c.z).then((function(e){return e}))},o.duplicateChapterModule=function(e){var t=e.track_id,a=e.chapter_id,n=e.chapter_module_id,s=e.new_chapter_id;return this.sendRequest("".concat(i.f.URL).concat(this.API_pre_link,"/admin/modules/").concat(t,"/").concat(a,"/").concat(n,"/duplicate"),{chapter_module_id:n,chapter_id:a,new_chapter_id:s},!0).then(c.z).then((function(e){return e}))},o.fetchFilteredStudents=function(e){return this.sendRequest("".concat(i.f.URL).concat(this.API_pre_link,"/admin/filter_students"),e,!0).then(c.z).then((function(e){return e}))},o.fetchFilterOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.sendRequest("".concat(i.f.URL).concat(this.API_pre_link,"/admin/filter_options"),e,!0).then(c.z).then((function(e){return e}))},o.updateFilterOptions=function(e){return this.sendRequest("".concat(i.f.URL).concat(this.API_pre_link,"/admin/update_filter_options"),e,!0).then(c.z).then((function(e){return e}))},o.assignStudentToInstructor=function(e){return this.sendRequest("".concat(i.f.URL).concat(this.API_pre_link,"/admin/assign_student_to_instructor"),e,!0).then(c.z).then((function(e){return e}))},o.fetchAssignmentMonitoringFilters=function(e){return this.sendRequest("".concat(i.f.URL).concat(this.API_pre_link,"/admin/assignment_monitoring/filter_options"),e,!0).then(c.z).then((function(e){return e}))},o.getLP2AdminUrl=function(){return this.sendRequest("".concat(i.f.URL).concat(this.API_pre_link,"/admin/fetch-admin-url"),{},!0).then(c.z).then((function(e){return e}))},o.assignStudentViaEmail=function(e){return this.sendRequest("".concat(i.f.URL).concat(this.API_pre_link,"/admin/rostering/assign_student_via_email"),e,!0).then(c.z).then((function(e){return e}))};var _=Object(c.y)();return o.API_pre_link=(null===_||void 0===_||null===(e=_.user_details)||void 0===e||null===(r=e.general)||void 0===r?void 0:r.trial_platform_mode)?"/t":"",o}return a}(a(34).a))},84:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(5),s=a(1),r=a(182),o=a(2),i=new function e(){Object(n.a)(this,e),this.get_user_checklist=function(){return function(e){e(Object(o.A)({type:s.Mb.GET_USER_CHECKLISTS_REQUEST},{})),r.a.fetch_user_checklists().then((function(t){!0===t.status?e(Object(o.A)({type:s.Mb.GET_USER_CHECKLISTS_SUCCESS},{checklists:t.result})):e(Object(o.A)({type:s.Mb.GET_USER_CHECKLISTS_FAILURE},{error:t.message}))}),(function(t){var a=Object(o.c)(t);e(Object(o.A)({type:s.Mb.GET_USER_CHECKLISTS_FAILURE},{error:a}))}))}},this.get_checklist_track_courses=function(e){return function(t){t(Object(o.A)({type:s.Mb.GET_USER_CHECKLISTS_COURSE_REQUEST},{})),r.a.fetch_checklist_track_courses(e).then((function(e){!0===e.status?t(Object(o.A)({type:s.Mb.GET_USER_CHECKLISTS_COURSE_SUCCESS},{track_courses:e.result})):t(Object(o.A)({type:s.Mb.GET_USER_CHECKLISTS_COURSE_FAILURE},{error:e.message}))}),(function(e){var a=Object(o.c)(e);t(Object(o.A)({type:s.Mb.GET_USER_CHECKLISTS_COURSE_FAILURE},{error:a}))}))}},this.get_checklist_course_assignments=function(e){return function(t){t(Object(o.A)({type:s.Mb.GET_USER_ASSIGNMENTS_REQUEST},{})),r.a.fetch_checklist_course_assignments(e).then((function(e){!0===e.status?t(Object(o.A)({type:s.Mb.GET_USER_ASSIGNMENTS_SUCCESS},{assignments:e.result})):t(Object(o.A)({type:s.Mb.GET_USER_ASSIGNMENTS_FAILURE},{error:e.message}))}),(function(e){var a=Object(o.c)(e);t(Object(o.A)({type:s.Mb.GET_USER_ASSIGNMENTS_FAILURE},{error:a}))}))}},this.triggerShowAssignmentFeedback=function(e){return function(t){t(Object(o.A)({type:s.Mb.TRIGGER_SHOW_ASSIGNMENT_FEEDBACK},{assignment_feedback_details:e}))}}}},86:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(5),s=a(7),r=a(6),o=a(1),i=a(2),c=new(function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e,s,r;Object(n.a)(this,a),(r=t.call(this)).fetchCoursePageData=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!0===t?"".concat(o.f.URL).concat(this.API_pre_link,"/admin/modules"):"".concat(o.f.URL).concat(this.API_pre_link,"/chapter_modules/m");return this.sendRequest("".concat(a,"/").concat(e.track_id,"/").concat(e.chapter_id,"/").concat(e.chapter_module_id),e,!0).then(i.z).then((function(a){if(a.token){localStorage.setItem("__BarioOtsoOtso__",a.token);var n=Object(i.y)();n.status&&n.user_details.workspace_custom_data&&(a.result.sence_integration=n.user_details.workspace_custom_data.sence_integration)}return a.status?"survey"!==a.result.chapter_module_id&&parseInt(e.chapter_module_id)!==parseInt(a.result.chapter_module_id)&&(a.result.proceed_to_new_url=!0,a.result.new_url="/m/".concat(e.track_id,"/").concat(e.chapter_id,"/").concat(a.result.chapter_module_id)):!0===t&&(window.location.href="/dashboard"),a}))},r.completeLessonModule=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/chapter_modules/complete_lesson_module"),e,!0).then(i.z).then((function(e){return e}))},r.submitAssignmentTask=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/chapter_modules/submit_assignment_task"),e,!0).then(i.z).then((function(e){return e}))},r.startQuiz=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/quiz/").concat(e.chapter_module_id,"/start"),e,!0).then(i.z).then((function(e){if(!0===e.status){localStorage.setItem("__BarioOtsoOtso__",e.result);var t=Object(i.y)();!0===t.status&&(e.result=t.user_details.current_quiz)}return e}))},r.submitQuiz=function(e){var t=e.course_id,a=e.chapter_id,n=e.next_link,s=e.stack_schedule_id,r=e.cc_stack_schedule_id,c=e.user_track_id,_=e.quiz_details,l=_.chapter_module_id,d=_.track_id,u=_.started_at,p=_.questions,m={chapter_module_id:l,track_id:d,course_id:t,chapter_id:a,started_at:u,questions:[],stack_schedule_id:s,cc_stack_schedule_id:r,next_module:n,user_track_id:c};return p.map((function(e,t){var a=void 0!==e.type&&2===e.type?{question_index:t,is_correct:!0===e.is_correct,dc_response:e.dc_response}:{question_index:t,is_correct:!1};a.id=e.id,2!==e.type&&(a.selected_option=e.choices.filter((function(e){return!0===e.is_selected}))[0],a.is_correct=e.choices.filter((function(e){return!0===e.is_selected&&!0===e.is_answer})).length>0),m.questions.push(a)})),this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/quiz/").concat(l,"/submit"),m,!0).then(i.z).then((function(e){return e}))},r.submitCurriculumMistakeReport=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/chapter_modules/submit_reported_curriculum_mistake"),e,!0).then(i.z).then((function(e){return e}))},r.fetchCourseDetails=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/courses/fetch_course_details"),e,!0).then(i.z).then((function(e){return e}))},r.updateCourseDescription=function(e){return this.sendRequest("".concat(o.f.URL).concat(this.API_pre_link,"/tracks/update_track_details"),e,!0).then(i.z).then((function(e){return e}))};var c=Object(i.y)();return r.API_pre_link=(null===c||void 0===c||null===(e=c.user_details)||void 0===e||null===(s=e.general)||void 0===s?void 0:s.trial_platform_mode)?"/t":"",r}return a}(a(34).a))},89:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(5),s=a(1),r=(a(86),a(4)),o=a(7),i=a(6),c=a(2),_=a(105),l=a(34),d=a(1429),u=a(186),p=new(function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e,o,i;Object(n.a)(this,a),(i=t.call(this)).fetchAssignmentForumData=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/forums/fetch_forum"),e,!0).then(c.z).then((function(e){return e})).catch((function(e){console.log(e)}))},i.submitNewComment=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/forums/add_comment"),e,!0).then(c.z).then((function(e){return e})).catch((function(e){console.log(e)}))},i.toggleVoteComment=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/forums/vote"),e,!0).then(c.z).then((function(e){return e})).catch((function(e){console.log(e)}))},i.setCommentToArchive=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/forums/send_to_archive"),e,!0).then(c.z).then((function(e){return e})).catch((function(e){console.log(e)}))},i.updateCommentRecord=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/forums/edit_comment"),e,!0).then(c.z).then((function(e){return e})).catch((function(e){console.log(e)}))},i.fetchAnswerComments=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/forums/fetch_answers"),e,!0).then(c.z).then((function(e){return e})).catch((function(e){console.log(e)}))},i.uploadImageToS3=function(e){var t={status:!1,err:null,file_url:null},a=Object(c.Q)(e.file,e.user_id);if(a)return new Promise((function(n,s){_.a.getPreSignedURL(Object(r.a)(Object(r.a)({},a),{},{file_name:e.file.name,content_type:e.file.type})).then((function(a){var r;a.status?d.a.put(null===(r=a.result)||void 0===r?void 0:r.pre_signed_url,e.file,{headers:{"Content-Type":"".concat(e.file.type),"x-amz-acl":"public-read"}}).then((function(e){var r;e.status?(t.status=!0,t.file_url=null===(r=a.result)||void 0===r?void 0:r.file_name,n(t)):(t.status=!1,s(t))})):(t.status=!1,s(t))}),(function(e){t.status=!1,t.err=e,s(t)}))}))},i.deleteAttachedFiles=function(e){return this.sendRequest("".concat(s.f.URL).concat(this.API_pre_link,"/forums/delete_attachments"),e,!0).then(c.z).then((function(e){return e})).catch((function(e){console.log(e)}))},i.CurrentUser=new u.a(null),i.VerifyUser=new u.a(null);var l=Object(c.y)();return i.API_pre_link=(null===l||void 0===l||null===(e=l.user_details)||void 0===e||null===(o=e.general)||void 0===o?void 0:o.trial_platform_mode)?"/t":"",i}return a}(l.a)),m=new function e(){Object(n.a)(this,e),this.fetchAssignmentForumData=function(e){return function(t){t(Object(c.A)({type:s.S.FETCH_ASSIGNMENT_FORUM_REQUEST},e)),p.fetchAssignmentForumData(e).then((function(e){(null===e||void 0===e?void 0:e.status)?t(Object(c.A)({type:s.S.FETCH_ASSIGNMENT_FORUM_SUCCESS},{assignment_forum_questions:e.result})):t(Object(c.A)({type:s.S.FETCH_ASSIGNMENT_FORUM_FAILURE},{error:e.message}))}),(function(e){var a=Object(c.c)(e);t(Object(c.A)({type:s.S.FETCH_ASSIGNMENT_FORUM_FAILURE},{error:a}))}))}},this.submitNewComment=function(e){return function(t){t(Object(c.A)({type:s.S.SUBMIT_COMMENT_REQUEST},e,{is_show_ask_forum_question_modal:!0})),p.submitNewComment(e).then((function(e){!0===e.status?t(Object(c.A)({type:s.S.SUBMIT_COMMENT_SUCCESS},{is_show_ask_forum_question_modal:!1,new_comment:e.result})):t(Object(c.A)({type:s.S.SUBMIT_COMMENT_FAILURE},{error:e.message}))}),(function(e){var a=Object(c.c)(e);t(Object(c.A)({type:s.S.SUBMIT_COMMENT_FAILURE},{error:a}))}))}},this.fetchAnswerComments=function(e){return function(t){t(Object(c.A)({type:s.S.FETCH_ANSWER_COMMENTS_REQUEST},e)),p.fetchAnswerComments(e).then((function(e){(null===e||void 0===e?void 0:e.status)?t(Object(c.A)({type:s.S.FETCH_ANSWER_COMMENTS_SUCCESS},{forum_assignment_answers:e.result})):t(Object(c.A)({type:s.S.FETCH_ANSWER_COMMENTS_FAILURE},{error:e.message}))}),(function(e){var a=Object(c.c)(e);t(Object(c.A)({type:s.S.FETCH_ANSWER_COMMENTS_FAILURE},{error:a}))}))}},this.toggleVoteComment=function(e){return function(t){e.vote_type===s.Wb.endorsement?p.toggleVoteComment(e).then((function(e){!0===e.status?t(Object(c.A)({type:s.S.ENDORSEMENT_SUCCESS},{comment_details:e.result})):t(Object(c.A)({type:s.S.ENDORSEMENT_FAILURE},{error:e.message}))}),(function(e){var a=Object(c.c)(e);t(Object(c.A)({type:s.S.ENDORSEMENT_FAILURE},{error:a}))})):[s.Wb.up_vote,s.Wb.down_vote].includes(e.vote_type)?p.toggleVoteComment(e).then((function(e){!0===e.status?t(Object(c.A)({type:s.S.VOTE_SUCCESS},{comment_details:e.result})):t(Object(c.A)({type:s.S.VOTE_FAILURE},{error:e.message}))}),(function(e){var a=Object(c.c)(e);t(Object(c.A)({type:s.S.VOTE_FAILURE},{error:a}))})):t(Object(c.A)({type:s.S.VOTE_FAILURE},{error:"Invalid vote type."}))}},this.setCommentToArchive=function(e){return function(t){t(Object(c.A)({type:s.S.SET_COMMENT_TO_ARCHIVE_REQUEST},e)),p.setCommentToArchive(e).then((function(e){(null===e||void 0===e?void 0:e.status)?t(Object(c.A)({type:s.S.SET_COMMENT_TO_ARCHIVE_SUCCESS},{set_comment_to_archive_response:e.result})):t(Object(c.A)({type:s.S.SET_COMMENT_TO_ARCHIVE_FAILURE},{error:e.message}))}),(function(e){var a=Object(c.c)(e);t(Object(c.A)({type:s.S.SET_COMMENT_TO_ARCHIVE_FAILURE},{error:a}))}))}},this.updateCommentRecord=function(e){return function(t){t(Object(c.A)({type:s.S.UPDATE_COMMENT_REQUEST},e)),p.updateCommentRecord(e).then((function(e){!0===e.status?t(Object(c.A)({type:s.S.UPDATE_COMMENT_SUCCESS},{updated_comment:e.result})):t(Object(c.A)({type:s.S.UPDATE_COMMENT_FAILURE},{error:e.message}))}),(function(e){var a=Object(c.c)(e);t(Object(c.A)({type:s.S.UPDATE_COMMENT_FAILURE},{error:a}))}))}},this.uploadImageToS3=function(e){return function(t){t(Object(c.A)({type:s.S.UPLOAD_COMMENT_IMAGE_REQUEST},{})),p.uploadImageToS3(e).then((function(e){!0===e.status?t(Object(c.A)({type:s.S.UPLOAD_COMMENT_IMAGE_SUCCESS},{file_url:e.file_url})):t(Object(c.A)({type:s.S.UPLOAD_COMMENT_IMAGE_FAILURE},{error:e.err}))}),(function(e){var a=Object(c.c)(e);t(Object(c.A)({type:s.S.UPLOAD_COMMENT_IMAGE_FAILURE},{error:a}))}))}},this.deleteAttachedFiles=function(e){return function(t){t(Object(c.A)({type:s.S.DELETE_COMMENT_IMAGE_REQUEST},{})),p.deleteAttachedFiles(e).then((function(e){!0===e.status?t(Object(c.A)({type:s.S.DELETE_COMMENT_IMAGE_SUCCESS},{delete_details:e.result})):t(Object(c.A)({type:s.S.DELETE_COMMENT_IMAGE_FAILURE},{error:e.message}))}),(function(e){var a=Object(c.c)(e);t(Object(c.A)({type:s.S.DELETE_COMMENT_IMAGE_FAILURE},{error:a}))}))}},this.resetForumAnswerComments=function(){return function(e){e(Object(c.A)({type:s.S.RESET_FORUM_ANSWER_COMMENTS},{}))}}}},97:function(module,exports,__webpack_require__){if("undefined"===typeof CodeMirror)var CodeMirror=void 0;if("undefined"===typeof jQuery)var jQuery=void 0;!function(){var Ajax={settings:{},post:function(e){return new AjaxRequest("post",e)},get:function(e){return new AjaxRequest("get",e)}},AjaxRequest=function(e,t){var a={method:e,url:"",before:function(){},success:function(){},error:function(){},data:!1,async:!0,headers:{}};this.p=this.extend(a,t),this.p=this.extend(this.p,Ajax.settings),this.p.method=this.p.method.toUpperCase(),this.prepareData(),this.xhr=new XMLHttpRequest,this.xhr.open(this.p.method,this.p.url,this.p.async),this.setHeaders(),!1!==("function"!==typeof this.p.before||this.p.before(this.xhr))&&this.send()};AjaxRequest.prototype={extend:function(e,t){if(t)for(var a in t)e[a]=t[a];return e},prepareData:function(){"POST"!==this.p.method||this.isFormData()||(this.p.headers["Content-Type"]="application/x-www-form-urlencoded"),"object"!==typeof this.p.data||this.isFormData()||(this.p.data=this.toParams(this.p.data)),"GET"===this.p.method&&(this.p.url=this.p.data?this.p.url+"?"+this.p.data:this.p.url)},setHeaders:function(){for(var e in this.xhr.setRequestHeader("X-Requested-With",this.p.headers["X-Requested-With"]||"XMLHttpRequest"),this.p.headers)this.xhr.setRequestHeader(e,this.p.headers[e])},isFormData:function(){return"undefined"!==typeof window.FormData&&this.p.data instanceof window.FormData},isComplete:function(){return!(this.xhr.status<200||this.xhr.status>=300&&304!==this.xhr.status)},send:function(){this.p.async?(this.xhr.onload=this.loaded.bind(this),this.xhr.send(this.p.data)):(this.xhr.send(this.p.data),this.loaded.call(this))},loaded:function(){if(this.isComplete()){var e=this.xhr.response,t=this.parseJson(e);e=t||e,"function"===typeof this.p.success&&this.p.success(e,this.xhr)}else"function"===typeof this.p.error&&this.p.error(this.xhr.statusText)},parseJson:function(e){try{var t=JSON.parse(e);if(t&&"object"===typeof t)return t}catch(a){}return!1},toParams:function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}};var DomCache=[0],DomExpando="data"+(new Date).getTime(),DomHClass="is-hidden",DomHMClass="is-hidden-mobile",Dom=function(e,t){return this.parse(e,t)};Dom.ready=function(e){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)},Dom.prototype={get sdom(){return!0},get length(){return this.nodes.length},parse:function(e,t){var a;if(e){if(e.sdom)return this.nodes=e.nodes,e;a="string"!==typeof e?e.nodeType&&11===e.nodeType?e.childNodes:e.nodeType||e===window?[e]:e:/^\s*<(\w+|!)[^>]*>/.test(e)?this.create(e):this._query(e,t)}else a=[];this.nodes=this._slice(a)},create:function(e){if(/^<(\w+)\s*\/?>(?:<\/\1>|)$/.test(e))return[document.createElement(RegExp.$1)];var t=[],a=document.createElement("div"),n=a.childNodes;a.innerHTML=e;for(var s=0,r=n.length;s<r;s++)t.push(n[s]);return t},add:function(e){this.nodes=this.nodes.concat(this._toArray(e))},get:function(e){return this.nodes[e||0]||!1},getAll:function(){return this.nodes},eq:function(e){return new Dom(this.nodes[e])},first:function(){return new Dom(this.nodes[0])},last:function(){return new Dom(this.nodes[this.nodes.length-1])},contents:function(){return this.get().childNodes},each:function(e){for(var t=this.nodes.length,a=0;a<t;a++)e.call(this,this.nodes[a].sdom?this.nodes[a].get():this.nodes[a],a);return this},is:function(e){return this.filter(e).length>0},filter:function(e){var t;return void 0===e?this:(t="function"===typeof e?e:function(t){return e instanceof Node?e===t:e&&e.sdom?-1!==e.nodes.indexOf(t):(t.matches=t.matches||t.msMatchesSelector||t.webkitMatchesSelector,1===t.nodeType&&t.matches(e||"*"))},new Dom(this.nodes.filter(t)))},not:function(e){return this.filter((function(t){return!new Dom(t).is(e||!0)}))},find:function(e){var t=[];return this.each((function(a){for(var n=this._query(e||"*",a),s=0;s<n.length;s++)t.push(n[s])})),new Dom(t)},children:function(e){var t=[];return this.each((function(e){if(e.children)for(var a=e.children,n=0;n<a.length;n++)t.push(a[n])})),new Dom(t).filter(e)},parent:function(e){var t=[];return this.each((function(e){e.parentNode&&t.push(e.parentNode)})),new Dom(t).filter(e)},parents:function(e,t){t=this._getContext(t);var a=[];return this.each((function(n){for(var s=n.parentNode;s&&s!==t;)e?new Dom(s).is(e)&&a.push(s):a.push(s),s=s.parentNode})),new Dom(a)},closest:function(e,t){t=this._getContext(t),e=e.sdom?e.get():e;var a=[],n=e&&e.nodeType;return this.each((function(s){do{if(n&&s===e||new Dom(s).is(e))return a.push(s)}while((s=s.parentNode)&&s!==t)})),new Dom(a)},next:function(e){return this._getSibling(e,"nextSibling")},nextElement:function(e){return this._getSibling(e,"nextElementSibling")},prev:function(e){return this._getSibling(e,"previousSibling")},prevElement:function(e){return this._getSibling(e,"previousElementSibling")},css:function(e,t){if(void 0===t&&"object"!==typeof e){var a=this.get();return"width"===e||"height"===e?a.style?this._getHeightOrWidth(e,a,!1)+"px":void 0:a.style?getComputedStyle(a,null)[e]:void 0}return this.each((function(a){var n={};for(var s in"object"===typeof e?n=e:n[e]=t,n)a.style&&(a.style[s]=n[s])}))},attr:function(e,t,a){if(a=a?"data-":"",void 0===t&&"object"!==typeof e){var n=this.get();return n&&3!==n.nodeType?"checked"===e?n.checked:this._getBooleanFromStr(n.getAttribute(a+e)):void 0}return this.each((function(n){var s={};for(var r in"object"===typeof e?s=e:s[e]=t,s)3!==n.nodeType&&("checked"===r?n.checked=s[r]:n.setAttribute(a+r,s[r]))}))},data:function(e,t){if(void 0===e){var a=/^data-(.+)$/,n=this.get().attributes,s={},r=function(e){return e[1].toUpperCase()};for(var o in n)if(n[o]&&a.test(n[o].nodeName)){var i=n[o].nodeName.match(a)[1],c=n[o].value;i=i.replace(/-([a-z])/g,r),c=this._isObjectString(c)?this._toObject(c):this._isNumber(c)?parseFloat(c):this._getBooleanFromStr(c),s[i]=c}return s}return this.attr(e,t,!0)},val:function(e){if(void 0===e){var t=this.get();return t.type&&"checkbox"===t.type?t.checked:t.value}return this.each((function(t){t.value=e}))},removeAttr:function(e){return this.each((function(t){e.split(" ").forEach((function(e){3!==t.nodeType&&t.removeAttribute(e)}))}))},removeData:function(e){return this.each((function(t){e.split(" ").forEach((function(e){3!==t.nodeType&&t.removeAttribute("data-"+e)}))}))},dataset:function(e,t){return this.each((function(a){DomCache[this.dataindex(a)][e]=t}))},dataget:function(e){return DomCache[this.dataindex(this.get())][e]},dataindex:function(e){var t=e[DomExpando],a=DomCache.length;return t||(t=e[DomExpando]=a,DomCache[t]={}),t},addClass:function(e){return this._eachClass(e,"add")},removeClass:function(e){return this._eachClass(e,"remove")},toggleClass:function(e){return this._eachClass(e,"toggle")},hasClass:function(e){return this.nodes.some((function(t){return!!t.classList&&t.classList.contains(e)}))},empty:function(){return this.each((function(e){e.innerHTML=""}))},html:function(e){return void 0===e?this.get().innerHTML||"":this.empty().append(e)},text:function(e){return void 0===e?this.get().textContent||"":this.each((function(t){t.textContent=e}))},after:function(e){return this._inject(e,(function(e,t){if("string"===typeof e)t.insertAdjacentHTML("afterend",e);else if(null!==t.parentNode)for(var a=e instanceof Node?[e]:this._toArray(e).reverse(),n=0;n<a.length;n++)t.parentNode.insertBefore(a[n],t.nextSibling);return t}))},before:function(e){return this._inject(e,(function(e,t){if("string"===typeof e)t.insertAdjacentHTML("beforebegin",e);else for(var a=e instanceof Node?[e]:this._toArray(e),n=0;n<a.length;n++)t.parentNode.insertBefore(a[n],t);return t}))},append:function(e){return this._inject(e,(function(e,t){if("string"===typeof e||"number"===typeof e)t.insertAdjacentHTML("beforeend",e);else for(var a=e instanceof Node?[e]:this._toArray(e),n=0;n<a.length;n++)t.appendChild(a[n]);return t}))},prepend:function(e){return this._inject(e,(function(e,t){if("string"===typeof e||"number"===typeof e)t.insertAdjacentHTML("afterbegin",e);else for(var a=e instanceof Node?[e]:this._toArray(e).reverse(),n=0;n<a.length;n++)t.insertBefore(a[n],t.firstChild);return t}))},wrap:function(e){return this._inject(e,(function(e,t){var a="string"===typeof e||"number"===typeof e?this.create(e)[0]:e instanceof Node?e:this._toArray(e)[0];return t.parentNode&&t.parentNode.insertBefore(a,t),a.appendChild(t),new Dom(a)}))},unwrap:function(){return this.each((function(e){var t=new Dom(e);return t.replaceWith(t.contents())}))},replaceWith:function(e){return this._inject(e,(function(e,t){for(var a=document.createDocumentFragment(),n="string"===typeof e||"number"===typeof e?this.create(e):e instanceof Node?[e]:this._toArray(e),s=0;s<n.length;s++)a.appendChild(n[s]);var r=a.childNodes[0];return t.parentNode&&t.parentNode.replaceChild(a,t),r}))},remove:function(){return this.each((function(e){e.parentNode&&e.parentNode.removeChild(e)}))},clone:function(e){var t=[];return this.each((function(a){var n=this._clone(a);e&&(n=this._cloneEvents(a,n)),t.push(n)})),new Dom(t)},show:function(){return this.each(function(e){if(e.style&&this._hasDisplayNone(e)){var t,a=e.getAttribute("domTargetShow"),n=!!e.classList&&e.classList.contains(DomHClass),s=!!e.classList&&e.classList.contains(DomHMClass);n?(t=DomHClass,e.classList.remove(DomHClass)):s?(t=DomHMClass,e.classList.remove(DomHMClass)):e.style.display=a||"block",t&&e.setAttribute("domTargetHide",t),e.removeAttribute("domTargetShow")}}.bind(this))},hide:function(){return this.each((function(e){if(e.style&&!this._hasDisplayNone(e)){var t=e.style.display,a=e.getAttribute("domTargetHide");a===DomHClass?e.classList.add(DomHClass):a===DomHMClass?e.classList.add(DomHMClass):("block"!==t&&e.setAttribute("domTargetShow",t),e.style.display="none"),e.removeAttribute("domTargetHide")}}))},scrollTop:function(e){var t=this.get(),a=t===window,n=9===t.nodeType,s=n?document.scrollingElement||document.body.parentNode||document.body||document.documentElement:t;if(void 0===e)return n?"undefined"!=typeof window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0:a?window.pageYOffset:s.scrollTop;a?window.scrollTo(0,e):s.scrollTop=e},offset:function(){return this._getDim("Offset")},position:function(){return this._getDim("Position")},width:function(e,t){return this._getSize("width","Width",e,t)},height:function(e,t){return this._getSize("height","Height",e,t)},outerWidth:function(){return this._getInnerOrOuter("width","outer")},outerHeight:function(){return this._getInnerOrOuter("height","outer")},innerWidth:function(){return this._getInnerOrOuter("width","inner")},innerHeight:function(){return this._getInnerOrOuter("height","inner")},click:function(){return this._triggerEvent("click")},focus:function(){return this._triggerEvent("focus")},trigger:function(e){return this.each((function(t){for(var a=e.split(" "),n=0;n<a.length;n++){var s;try{s=new window.CustomEvent(a[n],{bubbles:!0,cancelable:!0})}catch(r){(s=document.createEvent("CustomEvent")).initCustomEvent(a[n],!0,!0)}t.dispatchEvent(s)}}))},on:function(e,t,a){return this.each((function(n){for(var s=e.split(" "),r=0;r<s.length;r++){var o=this._getEventName(s[r]),i=this._getEventNamespace(s[r]);t=a?this._getOneHandler(t,e):t,n.addEventListener(o,t),n._e=n._e||{},n._e[i]=n._e[i]||{},n._e[i][o]=n._e[i][o]||[],n._e[i][o].push(t)}}))},one:function(e,t){return this.on(e,t,!0)},off:function(e,t){var a=function(e,t,a){return e===a},n=function(e,t,a,n){return t===n},s=function(e,t,a,n){return e===a&&t===n},r=function(){return!0};return void 0===e?this.each((function(e){this._offEvent(e,!1,!1,t,r)})):this.each((function(r){for(var o=e.split(" "),i=0;i<o.length;i++){var c=this._getEventName(o[i]),_=this._getEventNamespace(o[i]);"_events"===_?this._offEvent(r,c,_,t,a):c||"_events"===_?this._offEvent(r,c,_,t,s):this._offEvent(r,c,_,t,n)}}))},serialize:function(e){for(var t={},a=this.get().elements,n=0;n<a.length;n++){var s=a[n];if((!/(checkbox|radio)/.test(s.type)||s.checked)&&(s.name&&!s.disabled&&"file"!==s.type)){if("select-multiple"===s.type)for(var r=0;r<s.options.length;r++){var o=s.options[r];o.selected&&(t[s.name]=o.value)}t[s.name]=this._isNumber(s.value)?parseFloat(s.value):this._getBooleanFromStr(s.value)}}return e?t:this._toParams(t)},ajax:function(e,t){if("undefined"!==typeof AjaxRequest){var a=this.attr("method")||"post",n={url:this.attr("action"),data:this.serialize(),success:e,error:t};return new AjaxRequest(a,n)}},_queryContext:function(e,t){return 3!==(t=this._getContext(t)).nodeType&&"function"===typeof t.querySelectorAll?t.querySelectorAll(e):[]},_query:function(e,t){if(t)return this._queryContext(e,t);if(/^[.#]?[\w-]*$/.test(e)){if("#"===e[0]){var a=document.getElementById(e.slice(1));return a?[a]:[]}return"."===e[0]?document.getElementsByClassName(e.slice(1)):document.getElementsByTagName(e)}return document.querySelectorAll(e)},_getContext:function(e){return(e="string"===typeof e?document.querySelector(e):e)&&e.sdom?e.get():e||document},_inject:function(e,t){for(var a=this.nodes.length,n=[];a--;){var s="function"===typeof e?e.call(this,this.nodes[a]):e,r=0===a?s:this._clone(s),o=t.call(this,r,this.nodes[a]);o&&(o.sdom?n.push(o.get()):n.push(o))}return new Dom(n)},_cloneEvents:function(e,t){var a=e._e;if(a)for(var n in t._e=a,a._events)for(var s=0;s<a._events[n].length;s++)t.addEventListener(n,a._events[n][s]);return t},_clone:function(e){if("undefined"!==typeof e)return"string"===typeof e?e:e instanceof Node||e.nodeType?e.cloneNode(!0):"length"in e?[].map.call(this._toArray(e),(function(e){return e.cloneNode(!0)})):void 0},_slice:function(e){return e&&0!==e.length?e.length?[].slice.call(e.nodes||e):[e]:[]},_eachClass:function(e,t){return this.each((function(a){if(e){e.split(" ").forEach((function(e){a.classList&&a.classList[t](e)}))}}))},_triggerEvent:function(e){var t=this.get();return t&&3!==t.nodeType&&t[e](),this},_getOneHandler:function(e,t){var a=this;return function(){e.apply(this,arguments),a.off(t)}},_getEventNamespace:function(e){var t=e.split("."),a=t[1]?t[1]:"_events";return t[2]?a+t[2]:a},_getEventName:function(e){return e.split(".")[0]},_offEvent:function(e,t,a,n,s){for(var r in e._e)for(var o in e._e[r])if(s(o,r,t,a))for(var i=e._e[r][o],c=0;c<i.length;c++)"undefined"!==typeof n&&i[c].toString()!==n.toString()||(e.removeEventListener(o,i[c]),e._e[r][o].splice(c,1),0===e._e[r][o].length&&delete e._e[r][o],0===Object.keys(e._e[r]).length&&delete e._e[r])},_getInnerOrOuter:function(e,t){return this[e](void 0,t)},_getDocSize:function(e,t){var a=e.body,n=e.documentElement;return Math.max(a["scroll"+t],a["offset"+t],n["client"+t],n["scroll"+t],n["offset"+t])},_getSize:function(e,t,a,n){if(void 0===a){var s=this.get();return a=3===s.nodeType?0:9===s.nodeType?this._getDocSize(s,t):s===window?window["inner"+t]:this._getHeightOrWidth(e,s,n||"normal"),Math.round(a)}return this.each(function(t){a=parseFloat(a),a+=this._adjustResultHeightOrWidth(e,t,n||"normal"),new Dom(t).css(e,a+"px")}.bind(this))},_getHeightOrWidth:function(e,t,a){if(!t)return 0;var n=e.charAt(0).toUpperCase()+e.slice(1),s=0,r=getComputedStyle(t,null),o=new Dom(t),i=o.parents().filter((function(e){return 1===e.nodeType&&"none"===getComputedStyle(e,null).display&&e}));if("none"===r.display&&i.add(t),0!==i.length){var c="visibility: hidden !important; display: block !important;",_=[];i.each((function(e){var t=new Dom(e),a=t.attr("style");null!==a&&_.push(a),t.attr("style",null!==a?a+";"+c:c)})),s=o.get()["offset"+n]-this._adjustResultHeightOrWidth(e,t,a),i.each((function(e,t){var a=new Dom(e);void 0===_[t]?a.removeAttr("style"):a.attr("style",_[t])}))}else s=t["offset"+n]-this._adjustResultHeightOrWidth(e,t,a);return s},_adjustResultHeightOrWidth:function(e,t,a){if(!t||!1===a)return 0;var n=0,s=getComputedStyle(t,null),r="border-box"===s.boxSizing;return"height"===e?(("inner"===a||"normal"===a&&r)&&(n+=(parseFloat(s.borderTopWidth)||0)+(parseFloat(s.borderBottomWidth)||0)),"outer"===a&&(n-=(parseFloat(s.marginTop)||0)+(parseFloat(s.marginBottom)||0))):(("inner"===a||"normal"===a&&r)&&(n+=(parseFloat(s.borderLeftWidth)||0)+(parseFloat(s.borderRightWidth)||0)),"outer"===a&&(n-=(parseFloat(s.marginLeft)||0)+(parseFloat(s.marginRight)||0))),n},_getDim:function(e){var t=this.get();return 3===t.nodeType?{top:0,left:0}:this["_get"+e](t)},_getPosition:function(e){return{top:e.offsetTop,left:e.offsetLeft}},_getOffset:function(e){var t=e.getBoundingClientRect(),a=e.ownerDocument,n=a.documentElement,s=a.defaultView;return{top:t.top+s.pageYOffset-n.clientTop,left:t.left+s.pageXOffset-n.clientLeft}},_getSibling:function(e,t){var a,n=(e=e&&e.sdom?e.get():e)&&e.nodeType;return this.each((function(s){for(;s=s[t];)if(n&&s===e||new Dom(s).is(e))return void(a=s)})),new Dom(a)},_toArray:function(e){if(e instanceof NodeList){for(var t=[],a=0;a<e.length;a++)t[a]=e[a];return t}return void 0===e?[]:e.sdom?e.nodes:e},_toParams:function(e){var t="";for(var a in e)t+="&"+this._encodeUri(a)+"="+this._encodeUri(e[a]);return t.replace(/^&/,"")},_toObject:function(e){return new Function("return "+e)()},_encodeUri:function(e){return encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},_isNumber:function(e){return!isNaN(e)&&!isNaN(parseFloat(e))},_isObjectString:function(e){return-1!==e.search(/^{/)},_getBooleanFromStr:function(e){return"true"===e||"false"!==e&&e},_hasDisplayNone:function(e){return"none"===e.style.display||"none"===(e.currentStyle?e.currentStyle.display:getComputedStyle(e,null).display)}};var uuid=0,$R=function(e,t){return RedactorApp(e,t,[].slice.call(arguments,2))},$;$R.app=[],$R.version="3.4.5",$R.options={},$R.modules={},$R.services={},$R.classes={},$R.plugins={},$R.mixins={},$R.modals={},$R.lang={},$R.dom=function(e,t){return new Dom(e,t)},$R.ajax=Ajax,$R.Dom=Dom,$R.keycodes={BACKSPACE:8,DELETE:46,UP:38,DOWN:40,ENTER:13,SPACE:32,ESC:27,TAB:9,CTRL:17,META:91,SHIFT:16,ALT:18,RIGHT:39,LEFT:37},$R.env={plugin:"plugins",module:"modules",service:"services",class:"classes",mixin:"mixins"},"undefined"!==typeof jQuery&&($=jQuery,$.fn.redactor=function(e){return RedactorApp(this.toArray(),e,[].slice.call(arguments,1))});var RedactorApp=function(e,t,a){for(var n,s=Array.isArray(e)?e:e&&e.nodeType?[e]:document.querySelectorAll(e),r="string"===typeof t||"function"===typeof t,o=[],i=0;i<s.length;i++){var c=s[i],_=$R.dom(c);if((n=_.dataget("redactor"))||r||(n=new App(c,t,uuid),_.dataset("redactor",n),$R.app[uuid]=n,uuid++),n&&r){var l,d="destroy"===t;"function"===typeof(t=d?"stop":t)?l=t.apply(n,a):(a.unshift(t),l=n.api.apply(n,a)),void 0!==l&&o.push(l),d&&_.dataset("redactor",!1)}}return 0===o.length||1===o.length?0===o.length?n:o[0]:o};$R.add=function(e,t,a){if("undefined"!==typeof $R.env[e])if(a.translations&&($R.lang=$R.extend(!0,{},$R.lang,a.translations)),a.modals&&($R.modals=$R.extend(!0,{},$R.modals,a.modals)),"mixin"===e)$R[$R.env[e]][t]=a;else{var n=function(){};if(n.prototype=a,a.mixins)for(var s=0;s<a.mixins.length;s++)$R.inherit(n,$R.mixins[a.mixins[s]]);$R[$R.env[e]][t]=n}},$R.addLang=function(e,t){"undefined"===typeof $R.lang[e]&&($R.lang[e]={}),$R.lang[e]=$R.extend($R.lang[e],t)},$R.create=function(e){var t=e.split("."),a=[].slice.call(arguments,1),n="classes";"undefined"!==typeof $R.env[t[0]]&&(n=$R.env[t[0]],e=t.slice(1).join("."));var s=new $R[n][e];if(s.init){var r=s.init.apply(s,a);return r||s}return s},$R.inherit=function(e,t){var a=function(){};a.prototype=t;var n=new a;for(var s in e.prototype)e.prototype.__lookupGetter__(s)?n.__defineGetter__(s,e.prototype.__lookupGetter__(s)):n[s]=e.prototype[s];return e.prototype=n,e.prototype.super=t,e},$R.error=function(e){throw e},$R.extend=function(){var e={},t=!1,a=0,n=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],a++);for(var s=function(a){for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t&&"[object Object]"===Object.prototype.toString.call(a[n])?e[n]=$R.extend(!0,e[n],a[n]):e[n]=a[n])};a<n;a++){var r=arguments[a];s(r)}return e},$R.opts={animation:!0,lang:"en",direction:"ltr",spellcheck:!0,structure:!1,scrollTarget:!1,styles:!0,stylesClass:"redactor-styles",placeholder:!1,source:!0,showSource:!1,inline:!1,breakline:!1,markup:"p",enterKey:!0,clickToEdit:!1,clickToSave:!1,clickToCancel:!1,focus:!1,focusEnd:!1,minHeight:!1,maxHeight:!1,maxWidth:!1,plugins:[],callbacks:{},preClass:!1,preSpaces:4,tabindex:!1,tabAsSpaces:!1,tabKey:!0,autosave:!1,autosaveName:!1,autosaveData:!1,toolbar:!0,toolbarFixed:!0,toolbarFixedTarget:document,toolbarFixedTopOffset:0,toolbarExternal:!1,toolbarContext:!0,air:!1,formatting:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],formattingAdd:!1,formattingHide:!1,buttons:["html","format","bold","italic","deleted","lists","image","file","link"],buttonsTextLabeled:!1,buttonsAdd:[],buttonsAddFirst:[],buttonsAddAfter:!1,buttonsAddBefore:!1,buttonsHide:[],buttonsHideOnMobile:[],imageUpload:!1,imageUploadParam:"file",imageData:!1,imageEditable:!0,imageCaption:!0,imageLink:!0,imagePosition:!1,imageResizable:!1,imageFloatMargin:"10px",imageFigure:!0,imageObserve:!0,fileUpload:!1,fileUploadParam:"file",fileData:!1,fileAttachment:!1,uploadData:!1,dragUpload:!0,multipleUpload:!0,clipboardUpload:!0,uploadBase64:!1,linkTarget:!1,linkTitle:!1,linkNewTab:!0,linkNofollow:!1,linkSize:30,linkValidation:!0,cleanOnEnter:!0,cleanInlineOnEnter:!1,paragraphize:!0,removeScript:!0,removeNewLines:!1,removeComments:!0,replaceTags:{b:"strong",i:"em",strike:"del"},pastePlainText:!1,pasteLinkTarget:!1,pasteImages:!0,pasteLinks:!0,pasteClean:!0,pasteKeepStyle:[],pasteKeepClass:[],pasteKeepAttrs:["td","th"],pasteBlockTags:["pre","h1","h2","h3","h4","h5","h6","table","tbody","thead","tfoot","th","tr","td","ul","ol","li","blockquote","p","figure","figcaption"],pasteInlineTags:["a","img","br","strong","ins","code","del","span","samp","kbd","sup","sub","mark","var","cite","small","b","u","em","i","abbr"],activeButtons:{b:"bold",strong:"bold",i:"italic",em:"italic",del:"deleted",strike:"deleted",u:"underline"},activeButtonsAdd:{},activeButtonsObservers:{},autoparse:!0,autoparseStart:!0,autoparsePaste:!0,autoparseLinks:!0,autoparseImages:!0,autoparseVideo:!0,shortcodes:{"p.":{format:"p"},"quote.":{format:"blockquote"},"pre.":{format:"pre"},"h1.":{format:"h1"},"h2.":{format:"h2"},"h3.":{format:"h3"},"h4.":{format:"h4"},"h5.":{format:"h5"},"h6.":{format:"h6"},"*.":{format:"ul"}},shortcodesAdd:!1,shortcuts:{"ctrl+shift+m, meta+shift+m":{api:"module.inline.clearformat"},"ctrl+b, meta+b":{api:"module.inline.format",args:"b"},"ctrl+i, meta+i":{api:"module.inline.format",args:"i"},"ctrl+u, meta+u":{api:"module.inline.format",args:"u"},"ctrl+h, meta+h":{api:"module.inline.format",args:"sup"},"ctrl+l, meta+l":{api:"module.inline.format",args:"sub"},"ctrl+k, meta+k":{api:"module.link.open"},"ctrl+alt+0, meta+alt+0":{api:"module.block.format",args:"p"},"ctrl+alt+1, meta+alt+1":{api:"module.block.format",args:"h1"},"ctrl+alt+2, meta+alt+2":{api:"module.block.format",args:"h2"},"ctrl+alt+3, meta+alt+3":{api:"module.block.format",args:"h3"},"ctrl+alt+4, meta+alt+4":{api:"module.block.format",args:"h4"},"ctrl+alt+5, meta+alt+5":{api:"module.block.format",args:"h5"},"ctrl+alt+6, meta+alt+6":{api:"module.block.format",args:"h6"},"ctrl+shift+7, meta+shift+7":{api:"module.list.toggle",args:"ol"},"ctrl+shift+8, meta+shift+8":{api:"module.list.toggle",args:"ul"}},shortcutsAdd:!1,grammarly:!0,notranslate:!1,bufferLimit:100,emptyHtml:"<p></p>",markerChar:"\ufeff",imageTypes:["image/png","image/jpeg","image/gif"],imageAttrs:["alt","title","src","class","width","height","srcset"],inlineTags:["a","span","strong","strike","b","u","em","i","code","del","ins","samp","kbd","sup","sub","mark","var","cite","small","abbr"],blockTags:["pre","ul","ol","li","p","h1","h2","h3","h4","h5","h6","dl","dt","dd","div","table","tbody","thead","tfoot","tr","th","td","blockquote","output","figcaption","figure","address","section","header","footer","aside","article","iframe"],regex:{youtube:/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com\S*[^\w-\s])([\w-]{11})(?=[^\w-]|$)(?![?=&+%\w.-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,vimeo:/(http|https)?:\/\/(?:www.|player.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:\/[a-zA-Z0-9_-]+)?/gi,imageurl:/((https?|www)[^\s]+\.)(jpe?g|png|gif)(\?[^\s-]+)?/gi,url:/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/gi},input:!0,zindex:!1,modes:{inline:{pastePlainText:!0,pasteImages:!1,enterKey:!1,toolbar:!1,autoparse:!1,source:!1,showSource:!1,styles:!1,air:!1},original:{styles:!1}}},$R.lang.en={format:"Format",image:"Image",file:"File",link:"Link",bold:"Bold",italic:"Italic",deleted:"Strikethrough",underline:"Underline",superscript:"Superscript",subscript:"Subscript","bold-abbr":"B","italic-abbr":"I","deleted-abbr":"S","underline-abbr":"U","superscript-abbr":"Sup","subscript-abbr":"Sub",lists:"Lists","link-insert":"Insert Link","link-edit":"Edit Link","link-in-new-tab":"Open link in new tab",unlink:"Unlink",cancel:"Cancel",close:"Close",insert:"Insert",save:"Save",delete:"Delete",text:"Text",edit:"Edit",title:"Alt",paragraph:"Normal text",quote:"Quote",code:"Code",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",filename:"Name",optional:"optional",unorderedlist:"Unordered List",orderedlist:"Ordered List",outdent:"Outdent",indent:"Indent",horizontalrule:"Line",upload:"Upload","upload-label":"Drop files here or click to upload","accessibility-help-label":"Rich text editor",caption:"Caption",bulletslist:"Bullets",numberslist:"Numbers","image-position":"Position",none:"None",left:"Left",right:"Right",center:"Center",undo:"Undo",redo:"Redo"},$R.buttons={html:{title:"HTML",icon:!0,api:"module.source.toggle"},undo:{title:"## undo ##",icon:!0,api:"module.buffer.undo"},redo:{title:"## redo ##",icon:!0,api:"module.buffer.redo"},format:{title:"## format ##",icon:!0,dropdown:{p:{title:"## paragraph ##",api:"module.block.format",args:{tag:"p"}},blockquote:{title:"## quote ##",api:"module.block.format",args:{tag:"blockquote"}},pre:{title:"## code ##",api:"module.block.format",args:{tag:"pre"}},h1:{title:"## heading1 ##",api:"module.block.format",args:{tag:"h1"}},h2:{title:"## heading2 ##",api:"module.block.format",args:{tag:"h2"}},h3:{title:"## heading3 ##",api:"module.block.format",args:{tag:"h3"}},h4:{title:"## heading4 ##",api:"module.block.format",args:{tag:"h4"}},h5:{title:"## heading5 ##",api:"module.block.format",args:{tag:"h5"}},h6:{title:"## heading6 ##",api:"module.block.format",args:{tag:"h6"}}}},bold:{title:"## bold-abbr ##",icon:!0,tooltip:"## bold ##",api:"module.inline.format",args:{tag:"b"}},italic:{title:"## italic-abbr ##",icon:!0,tooltip:"## italic ##",api:"module.inline.format",args:{tag:"i"}},deleted:{title:"## deleted-abbr ##",icon:!0,tooltip:"## deleted ##",api:"module.inline.format",args:{tag:"del"}},underline:{title:"## underline-abbr ##",icon:!0,tooltip:"## underline ##",api:"module.inline.format",args:{tag:"u"}},sup:{title:"## superscript-abbr ##",icon:!0,tooltip:"## superscript ##",api:"module.inline.format",args:{tag:"sup"}},sub:{title:"## subscript-abbr ##",icon:!0,tooltip:"## subscript ##",api:"module.inline.format",args:{tag:"sub"}},lists:{title:"## lists ##",icon:!0,observe:"list",dropdown:{observe:"list",unorderedlist:{title:"&bull; ## unorderedlist ##",api:"module.list.toggle",args:"ul"},orderedlist:{title:"1. ## orderedlist ##",api:"module.list.toggle",args:"ol"},outdent:{title:"< ## outdent ##",api:"module.list.outdent"},indent:{title:"> ## indent ##",api:"module.list.indent"}}},ul:{title:"&bull; ## bulletslist ##",icon:!0,api:"module.list.toggle",observe:"list",args:"ul"},ol:{title:"1. ## numberslist ##",icon:!0,api:"module.list.toggle",observe:"list",args:"ol"},outdent:{title:"## outdent ##",icon:!0,api:"module.list.outdent",observe:"list"},indent:{title:"## indent ##",icon:!0,api:"module.list.indent",observe:"list"},image:{title:"## image ##",icon:!0,api:"module.image.open"},file:{title:"## file ##",icon:!0,api:"module.file.open"},link:{title:"## link ##",icon:!0,observe:"link",dropdown:{observe:"link",link:{title:"## link-insert ##",api:"module.link.open"},unlink:{title:"## unlink ##",api:"module.link.unlink"}}},line:{title:"## horizontalrule ##",icon:!0,api:"module.line.insert"}};var App=function(e,t,a){this.module={},this.plugin={},this.instances={},this.started=!1,this.stopped=!1,this.uuid=a,this.rootElement=e,this.rootOpts=t,this.dragInside=!1,this.dragComponentInside=!1,this.keycodes=$R.keycodes,this.namespace="redactor",this.$win=$R.dom(window),this.$doc=$R.dom(document),this.$body=$R.dom("body"),this.editorReadOnly=!1,this.opts=$R.create("service.options",t,e),this.lang=$R.create("service.lang",this),this.buildServices(),this.buildModules(),this.buildPlugins(),this.start()};App.prototype={start:function(){this.stopped=!1,this.broadcast("start"),this.broadcast("startcode"),this.opts.clickToEdit?this.broadcast("startclicktoedit"):(this.broadcast("enable"),this.opts.showSource&&this.broadcast("startcodeshow"),this.broadcast("enablefocus")),this.broadcast("started"),this.started=!0},stop:function(){this.started=!1,this.stopped=!0,this.broadcast("stop"),this.broadcast("disable"),this.broadcast("stopped")},isStarted:function(){return this.started},isStopped:function(){return this.stopped},buildServices:function(){var e=["options","lang"],t=["uuid","keycodes","opts","lang","$win","$doc","$body"],a=[];for(var n in $R.services)-1===e.indexOf(n)&&(this[n]=$R.create("service."+n,this),a.push(n),t.push(n));for(var s=0;s<a.length;s++)for(var r=a[s],o=0;o<t.length;o++){var i=t[o];r!==i&&(this[r][i]=this[i])}},buildModules:function(){for(var e in $R.modules)this.module[e]=$R.create("module."+e,this),this.instances[e]=this.module[e]},buildPlugins:function(){for(var e=this.opts.plugins,t=0;t<e.length;t++){var a=e[t];"undefined"!==typeof $R.plugins[a]&&(this.plugin[a]=$R.create("plugin."+a,this),this.instances[a]=this.plugin[a])}},isDragInside:function(){return this.dragInside},setDragInside:function(e){this.dragInside=e},isDragComponentInside:function(){return this.dragComponentInside},setDragComponentInside:function(e){this.dragComponentInside=e},getDragComponentInside:function(){return this.dragComponentInside},isReadOnly:function(){return this.editorReadOnly},enableReadOnly:function(){this.editorReadOnly=!0,this.broadcast("enablereadonly"),this.component.clearActive(),this.toolbar.disableButtons()},disableReadOnly:function(){this.editorReadOnly=!1,this.broadcast("disablereadonly"),this.toolbar.enableButtons()},callMessageHandler:function(e,t,a){var n,s=t.split(".");if(1===s.length)"function"===typeof e["on"+t]&&(n=e["on"+t].apply(e,a));else{s[0]="on"+s[0];var r=this.utils.checkProperty(e,s);"function"===typeof r&&(n=r.apply(e,a))}return n},broadcast:function(e){var t,a=[].slice.call(arguments,1);for(var n in this.instances){var s=this.callMessageHandler(this.instances[n],e,a);"undefined"!==typeof s&&(t=s)}var r=this.callback.trigger(e,a);return"undefined"!==typeof t?t:r},on:function(e,t){this.callback.add(e,t)},off:function(e,t){this.callback.remove(e,t)},api:function(e){if((this.isStarted()||"start"===e)&&(!this.isReadOnly()||"disableReadOnly"===e)){this.broadcast("state");var t=[].slice.call(arguments,1),a=e.split("."),n=1===a.length,s="on"===a[0]||"off"===a[0],r=!s&&2===a.length,o="plugin"===a[0],i="module"===a[0];if(n){if("function"===typeof this[a[0]])return this.callInstanceMethod(this,a[0],t)}else{if(s)return"on"===a[0]?this.on(a[1],t[0]):this.off(a[1],t[0]||void 0);if(r){if(this.isInstanceExists(this,a[0]))return this.callInstanceMethod(this[a[0]],a[1],t);$R.error(new Error('Service "'+a[0]+'" not found'))}else if(o){if(this.isInstanceExists(this.plugin,a[1]))return this.callInstanceMethod(this.plugin[a[1]],a[2],t);$R.error(new Error('Plugin "'+a[1]+'" not found'))}else if(i){if(this.isInstanceExists(this.module,a[1]))return this.callInstanceMethod(this.module[a[1]],a[2],t);$R.error(new Error('Module "'+a[1]+'" not found'))}}}},isInstanceExists:function(e,t){return"undefined"!==typeof e[t]},callInstanceMethod:function(e,t,a){if("function"===typeof e[t])return e[t].apply(e,a)}},$R.add("mixin","formatter",{buildArgs:function(e){this.args={class:e.class||!1,style:e.style||!1,attr:e.attr||!1},this.args.class||this.args.style||this.args.attr||(this.args=!1)},applyArgs:function(e,t){return e=this.args?this[this.type](this.args,!1,e,t):this._clearAll(e,t)},clearClass:function(e,t){this.selection.save();var a=t?$R.dom(t):this.getElements(e,!0);return a.removeAttr("class"),t=this._unwrapSpanWithoutAttr(a.getAll()),this.selection.restore(),t},clearStyle:function(e,t){this.selection.save();var a=t?$R.dom(t):this.getElements(e,!0);return a.removeAttr("style"),t=this._unwrapSpanWithoutAttr(a.getAll()),this.selection.restore(),t},clearAttr:function(e,t){this.selection.save();var a=t?$R.dom(t):this.getElements(e,!0);return this._removeAllAttr(a),t=this._unwrapSpanWithoutAttr(a.getAll()),this.selection.restore(),t},set:function(e,t,a,n){!1!==n&&this.selection.save();var s=a?$R.dom(a):this.getElements(t);return e.class&&(s.removeAttr("class"),s.addClass(e.class)),e.style&&(s.removeAttr("style"),s.css(e.style),s.each((function(e){var t=$R.dom(e);t.attr("data-redactor-style-cache",t.attr("style"))}))),e.attr&&(this._removeAllAttr(s),s.attr(e.attr)),!1!==n&&this.selection.restore(),s.getAll()},toggle:function(e,t,a,n){!1!==n&&this.selection.save();var s,r=a?$R.dom(a):this.getElements(t);return e.class&&(r.toggleClass(e.class),r.each((function(e){""===e.className&&e.removeAttribute("class")}))),e.style&&(s=e.style,r.each(function(e){var t=$R.dom(e);for(var a in s){var n=s[a],r=t.css(a);r=this.utils.isRgb(r)?this.utils.rgb2hex(r):r.replace(/"/g,""),n=this.utils.isRgb(n)?this.utils.rgb2hex(n):n.replace(/"/g,""),r=this.utils.hex2long(r),("string"===typeof(n=this.utils.hex2long(n))?n.toLowerCase():n)===("string"===typeof r?r.toLowerCase():r)?t.css(a,""):t.css(a,n)}this._convertStyleQuotes(t),this.utils.removeEmptyAttr(e,"style")?t.removeAttr("data-redactor-style-cache"):t.attr("data-redactor-style-cache",t.attr("style"))}.bind(this))),e.attr&&(s=e.attr,r.each((function(e){var t=$R.dom(e);for(var a in s)t.attr(a)?t.removeAttr(a):t.attr(a,s[a])}))),!1!==n&&this.selection.restore(),r.getAll()},add:function(e,t,a,n){!1!==n&&this.selection.save();var s=a?$R.dom(a):this.getElements(t);if(e.class&&s.addClass(e.class),e.style){var r=e.style;s.each(function(e){var t=$R.dom(e);t.css(r),t.attr("data-redactor-style-cache",t.attr("style")),this._convertStyleQuotes(t)}.bind(this))}return e.attr&&s.attr(e.attr),!1!==n&&this.selection.restore(),s.getAll()},remove:function(e,t,a,n){!1!==n&&this.selection.save();var s=a?$R.dom(a):this.getElements(t);if(e.class&&(s.removeClass(e.class),s.each((function(e){""===e.className&&e.removeAttribute("class")}))),e.style){var r=e.style;s.each(function(e){var t=$R.dom(e);t.css(r,""),this.utils.removeEmptyAttr(e,"style")?t.removeAttr("data-redactor-style-cache"):t.attr("data-redactor-style-cache",t.attr("style"))}.bind(this))}return e.attr&&s.removeAttr(e.attr),a=this._unwrapSpanWithoutAttr(s.getAll()),!1!==n&&this.selection.restore(),a},_removeAllAttr:function(e){e.each((function(e){for(var t=e.attributes.length;t-- >0;){var a=e.attributes[t],n=a.name;"style"!==n&&"class"!==n&&e.removeAttributeNode(a)}}))},_convertStyleQuotes:function(e){var t=e.attr("style");t&&e.attr("style",t.replace(/"/g,"'"))},_clearAll:function(e,t){!1!==t&&this.selection.save();for(var a=0;a<e.length;a++)for(var n=e[a];n.attributes.length>0;)n.removeAttribute(n.attributes[0].name);return e=this._unwrapSpanWithoutAttr(e),!1!==t&&this.selection.restore(),e},_unwrapSpanWithoutAttr:function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];n.attributes.length<=0&&3!==n.nodeType&&"SPAN"===n.tagName?$R.dom(n).unwrap():t.push(n)}return t}}),$R.add("mixin","dom",$R.Dom.prototype),$R.add("mixin","component",{get cmnt(){return!0}}),$R.add("service","options",{init:function(e,t){var a=$R.dom(t),n=$R.extend({},$R.opts,t?a.data():{},$R.options);return n=$R.extend(!0,n,e)}}),$R.add("service","lang",{init:function(e){this.app=e,this.opts=e.opts,this.vars=this._build(this.opts.lang)},rebuild:function(e){this.opts.lang=e,this.vars=this._build(e)},extend:function(e){this.vars=$R.extend(this.vars,e)},parse:function(e){if(void 0===e)return"";var t=e.match(/## (.*?) ##/g);if(t)for(var a=0;a<t.length;a++){var n=t[a].replace(/^##\s/g,"").replace(/\s##$/g,"");e=e.replace(t[a],this.get(n))}return e},get:function(e){var t="";return"undefined"!==typeof this.vars[e]?t=this.vars[e]:"en"!==this.opts.lang&&"undefined"!==typeof $R.lang.en[e]&&(t=$R.lang.en[e]),t},_build:function(e){var t=$R.lang.en;return"en"!==e&&(t=void 0!==$R.lang[e]?$R.lang[e]:t),t}}),$R.add("service","callback",{init:function(e){this.app=e,this.opts=e.opts,this.callbacks={},this.opts.callbacks&&this._set(this.opts.callbacks,"")},stop:function(){this.callbacks={}},add:function(e,t){this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t)},remove:function(e,t){if(void 0===t)delete this.callbacks[e];else{for(var a=0;a<this.callbacks[e].length;a++)this.callbacks[e].splice(a,1);0===Object.keys(this.callbacks[e]).length&&delete this.callbacks[e]}},trigger:function(e,t){var a=this._loop(e,t,this.callbacks);return"undefined"===typeof a&&t&&!1!==t[0]?t[0]:a},_set:function(e,t){for(var a in e){var n=""===t?a:t+"."+a;"object"===typeof e[a]?this._set(e[a],n):(this.callbacks[n]=[],this.callbacks[n].push(e[a]))}},_loop:function(e,t,a){var n;for(var s in a)if(e===s)for(var r=0;r<a[s].length;r++)n=a[s][r].apply(this.app,t);return n}}),$R.add("service","animate",{init:function(e){this.animationOpt=e.opts.animation},start:function(e,t,a,n){var s={duration:!1,iterate:!1,delay:!1,timing:!1,prefix:"redactor-"};return s="function"===typeof a?s:$R.extend(s,a),n="function"===typeof a?a:n,new $R.AnimatePlay(e,t,s,n,this.animationOpt)},stop:function(e){this.$el=$R.dom(e),this.$el.removeClass("redactor-animated");var t=this.$el.attr("redactor-animate-effect");this.$el.removeClass(t),this.$el.removeAttr("redactor-animate-effect");var a=this.$el.attr("redactor-animate-hide");a&&this.$el.addClass(a).removeAttr("redactor-animate-hide"),this.$el.off("animationend webkitAnimationEnd")}}),$R.AnimatePlay=function(e,t,a,n,s){return this.hidableEffects=["fadeOut","flipOut","slideUp","zoomOut","slideOutUp","slideOutRight","slideOutLeft"],this.prefixes=["","-webkit-"],this.$el=$R.dom(e),this.$body=$R.dom("body"),this.callback=n,this.animation=s?t:this.buildAnimationOff(t),this.defaults=a,"slideUp"===this.animation&&this.$el.height(this.$el.height()),this.isInanimate()?this.inanimate():this.animate()},$R.AnimatePlay.prototype={buildAnimationOff:function(e){return this.isHidable(e)?"hide":"show"},buildHideClass:function(){return"redactor-animate-hide"},isInanimate:function(){return"show"===this.animation||"hide"===this.animation},isAnimated:function(){return this.$el.hasClass("redactor-animated")},isHidable:function(e){return-1!==this.hidableEffects.indexOf(e)},inanimate:function(){var e;return this.defaults.timing="linear","show"===this.animation?(e=this.buildHideClass(),this.$el.attr("redactor-animate-hide",e),this.$el.removeClass(e)):(e=this.$el.attr("redactor-animate-hide"),this.$el.addClass(e).removeAttr("redactor-animate-hide")),"function"===typeof this.callback&&this.callback(this),this},animate:function(){var e=this.defaults.delay?this.defaults.delay:0;return setTimeout(function(){if(this.$body.addClass("no-scroll-x"),this.$el.addClass("redactor-animated"),!this.$el.attr("redactor-animate-hide")){var e=this.buildHideClass();this.$el.attr("redactor-animate-hide",e),this.$el.removeClass(e)}this.$el.addClass(this.defaults.prefix+this.animation),this.$el.attr("redactor-animate-effect",this.defaults.prefix+this.animation),this.set(this.defaults.duration+"s",this.defaults.iterate,this.defaults.timing),this.complete()}.bind(this),1e3*e),this},set:function(e,t,a){for(var n=this.prefixes.length;n--;)!1===e&&""!==e||this.$el.css(this.prefixes[n]+"animation-duration",e),!1===t&&""!==t||this.$el.css(this.prefixes[n]+"animation-iteration-count",t),!1===a&&""!==a||this.$el.css(this.prefixes[n]+"animation-timing-function",a)},clean:function(){this.$body.removeClass("no-scroll-x"),this.$el.removeClass("redactor-animated"),this.$el.removeClass(this.defaults.prefix+this.animation),this.$el.removeAttr("redactor-animate-effect"),this.set("","","")},complete:function(){this.$el.one("animationend webkitAnimationEnd",function(){if(this.$el.hasClass(this.defaults.prefix+this.animation)&&this.clean(),this.isHidable(this.animation)){var e=this.$el.attr("redactor-animate-hide");this.$el.addClass(e).removeAttr("redactor-animate-hide")}"slideUp"===this.animation&&this.$el.height(""),"function"===typeof this.callback&&this.callback(this.$el)}.bind(this))}},$R.add("service","caret",{init:function(e){this.app=e},setStart:function(e){this._setCaret("Start",e)},setEnd:function(e){this._setCaret("End",e)},setBefore:function(e){this._setCaret("Before",e)},setAfter:function(e){this._setCaret("After",e)},isStart:function(e){return this._isStartOrEnd(e,"First")},isEnd:function(e){return this._isStartOrEnd(e,"Last")},setAtEnd:function(e){var t=this.inspector.parse(e).getTag(),a=document.createRange();if(this._isInPage(e)){if("a"===t){var n=this.utils.createInvisibleChar();$R.dom(e).after(n),a.selectNodeContents(n),a.collapse(!0)}else a.selectNodeContents(e),a.collapse(!1);this.selection.setRange(a)}},setAtStart:function(e){var t=document.createRange(),a=this.inspector.parse(e);if(this._isInPage(e)){if(t.setStart(e,0),t.collapse(!0),a.isInline()||this.utils.isEmpty(e)){var n=this.utils.createInvisibleChar();t.insertNode(n),t.selectNodeContents(n),t.collapse(!1)}this.selection.setRange(t)}},setAtBefore:function(e){var t=this.inspector.parse(e),a=document.createRange();if(this._isInPage(e)){if(a.setStartBefore(e),a.collapse(!0),t.isInline()){var n=this.utils.createInvisibleChar();e.parentNode.insertBefore(n,e),a.selectNodeContents(n),a.collapse(!1)}this.selection.setRange(a)}},setAtAfter:function(e){var t=document.createRange();if(this._isInPage(e)){t.setStartAfter(e),t.collapse(!0);var a=this.utils.createInvisibleChar();t.insertNode(a),t.selectNodeContents(a),t.collapse(!1),this.selection.setRange(t)}},setAtPrev:function(e){var t=e.previousSibling;t&&(t=3===t.nodeType&&this._isEmptyTextNode(t)?t.previousElementSibling:t)&&this.setEnd(t)},setAtNext:function(e){var t=e.nextSibling;t&&(t=3===t.nodeType&&this._isEmptyTextNode(t)?t.nextElementSibling:t)&&this.setStart(t)},_setCaret:function(e,t){var a=this.inspector.parse(t),n=a.getNode();n&&(this.component.clearActive(),this["_set"+e](n,a,a.getTag()))},_setStart:function(e,t,a){if(t.isText())return this.editor.focus(),this.setAtStart(e);if("ul"===a||"ol"===a){e=t.findFirstNode("li");var n=this.utils.getFirstElement(e),s=this.inspector.parse(n);if(n&&s.isComponent())return this.setStart(s.getComponent())}else if("dl"===a)e=t.findFirstNode("dt");else{if("br"===a||"hr"===a)return this.setBefore(e);if("td"===a||"th"===a){var r=t.getFirstElement(e);if(r)return this.setStart(r)}else{if("table"===a||"tr"===a)return this.setStart(t.findFirstNode("th, td"));if(t.isComponentType("code")&&!t.isFigcaption()){var o=t.findLastNode("pre, code");return this.editor.focus(),this.setAtStart(o)}if("figure"===a&&t.isComponentType("table")){var i=t.getTable(),c=this.inspector.parse(i);return this.setStart(c.findFirstNode("th, td"))}if(!t.isComponentType("table")&&t.isComponent()&&!t.isFigcaption())return this.component.setActive(e)}}this.editor.focus(),this._setInline(e,"Start")||this.setAtStart(e)},_setEnd:function(e,t,a){if(t.isText())return this.editor.focus(),this.setAtEnd(e);if("ul"===a||"ol"===a){e=t.findLastNode("li");var n=this.utils.getLastElement(e),s=this.inspector.parse(n);if(n&&s.isComponent())return this.setEnd(s.getComponent())}else if("dl"===a)e=t.findLastNode("dd");else{if("br"===a||"hr"===a)return this.setAfter(e);if("td"===a||"th"===a){var r=t.getLastElement();if(r)return this.setEnd(r)}else{if("table"===a||"tr"===a)return this.setEnd(t.findLastNode("th, td"));if(t.isComponentType("code")&&!t.isFigcaption()){var o=t.findLastNode("pre, code");return this.editor.focus(),this.setAtEnd(o)}if("figure"===a&&t.isComponentType("table")){var i=t.getTable(),c=this.inspector.parse(i);return this.setEnd(c.findLastNode("th, td"))}if(!t.isComponentType("table")&&t.isComponent()&&!t.isFigcaption())return this.component.setActive(e)}}if(this.editor.focus(),!this._setInline(e,"End")){if(this.utils.isEmpty(e))return this.setStart(e);this.setAtEnd(e)}},_setBefore:function(e,t,a){return 3===e.nodeType||t.isInline()?this.setAtBefore(e):t.isFirstTableCell()?this.setAtPrev(t.getComponent()):"td"===a||"th"===a?this.setAtPrev(e):t.isFirstListItem()?this.setAtPrev(t.getList()):t.isFigcaption()?this.setStart(t.getComponent()):!t.isComponentType("table")&&t.isComponent()?this.setAtPrev(t.getComponent()):t.isBlock()?this.setAtPrev(e):(this.editor.focus(),void this.setAtBefore(e))},_setAfter:function(e,t,a){return 3===e.nodeType||t.isInline()?this.setAtAfter(e):t.isLastTableCell()?this.setAtNext(t.getComponent()):"td"===a||"th"===a?this.setAtNext(e):t.isFirstListItem()?this.setAtNext(t.getList()):!t.isComponentType("table")&&t.isComponent()?this.setAtNext(t.getComponent()):t.isBlock()?this.setAtNext(e):(this.editor.focus(),void this.setAtAfter(e))},_setInline:function(e,t){var a=this._hasInlineChild(e,"Start"===t?"first":"last");if(a)return"Start"===t?this.setStart(a):this.setEnd(a),!0},_isStartOrEnd:function(e,t){var a=this.utils.getNode(e);if(!a)return!1;var n=this.inspector.parse(a);if((a=this._getStartEndNode(a,n,t))&&3!==a.nodeType&&"LI"!==a.tagName){var s=3===a.nodeType?a.textContent:a.innerHTML;if(""===(s=this.utils.trimSpaces(s)))return!0}if(!n.isFigcaption()&&n.isComponent()&&!n.isComponentEditable())return!0;var r=this.offset.get(a,!0);return!!r&&("First"===t?0===r.start:r.end===this.offset.size(a,!0))},_isInPage:function(e){return!(!e||!e.nodeType)&&(e!==document.body&&document.body.contains(e))},_hasInlineChild:function(e,t){var a=this.inspector.parse(e),n="first"===t?a.getFirstNode():a.getLastNode(),s=$R.dom(n);if(n&&3!==n.nodeType&&this.inspector.isInlineTag(n.tagName)&&!s.hasClass("redactor-component")&&!s.hasClass("non-editable"))return n},_isEmptyTextNode:function(e){var t=e.textContent.trim().replace(/\n/,"");return""===(t=this.utils.removeInvisibleChars(t))},_getStartEndNode:function(e,t,a){return t.isFigcaption()?e=t.getFigcaption():t.isTable()?e=t["find"+a+"Node"]("th, td"):t.isList()?e=t["find"+a+"Node"]("li"):t.isComponentType("code")&&(e=t.findLastNode("pre, code")),e}});var containsNode=function(e){return document.getSelection().containsNode(e,!0)};"containsNode"in Selection.prototype||(containsNode=containsNodePolyfill);var containsNodePolyfill=function(e){var t=document.getSelection(),a=t.anchorNode.parentNode,n=t.focusNode.parentNode,s=t.getRangeAt(0).getBoundingClientRect(),r=e.getBoundingClientRect();return!!$R.dom(a).closest(e).length||(!!$R.dom(n).closest(e).length||s.top<r.top&&s.height>r.height)};$R.add("service","selection",{init:function(e){this.app=e},is:function(){var e=this.get();if(e){var t=e.anchorNode,a=this.inspector.parse(t);return a.isInEditor()||a.isEditor()}return!1},isCollapsed:function(){var e=this.get(),t=this.getRange();return!(!e||!e.isCollapsed)||!(!t||0!==t.toString().length)},isBackwards:function(){var e=!1,t=this.get();if(t&&!t.isCollapsed){var a=document.createRange();a.setStart(t.anchorNode,t.anchorOffset),a.setEnd(t.focusNode,t.focusOffset),e=a.collapsed,a.detach()}return e},isIn:function(e){var t=$R.dom(e).get(),a=this.getCurrent();return!(!a||!t)&&t.contains(a)},isText:function(){var e=this.get();if(e){var t=e.anchorNode,a=this.getBlock(t),n=this.getBlocks();if(a&&this.inspector.isTableCellTag(a.tagName)||!1===a&&0===n.length)return!0}return!1},isAll:function(e){var t=this.utils.getNode(e);if(!t)return!1;var a=this.editor.isEditor(t),n=this.inspector.parse(t);if(!n.isFigcaption()&&this.component.isNonEditable(t)&&this.component.isActive(t))return!0;if(a){var s=this.editor.getElement().html().replace(/<p><\/p>$/i,"");if(this.getHtml(!1).length!==s.length)return!1}if(a&&this.editor.isEmpty()||this.isCollapsed())return!1;var r=this.offset.get(t,!0),o=this.offset.size(t,!0);return!a&&n.isComponentType("code")&&(o=this.getText().trim().length),!(!r||0!==r.start||r.end!==o)},hasNonEditable:function(){var e=this.getHtml(),t=$R.dom("<div>").html(e);return!this.isCollapsed()&&0!==t.find(".non-editable").length},setRange:function(e){var t=window.getSelection();t.removeAllRanges(),t.addRange(e)},setAll:function(e){var t=this.utils.getNode(e);if(t){var a=this.inspector.parse(t);if(this.component.clearActive(),this.editor.focus(),this.editor.saveScroll(),this.editor.disableNonEditables(),t&&"TABLE"===t.tagName){var n=a.findFirstNode("td, th"),s=a.findLastNode("td, th");$R.dom(n).prepend(this.marker.build("start")),$R.dom(s).append(this.marker.build("end")),this.restoreMarkers()}else if(!a.isFigcaption()&&this.component.isNonEditable(t))this.component.setActive(t);else{a.isComponentType("code")&&(t=a.getComponentCodeElement()).focus();var r=document.createRange();r.selectNodeContents(t),this.setRange(r)}this.editor.enableNonEditables(),this.editor.restoreScroll()}},get:function(){var e=window.getSelection();return e.rangeCount>0?e:null},getRange:function(){var e=this.get();return e&&e.getRangeAt(0)?e.getRangeAt(0):null},getTextBeforeCaret:function(e){e="undefined"===typeof e?1:e;var t=this.editor.getElement().get(),a=this.getRange(),n=!1;return a&&((a=a.cloneRange()).collapse(!0),a.setStart(t,0),n=a.toString().slice(-e)),n},getTextAfterCaret:function(e){e="undefined"===typeof e?1:e;var t=this.editor.getElement().get(),a=this.getRange(),n=!1;if(a){var s=a.cloneRange();s.selectNodeContents(t),s.setStart(a.endContainer,a.endOffset),n=s.toString().slice(0,e)}return n},getPosition:function(){var e=this.getRange(),t={top:0,left:0,width:0,height:0};if(window.getSelection&&e.getBoundingClientRect){var a=(e=e.cloneRange()).startOffset-1;e.setStart(e.startContainer,a<0?0:a);var n=e.getBoundingClientRect();t={top:n.top,left:n.left,width:n.right-n.left,height:n.bottom-n.top}}return t},getCurrent:function(){var e=!1,t=this.get(),a=this.component.getActive();if(a)e=a;else if(t&&this.is()){e=!this.inspector.parse(t.anchorNode).isEditor()&&t.anchorNode}return e},getParent:function(){var e=!1,t=this.getCurrent();if(t){var a=t.parentNode;e=!this.inspector.parse(a).isEditor()&&a}return e},getElement:function(e){for(var t=e||this.getCurrent();t;){var a=this.inspector.parse(t);if(a.isElement()&&a.isInEditor())return t;t=t.parentNode}return!1},getInline:function(e){for(var t=e||this.getCurrent(),a=!1;t;)this._isInlineNode(t)&&(a=t),t=t.parentNode;return a},getInlineFirst:function(e){for(var t=e||this.getCurrent();t;){if(this._isInlineNode(t))return t;t=t.parentNode}return!1},getInlineAll:function(e){for(var t=e||this.getCurrent(),a=[];t;)this._isInlineNode(t)&&a.push(t),t=t.parentNode;return a},getBlock:function(e){for(var t=e||this.getCurrent();t;){var a=this.inspector.parse(t);if(this.inspector.isBlockTag(t.tagName)&&a.isInEditor(t))return t;t=t.parentNode}return!1},getInlinesAllSelected:function(e){if(this.isAll())return[];var t=this.getInlines({all:!0}),a=this.getNodes({textnodes:!0,inline:!1}),n=this.getText().replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&"),s=[];if(0!==a.length)return s;if(""===n)s=t;else if(t.length>1)for(var r=0;r<t.length;r++)this._isTextSelected(t[r],n)&&s.push(t[r]);else 1===t.length&&this._isTextSelected(t[0],n)&&(s=t);return s=e&&e.tags?this._filterNodesByTags(s,e.tags):s},getInlines:function(e){for(var t=this.getNodes(),a=[],n=0;n<t.length;n++){var s;if(e&&e.all)for(s=t[n];s;)this._isInlineNode(s)&&!this._isInNodesArray(a,s)&&a.push(s),s=s.parentNode;else(s=this.getInline(t[n]))&&!this._isInNodesArray(a,s)&&a.push(s)}return a=e&&e.tags?this._filterNodesByTags(a,e.tags):a,a=e&&e.inside?this._filterInlinesInside(a,e):a},getBlocks:function(e){var t=this.getNodes(),a=this.getBlock();t=0===t.length&&a?[a]:t;for(var n=[],s=0;s<t.length;s++){var r=this.getBlock(t[s]);$R.dom(r).hasClass("non-editable")||r&&!this._isInNodesArray(n,r)&&n.push(r)}return n=e&&e.tags?this._filterNodesByTags(n,e.tags):n,n=e&&e.first?this._filterBlocksFirst(n,e):n},getElements:function(e){var t=this.getNodes({textnodes:!1}),a=this.getBlock();t=0===t.length&&a?[a]:t;for(var n=[],s=0;s<t.length;s++)this._isInNodesArray(n,t[s])||n.push(t[s]);return n=e&&e.tags?this._filterNodesByTags(n,e.tags):n},getNodes:function(e){var t=[],a=this.component.getActive();if(a)t=this._getNodesComponent(a);else if(this.isCollapsed()){var n=this.getCurrent();t=n?[n]:[]}else this.is()&&!a&&(t=this._getRangeSelectedNodes());return t=this._filterServicesNodes(t),t=this._filterEditor(t),t=e&&e.tags?this._filterNodesByTags(t,e.tags):t,t=e&&e.textnodes?this._filterNodesTexts(t,e):t,t=e&&!e.textnodes?this._filterNodesElements(t):t},getText:function(){var e=this.get();return e?this.utils.removeInvisibleChars(e.toString()):""},getHtml:function(e){var t="",a=this.get();if(a){for(var n=document.createElement("div"),s=a.rangeCount,r=0;r<s;++r)n.appendChild(a.getRangeAt(r).cloneContents());t=n.innerHTML,t=(t=!1!==e?this.cleaner.output(t):t).replace(/<p><\/p>$/i,"")}return t},clear:function(){this.component.clearActive(),this.get().removeAllRanges()},collapseToStart:function(){var e=this.get();e&&!e.isCollapsed&&e.collapseToStart()},collapseToEnd:function(){var e=this.get();e&&!e.isCollapsed&&e.collapseToEnd()},saveActiveComponent:function(){var e=this.component.getActive();return!!e&&(this.savedComponent=e,!0)},restoreActiveComponent:function(){return!!this.savedComponent&&(this.component.setActive(this.savedComponent),!0)},save:function(){this._clearSaved();var e=this.getElement();!e||-1===["TD","TH","P","DIV","PRE","H1","H2","H3","H4","H5","H6","LI","BLOCKQUOTE"].indexOf(e.tagName)||""!==e.innerHTML&&"<br>"!==e.innerHTML?this.saveActiveComponent()||(this.saved=this.offset.get()):this.savedElement=e},restore:function(){(this.saved||this.savedComponent||this.savedElement)&&(this.editor.saveScroll(),this.savedElement?this.caret.setStart(this.savedElement):this.restoreActiveComponent()||this.offset.set(this.saved),this._clearSaved(),this.editor.restoreScroll())},saveMarkers:function(){this._clearSaved(),this.saveActiveComponent()||this.marker.insert()},restoreMarkers:function(){this.editor.saveScroll(),this.restoreActiveComponent()||this.marker.restore(),this._clearSaved(),this.editor.restoreScroll()},_getNextNode:function(e){if(e.hasChildNodes())return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null},_getNodesComponent:function(e){var t=this.getCurrent(),a=this.inspector.parse(t);return a.isFigcaption()?[a.getFigcaption()]:[e]},_getRangeSelectedNodes:function(){var e=[],t=this.getRange(),a=t.startContainer,n=t.startContainer,s=t.endContainer,r=this.editor.getElement();if(n===r.get()&&this.isAll())e=this.utils.getChildNodes(r);else if(a===s)e=[a];else{for(;a&&a!==s;)e.push(a=this._getNextNode(a));for(a=t.startContainer;a&&a!==t.commonAncestorContainer;)e.unshift(a),a=a.parentNode}return e},_isInNodesArray:function(e,t){return-1!==e.indexOf(t)},_filterEditor:function(e){for(var t=[],a=0;a<e.length;a++){this.inspector.parse(e[a]).isInEditor()&&t.push(e[a])}return t},_filterServicesNodes:function(e){for(var t=[],a=0;a<e.length;a++){var n=$R.dom(e[a]),s=!1;e[a]&&3===e[a].nodeType&&this.utils.isEmpty(e[a])&&(s=!0),(n.hasClass("redactor-script-tag")||n.hasClass("redactor-component-caret")||n.hasClass("redactor-selection-marker")||n.hasClass("non-editable"))&&(s=!0),s||t.push(e[a])}return t},_filterNodesTexts:function(e,t){for(var a=[],n=0;n<e.length;n++){if(3===e[n].nodeType||t.keepbr&&"BR"===e[n].tagName)this.getInline(e[n])&&t&&!1===t.inline||a.push(e[n])}return a},_filterNodesElements:function(e){for(var t=[],a=0;a<e.length;a++)3!==e[a].nodeType&&t.push(e[a]);return t},_filterNodesByTags:function(e,t,a){for(var n=[],s=0;s<e.length;s++)if(a&&3===e[s].nodeType)n.push(e[s]);else if(3!==e[s].nodeType){var r=e[s].tagName.toLowerCase();-1!==t.indexOf(r.toLowerCase())&&n.push(e[s])}return n},_filterBlocksFirst:function(e){for(var t=[],a=0;a<e.length;a++){var n=$R.dom(e[a]),s=n.parent().get(),r=n.parent().hasClass("redactor-in"),o=s&&("TD"===s.tagName||"TH"===s.tagName);(r||o)&&t.push(e[a])}return t},_filterInlinesInside:function(e){for(var t=[],a=0;a<e.length;a++)containsNode(e[a],!0)&&t.push(e[a]);return t},_isTextSelected:function(e,t){var a=this.utils.removeInvisibleChars(e.textContent);return t===a||-1!==a.search(t)||-1!==t.search(new RegExp("^"+this.utils.escapeRegExp(a)))||-1!==t.search(new RegExp(this.utils.escapeRegExp(a)+"$"))},_isInlineNode:function(e){var t=this.inspector.parse(e);return this.inspector.isInlineTag(e.tagName)&&t.isInEditor()},_clearSaved:function(){this.saved=!1,this.savedComponent=!1,this.savedElement=!1}}),$R.add("service","element",{init:function(e){this.app=e,this.rootElement=e.rootElement,this.$element={},this.type="inline"},start:function(){this._build(),this._buildType()},isType:function(e){return e===this.type},getType:function(){return this.type},getElement:function(){return this.$element},_build:function(){this.$element=$R.dom(this.rootElement)},_buildType:function(){var e=this.$element.get().tagName;this.type="TEXTAREA"===e?"textarea":this.type,this.type="DIV"===e?"div":this.type,this.type=this.opts.inline?"inline":this.type}}),$R.add("service","editor",{init:function(e){this.app=e,this.scrolltop=!1,this.pasting=!1},start:function(){this._build()},focus:function(){this.isFocus()||this._isContenteditableFocus()||(this.saveScroll(),this.$editor.focus(),this.restoreScroll())},startFocus:function(){this.caret.setStart(this.getFirstNode())},endFocus:function(){this.caret.setEnd(this.getLastNode())},isPasting:function(){return this.pasting},enablePasting:function(){this.pasting=!0},disablePasting:function(){this.pasting=!1},saveScroll:function(){this.scrolltop=this._getScrollTarget().scrollTop(),this.opts.maxHeight&&(this.scrolltopin=this.$editor.scrollTop())},restoreScroll:function(){!1!==this.scrolltop&&(this._getScrollTarget().scrollTop(this.scrolltop),this.scrolltop=!1),this.scrolltopin&&(this.$editor.scrollTop(this.scrolltopin),this.scrolltopin=!1)},disableNonEditables:function(){this.$noneditables=this.$editor.find("[contenteditable=false]"),this.$noneditables.attr("contenteditable",!0)},enableNonEditables:function(){this.$noneditables&&setTimeout(function(){this.$noneditables.attr("contenteditable",!1)}.bind(this),1)},getFirstNode:function(){return this.$editor.contents()[0]},getLastNode:function(){var e=this.$editor.contents();return e[e.length-1]},isSourceMode:function(){return this.source.getElement().hasClass("redactor-source-open")},isEditor:function(e){return $R.dom(e).get()===this.$editor.get()},isEmpty:function(e){return this.utils.isEmptyHtml(this.$editor.html(),!1,e)},isFocus:function(){var e=$R.dom(document.activeElement);return 0!==this.$editor.find(".redactor-component-active").length||0!==e.closest(".redactor-in-"+this.uuid).length},setEmpty:function(){this.$editor.html(this.opts.emptyHtml)},getElement:function(){return this.$editor},_build:function(){var e=this.element.getElement(),t=this.element.isType("textarea")?"<div>":e.get();this.$editor=$R.dom(t)},_getScrollTarget:function(){var e=this.$doc;return e=this.opts.toolbarFixedTarget!==document?$R.dom(this.opts.toolbarFixedTarget):this.opts.scrollTarget?$R.dom(this.opts.scrollTarget):e},_isContenteditableFocus:function(){var e=this.selection.getBlock();return 0!==(e?$R.dom(e).closest("[contenteditable=true]").not(".redactor-in"):[]).length}}),$R.add("service","container",{init:function(e){this.app=e},start:function(){this._build()},getElement:function(){return this.$container},_build:function(){var e=this.element.isType("inline")?"<span>":"<div>";this.$container=$R.dom(e)}}),$R.add("service","source",{init:function(e){this.app=e,this.$source={},this.content=""},start:function(){this._build(),this._buildName(),this._buildStartedContent()},getElement:function(){return this.$source},getCode:function(){return this.$source.val()},getName:function(){return this.$source.attr("name")},getStartedContent:function(){return this.content},setCode:function(e){return this.insertion.set(e,!0,!1)},isNameGenerated:function(){return this.name},rebuildStartedContent:function(){this._buildStartedContent()},_build:function(){var e=this.element.getElement(),t=this.element.isType("textarea")?e.get():"<textarea>";this.$source=$R.dom(t)},_buildName:function(){var e=this.element.getElement();this.name=e.attr("name"),this.$source.attr("name",this.name?this.name:"content-"+this.uuid)},_buildStartedContent:function(){var e=this.element.getElement(),t=this.element.isType("textarea")?e.val():e.html();this.content=t.trim()}}),$R.add("service","statusbar",{init:function(e){this.app=e,this.$statusbar={},this.items=[]},start:function(){this.$statusbar=$R.dom("<ul>"),this.$statusbar.attr("dir",this.opts.direction)},add:function(e,t){return this.update(e,t)},update:function(e,t){var a;return"undefined"!==typeof this.items[e]?a=this.items[e]:(a=$R.dom("<li>"),this.$statusbar.append(a),this.items[e]=a),a.html(t)},get:function(e){return!!this.items[e]&&this.items[e]},remove:function(e){this.items[e]&&(this.items[e].remove(),delete this.items[e])},getItems:function(){return this.items},removeItems:function(){this.items={},this.$statusbar.html("")},getElement:function(){return this.$statusbar}}),$R.add("service","toolbar",{init:function(e){this.app=e,this.buttons=[],this.dropdownOpened=!1,this.buttonsObservers={}},start:function(){this.is()&&(this.opts.activeButtons=this.opts.activeButtonsAdd?this._extendActiveButtons():this.opts.activeButtons,this.create())},stopObservers:function(){this.buttonsObservers={}},create:function(){this.$wrapper=$R.dom("<div>"),this.$toolbar=$R.dom("<div>")},observe:function(){if(this.is()){var e,t;for(var a in this.setButtonsInactive(),this.buttonsObservers)t=this.buttonsObservers[a],e=this.getButton(a),this.app.broadcast("button."+t+".observe",e);var n=this.opts.activeButtons,s=this.selection.getInlinesAllSelected(),r=this.selection.getInline();this.selection.isCollapsed()&&r&&s.push(r);var o=this._inlinesToTags(s);for(var i in n)-1!==o.indexOf(i)&&(e=this.getButton(n[i]))&&e.setActive()}},is:function(){return!(!this.opts.toolbar||this.detector.isMobile()&&this.opts.air)},isAir:function(){return!!this.is()&&this.$toolbar.hasClass("redactor-air")},isFixed:function(){return!!this.is()&&this.$toolbar.hasClass("redactor-toolbar-fixed")},isContextBar:function(){return this.$body.find("#redactor-context-toolbar-"+this.uuid).hasClass("open")},isTarget:function(){return this.opts.toolbarFixedTarget!==document},getElement:function(){return this.$toolbar},getWrapper:function(){return this.$wrapper},getDropdown:function(){return this.dropdownOpened},getTargetElement:function(){return $R.dom(this.opts.toolbarFixedTarget)},getButton:function(e){var t=this._findButton(".re-"+e);return 0!==t.length&&t.dataget("data-button-instance")},getButtons:function(){var e=[];return this._findButtons().each((function(t){var a=$R.dom(t);e.push(a.dataget("data-button-instance"))})),e},getButtonsKeys:function(){var e=[];return this._findButtons().each((function(t){var a=$R.dom(t);e.push(a.attr("data-re-name"))})),e},addButton:function(e,t,a,n,s){a=a||"end";var r=$R.create("toolbar.button",this.app,e,t);if(t.observe&&(this.opts.activeButtonsObservers[e]={observe:t.observe,button:r}),this.is())if("first"===a)this.$toolbar.prepend(r);else if("after"===a)n.after(r);else if("before"===a)n.before(r);else{var o=this.opts.buttons.indexOf(e);if(!0!==s&&-1!==o)if(0===o)this.$toolbar.prepend(r);else this._findButtons().eq(o-1).after(r);else this.$toolbar.append(r)}return r},addButtonFirst:function(e,t){return this.addButton(e,t,"first")},addButtonAfter:function(e,t,a){var n=this.getButton(e);return n?this.addButton(t,a,"after",n):this.addButton(t,a)},addButtonBefore:function(e,t,a){var n=this.getButton(e);return n?this.addButton(t,a,"before",n):this.addButton(t,a)},addButtonObserver:function(e,t){this.buttonsObservers[e]=t},setButtons:function(e){this.buttons=e},setDropdown:function(e){this.dropdownOpened=e},setButtonsInactive:function(){for(var e=this.getButtons(),t=0;t<e.length;t++)e[t].setInactive()},setButtonsActive:function(){for(var e=this.getButtons(),t=0;t<e.length;t++)e[t].setActive()},disableButtons:function(){for(var e=this.getButtons(),t=0;t<e.length;t++)e[t].disable()},enableButtons:function(){for(var e=this.getButtons(),t=0;t<e.length;t++)e[t].enable()},_findButton:function(e){return this.is()?this.$toolbar.find(e):$R.dom()},_findButtons:function(){return this.is()?this.$toolbar.find(".re-button"):$R.dom()},_extendActiveButtons:function(){return $R.extend({},this.opts.activeButtons,this.opts.activeButtonsAdd)},_inlinesToTags:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].tagName.toLowerCase());return t}}),$R.add("class","toolbar.button",{mixins:["dom"],init:function(e,t,a){this.app=e,this.opts=e.opts,this.lang=e.lang,this.$body=e.$body,this.toolbar=e.toolbar,this.detector=e.detector,this.obj=a,this.name=t,this.dropdown=!1,this.tooltip=!1,this._init()},isActive:function(){return this.hasClass("redactor-button-active")},isDisabled:function(){return this.hasClass("redactor-button-disabled")},hasIcon:function(){return this.obj.icon&&!this.opts.buttonsTextLabeled},setDropdown:function(e){this.obj.dropdown=e,this.obj.message=!1,this.dropdown=$R.create("toolbar.dropdown",this.app,this.name,this.obj.dropdown),this.attr("data-dropdown",!0)},setMessage:function(e,t){this.obj.message=e,this.obj.args=t,this.obj.dropdown=!1},setApi:function(e,t){this.obj.api=e,this.obj.args=t,this.obj.dropdown=!1},setTitle:function(e){this.obj.title=this.lang.parse(e),this.obj.tooltip=this.obj.title,this.attr({alt:this.obj.tooltip,"aria-label":this.obj.tooltip}),this.attr("data-re-icon")||this.html(this.obj.title)},setTooltip:function(e){this.obj.tooltip=this.lang.parse(e),this.attr({alt:this.obj.tooltip,"aria-label":this.obj.tooltip})},setIcon:function(e){this.opts.buttonsTextLabeled||(this.obj.icon=!0,this.$icon=$R.dom(e),this.html(""),this.append(this.$icon),this.attr("data-re-icon",!0),this.addClass("re-button-icon"),this.setTooltip(this.obj.title),this._buildTooltip())},setActive:function(){this.addClass("redactor-button-active")},setInactive:function(){this.removeClass("redactor-button-active")},hideTooltip:function(){this.$body.find(".re-button-tooltip").remove()},getDropdown:function(){return this.dropdown},disable:function(){this.addClass("redactor-button-disabled")},enable:function(){this.removeClass("redactor-button-disabled")},toggle:function(e){e&&e.preventDefault(),this.isDisabled()||(this.obj.dropdown?this.dropdown.toggle(e):this.obj.api?this.app.api(this.obj.api,this.obj.args,this.name):this.obj.message&&this.app.broadcast(this.obj.message,this.obj.args,this.name),this.hideTooltip())},_init:function(){this._parseTitle(),this._parseTooltip(),this._build(),this._buildCallback(),this._buildAttributes(),this._buildObserver(),this.hasIcon()?(this._buildIcon(),this._buildTooltip()):this.html(this.obj.title)},_parseTooltip:function(){this.obj.tooltip=this.obj.tooltip?this.lang.parse(this.obj.tooltip):this.obj.title},_parseTitle:function(){this.obj.title=this.lang.parse(this.obj.title)},_build:function(){this.parse("<a>"),this.addClass("re-button re-"+this.name),this.attr("data-re-name",this.name),this.dataset("data-button-instance",this),this.obj.dropdown&&this.setDropdown(this.obj.dropdown)},_buildCallback:function(){this.on("click",this.toggle.bind(this))},_buildAttributes:function(){var e={href:"#",alt:this.obj.tooltip,rel:this.name,role:"button","aria-label":this.obj.tooltip,tabindex:"-1"};this.attr(e)},_buildObserver:function(){"undefined"!==typeof this.obj.observe&&this.toolbar.addButtonObserver(this.name,this.obj.observe)},_buildIcon:function(){var e=this.obj.icon,t=/(<([^>]+)>)/gi.test(e);this.$icon=t?$R.dom(e):$R.dom("<i>"),t||this.$icon.addClass("re-icon-"+this.name),this.append(this.$icon),this.attr("data-re-icon",!0),this.addClass("re-button-icon")},_buildTooltip:function(){this.detector.isDesktop()&&(this.tooltip=$R.create("toolbar.button.tooltip",this.app,this))}}),$R.add("class","toolbar.button.tooltip",{mixins:["dom"],init:function(e,t){this.app=e,this.uuid=e.uuid,this.opts=e.opts,this.$body=e.$body,this.toolbar=e.toolbar,this.$button=t,this.created=!1,this._init()},open:function(){if(!this.$button.hasClass("redactor-button-disabled")&&!this.$button.hasClass("redactor-button-active")){this.created=!0,this.parse("<span>"),this.addClass("re-button-tooltip re-button-tooltip-"+this.uuid),this.$body.append(this),this.html(this.$button.attr("alt"));var e=this.$button.offset(),t=this.$button.height(),a=this.$button.width();this.css({top:e.top+t+4+"px",left:e.left+a/2-this.width()/2+"px",position:"absolute"}),this.show()}},close:function(){this.created&&!this.$button.hasClass("redactor-button-disabled")&&(this.remove(),this.created=!1)},_init:function(){this.$button.on("mouseover",this.open.bind(this)),this.$button.on("mouseout",this.close.bind(this))}}),$R.add("class","toolbar.dropdown",{mixins:["dom"],init:function(e,t,a){this.app=e,this.uuid=e.uuid,this.opts=e.opts,this.$win=e.$win,this.$doc=e.$doc,this.$body=e.$body,this.animate=e.animate,this.toolbar=e.toolbar,this.name=t,this.started=!1,this.items="format"===t?$R.extend({},!0,a):a,this.$items=[]},toggle:function(e){this.started||this._build(),this.isOpened()&&this.isActive()?this.close(!1):this.open(e)},isOpened:function(){var e=this.$body.find(".redactor-dropdown-"+this.uuid+".open");return 0!==e.length&&e.attr("data-re-name")===this.name},isActive:function(){return 0!==this.$body.find("#redactor-dropdown-"+this.uuid+"-"+this.name+".open").length},getName:function(){return this.attr("data-re-name")},getItem:function(e){return this.$items[e]},getItemsByClass:function(e){var t=[];for(var a in this.$items){var n=this.$items[a];"object"===typeof n&&n.attr("data-re-name")&&n.hasClass(e)&&t.push(n)}return t},open:function(e){this._closeAll(),this.$btn=this.toolbar.getButton(this.name),this.app.broadcast("dropdown.open",e,this,this.$btn),this.toolbar.setDropdown(this),this.show(),this.removeClass("redactor-animate-hide"),this.addClass("open"),this._observe(),this.$btn.hideTooltip(),this.$btn.setActive(),this.$doc.on("keyup.redactor.dropdown-"+this.uuid,this._handleKeyboard.bind(this)),this.$doc.on("click.redactor.dropdown-"+this.uuid,this.close.bind(this)),this.updatePosition(),this.app.broadcast("dropdown.opened",e,this,this.$btn)},close:function(e,t){if(e){var a=$R.dom(e.target);if(this._isButton(e)||a.hasClass("redactor-dropdown-not-close")||a.hasClass("redactor-dropdown-item-disabled"))return void e.preventDefault()}this.app.broadcast("dropdown.close",this,this.$btn),this.toolbar.setDropdown(!1),this.$btn.setInactive(),!1===t?this._close():this.animate.start(this,"fadeOut",this._close.bind(this))},updatePosition:function(){var e=this.toolbar.isFixed(),t=this.toolbar.isTarget(),a=this.$btn.height(),n=this.$btn.width(),s=this.$btn.offset(),r="absolute",o=2;e&&(s.top=t?this.$btn.offset().top:this.$btn.position().top,r="fixed",o+=this.opts.toolbarFixedTopOffset);var i=s.left+0,c=parseFloat(this.css("width")),_=i-(this.$win.width()<i+c?c-n:0),l=s.top+a+o;_=_<0?4:_,this.css({maxHeight:"",position:r,top:l+"px",left:_+"px"});var d=this.$win.height()-(l-this.$doc.scrollTop())-10;this.css("max-height",d+"px")},_build:function(){this.parse("<div>"),this.attr("dir",this.opts.direction),this.attr("id","redactor-dropdown-"+this.uuid+"-"+this.name),this.attr("data-re-name",this.name),this.addClass("redactor-dropdown redactor-dropdown-"+this.uuid+" redactor-dropdown-"+this.name),this.dataset("data-dropdown-instance",this),this.items.sdom||"string"===typeof this.items?this._buildDom():this._buildItems(),this.$body.append(this),this.started=!0},_buildDom:function(){this.html("").append($R.dom(this.items))},_buildItems:function(){for(var e in this.items="format"===this.name?this._buildFormattingItems():this.items,this.items){var t=this.items[e];if("observe"===e)this.attr("data-observe",this.items[e]);else{var a=$R.create("toolbar.dropdown.item",this.app,e,t,this);this.$items[e]=a,this.append(a)}}},_buildFormattingItems:function(){for(var e in this.items)-1===this.opts.formatting.indexOf(e)&&delete this.items[e];if(this.opts.formattingHide)for(var e in this.items)-1!==this.opts.formattingHide.indexOf(e)&&delete this.items[e];if(this.opts.formattingAdd)for(var e in this.opts.formattingAdd)this.items[e]=this.opts.formattingAdd[e];return this.items},_handleKeyboard:function(e){27===e.which&&this.close()},_isButton:function(e){return $R.dom(e.target).closest(".re-button").get()===this.$btn.get()},_close:function(){this.$btn.setInactive(),this.$doc.off(".redactor.dropdown-"+this.uuid),this.removeClass("open"),this.addClass("redactor-animate-hide"),this.app.broadcast("dropdown.closed",this,this.$btn)},_closeAll:function(){this.$body.find(".redactor-dropdown-"+this.uuid+".open").each((function(e){$R.dom(e).dataget("data-dropdown-instance")._close()}))},_observe:function(){var e=this.attr("data-observe");e&&this.app.broadcast("dropdown."+e+".observe",this)}}),$R.add("class","toolbar.dropdown.item",{mixins:["dom"],init:function(e,t,a,n){this.app=e,this.lang=e.lang,this.dropdown=n,this.name=t,this.obj=a,this._init()},setTitle:function(e){this.$span.html(e)},getTitle:function(){return this.$span.html()},enable:function(){this.removeClass("redactor-dropdown-item-disabled")},disable:function(){this.addClass("redactor-dropdown-item-disabled")},toggle:function(e){e&&e.preventDefault(),this.hasClass("redactor-dropdown-item-disabled")||(this.obj.message?this.app.broadcast(this.obj.message,this.obj.args,this.name):this.obj.api&&this.app.api(this.obj.api,this.obj.args,this.name))},_init:function(){this.parse("<a>"),this.attr("href","#"),this.addClass("redactor-dropdown-item-"+this.name),this.obj.classname&&this.addClass(this.obj.classname),this.attr("data-re-name",this.name),this.on("click",this.toggle.bind(this)),this.$span=$R.dom("<span>"),this.append(this.$span),this.setTitle(this.lang.parse(this.obj.title))}}),$R.add("service","cleaner",{init:function(e){this.app=e,this.opts=e.opts,this.storedComponents=[],this.storedComments=[],this.storedImages=[],this.storedLinks=[],this.deniedTags=["font","html","head","link","title","body","meta","applet"],this.convertRules={},this.unconvertRules={},this.reComments=/<!--[\s\S]*?-->\n?/g,this.reSpacedEmpty=/^(||\s||<br\s?\/?>||&nbsp;)$/i,this.reScriptTag=/<script(.*?[^>]?)>([\w\W]*?)<\/script>/gi},addConvertRules:function(e,t){this.convertRules[e]=t},addUnconvertRules:function(e,t){this.unconvertRules[e]=t},input:function(e,t,a){var n=[];e=this.storeComments(e,n),e=this.encodeCode(e);var s=this.utils.buildWrapper(e);s.find("a, b, i, img, svg, details").removeAttr("onload onerror ontoggle onwheel onmouseover oncopy"),s.find("a").each((function(e){var t=$R.dom(e),a=t.attr("href");a&&-1!==a.search(/^data|javascript:/i)&&t.attr("href","")}));var r=["alt","title","src","class","width","height","srcset","style","usemap"];return s.find("img").each((function(e){if(e.attributes.length>0)for(var t=e.attributes,a=t.length-1;a>=0;a--){(-1===t[a].name.search(/^data-/)&&-1===r.indexOf(t[a].name)||"src"===t[a].name&&-1!==t[a].value.search(/^data|javascript:/i))&&e.removeAttribute(t[a].name)}})),e=(e=(e=this.utils.getWrapperHtml(s)).replace(/\$/g,"&#36;")).replace(/&amp;/g,"&"),e=$R.create("cleaner.figure",this.app).convert(e,this.convertRules),e=this.storeComponents(e),e=this.replaceTags(e,this.opts.replaceTags),e=this._setSpanAttr(e),e=this._setStyleCache(e),e=this.removeTags(e,this.deniedTags),e=this.opts.removeScript?this._removeScriptTag(e):this._replaceScriptTag(e),e=this.opts.removeComments?this.removeComments(e):e,e=this._isSpacedEmpty(e)?this.opts.emptyHtml:e,e=this.restoreComponents(e),e=this._cleanWrapped(e),e=this.restoreComments(e,n),e=t?this.paragraphize(e):e},output:function(e,t){return e=this.removeInvisibleSpaces(e),this.opts.breakline&&(e=(e=e.replace(/<\/(span|strong|b|i|em)><br\s?\/?><\/div>/gi,"</$1></div>")).replace(/<br\s?\/?><\/(span|strong|b|i|em)><\/div>/gi,"</$1></div>")),e=e.replace(/&#36;/g,"$"),this._isSpacedEmpty(e)||this._isParagraphEmpty(e)?"":(e=this.removeServiceTagsAndAttrs(e,t),e=this.storeComponents(e),e=this.removeSpanWithoutAttributes(e),e=this.removeFirstBlockBreaklineInHtml(e),e=this.opts.removeScript?e:this._unreplaceScriptTag(e),e=this.opts.preClass?this._setPreClass(e):e,e=this.opts.linkNofollow?this._setLinkNofollow(e):e,e=this.opts.removeNewLines?this.cleanNewLines(e):e,e=this.restoreComponents(e),e=$R.create("cleaner.figure",this.app).unconvert(e,this.unconvertRules),e=this.removeEmptyAttributes(e,["style","class","rel","alt","title"]),e=this.cleanSpacesInPre(e),e=(e=this.tidy(e)).replace(/&amp;/g,"&"),this.opts.breakline&&(e=(e=e.replace(/<br\s?\/?>/gi,"<br>\n")).replace(/<br\s?\/?>\n+/gi,"<br>\n")),e=""===e.replace(/\n/g,"")?"":e)},paste:function(e){e=(e=this.storeComponents(e)).replace(/<!--[\s\S]*?-->\n?/g,"");var t=this.deniedTags.concat(["iframe"]);e=(e=(e=(e=this.removeTags(e,t)).replace(new RegExp("<!doctype([\\s\\S]+?)>","gi"),"")).replace(new RegExp("<style([\\s\\S]+?)</style>","gi"),"")).replace(new RegExp("</p><br /><p","gi"),"</p><p");var a=this._isHtmlMsWord(e);if(e=this._cleanGDocs(e),e=a?this._cleanMsWord(e):e,!this.opts.pasteClean)return e=this.restoreComponents(e);if(this.opts.pastePlainText)return e=this.restoreComponents(e),this.pastePlainText(e);(s=this.utils.buildWrapper(e)).find("*").removeAttr("style"),s.find("[data-redactor-tag]").each(function(e){var t=$R.dom(e);t.removeAttr("data-redactor-tag"),this.utils.isEmptyHtml(t.html())?t.html("<br>").unwrap():e.lastChild&&"BR"===e.lastChild.tagName?t.unwrap():t.append("<br>").unwrap()}.bind(this)),e=(e=(e=this.utils.getWrapperHtml(s)).replace(/<br\s?\/?>$/,"")).replace(/<br\s?\/?><\/(td|th)>/,"</$1>");var n=this.opts.pasteBlockTags.concat(this.opts.pasteInlineTags);e=this.removeTagsExcept(e,n),e=this.opts.pasteLinks?e:this.removeTags(e,["a"]),e=this.opts.pasteImages?e:this.removeTags(e,["img"]);var s,r=(s=this.utils.buildWrapper(e)).find("*"),o=0!==this.opts.pasteKeepStyle.length?","+this.opts.pasteKeepStyle.join(","):"";r.not("[data-redactor-style-cache]"+o).removeAttr("style");var i=0!==this.opts.pasteKeepClass.length?","+this.opts.pasteKeepClass.join(","):"";r.not("[data-redactor-style-cache], span.redactor-component"+i).removeAttr("class");var c=0!==this.opts.pasteKeepAttrs.length?","+this.opts.pasteKeepAttrs.join(","):"";r.not("img, a, span.redactor-component, [data-redactor-style-cache]"+c).each((function(e){for(var t=e.attributes,a=t.length-1;a>=0;a--)"class"!==e.attributes[a].name&&e.removeAttribute(t[a].name)})),this.opts.pasteLinks&&!1!==this.opts.pasteLinkTarget&&s.find("a").attr("target",this.opts.pasteLinkTarget),s.find("[data-redactor-style-cache]").each((function(e){var t=e.getAttribute("data-redactor-style-cache");e.setAttribute("style",t)}));var _=this.opts.imageAttrs;return s.find("img").each((function(e){if(e.attributes.length>0)for(var t=e.attributes,a=t.length-1;a>=0;a--)-1===_.indexOf(t[a].name)&&e.removeAttribute(t[a].name)})),s.find("span").each((function(e){0===e.attributes.length&&$R.dom(e).unwrap()})),s.find(this.opts.inlineTags.join(",")).each(function(e){0===e.attributes.length&&this.utils.isEmptyHtml(e.innerHTML)&&$R.dom(e).unwrap()}.bind(this)),s.find("ul, ol").each((function(e){var t=e.previousSibling;if(t&&"LI"===t.tagName){var a=$R.dom(t);a.find("p").unwrap(),a.append(e)}})),e=(e=(e=(e=(e=this.utils.getWrapperHtml(s)).replace(/<li><p>/gi,"<li>")).replace(/<\/p><\/li>/gi,"</li>")).replace(/^<li/gi,"<ul><li")).replace(/<\/li>$/gi,"</li></ul>"),this.opts.breakline&&(e=e.replace(/\n/g,"<br>")),e=(e=e.replace(/<p>&nbsp;<\/p>/gi,"<p></p>")).replace(/<p><br\s?\/?><\/p>/gi,"<p></p>"),a&&(e=(e=e.replace(/<p><\/p>/gi,"")).replace(/<p>\s<\/p>/gi,"")),e=this.restoreComponents(e)},pastePlainText:function(e){return e=this.opts.pasteLinks?this.storeLinks(e):e,e=this.opts.pasteImages?this.storeImages(e):e,e=this.getPlainText(e),e=this._replaceNlToBr(e),e=this.opts.pasteLinks?this.restoreLinks(e):e,e=this.opts.pasteImages?this.restoreImages(e):e},tidy:function(e){return e},paragraphize:function(e){var t=$R.create("cleaner.paragraphize",this.app);return e=t.convert(e)},storeComments:function(e,t){var a=e.match(new RegExp("\x3c!--([\\w\\W]*?)--\x3e","gi"));if(null!==a)for(var n=0;n<a.length;n++)e=e.replace(a[n],"#####xstarthtmlcommentzz"+n+"xendhtmlcommentzz#####"),t.push(a[n]);return e},restoreComments:function(e,t){for(var a=0;a<t.length;a++)e=e.replace("#####xstarthtmlcommentzz"+a+"xendhtmlcommentzz#####",t[a]);return e},getFlatText:function(e){var t=$R.dom("<div>");return e.nodeType||e.dom?t.append(e):(e=(e=e.toString()).trim(),t.html(e)),void 0===(e=t.get().textContent||t.get().innerText||"")?"":e},getPlainText:function(e){e=(e=(e=(e=(e=(e=e.replace(/<!--[\s\S]*?-->/gi,"")).replace(/<style[\s\S]*?style>/gi,"")).replace(/<p><\/p>/g,"")).replace(/<\/div>|<\/li>|<\/td>/gi,"\n")).replace(/<\/p>/gi,"\n\n")).replace(/<\/H[1-6]>/gi,"\n\n");var t=document.createElement("div");return t.innerHTML=e,(e=t.textContent||t.innerText).trim()},replaceTags:function(e,t){if(t){var a=this,n=Object.keys(t),s=this.utils.buildWrapper(e);s.find(n.join(",")).each((function(e){a.utils.replaceToTag(e,t[e.tagName.toLowerCase()])})),e=this.utils.getWrapperHtml(s)}return e},replaceNbspToSpaces:function(e){return e.replace("&nbsp;"," ")},replaceBlocksToBr:function(e){return e=e.replace(/<\/div>|<\/li>|<\/td>|<\/p>|<\/H[1-6]>/gi,"<br>")},cleanNewLines:function(e){return e.replace(/\r?\n/g,"")},cleanSpacesInPre:function(e){return e.replace("&nbsp;&nbsp;&nbsp;&nbsp;","    ")},removeInvisibleSpaces:function(e){return e=(e=this.utils.removeInvisibleChars(e)).replace(/&#65279;/gi,"")},removeNl:function(e){return e=(e=e.replace(/\n/g," ")).replace(/\s+/g,"s")},removeBrAtEnd:function(e){return e=(e=e.replace(/<br\s?\/?>$/gi," ")).replace(/<br\s?\/?><li/gi,"<li")},removeTags:function(e,t){var a=t?/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi:/(<([^>]+)>)/gi,n=t?function(e,a){return-1===t.indexOf(a.toLowerCase())?e:""}:"";return e.replace(a,n)},removeTagsExcept:function(e,t){if(void 0===t)return e.replace(/(<([^>]+)>)/gi,"");return e.replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(function(e,a){return-1===t.indexOf(a.toLowerCase())?"":e}))},removeComments:function(e){return e.replace(this.reComments,"")},removeServiceTagsAndAttrs:function(e,t){var a=this.utils.buildWrapper(e),n=this;return!1!==t&&a.find(".redactor-selection-marker").each((function(e){var t=$R.dom(e);return""===n.utils.removeInvisibleChars(t.text())?t.remove():t.unwrap()})),a.find("[data-redactor-style-cache]").removeAttr("data-redactor-style-cache"),this.utils.getWrapperHtml(a)},removeSpanWithoutAttributes:function(e){var t=this.utils.buildWrapper(e);return t.find("span").removeAttr("data-redactor-span data-redactor-style-cache").each((function(e){0===e.attributes.length&&$R.dom(e).unwrap()})),this.utils.getWrapperHtml(t)},removeFirstBlockBreaklineInHtml:function(e){return e.replace(new RegExp("</li><br\\s?/?>","gi"),"</li>")},removeEmptyAttributes:function(e,t){for(var a=this.utils.buildWrapper(e),n=0;n<t.length;n++)a.find("["+t[n]+'=""]').removeAttr(t[n]);return this.utils.getWrapperHtml(a)},encodeHtml:function(e){return e=(e=(e=(e=(e=(e=e.replace(/<br\s?\/?>/g,"\n")).replace(/&nbsp;/g," ")).replace(/\u201d/g,'"')).replace(/\u201c/g,'"')).replace(/\u2018/g,"'")).replace(/\u2019/g,"'"),e=(e=this.encodeEntities(e)).replace(/\$/g,"&#36;"),this.opts.preSpaces&&(e=e.replace(/\t/g,new Array(this.opts.preSpaces+1).join(" "))),e},encodeCode:function(e){return e=(e=(e=(e=(e=e.replace(/<(.*?)>/gi,"xtagstartz$1xtagendz")).replace(/xtagstartzpre(.*?)xtagendz/g,"<pre$1>")).replace(/xtagstartzcode(.*?)xtagendz/g,"<code$1>")).replace(/xtagstartz\/codextagendz/g,"</code>")).replace(/xtagstartz\/prextagendz/g,"</pre>"),e=(e=(e=this._encodeCode(e)).replace(/xtagstartz(.*?)xtagendz/g,"<$1>")).replace(/xtagstartz\/(.*?)xtagendz/g,"</$1>")},_encodeCode:function(e){var t=this.utils.buildWrapper(e);return t.find("pre code, pre, code").each(this._encodeNode.bind(this)),this.utils.getWrapperHtml(t)},_encodeNode:function(e){var t=e.firstChild,a=e.innerHTML;if("PRE"!==e.tagName||!t||"CODE"!==t.tagName){a=(a=a.replace(/xtagstartz/g,"<")).replace(/xtagendz/g,">");var n=this.decodeEntities(a);e.textContent=this._encodeNodeHtml(n)}},_encodeNodeHtml:function(e){return e=e.replace(/&nbsp;/g," ").replace(/<br\s?\/?>/g,"\n"),e=this.opts.preSpaces?e.replace(/\t/g,new Array(this.opts.preSpaces+1).join(" ")):e},encodeEntities:function(e){return e=(e=this.decodeEntities(e)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},encodePhpCode:function(e){return e=(e=(e=e.replace("<?php","&lt;?php")).replace("<?","&lt;?")).replace("?>","?&gt;")},decodeEntities:function(e){return String(e).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&amp;/g,"&")},storeComponents:function(e){var t=this.utils.getElementsFromHtml(e,"figure","table");return this._storeMatched(e,t,"Components","figure")},restoreComponents:function(e){return this._restoreMatched(e,"Components","figure")},storeLinks:function(e){var t=this.utils.getElementsFromHtml(e,"a");return this._storeMatched(e,t,"Links","a")},storeImages:function(e){var t=this.utils.getElementsFromHtml(e,"img");return this._storeMatched(e,t,"Images","img")},restoreLinks:function(e){return this._restoreMatched(e,"Links","a")},restoreImages:function(e){return this._restoreMatched(e,"Images","img")},_cleanWrapped:function(e){return e=e.replace(new RegExp("<p><figure([\\w\\W]*?)</figure></p>","gi"),"<figure$1</figure>")},_cleanGDocs:function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/<b\sid="internal-source-marker(.*?)">([\w\W]*?)<\/b>/gi,"$2")).replace(/<b(.*?)id="docs-internal-guid(.*?)">([\w\W]*?)<\/b>/gi,"$3")).replace(/<span[^>]*(font-style:\s?italic;\s?font-weight:\s?bold|font-weight:\s?bold;\s?font-style:\s?italic)[^>]*>([\w\W]*?)<\/span>/gi,"<b><i>$2</i></b>")).replace(/<span[^>]*(font-style:\s?italic;\s?font-weight:\s?600|font-weight:\s?600;\s?font-style:\s?italic)[^>]*>([\w\W]*?)<\/span>/gi,"<b><i>$2</i></b>")).replace(/<span[^>]*(font-style:\s?italic;\s?font-weight:\s?700|font-weight:\s?700;\s?font-style:\s?italic)[^>]*>([\w\W]*?)<\/span>/gi,"<b><i>$2</i></b>")).replace(/<span[^>]*font-style:\s?italic[^>]*>([\w\W]*?)<\/span>/gi,"<i>$1</i>")).replace(/<span[^>]*font-weight:\s?bold[^>]*>([\w\W]*?)<\/span>/gi,"<b>$1</b>")).replace(/<span[^>]*font-weight:\s?700[^>]*>([\w\W]*?)<\/span>/gi,"<b>$1</b>")).replace(/<span[^>]*font-weight:\s?600[^>]*>([\w\W]*?)<\/span>/gi,"<b>$1</b>")},_cleanMsWord:function(e){e=(e=(e=(e=(e=e.replace(/<!--[\s\S]+?-->/gi,"")).replace(/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,"")).replace(/<(\/?)s>/gi,"<$1strike>")).replace(/&nbsp;/gi," ")).replace(/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,(function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join("\xa0"):""}));var t=this.utils.buildWrapper(e);t.find(".MsoFootnoteText").each((function(e){var t=$R.dom(e),a=t.parent();0!==a.length&&-1!==a.attr("style").search(/mso-element:footnote/)&&t.find("a").attr("id","_"+a.attr("id"))})),t.find(".MsoFootnoteReference").each((function(e){var t=$R.dom(e).parent();0!==t.length&&"A"===t.get().tagName&&t.attr("id",t.attr("name"))})),t.find("p").each((function(e){var t=$R.dom(e),a=t.attr("style"),n=/mso-list:\w+ \w+([0-9]+)/.exec(a);n&&t.attr("data-listLevel",parseInt(n[1],10))})),this._parseWordLists(t),t.find("[align]").removeAttr("align"),t.find("[name]").removeAttr("name"),t.find("span").each((function(e){var t=$R.dom(e),a=t.attr("style");/mso-list:Ignore/.exec(a)?t.remove():t.unwrap()})),t.find("[style]").removeAttr("style"),t.find("[class^='Mso']").removeAttr("class"),t.find("a").filter((function(e){return!e.hasAttribute("href")})).unwrap();for(var a="",n=(e=(e=(e=(e=(e=this.utils.getWrapperHtml(t)).replace(/<p[^>]*><\/p>/gi,"")).replace(/<li>\xb7/gi,"<li>")).trim()).replace(/\/(p|ul|ol|h1|h2|h3|h4|h5|h6|blockquote)>\s+<(p|ul|ol|h1|h2|h3|h4|h5|h6|blockquote)/gi,"/$1>\n<$2")).split(/\n/),s=0;s<n.length;s++){var r=""!==n[s]&&-1===n[s].search(/>$/)?" ":"\n";a+=n[s]+r}return a},_parseWordLists:function(e){var t=0,a=null,n=null,s=null;e.find("p").each((function(e){var r=$R.dom(e),o=r.attr("data-listLevel");if(null===o&&r.hasClass("MsoListParagraphCxSpMiddle")&&(o=1),null!==o){var i=r.text(),c=/^\s*\w+\./.test(i)?"<ol></ol>":"<ul></ul>";if(r.hasClass("MsoListParagraphCxSpFirst")||r.hasClass("MsoNormal")?(n=$R.dom(c),r.before(n)):o>t&&0!==t&&(s=$R.dom(c),a.append(s),n=s),o<t)for(var _=t-o+1,l=0;l<_;l++)n=n.parent();r.find("span").first().unwrap(),a=$R.dom("<li>"+r.html().trim()+"</li>"),null===n&&(r.before(c),n=r.prev()),n.append(a),r.remove(),t=o}else n=null,t=0}))},_isSpacedEmpty:function(e){return-1!==e.search(this.reSpacedEmpty)},_isParagraphEmpty:function(e){return-1!==e.search(/^<p><\/p>$/i)},_isHtmlMsWord:function(e){return e.match(/class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i)},_setSpanAttr:function(e){var t=this.utils.buildWrapper(e);return t.find("span").attr("data-redactor-span",!0),this.utils.getWrapperHtml(t)},_setStyleCache:function(e){var t=this.utils.buildWrapper(e);return t.find("[style]").each((function(e){var t=$R.dom(e);t.attr("data-redactor-style-cache",t.attr("style"))})),this.utils.getWrapperHtml(t)},_setPreClass:function(e){var t=this.utils.buildWrapper(e);return t.find("pre").addClass(this.opts.preClass),this.utils.getWrapperHtml(t)},_setLinkNofollow:function(e){var t=this.utils.buildWrapper(e);return t.find("a").attr("rel","nofollow"),this.utils.getWrapperHtml(t)},_replaceScriptTag:function(e){return e.replace(this.reScriptTag,'<script class="redactor-script-tag" $1>$2<\/script>')},_unreplaceScriptTag:function(e){return e.replace(/<script class="redactor-script-tag"(.*?[^>]?)>([\w\W]*?)<\/script>/gi,"<script$1>$2<\/script>")},_replaceNlToBr:function(e){return e.replace(/\n/g,"<br />")},_removeScriptTag:function(e){return e.replace(this.reScriptTag,"")},_storeMatched:function(e,t,a,n){if(this["stored"+a]=[],t)for(var s=0;s<t.length;s++)this["stored"+a][s]=t[s],e=e.replace(t[s],"####"+n+s+"####");return e},_restoreMatched:function(e,t,a){if(this["stored"+t])for(var n=0;n<this["stored"+t].length;n++)e=e.replace("####"+a+n+"####",this["stored"+t][n]);return e}}),$R.add("class","cleaner.figure",{init:function(e){this.app=e,this.opts=e.opts,this.utils=e.utils,this.detector=e.detector},convert:function(e,t){var a=this.utils.buildWrapper(e);return a.find("img").each(this._convertImage.bind(this)),a.find("hr").each(this._convertLine.bind(this)),a.find("iframe").each(this._convertIframe.bind(this)),a.find("table").each(this._convertTable.bind(this)),a.find("form").each(this._convertForm.bind(this)),a.find("figure pre").each(this._convertCode.bind(this)),a.find("[data-redactor-type=variable]").addClass("redactor-component"),a.find("figure").not(".redactor-component, .redactor-figure-code").each(this._convertWidget.bind(this)),a.find("figure pre").each(this._setContenteditableCode.bind(this)),a.find(".redactor-component, .non-editable").attr("contenteditable",!1),this.detector.isIe()&&a.find("[data-redactor-type=table]").removeAttr("contenteditable"),a.find("figcaption, td, th").attr("contenteditable",!0),a.find(".redactor-component, figcaption").attr("tabindex","-1"),this._acceptExtraRules(a,t),this.utils.getWrapperHtml(a)},unconvert:function(e,t){e=(e=e.replace(/<\/([^>]+)><div data-redactor-tag/g,"</$1>\n<div data-redactor-tag")).replace(/<\/([^>]+)><p/g,"</$1>\n<p");var a=this.utils.buildWrapper(e);return a.find("th, td, figcaption, figure, pre, code, .redactor-component").removeAttr("contenteditable tabindex"),a.find("figure").removeClass("redactor-component redactor-component-active redactor-uploaded-figure"),a.find("[data-redactor-type=variable]").removeClass("redactor-component redactor-component-active"),a.find("figure[data-redactor-type=line]").unwrap(),a.find("figure[data-redactor-type=widget]").each(this._unconvertWidget.bind(this)),a.find("figure[data-redactor-type=form]").each(this._unconvertForm.bind(this)),a.find("figure[data-redactor-type=table]").each(this._unconvertTable.bind(this)),a.find("figure[data-redactor-type=image]").removeAttr("rel").each(this._unconvertImages.bind(this)),a.find("img").removeAttr("data-redactor-type").removeClass("redactor-component"),a.find(".non-editable").removeAttr("contenteditable"),a.find("figure").each(this._removeTypes.bind(this)),a.find("span.redactor-component-caret").remove(),a=this._unconvertBreakTag(a),this._acceptExtraRules(a,t),e=(e=(e=this.utils.getWrapperHtml(a)).replace(/<br\s?\/?>$/,"")).replace(/<br\s?\/?><\/(td|th)>/,"</$1>")},_convertImage:function(e){var t=$R.dom(e);if(!this._isNonEditable(t)){this.opts.imageObserve&&!t.attr("data-image")&&t.attr("data-image",this.utils.getRandomId());var a=t.closest("a"),n=t.closest("figure");if(0===n.children().not("a, img, br, figcaption").length){if(0===n.length){var s=0!==a.length?a.closest("p"):t.closest("p");if(!1===this.opts.imageFigure&&0!==s.length)(n=this.utils.replaceToTag(s,"figure")).addClass("redactor-replace-figure");else 0!==s.length&&s.unwrap(),n=0!==a.length?a.wrap("<figure>"):t.wrap("<figure>")}else n.hasClass("redactor-uploaded-figure")?n.removeClass("redactor-uploaded-figure"):n.addClass("redactor-keep-figure");this._setFigure(n,"image")}}},_convertTable:function(e){if(!this._isNonEditable(e)){var t=this._wrapFigure(e);this._setFigure(t,"table")}},_convertLine:function(e){if(!this._isNonEditable(e)){var t=this._wrapFigure(e);this._setFigure(t,"line")}},_convertForm:function(e){if(!this._isNonEditable(e)){var t=this.utils.replaceToTag(e,"figure");this._setFigure(t,"form")}},_convertIframe:function(e){if(!this._isNonEditable(e)&&0===$R.dom(e).closest(".redactor-component").length){var t=e.getAttribute("src"),a=t&&(t.match(this.opts.regex.youtube)||t.match(this.opts.regex.vimeo)),n=this._wrapFigure(e);a&&this._setFigure(n,"video")}},_convertCode:function(e){if(!this._isNonEditable(e)){var t=this._wrapFigure(e);this._setFigure(t,"code")}},_convertWidget:function(e){if(!this._isNonEditable(e)){var t=$R.dom(e);t.addClass("redactor-component"),t.attr("data-redactor-type","widget"),t.attr("data-widget-code",encodeURI(e.innerHTML.trim()))}},_unconvertBreakTag:function(e){return e.find("[data-redactor-tag]").each(function(e){var t=$R.dom(e);if(t.removeAttr("data-redactor-tag"),0===e.attributes.length)if(e.lastChild&&"BR"===e.lastChild.tagName)t.unwrap();else{var a=t.nextElement();0!==a.length&&a.attr("data-redactor-tag")&&e.appendChild(document.createElement("br")),t.unwrap()}else e.lastChild&&"BR"===e.lastChild.tagName&&$R.dom(e.lastChild).remove()}.bind(this)),e},_unconvertForm:function(e){this.utils.replaceToTag(e,"form")},_unconvertTable:function(e){$R.dom(e).unwrap()},_unconvertWidget:function(e){var t=$R.dom(e);t.html(decodeURI(t.attr("data-widget-code"))),t.removeAttr("data-widget-code")},_unconvertImages:function(e){var t=$R.dom(e);t.removeClass("redactor-component");var a=0!==t.closest("li").length,n=0!==t.closest("table").length,s=0!==t.find("figcaption").length,r=t.attr("style"),o=!(null===r||""===r),i=""!==t.attr("class");(a||n&&!s&&!o&&!i)&&t.unwrap()},_removeTypes:function(e){var t=$R.dom(e),a=t.attr("data-redactor-type");if(a&&-1!==["image","widget","line","video","code","form","table"].indexOf(a)&&t.removeAttr("data-redactor-type"),t.hasClass("redactor-keep-figure"))t.removeClass("redactor-keep-figure");else if("image"===a&&!1===this.opts.imageFigure){0!==t.find("figcaption").length||(t.hasClass("redactor-replace-figure")?(t.removeClass("redactor-replace-figure"),this.utils.replaceToTag(t,"p")):this.utils.replaceToTag(t,"p"))}t.removeClass("redactor-replace-figure")},_wrapFigure:function(e){var t=$R.dom(e),a=t.closest("figure");return 0===a.length?t.wrap("<figure>"):a},_setFigure:function(e,t){e.addClass("redactor-component"),e.attr("data-redactor-type",t)},_setContenteditableCode:function(e){if(!this._isNonEditable(e)){var t=$R.dom(e),a=t.children("code").first();(0!==a.length?a:t).attr("contenteditable",!0).attr("tabindex","-1")}},_acceptExtraRules:function(e,t){for(var a in t)"function"===typeof t[a]&&t[a](e)},_isNonEditable:function(e){return 0!==$R.dom(e).closest(".non-editable").length}}),$R.add("class","cleaner.paragraphize",{init:function(e){this.app=e,this.opts=e.opts,this.utils=e.utils,this.cleaner=e.cleaner,this.element=e.element,this.stored=[],this.remStart="#####replace",this.remEnd="#####",this.paragraphizeTags=["table","div","pre","form","ul","ol","h1","h2","h3","h4","h5","h6","dl","blockquote","figcaption","address","section","header","footer","aside","article","object","style","script","iframe","select","input","textarea","button","option","map","area","math","hr","fieldset","legend","hgroup","nav","figure","details","menu","summary","p"]},convert:function(e){var t=this._isConverted(e);return t=!0===t?this._convert(e):t,t=this._convertTable(t)},_convert:function(e,t){var a=this.opts.breakline||t?"sdivtag":this.opts.markup,n=t?"tbr":"br";e=this._storeTags(e);var s=[];e=(e=this.cleaner.storeComments(e,s)).trim(),e=this._trimLinks(e);var r=this.opts.inlineTags.join("|");e=(e=(e=(e=(e=e.replace(new RegExp("<("+r+")(.*?[^>]?)>\n</("+r+")>","gi"),"<$1$2></$3>")).replace(/xparagraphmarkerz(?:\r\n|\r|\n)$/g,"")).replace(/xparagraphmarkerz$/g,"")).replace(/xparagraphmarkerz(?:\r\n|\r|\n)/g,"\n")).replace(/xparagraphmarkerz/g,"\n");for(var o="",i=(e=this.opts.breakline?(e=(e=e.replace(/<br\s?\/?>(?:\r\n|\r|\n)/gi,"xbreakmarkerz\n")).replace(/<br\s?\/?>/gi,"xbreakmarkerz\n")).replace(/xbreakmarkerz\n<\//gi,"xbreakmarkerz</"):e.replace(/[\n]+/g,"\n")).split("\n"),c=0;c<i.length;c++)o+="<"+a+">"+i[c]+"</"+a+">\n";return e=(e=(e=(e=o.replace(/\n$/,"")).replace(new RegExp("<"+a+">\\s+#####","gi"),"#####")).replace(new RegExp("<"+a+">#####","gi"),"#####")).replace(new RegExp("#####</"+a+">","gi"),"#####"),e=this.opts.breakline?e.replace(/xbreakmarkerz/gi,"<br>"):e,e=this._restoreTags(e),e=this.cleaner.restoreComments(e,s),this.opts.breakline&&(e=e.replace(new RegExp("<"+a+"></"+a+">","gi"),"<"+a+"><br></"+a+">")),e=(e=(e=e.replace(new RegExp("<sdivtag>","gi"),'<div data-redactor-tag="'+n+'">')).replace(new RegExp("sdivtag","gi"),"div")).replace(/<\/([^>]+)><div data-redactor-tag/g,"</$1>\n<div data-redactor-tag")},_convertTable:function(e){var t=this.utils.buildWrapper(e);return t.find("td, th").each(this._convertCell.bind(this)),e=this.utils.getWrapperHtml(t)},_convertCell:function(e){var t=$R.dom(e);this.stored=[];var a=this._convert(t.html(),!0);t.html(a)},_storeTags:function(e){var t=this,a=this.utils.buildWrapper(e);return a.find(this.paragraphizeTags.join(", ")).each((function(e,a){var n=document.createTextNode(t.remStart+a+t.remEnd+"xparagraphmarkerz");t.stored.push(e.outerHTML),e.parentNode.replaceChild(n,e)})),this.utils.getWrapperHtml(a)},_restoreTags:function(e){for(var t=0;t<this.stored.length;t++)this.stored[t]=this.stored[t].replace(/\$/g,"&#36;"),e=e.replace(this.remStart+t+this.remEnd,this.stored[t]);return e},_trimLinks:function(e){var t=this.utils.buildWrapper(e);return t.find("a").each(this._trimLink.bind(this)),e=this.utils.getWrapperHtml(t)},_trimLink:function(e){var t=$R.dom(e);t.html(t.html().trim())},_isConverted:function(e){return this._isDisabled(e)?e:!this._isEmptyHtml(e)||this.opts.emptyHtml},_isDisabled:function(){return!1===this.opts.paragraphize||this.element.isType("inline")},_isEmptyHtml:function(e){return""===e||"<p></p>"===e||"<div></div>"===e}}),$R.add("service","detector",{init:function(e){this.app=e,this.userAgent=navigator.userAgent.toLowerCase()},isWebkit:function(){return/webkit/.test(this.userAgent)},isFirefox:function(){return this.userAgent.indexOf("firefox")>-1},isIe:function(e){return document.documentMode||/Edge/.test(navigator.userAgent)?"edge":((t=RegExp("msie"+(isNaN(e)?"":"\\s"+e),"i").test(navigator.userAgent))||(t=!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)),t);var t},isMobile:function(){return/(iPhone|iPod|Android)/.test(navigator.userAgent)},isDesktop:function(){return!/(iPhone|iPod|iPad|Android)/.test(navigator.userAgent)},isIpad:function(){return/iPad/.test(navigator.userAgent)}}),$R.add("service","offset",{init:function(e){this.app=e},get:function(e,t){var a={start:0,end:0},n=this.utils.getNode(e);if(!n)return!1;var s=this.editor.isEditor(n),r=!!s||this.selection.isIn(n),o=this.selection.getRange();if(s||r){if(this.selection.is()&&r){var i=$R.dom(o.startContainer).hasClass("redactor-component")?o.startOffset:0,c=o.cloneRange();c.selectNodeContents(n),c.setEnd(o.startContainer,o.startOffset);var _=this._getString(o,t);a.start=this._getString(c,t).length-i,a.end=a.start+_.length+i}}else a=!1;return a},set:function(e,t){if(!this._setComponentOffset(t)){this.component.clearActive();var a=this.utils.getNode(t);if(a){var n=this.size(a),s=0,r=document.createRange();e.end=e.end>n?n:e.end,r.setStart(a,0),r.collapse(!0);for(var o=[a],i=!1,c=!1;!c&&(a=o.pop());)if(3===a.nodeType){var _=s+a.length;!i&&!this._isFigcaptionNext(a)&&e.start>=s&&e.start<=_&&(r.setStart(a,e.start-s),i=!0),i&&e.end>=s&&e.end<=_&&(r.setEnd(a,e.end-s),c=!0),s=_}else for(var l=a.childNodes.length;l--;)o.push(a.childNodes[l]);this.selection.setRange(r)}}},size:function(e,t){var a=this.utils.getNode(e);if(a){var n=document.createRange().cloneRange();return n.selectNodeContents(a),this._getString(n,t).length}return 0},_getString:function(e,t){var a=e.toString();return a=this.editor.isEmpty()?a.replace(/\uFEFF/g,""):a,a=t?a.trim():a},_setComponentOffset:function(e){return!!this.component.isNonEditable(e)&&this.component.setActive(e)},_isFigcaptionNext:function(e){var t=e.nextSibling;return""===e.nodeValue.trim()&&t&&"FIGCAPTION"===t.tagName}}),$R.add("service","inspector",{init:function(e){this.app=e},parse:function(e){return $R.create("inspector.parser",this.app,this,e)},isText:function(e){if("string"===typeof e&&!/^\s*<(\w+|!)[^>]*>/.test(e))return!0;var t=$R.dom(e).get();return t&&3===t.nodeType},isInlineTag:function(e,t){var a=this._extendTags(this.opts.inlineTags,t);return this._isTag(e)&&-1!==a.indexOf(e.toLowerCase())},isBlockTag:function(e,t){var a=this._extendTags(this.opts.blockTags,t);return this._isTag(e)&&-1!==a.indexOf(e.toLowerCase())},isTableCellTag:function(e){return-1!==["td","th"].indexOf(e.toLowerCase())},isHeadingTag:function(e){return-1!==["h1","h2","h3","h4","h5","h6"].indexOf(e.toLowerCase())},_isTag:function(e){return void 0!==e&&e},_extendTags:function(e,t){if(e=e.concat(e),t)for(var a=0;a<t.length;a++)e.push(t[a]);return e}}),$R.add("class","inspector.parser",{init:function(e,t,a){this.app=e,this.uuid=e.uuid,this.opts=e.opts,this.utils=e.utils,this.editor=e.editor,this.selection=e.selection,this.inspector=t,this.el=a,this.$el=$R.dom(this.el,".redactor-in-"+this.uuid),this.node=this.$el.get(),this.node&&8===this.node.nodeType&&(this.node=!1),this.$component=this.$el.closest(".redactor-component",".redactor-in")},isEditor:function(){return this.node===this.editor.getElement().get()},isInEditor:function(){return 0!==this.$el.parents(".redactor-in-"+this.uuid).length},isComponent:function(){return 0!==this.$component.length},isComponentType:function(e){return this.getComponentType()===e},isComponentActive:function(){return this.isComponent()&&this.$component.hasClass("redactor-component-active")},isComponentEditable:function(){var e=this.getComponentType();return this.isComponent()&&-1!==["code","table"].indexOf(e)},isFigcaption:function(){return this.getFigcaption()},isPre:function(){return this.getPre()},isCode:function(){var e=this.$el.closest("code"),t=e.parent("pre");return 0!==e.length&&0===t.length},isList:function(){return this.getList()},isFirstListItem:function(){return this._getLastOrFirstListItem("first")},isLastListItem:function(){return this._getLastOrFirstListItem("last")},isFirstTableCell:function(){return this._getLastOrFirstTableCell("first")},isLastTableCell:function(){return this._getLastOrFirstTableCell("last")},isTable:function(){return this.isComponentType("table")||this.getTable()},isHeading:function(){return this.getHeading()},isBlockquote:function(){return this.getBlockquote()},isDl:function(){return this.getDl()},isParagraph:function(){return this.getParagraph()},isLink:function(){return this.getLink()},isFile:function(){return this.getFile()},isText:function(){return this.inspector.isText(this.el)},isInline:function(){var e=this.opts.inlineTags;return!!this.isElement()&&-1!==e.indexOf(this.node.tagName.toLowerCase())},isBlock:function(){var e=this.opts.blockTags;return!!this.isElement()&&-1!==e.indexOf(this.node.tagName.toLowerCase())},isElement:function(){return this.node&&this.node.nodeType&&3!==this.node.nodeType},hasParent:function(e){return 0!==this.$el.closest(e.join(",")).length},getNode:function(){return this.node},getTag:function(){return!!this.isElement()&&this.node.tagName.toLowerCase()},getComponent:function(){return!!this.isComponent()&&this.$component.get()},getComponentType:function(){return!!this.isComponent()&&this.$component.attr("data-redactor-type")},getFirstNode:function(){return this.utils.getFirstNode(this.node)},getLastNode:function(){return this.utils.getLastNode(this.node)},getFirstElement:function(){return this.utils.getFirstElement(this.node)},getLastElement:function(){return this.utils.getLastElement(this.node)},getFigcaption:function(){return this._getClosestNode("figcaption")},getPre:function(){return this._getClosestNode("pre")},getCode:function(){return this._getClosestNode("code")},getList:function(){return this._getClosestNode("ul, ol")},getParentList:function(){return this._getClosestUpNode("ul, ol")},getListItem:function(){return this._getClosestNode("li")},getTable:function(){return this.getComponentType("table")?this.$component.find("table").get():this._getClosestNode("table")},getTableCell:function(){var e=this.$el.closest("td, th");return 0!==e.length&&e.get()},getComponentCodeElement:function(){return!!this.isComponentType("code")&&this.$component.find("pre code, pre").last().get()},getImageElement:function(){return!!this.isComponentType("image")&&this.$component.find("img").get()},getParagraph:function(){return this._getClosestNode("p")},getHeading:function(){return this._getClosestNode("h1, h2, h3, h4, h5, h6")},getDl:function(){return this._getClosestNode("dl")},getBlockquote:function(){return this._getClosestNode("blockquote")},getLink:function(){var e=this.isComponent()&&!this.isFigcaption();if(this.isComponentType("table")||!e){var t=this._getClosestElement("a");return!(!t||t.attr("data-file"))&&t.get()}return!1},getFile:function(){var e=this.isComponent();if(this.isComponentType("table")||!e){var t=this._getClosestElement("a");return!(!t||!t.attr("data-file"))&&t.get()}return!1},findFirstNode:function(e){return this.$el.find(e).first().get()},findLastNode:function(e){return this.$el.find(e).last().get()},_getLastOrFirstListItem:function(e){var t=this.getList(),a=this.getTag();if(t&&"li"===a){var n=$R.dom(t).find("li")[e]().get();if(n&&this.node===n)return!0}return!1},_getLastOrFirstTableCell:function(e){var t=this.getTable(),a=this.getTag();if(t&&("td"===a||"th"===a)){var n=$R.dom(t).find("td, th")[e]().get();if(n&&this.node===n)return!0}return!1},_getClosestUpNode:function(e){var t=this.$el.parents(e,".redactor-in-"+this.uuid).last();return 0!==t.length&&t.get()},_getClosestNode:function(e){var t=this.$el.closest(e,".redactor-in-"+this.uuid);return 0!==t.length&&t.get()},_getClosestElement:function(e){var t=this.$el.closest(e,".redactor-in-"+this.uuid);return 0!==t.length&&t}}),$R.add("service","marker",{init:function(e){this.app=e},build:function(e,t){var a=document.createElement("span");return a.id="selection-marker-"+this._getPos(e),a.className="redactor-selection-marker",a.innerHTML=this.opts.markerChar,t?a.outerHTML:a},buildHtml:function(e){return this.build(e,!0)},insert:function(e){this.remove();var t="both"!==e&&("start"===e||this.selection.isCollapsed());this.selection.is()||this.editor.focus();var a=this.selection.getRange();if(a){var n=this.build("start"),s=this.build("end"),r=a.cloneRange();return t||(r.collapse(!1),r.insertNode(s)),r.setStart(a.startContainer,a.startOffset),r.collapse(!0),r.insertNode(n),a.setStartAfter(n),t||a.setEndBefore(s),this.selection.setRange(a),n}},find:function(e,t){var a=this.editor.getElement(),n=(t||a).find("span#selection-marker-"+this._getPos(e));return 0!==n.length&&n.get()},restore:function(){var e=this.find("start"),t=this.find("end"),a=this.selection.getRange();if(a&&this.selection.is()||(this.editor.focus(),a=document.createRange()),e){var n=!!t&&t.previousSibling,s=e.nextSibling;s=(!s||3!==s.nodeType||""!==s.textContent.replace(/[\n\t]/g,""))&&s,t?s&&"selection-marker-end"===s.id?this._restoreInject(a,e):n&&s?(a.selectNodeContents(n),a.collapse(!1),a.setStart(s,0)):n&&!s?(a.selectNodeContents(n),a.collapse(!1),a.setStartAfter(e)):(a.setStartAfter(e),a.setEndBefore(t)):s?(a.selectNodeContents(s),a.collapse(!0)):this._restoreInject(a,e),this.selection.setRange(a),e&&e.parentNode.removeChild(e),t&&t.parentNode.removeChild(t)}},remove:function(){var e=this.find("start"),t=this.find("end");e&&e.parentNode.removeChild(e),t&&t.parentNode.removeChild(t)},_getPos:function(e){return void 0===e?"start":e},_restoreInject:function(e,t){var a=this.utils.createInvisibleChar();$R.dom(t).after(a),e.selectNodeContents(a),e.collapse(!1)}}),$R.add("service","component",{init:function(e){this.app=e,this.activeClass="redactor-component-active"},create:function(e,t){return $R.create(e+".component",this.app,t)},build:function(e){var t,a=$R.dom(e).attr("data-redactor-type");return a&&(t=this.create(a,e)),t||e},remove:function(e,t){var a=$R.dom(e).closest(".redactor-component"),n=a.attr("data-redactor-type"),s=a.parent(),r=this.inspector.parse(s),o=this.utils.findSiblings(a,"prev"),i=this.utils.findSiblings(a,"next");if(!1!==this.app.broadcast(n+".delete",a)){if(a.remove(),this.app.broadcast(n+".deleted",a),this.app.broadcast("contextbar.close"),this.app.broadcast("imageresizer.stop"),!1!==t){var c=r.getTableCell();c&&this.utils.isEmptyHtml(c.innerHTML)?this.caret.setStart(c):i?this.caret.setStart(i):o?this.caret.setEnd(o):this.editor.startFocus()}this.editor.isEmpty()&&(this.editor.setEmpty(),this.editor.startFocus(),this.app.broadcast("empty"))}},isNonEditable:function(e){var t=this.inspector.parse(e);return t.isComponent()&&!t.isComponentEditable()},isActive:function(e){if(e){var t=this.inspector.parse(e);return $R.dom(t.getComponent()).hasClass(this.activeClass)}return 0!==this._find().length},getActive:function(e){var t=this._find();return 0!==t.length&&(e?t:t.get())},setActive:function(e){this.clearActive(),this.editor.focus();var t=this.inspector.parse(e),a=t.getComponent(),n=$R.dom(a);if(!t.isFigcaption()){var s=n.find(".redactor-component-caret");0===s.length&&(s=this._buildCaret(),n.prepend(s)),this.caret.setAtStart(s.get())}n.addClass(this.activeClass)},clearActive:function(){var e=this._find();e.removeClass(this.activeClass),e.find(".redactor-component-caret").remove(),this.app.broadcast("imageresizer.stop")},setOnEvent:function(e,t){this.clearActive();var a=this.inspector.parse(e.target);a.isFigcaption()||a.isComponentEditable()||a.isComponent()&&(this.setActive(e.target),!0!==t&&e.preventDefault())},executeScripts:function executeScripts(scripts){if(void 0===scripts){var $editor=this.editor.getElement(),scripts=$editor.find("[data-redactor-type]").find("script").getAll();this.executeScripts.call(this,scripts)}else for(var i=0;i<scripts.length;i++){if(""!==scripts[i].src){var src=scripts[i].src;this.$doc.find('head script[src="'+src+'"]').remove();var $script=$R.dom("<script>");$script.attr("src",src),$script.attr("async defer"),$script.get().onload=function(){-1!==src.search("instagram")&&window.instgrm.Embeds.process(),this.executeScripts(scripts.slice(i+1))}.bind(this);var head=document.getElementsByTagName("head")[0];head&&head.appendChild($script.get());break}try{eval(scripts[i].innerHTML)}catch(e){}}},_find:function(){return this.editor.getElement().find("."+this.activeClass)},_buildCaret:function(){var e=$R.dom("<span>");return e.addClass("redactor-component-caret"),e.attr("contenteditable",!0),e}}),$R.add("service","insertion",{init:function(e){this.app=e},set:function(e,t,a){return null===e&&(e=""),e=!1!==t?this.cleaner.input(e):e,e=!1!==t?this.cleaner.paragraphize(e):e,this.editor.getElement().html(e),!1!==a&&this.editor.endFocus(),e},insertNode:function(e,t){this.editor.focus();var a=this.utils.isFragment(e)?e:this.utils.createFragment(e);return this._collapseSelection(),this._insertFragment(a),this._setCaret(t,a),this._sendNodes(a.nodes)},insertBreakLine:function(){return this.insertNode(document.createElement("br"),"after")},insertNewline:function(){return this.insertNode(document.createTextNode("\n"),"after")},insertText:function(e){return this.insertHtml(this.cleaner.getFlatText(e))},insertChar:function(e){return this.insertNode(e,"after")},insertRaw:function(e){return this.insertHtml(e,!1)},insertToEnd:function(e,t){if(e){3===e.nodeType&&-1!==e.nodeValue.search(/^\n/)&&(e=e.previousElementSibling);var a=$R.dom(e);if(a.attr("data-redactor-type")===t){var n=this.opts.breakline?"<br>":"<p>",s=$R.dom(n);a.after(s),this.caret.setStart(s)}}},insertPoint:function(e){var t,a=this.marker.build("start"),n=!1,s=e.clientX,r=e.clientY;if(document.caretPositionFromPoint){var o=document.caretPositionFromPoint(s,r),i=document.getSelection();this.inspector.parse(o.offsetNode).isInEditor()&&((t=i.getRangeAt(0)).setStart(o.offsetNode,o.offset),t.collapse(!0),t.insertNode(a),n=!0)}else document.caretRangeFromPoint&&(t=document.caretRangeFromPoint(s,r),this.inspector.parse(t.startContainer).isInEditor()&&(t.insertNode(a),n=!0));return n},insertToPoint:function(e,t,a,n){if(!(!0===a||this.insertPoint(e))){var s=this.editor.getLastNode();$R.dom(s).after(this.marker.build("start"))}return this.component.clearActive(),this.selection.restoreMarkers(),this.insertHtml(t,n)},insertToOffset:function(e,t){return this.offset.set({start:e,end:e}),this.insertHtml(t)},insertHtml:function(e,t){if(this.opts.input){var a=this.utils.parseHtml(e);if(this.selection.isAll())return this._insertToAllSelected(a);if(!this.selection.is()){var n=$R.dom("<p>");this.editor.getElement().append(n),this.caret.setStart(n)}var s=this.selection.isCollapsed(),r=this.selection.isText(),o=this.selection.getCurrent(),i=this.selection.getBlock(),c=this.inspector.parse(o);this._collapseSelection(),a=this._getCleanedInput(a,c,t);var _,l,d=this._isFigure(a.html),u=this._isComponentSpan(a.html),p=this.inspector.isText(a.html);if(this.editor.isEmpty())return this._insertToEmptyEditor(a.html);if(c.isComponent()&&!c.isComponentEditable())return this._insertToWidget(o,c,a.html);if(u)return this.insertNode(a.nodes,"end");if(d&&!r&&!c.isList())return c.isInline()?this._insertToInline(o,a):(_=this.utils.createFragment(a.html),this.utils.splitNode(o,_),this.caret.setEnd(_.last),this._sendNodes(_.nodes));if(c.isCode())return this._insertToCode(a,o,t);if(c.isPre())return this._insertToPre(a,t);if(c.isHeading()||c.isFigcaption())return a.html=!1!==t?this.cleaner.removeTagsExcept(a.html,["a"]):a.html,a.html=!1!==t?this.cleaner.replaceNbspToSpaces(a.html):a.html,_=this.utils.createFragment(a.html),this.insertNode(_,"end");if(this.opts.breakline&&i&&"DIV"===i.tagName){a.html=!1!==t?this.cleaner.paragraphize(a.html):a.html,_=this.utils.createFragment(a.html);var m=this.selection.getRange();return m&&this.selection.isCollapsed()&&m.deleteContents(),this.utils.splitNode(o,_),this.caret.setEnd(_.last),this._sendNodes(_.nodes)}if(p)return!r&&"br"!==this.opts.markup&&this._hasBlocksAndImages(a.nodes)?(a.html=!1!==t?this.cleaner.paragraphize(a.html):a.html,_=this.utils.createFragment(a.html),this.utils.splitNode(o,_),this.caret.setEnd(_.last),this._sendNodes(_.nodes)):(a.html=!1!==t?a.html.replace(/\n/g,"<br>"):a.html,_=this.utils.createFragment(a.html),this.insertNode(_.nodes,"end"));if(!s&&!d)return this._isPlainHtml(a.html)?this.insertNode(a.nodes,"end"):(a.html=!1!==t?this.cleaner.paragraphize(a.html):a.html,_=this.utils.createFragment(a.html),this.insertNode(_,"end"));if(c.isInline()&&!this._isPlainHtml(a.html))return this._insertToInline(o,a);if(c.isBlockquote()||c.isDl())return(l=this.opts.inlineTags).concat(["br"]),a.html=!1!==t?this.cleaner.replaceBlocksToBr(a.html):a.html,a.html=!1!==t?this.cleaner.removeTagsExcept(a.html,l):a.html,_=this.utils.createFragment(a.html),this.insertNode(_,"end");if(c.isParagraph())return this._isPlainHtml(a.html)?this.insertNode(a.nodes,"end"):(a.html=!1!==t?this.cleaner.paragraphize(a.html):a.html,_=this.utils.createFragment(a.html),this.utils.splitNode(o,_),this.caret.setEnd(_.last),this._sendNodes(_.nodes));if(c.isList()&&(l=(l=this.opts.inlineTags).concat(["br","li","ul","ol","img"]),a.html=!1!==t?this.cleaner.replaceBlocksToBr(a.html):a.html,a.html=!1!==t?this.cleaner.removeTagsExcept(a.html,l):a.html,a.html=!1!==t?this.cleaner.removeBrAtEnd(a.html):a.html,_=this.utils.createFragment(a.html),a.nodes=_.nodes,this._containsTags(a.html,["ul","ol","li"]))){var h=this.selection.getElement(o);if(h&&"LI"===h.tagName&&this.caret.isStart(h)){a.nodes=$R.dom(_.nodes).unwrap("ul, ol").getAll(),$R.dom(h).before(a.nodes);var E=a.nodes[a.nodes.length-1];return this.caret.setEnd(E),this._sendNodes(a.nodes)}return this._isPlainHtml(a.html)?this.insertNode(_,"end"):(_=this._buildList(a,h,_),this.utils.splitNode(o,_,!0),this.caret.setEnd(_.last),this._sendNodes(_.nodes))}return this.insertNode(a.nodes,"end")}},_insertToAllSelected:function(e){var t=this.set(e.html),a=this.utils.parseHtml(t);return this._sendNodes(a.nodes)},_insertToEmptyEditor:function(e){e=this.cleaner.paragraphize(e);var t=this.utils.createFragment(e),a=this.editor.getElement();return a.html(""),a.append(t.frag),this.caret.setEnd(t.last),this._sendNodes(t.nodes)},_insertToInline:function(e,t){var a=this.utils.createFragment(t.html);return this.utils.splitNode(e,a,!1,!0),this.caret.setEnd(a.last),this._sendNodes(a.nodes)},_insertToCode:function(e,t,a){e.html=!1!==a?this.cleaner.encodeHtml(e.html):e.html,e.html=!1!==a?this.cleaner.removeNl(e.html):e.html;var n=this.utils.createFragment(e.html),s=this.insertNode(n,"end");return this.utils.normalizeTextNodes(t),s},_insertToPre:function(e,t){e.html=!1!==t?this.cleaner.encodeHtml(e.html):e.html;var a=this.utils.createFragment(e.html);return this.insertNode(a,"end")},_insertToWidget:function(e,t,a){a=this._isComponentSpan(a)?a:this.cleaner.paragraphize(a);var n=this.utils.createFragment(a),s=t.getComponent(),r=$R.dom(s);return r.after(n.frag),r.remove(),this.caret.setEnd(n.last),this._sendNodes(n.nodes)},_insertFragment:function(e){var t=this.selection.getRange();if(t){if(this.selection.isCollapsed()){var a=t.startContainer;3!==a.nodeType&&"BR"===a.tagName&&(this.caret.setAfter(a),a.parentNode.removeChild(a))}else t.deleteContents();t.insertNode(e.frag)}},_sendNodes:function(e){for(var t=0;t<e.length;t++){var a=e[t],n=3!==a.nodeType&&"function"===typeof a.getAttribute&&a.getAttribute("data-redactor-type");n&&this.app.broadcast(n+".inserted",this.component.build(a))}return this.detector.isIe()&&this.editor.getElement().find("[data-redactor-type=table]").attr("contenteditable",!0),this.app.broadcast("inserted",e),this.component.executeScripts(),e},_setCaret:function(e,t){var a=this._isLastInline(t);e?(e=a&&"end"===e?"after":e,this.caret["set"+this.utils.ucfirst(e)](t.last)):!1!==e&&a&&this.caret.setAfter(t.last)},_isLastInline:function(e){return!!e.last&&this.inspector.parse(e.last).isInline()},_getCleanedInput:function(e,t,a){var n=t.isCode()||t.isPre();return e.html=e.html.replace(/&nbsp;/g," "),e.html=n||!1===a?e.html:this.cleaner.input(e.html),e=n||!1===a?e:this.utils.parseHtml(e.html)},_getContainer:function(e){return $R.dom(this.utils.createTmpContainer(e))},_buildList:function(e,t,a){var n=e.nodes[0];if(n&&3!==n.nodeType&&"li"===n.tagName){var s=$R.dom(t).get().tagName.toLowerCase(),r=$R.dom("<"+s+" />");return r.append(a.nodes),this.utils.createFragment(r.get().outerHTML)}return a},_containsTags:function(e,t){return 0!==this._getContainer(e).find(t.join(",")).length},_collapseSelection:function(){},_hasFigureOrTable:function(e){return 0!==this._getContainer(e).find("figure, table").length},_hasBlocks:function(e){return 0!==this._getContainer(e).find(this.opts.blockTags.join(",")).length},_hasBlocksAndImages:function(e){return 0!==this._getContainer(e).find(this.opts.blockTags.join(",")+",img").length},_isPlainHtml:function(e){return 0===this._getContainer(e).find(this.opts.blockTags.join(",")+", img").length},_isFigure:function(e){if(this._isHtmlString(e))return 0!==$R.dom(e).closest("figure").length},_isComponentSpan:function(e){if(this._isHtmlString(e))return 0!==$R.dom(e).closest("span.redactor-component").length},_isHtmlString:function(e){return!("string"===typeof e&&!/^\s*<(\w+|!)[^>]*>/.test(e))}}),$R.add("service","block",{init:function(e){this.app=e,this.tags=["p","div","blockquote","pre","h1","h2","h3","h4","h5","h6"]},format:function(e){return this.params={args:!1},this.params.type=e.type?e.type:"set",this.params.tag="string"===typeof e?e:e.tag||this.opts.markup,this.params.tag=this.params.tag.toLowerCase(),this.params.args={class:e.class||!1,style:e.style||!1,attr:e.attr||!1},e.class||e.style||e.attr||(this.params.args=!1),this._format()},add:function(e,t){return this._apply("add",e,t)},set:function(e,t){return this._apply("set",e,t)},toggle:function(e,t){return this._apply("toggle",e,t)},remove:function(e,t){return this._apply("remove",e,t)},clearFormat:function(e){return this._clear(e,"all")},clearStyle:function(e){return this._clear(e,"style")},clearClass:function(e){return this._clear(e,"class")},clearAttr:function(e){return this._clear(e,"attr")},_format:function(){var e=[];this.collapsed=this.selection.isCollapsed(),this.selection.save();this.selection.getBlock();var t=this._getBlocks(),a=this._isToggleFormatType(t)?"toggle":"set",n=this._getReplacedTag(a);return e=this._replaceBlocks(t,n),e=this._buildNodes(e),this._restoreSelection(e),e},_clear:function(e,t,a,n){!1!==a&&this.selection.save();var s=this._getElements(e,n);return"all"===t?this._removeAllAttr(s,!1):"style"===t?(s.removeAttr("style"),s.removeAttr("data-redactor-style-cache")):"class"===t?s.removeAttr("class"):"attr"===t&&this._removeAllAttr(s),n=s.getAll(),!1!==a&&this._restoreSelection(n),n},_getElements:function(e,t){return t?$R.dom(t):$R.dom(this._getBlocks(e))},_getBlocks:function(e){for(var t=this.selection.getBlocks({tags:e||this.tags}),a=[],n=0;n<t.length;n++)("DIV"!==t[n].tagName||t[n].getAttribute("data-redactor-tag"))&&a.push(t[n]);return a},_getReplacedTag:function(e){return this.opts.breakline?"toggle"===e||"p"===this.params.tag?"div":this.params.tag:"toggle"===e?this.opts.markup:this.params.tag},_isStandardParagraph:function(){return!this.opts.breakline&&"p"===this.opts.markup},_isStandardDiv:function(){return!this.opts.breakline&&"div"===this.opts.markup},_isBreaklineBlock:function(e){return e&&"DIV"===e.tagName&&"br"===e.getAttribute("data-redactor-tag")},_isToggleFormatType:function(e){for(var t=0,a=e.length,n=0;n<a;n++)e[n]&&this.params.tag===e[n].tagName.toLowerCase()&&t++;return t===a},_isCurrentBlockOneAndEmpty:function(e){return this.collapsed&&1===e.length&&this.utils.isEmpty(e[0])},_buildNodes:function(e){return e.length>0&&(e=this._applyArgs(e,!1),e=this._combinePre(e),e=this._cleanBlocks(e)),e},_replaceBlocks:function(e,t){for(var a=[],n=0;n<e.length;n++){var s=this.utils.replaceToTag(e[n],t);a.push(s.get())}return a},_combinePre:function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a].nextElementSibling;if(n&&"PRE"===e[a].tagName&&"PRE"===n.tagName){var s=$R.dom(e[a]),r=$R.dom(n),o=document.createTextNode("\n");s.append(o),s.append(r),r.unwrap("pre")}t.push(e[a])}return t},_cleanBlocks:function(e){for(var t=["h1","h2","h3","h4","h5","h6"],a=this.opts.inlineTags,n=0;n<e.length;n++){var s=e[n].tagName.toLowerCase(),r=$R.dom(e[n]);-1!==t.indexOf(s)?r.find("span").not(".redactor-component, .non-editable, .redactor-selection-marker").unwrap():"pre"===s&&r.find(a.join(",")).not(".redactor-selection-marker").unwrap(),!1===this.params.args&&"p"===this.params.tag&&r.removeAttr("class"),this.opts.breakline&&"div"===s?r.attr("data-redactor-tag","br"):r.removeAttr("data-redactor-tag"),this.utils.normalizeTextNodes(e[n])}return e},_cleanEmptyClass:function(e){e.each((function(e){""===e.className&&e.removeAttribute("class")}))},_cleanEmptyStyle:function(e){this.utils.removeEmptyAttr(e.get(),"style")?e.removeAttr("data-redactor-style-cache"):e.attr("data-redactor-style-cache",e.attr("style"))},_apply:function(e,t,a,n,s){!1!==n&&this.selection.save();var r=this._getElements(a,s);if(t.class&&("set"===e?(r.removeAttr("class"),r.addClass(t.class)):"add"===e?r.addClass(t.class):"toggle"===e?r.toggleClass(t.class):"remove"===e&&r.removeClass(t.class),this._cleanEmptyClass(r)),t.attr&&("set"===e?(this._removeAllAttr(r),r.attr(t.attr)):"add"===e?r.attr(t.attr):"toggle"===e?(o=t.attr,r.each((function(e){var t=$R.dom(e);for(var a in o)t.attr(a)?t.removeAttr(a):t.attr(a,o[a])}))):"remove"===e&&r.removeAttr(t.attr)),t.style)if("set"===e)r.removeAttr("style"),r.css(t.style),r.each((function(e){var t=$R.dom(e);t.attr("data-redactor-style-cache",t.attr("style"))}));else if("add"===e){var o=t.style;r.each(function(e){var t=$R.dom(e);t.css(o),t.attr("data-redactor-style-cache",t.attr("style")),this._convertStyleQuotes(t)}.bind(this))}else if("toggle"===e){o=t.style;r.each(function(e){var t=$R.dom(e);for(var a in o){var n=o[a],s=t.css(a);s=this.utils.isRgb(s)?this.utils.rgb2hex(s):s.replace(/"/g,""),n=this.utils.isRgb(n)?this.utils.rgb2hex(n):n.replace(/"/g,""),s=this.utils.hex2long(s),("string"===typeof(n=this.utils.hex2long(n))?n.toLowerCase():n)===("string"===typeof s?s.toLowerCase():s)?t.css(a,""):t.css(a,n)}this._convertStyleQuotes(t),this._cleanEmptyStyle(t)}.bind(this))}else if("remove"===e){var i=t.style;r.each(function(e){var t=$R.dom(e);t.css(i,""),this._cleanEmptyStyle(t)}.bind(this))}return s=r.getAll(),!1!==n&&this._restoreSelection(s),s},_applyArgs:function(e){return e=this.params.args?this._apply(this.params.type,this.params.args,!1,!1,e):this._clear(!1,"all",!1,e)},_removeAllAttr:function(e,t){e.each((function(e){var a=["data-redactor-tag","data-redactor-style-cache"];!1===t&&(a.push("style"),a.push("class"));for(var n=e.attributes.length;n-- >0;){var s=e.attributes[n],r=s.name;-1===a.indexOf(r)&&e.removeAttributeNode(s)}}))},_restoreSelection:function(e){this._isCurrentBlockOneAndEmpty(e)?this.caret.setStart(e[0]):setTimeout(function(){this.selection.restore()}.bind(this),1)},_convertStyleQuotes:function(e){var t=e.attr("style");t&&e.attr("style",t.replace(/"/g,"'"))}}),$R.add("service","inline",{mixins:["formatter"],init:function(e){this.app=e,this.count=0},format:function(e){if(!this._isFormat())return[];this.type=e.type?e.type:"set",this.tag="string"===typeof e?e:e.tag,this.tag=this.tag.toLowerCase(),this.tag=this.arrangeTag(this.tag),"string"===typeof e?this.args=!1:this.buildArgs(e),this.detector.isIe()||this.editor.disableNonEditables();var t=this.selection.isCollapsed()?this.formatCollapsed():this.formatUncollapsed();return this.detector.isIe()||this.editor.enableNonEditables(),t},_isFormat:function(){var e=this.selection.getCurrent(),t=this.inspector.parse(e),a=t.isComponent()&&!t.isComponentType("table")&&!t.isFigcaption();return!(!1!==e||!this.selection.isAll())||!(!e||t.isPre()||t.isCode()||a)},arrangeTag:function(e){var t=this.opts.replaceTags;for(var a in t)e===a&&(e=t[a]);return e},formatCollapsed:function(){var e,t,a,n,s=[],r=this.selection.getInlineFirst(),o=this.selection.getInlines({all:!0}),i=$R.dom(r);if(r){var c=this.inspector.parse(r);if(this.utils.isEmptyHtml(r.innerHTML))if(r.tagName.toLowerCase()===this.tag)if(this.hasSameArgs(r)){this.caret.setAfter(r),i.remove();var _=this.selection.getElement();this.utils.normalizeTextNodes(_)}else"span"===this.tag?(s=this.applyArgs([r],!1),this.caret.setStart(r)):s=this.insertInline(s);else c.hasParent([this.tag])?(t=(e=i.closest(this.tag)).get(),this.hasSameArgs(t)?(e.unwrap(),this.caret.setStart(r)):s=this.insertInline(s)):s=this.insertInline(s);else if(r.tagName.toLowerCase()===this.tag)this.hasSameArgs(r)?(n=this.utils.extractHtmlFromCaret(r),a=$R.dom("<"+this.tag+" />"),a=this.utils.cloneAttributes(r,a),i.after(a.append(n)),""===a.html().trim()&&a.remove(),this.caret.setAfter(r)):s=this.insertInline(s);else if(c.hasParent([this.tag]))if(t=(e=i.closest(this.tag)).get(),this.hasSameArgs(t)){var l,d;n=this.utils.extractHtmlFromCaret(t,t),a=$R.dom("<"+this.tag+" />"),a=this.utils.cloneAttributes(t,a);var u=0;o=o.reverse();for(var p=0;p<o.length;p++)o[p]!==t&&(d=$R.dom("<"+o[p].tagName.toLowerCase()+">"),0===u?l=d:l.append(d),u++);e.after(a.append(n)),e.after(l),this.caret.setStart(d)}else s=this.insertInline(s);else s=this.insertInline(s)}else s=this.insertInline(s);return s},insertInline:function(e){var t=document.createElement(this.tag);return e=this.insertion.insertNode(t,"start"),this.applyArgs(e,!1)},hasSameArgs:function(e){if(0===e.attributes.length&&!1===this.args)return!0;var t=!0;if(this.args){var a=0;for(var n in this.args){var s=$R.dom(e),r=this.args[n],o=this.utils.toParams(r),i=s.attr(n);if(r)if("style"===n){o=o.trim().replace(/;$/,"");for(var c=this.utils.styleToObj(s.attr("style")),_=o.split(";"),l=0,d=0;d<_.length;d++){var u=_[d].split(":"),p=u[0].trim(),m=u[1].trim();if(-1!==p.search(/color/)){var h=s.css(p);!h||h!==m&&this.utils.rgb2hex(h)!==m||l++}else s.css(p)===m&&l++}l===_.length&&Object.keys(c).length===_.length&&a++}else i===o&&a++;else i&&""!==i||a++}t=a===Object.keys(this.args).length}return t},formatUncollapsed:function(){var e=this.selection.getInlines({all:!0,inside:!0});this.detector.isIe()?this.selection.saveMarkers():this.selection.save(),this._convertTags("u"),this._convertTags("del"),this._convertToStrike(e),this.detector.isIe()?this.selection.restoreMarkers():this.selection.restore(),document.execCommand("strikethrough"),this._clearDecoration(),this.selection.save();var t=this._revertToInlines();t=this.applyArgs(t,!1);for(var a=0;a<t.length;a++){var n=t[a],s=n.tagName.toLowerCase(),r=n.attributes.length;s===this.tag&&0===r&&this.args&&($R.dom(n).unwrap(),t.splice(a,1))}return this.selection.restore(),this._clearEmptyStyle(),t=this._normalizeBlocks(t)},_convertTags:function(e){this.tag!==e&&this.editor.getElement().find(e).each(function(t){this.utils.replaceToTag(t,"span").addClass("redactor-convertable-"+e)}.bind(this))},_revertTags:function(e){this.editor.getElement().find("span.redactor-convertable-"+e).each(function(t){var a=this.utils.replaceToTag(t,e);a.removeClass("redactor-convertable-"+e),this.utils.removeEmptyAttr(a,"class")&&a.removeAttr("class")}.bind(this))},_convertToStrike:function(e){for(var t=this.selection.getText().replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&"),a=0;a<e.length;a++){var n=this.arrangeTag(e[a].tagName.toLowerCase()),s=e[a],r=$R.dom(s),o=this.hasSameArgs(s);n===this.tag&&("span"===this.tag&&this._isTextSelected(s,t)?r.addClass("redactor-convertable-apply"):o&&"a"!==this.tag?this._replaceToStrike(r):"span"===this.tag?r.addClass("redactor-unconvertable-apply"):o||r.addClass("redactor-convertable-apply"))}},_replaceToStrike:function(e){e.replaceWith((function(){return $R.dom("<strike>").append(e.contents())}))},_revertToInlines:function(){var e=[],t=this.editor.getElement();return"u"!==this.tag&&t.find("u").unwrap(),t.find(".redactor-convertable-u").each((function(t){e.push(t)})),t.find(".redactor-convertable-apply").each(function(t){var a=$R.dom(t);a.find("strike").unwrap(),this._forceRemoveClass(a,"redactor-convertable-apply"),e.push(t)}.bind(this)),t.find("span.redactor-unconvertable-apply").each(function(e){var t=$R.dom(e);this._forceRemoveClass(t,"redactor-unconvertable-apply")}.bind(this)),t.find("strike").each(function(t){var a=this.utils.replaceToTag(t,this.tag);e.push(a.get())}.bind(this)),this._revertTags("u"),this._revertTags("del"),e},_normalizeBlocks:function(e){var t=this.opts.inlineTags,a=this.selection.getBlocks();if(a)for(var n=0;n<a.length;n++){if("PRE"===a[n].tagName)$R.dom(a[n]).find(t.join(",")).not(".redactor-selection-marker").each(function(t){-1!==e.indexOf(t)&&(e=this.utils.removeFromArrayByValue(e,t)),$R.dom(t).unwrap()}.bind(this))}return e},_clearDecoration:function(){this.editor.getElement().find(this.opts.inlineTags.join(",")).each((function(e){if("line-through"===e.style.textDecoration||"line-through"===e.style.textDecorationLine){var t=$R.dom(e);t.css("textDecorationLine",""),t.css("textDecoration",""),t.wrap("<strike>")}}))},_clearEmptyStyle:function(){for(var e=this.getInlines(),t=0;t<e.length;t++){this._clearEmptyStyleAttr(e[t]);var a=e[t].childNodes;if(a)for(var n=0;n<a.length;n++)this._clearEmptyStyleAttr(a[n])}},_clearEmptyStyleAttr:function(e){3!==e.nodeType&&this.utils.removeEmptyAttr(e,"style")&&(e.removeAttribute("style"),e.removeAttribute("data-redactor-style-cache"))},_forceRemoveClass:function(e,t){e.removeClass(t),this.utils.removeEmptyAttr(e,"class")&&e.removeAttr("class")},_isTextSelected:function(e,t){var a=this.utils.removeInvisibleChars(e.textContent);return t===a||-1!==t.search(new RegExp("^"+this.utils.escapeRegExp(a)+"$"))},getInlines:function(e){return e?this.selection.getInlines({tags:e,all:!0}):this.selection.getInlines({all:!0})},getElements:function(e){return $R.dom(this.getInlines(e))},clearFormat:function(){this.selection.save();for(var e=this.selection.getInlines({all:!0}),t=0;t<e.length;t++){var a=$R.dom(e[t]);this.selection.getInline(e[t])&&a.unwrap()}this.selection.restore()}}),$R.add("service","autoparser",{init:function(e){this.app=e,this.cleaner=this.app.cleaner},observe:function(){var e=this.editor.getElement().find(".redactor-autoparser-object").each((function(e){var t=$R.dom(e);t.removeClass("redactor-autoparser-object"),""===t.attr("class")&&t.removeAttr("class")}));e.length>0&&e.each(function(e){var t,a=!1,n=e.tagName;"A"===n?t="link":"IMG"===n?t="image":"IFRAME"===n&&(t="video"),t&&(a=$R.create(t+".component",this.app,e),this.app.broadcast(t+".inserted",a),this.app.broadcast("autoparse",t,a))}.bind(this))},format:function(e,t){this._isKey(t)&&this._format(t===this.keycodes.ENTER)},parse:function(e){var t=["figure","form","pre","iframe","code","a","img"],a=[],n=0,s=[];e=this.cleaner.storeComments(e,s),e=(e=(e=this.cleaner.encodeCode(e)).replace(/\$/g,"&#36;")).replace(/&amp;/g,"&");for(var r=0;r<t.length;r++){var o="img"===t[r]?"<"+t[r]+"[^>]*>":"<"+t[r]+"([\\w\\W]*?)</"+t[r]+">";if(null!==(u=e.match(new RegExp(o,"gi"))))for(var i=0;i<u.length;i++)e=e.replace(u[i],"#####replaceparse"+n+"#####"),a.push(u[i]),n++}if(this.opts.autoparseImages&&e.match(this.opts.regex.imageurl)){var c=e.match(this.opts.regex.imageurl);for(r=0;r<c.length;r++)e=e.replace(c[r],'<img class="redactor-autoparser-object" src="'+c[r]+'">')}if(this.opts.autoparseVideo&&(e.match(this.opts.regex.youtube)||e.match(this.opts.regex.vimeo))){var _,l;e.match(this.opts.regex.youtube)?(_="//www.youtube.com/embed/$1",l=this.opts.regex.youtube):e.match(this.opts.regex.vimeo)&&(_="//player.vimeo.com/video/$2",l=this.opts.regex.vimeo);var d=this.component.create("video",'<iframe width="500" height="281" src="'+_+'" frameborder="0" allowfullscreen></iframe>');e=e.replace(l,d.get().outerHTML)}for(r=0;r<t.length;r++){var u;o="img"===t[r]?"<"+t[r]+"[^>]*>":"<"+t[r]+"([\\w\\W]*?)</"+t[r]+">";if(null!==(u=e.match(new RegExp(o,"gi"))))for(i=0;i<u.length;i++)e=e.replace(u[i],"#####replaceparse"+n+"#####"),a.push(u[i]),n++}return this.opts.autoparseLinks&&e.match(this.opts.regex.url)&&(e=this._formatLinks(e)),e=this._restoreReplaced(a,e),e=this._restoreReplaced(a,e),e=this.cleaner.restoreComments(e,s)},_isKey:function(e){return e===this.keycodes.ENTER||e===this.keycodes.SPACE},_format:function(e){var t=this.selection.getParent(),a=$R.dom(t);if(!(t&&0!==a.closest("figure, pre, code, img, a, iframe").length)&&this.selection.isCollapsed()){var n=this.utils.createInvisibleChar();this.selection.getRange().insertNode(n);var s=this.selection.getCurrent(),r=this.inspector.parse(s),o=$R.dom(s);if(n.parentNode.removeChild(n),s&&3===s.nodeType){var i,c=s.textContent;if(this.opts.autoparseImages&&c.match(this._convertToRegExp(this.opts.regex.imageurl))){var _=r.isList(),l=c.match(this.opts.regex.imageurl),d=_?void 0:"<figure><img></figure>",u=this.component.create("image",d);u.setSrc(l[0]),u.addClass("redactor-autoparser-object"),c=c.replace(l[0],u.get().outerHTML),i="image"}else if(this.opts.autoparseVideo&&(c.match(this._convertToRegExp(this.opts.regex.youtube))||c.match(this._convertToRegExp(this.opts.regex.vimeo)))){var p,m;c.match(this.opts.regex.youtube)?(p="//www.youtube.com/embed/$1",m=this.opts.regex.youtube):c.match(this.opts.regex.vimeo)&&(p="//player.vimeo.com/video/$2",m=this.opts.regex.vimeo);var h=this.component.create("video",'<iframe width="500" height="281" src="'+p+'" frameborder="0" allowfullscreen></iframe>');h.addClass("redactor-autoparser-object"),c=c.replace(m,h.get().outerHTML),i="video"}else this.opts.autoparseLinks&&c.match(this._convertToRegExp(this.opts.regex.url))&&(c=this._formatLinks(c,e),i="link");if(i){e?(this.selection.save(),o.replaceWith(c),this.selection.restore()):o.replaceWith(c);var E=this.editor.getElement().find(".redactor-autoparser-object").removeClass("redactor-autoparser-object");if(E="link"===i?$R.create("link.component",this.app,E):E,"link"===i)e||this.caret.setAfter(E),this.app.broadcast("link.inserted",E);else{this.caret.setAfter(E);var f=E.clone();E.remove(),E=this.insertion.insertHtml(f),E=this.component.build(E)}this.app.broadcast("autoparse",i,E)}}}},_formatLinks:function(e,t){for(var a=e.match(this.opts.regex.url),n={},s=0;s<a.length;s++){t&&-1!==a[s].search(/\.$/)&&(a[s]=a[s].replace(/\.$/,""));var r=a[s],o=r,i=null!==r.match(/(https?|ftp):\/\//i)?"":"http://",c=-1!==["/","&","="].indexOf(r.slice(-1))?"":"\\b",_=!1!==this.opts.pasteLinkTarget?' target="'+this.opts.pasteLinkTarget+'"':"";o=-1===(o=o.length>this.opts.linkSize?o.substring(0,this.opts.linkSize)+"...":o).search("%")?decodeURIComponent(o):o;n["("+r.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")+c+")"]='<a href="'+i+r.trim()+'"'+_+' class="redactor-autoparser-object">'+o.trim()+"</a>"}for(var l in n)e=e.replace(new RegExp(l,"g"),n[l]);return e},_restoreReplaced:function(e,t){for(var a=0;a<e.length;a++)t=t.replace("#####replaceparse"+a+"#####",e[a]);return t},_convertToRegExp:function(e){return new RegExp(String(e).replace(/^\//,"").replace(/\/ig$/,"").replace(/\/gi$/,"")+"$","gi")}}),$R.add("service","storage",{init:function(e){this.app=e,this.data=[]},observeImages:function(){this.opts.imageObserve&&this.editor.getElement().find("[data-image]").each(this._addImage.bind(this))},observeFiles:function(){this.editor.getElement().find("[data-file]").each(this._addFile.bind(this))},setStatus:function(e,t){this.data[e].status=t},getChanges:function(){var e=this.editor.getElement();for(var t in this.data){var a=this.data[t],n=e.find("[data-"+a.type+'="'+a.id+'"]');this.setStatus(a.id,0!==n.length)}return this.data},add:function(e,t){var a=$R.dom(t),n=a.attr("data-"+e);this.data[n]={type:e,status:!0,node:a.get(),id:a.attr("data-"+e)}},_addImage:function(e){this.add("image",e)},_addFile:function(e){this.add("file",e)}}),$R.add("service","utils",{init:function(e){this.app=e},isEmpty:function(e){var t=!1;return(e=$R.dom(e).get())&&(t=3===e.nodeType?""===e.textContent.trim().replace(/\n/,""):""===e.innerHTML),t},isEmptyHtml:function(e,t,a){return e=(e=(e=(e=(e=(e=this.removeInvisibleChars(e)).replace(/&nbsp;/gi,"")).replace(/<\/?br\s?\/?>/g,t?"br":"")).replace(/\s/g,"")).replace(/^<p>[^\W\w\D\d]*?<\/p>$/i,"")).replace(/^<div>[^\W\w\D\d]*?<\/div>$/i,""),a&&(e=(e=e.replace(/<ul(.*?[^>])>$/i,"ul")).replace(/<ol(.*?[^>])>$/i,"ol")),""===(e=(e=(e=(e=(e=(e=e.replace(/<hr(.*?[^>])>$/i,"hr")).replace(/<iframe(.*?[^>])>$/i,"iframe")).replace(/<source(.*?[^>])>$/i,"source")).replace(/<[^\/>][^>]*><\/[^>]+>/gi,"")).replace(/<[^\/>][^>]*><\/[^>]+>/gi,"")).trim())},trimSpaces:function(e){return this.removeInvisibleChars(e.trim())},createInvisibleChar:function(){return document.createTextNode(this.opts.markerChar)},searchInvisibleChars:function(e){return e.search(/^\uFEFF$/g)},removeInvisibleChars:function(e){return e.replace(/\uFEFF/g,"")},trimInvisibleChars:function(e){if(this.selection.isCollapsed()){var t=this.selection.getCurrent(),a="left"===e?this.selection.getTextBeforeCaret():this.selection.getTextAfterCaret();if(t&&3===t.nodeType&&0===this.searchInvisibleChars(a))if("left"===e)$R.dom(t).replaceWith(t.textContent.trim());else{var n=this.offset.get();this.offset.set({start:n.start+1,end:n.end+1})}}},buildWrapper:function(e){return $R.dom("<div>").html(e)},getWrapperHtml:function(e){var t=e.html();return e.remove(),t},createTmpContainer:function(e){var t=$R.dom("<div>");return"string"===typeof e?t.html(e):t.append($R.dom(e).clone(!0)),t.get()},createFragment:function(e){for(var t,a,n,s=this.createTmpContainer(e),r=document.createDocumentFragment(),o=[],i=0;t=s.firstChild;){i++;var c=r.appendChild(t);1===i&&(a=c),o.push(c),n=c}return{frag:r,first:a,last:n,nodes:o}},isFragment:function(e){return"object"===typeof e&&e.frag},parseHtml:function(e){var t=this.createTmpContainer(e);return{html:t.innerHTML,nodes:t.childNodes}},splitNode:function(e,t,a,n){var s;t=this.isFragment(t)?t.frag:t,s=n?this.inspector.isInlineTag(e.tagName)?e:this.selection.getInline(e):this.inspector.isBlockTag(e.tagName)?e:this.selection.getBlock(e);var r=$R.dom(s);if(!n&&this.isEmptyHtml(s.innerHTML,!0))return r.after(t),r.remove(),t;var o=r.get().tagName.toLowerCase(),i=this.caret.isEnd(s),c=this.caret.isStart(s);if(!i&&!c){var _=this.extractHtmlFromCaret(n),l=$R.dom("<"+o+" />");l=this.cloneAttributes(s,l),r.after(l.append(_))}if(c)return r.before(t);if(a)return r.append(t);t=r.after(t);var d=r.html();return""===(d=(d=this.removeInvisibleChars(d)).replace(/&nbsp;/gi,""))&&r.remove(),t},extractHtmlFromCaret:function(e,t){var a=this.selection.getRange();if(a&&(t=t||(e?this.selection.getInline():this.selection.getBlock()))){var n=a.cloneRange();return n.selectNodeContents(t),n.setStart(a.endContainer,a.endOffset),n.extractContents()}},createMarkup:function(e){var t=document.createElement(this.opts.markup);this.opts.breakline&&t.setAttribute("data-redactor-tag","br"),$R.dom(e).after(t),this.caret.setStart(t)},createMarkupBefore:function(e){var t=document.createElement(this.opts.markup);this.opts.breakline&&t.setAttribute("data-redactor-tag","br"),$R.dom(e).before(t),this.caret.setEnd(t)},getNode:function(e){var t=$R.dom(e).get(),a=this.editor.getElement().get();return"undefined"===typeof e?a:t||!1},findSiblings:function(e,t){for(e=$R.dom(e).get(),t="next"===t?"nextSibling":"previousSibling";e=e[t];)if((3!==e.nodeType||""!==e.textContent.trim())&&"BR"!==e.tagName)return e;return!1},getElementsFromHtml:function(e,t,a){var n=document.createElement("div");n.innerHTML=e;var s=n.querySelectorAll(t);return function(e,t){if("number"===typeof this.length&&"function"===typeof e){var a=[];if("object"==typeof this)for(var n=0;n<this.length;n++){if(!(n in this))return;a[n]=e.call(t||this,this[n],n,this)}return a}}.call(s,(function(e){var t=e.getAttribute("data-redactor-type");if(!a||!t||t!==a)return e.outerHTML}))},getChildNodes:function(e,t,a){var n=(e=e&&e.nodeType&&11===e.nodeType?e:$R.dom(e).get()).childNodes,s=[];if(n)for(var r=0;r<n.length;r++)if((!0!==a||3!==n[r].nodeType)&&(3!==n[r].nodeType||!this.isEmpty(n[r]))&&(s.push(n[r]),!1!==t)){var o=this.getChildNodes(n[r],a);o.length>0&&(s=s.concat(o))}return s},getChildElements:function(e){return this.getChildNodes(e,!0,!0)},getFirstNode:function(e){return this._getFirst(this.getChildNodes(e,!1))},getLastNode:function(e){return this._getLast(this.getChildNodes(e,!1))},getFirstElement:function(e){return this._getFirst(this.getChildNodes(e,!1,!0))},getLastElement:function(e){return this._getLast(this.getChildNodes(e,!1,!0))},replaceToTag:function(e,t){return $R.dom(e).replaceWith((function(e){var a=$R.dom("<"+t+">").append($R.dom(e).contents());if(e.attributes)for(var n=e.attributes,s=0;s<n.length;s++)a.attr(n[s].nodeName,n[s].value);return a}))},ucfirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},removeFromArrayByValue:function(e,t){for(var a,n=arguments,s=n.length;s>1&&e.length;)for(t=n[--s];-1!==(a=e.indexOf(t));)e.splice(a,1);return e},removeEmptyAttr:function(e,t){var a=$R.dom(e);return"undefined"===typeof a.attr(t)||null===a.attr(t)||""===a.attr(t)&&(a.removeAttr(t),!0)},cloneAttributes:function(e,t){e=$R.dom(e).get(),t=$R.dom(t);for(var a=e.attributes,n=a.length;n--;){var s=a[n];t.attr(s.name,s.value)}return t},toParams:function(e){if("object"!==typeof e)return e;var t=Object.keys(e);if(!t.length)return"";for(var a="",n=0;n<t.length;n++){var s=t[n];a+=s+":"+e[s]+";"}return a},styleToObj:function(e){var t={};if(e)for(var a=e.replace(/;$/,"").split(";"),n=0;n<a.length;n++){var s=a[n].split(":");t[s[0].trim()]=s[1].trim()}return t},checkProperty:function(e){for(var t=arguments[1]&&Array.isArray(arguments[1])?arguments[1]:[].slice.call(arguments,1),a=0;a<t.length;a++){if(!e||"undefined"===typeof e[t[a]])return!1;e=e[t[a]]}return e},extendData:function(e,t){for(var a in t){if("elements"===a)$R.dom(t[a]).each(function(t){var a=$R.dom(t);if("FORM"===t.tagName){var n=a.serialize(!0);for(var s in n)e=this._setData(e,s,n[s])}else{var r=a.attr("name")?a.attr("name"):a.attr("id");e=this._setData(e,r,a.val())}}.bind(this));else e=this._setData(e,a,t[a])}return e},_setData:function(e,t,a){return e instanceof FormData?e.append(t,a):e[t]=a,e},normalizeTextNodes:function(e){(e=$R.dom(e).get())&&e.normalize()},isRgb:function(e){return 0===e.search(/^rgb/i)},rgb2hex:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},hex2long:function(e){return-1!==e.search(/^#/)&&4===e.length&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),e},escapeRegExp:function(e){return e.replace(/[-\/\\^$*~+?.()|[\]{}]/g,"\\$&")},getRandomId:function(){for(var e="",t="abcdefghijklmnopqrstuvwxyz0123456789",a=0;a<12;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},_getFirst:function(e){return 0!==e.length&&e[0]},_getLast:function(e){return 0!==e.length&&e[e.length-1]}}),$R.add("service","progress",{init:function(e){this.app=e,this.$box=null,this.$bar=null},show:function(){this._is()||this._build(),this.$box.show()},hide:function(){this._is()&&this.animate.start(this.$box,"fadeOut",this._destroy.bind(this))},update:function(e){this.show(),this.$bar.css("width",e+"%")},_is:function(){return null!==this.$box},_build:function(){this.$bar=$R.dom("<span />"),this.$box=$R.dom('<div id="redactor-progress" />'),this.$box.append(this.$bar),this.$body.append(this.$box)},_destroy:function(){this._is()&&this.$box.remove(),this.$box=null,this.$bar=null}}),$R.add("module","starter",{init:function(e){this.app=e,this.opts=e.opts,this.plugin=e.plugin,this.module=e.module},onstart:function(){this._startStop("start",this.app,["element","container","source","editor","statusbar","toolbar"]),this._startStop("start",this.module,["element","container","source","editor","statusbar","contextbar","input"])},onstop:function(){this._startStop("stop",this.module,["observer","element","container","source","editor","contextbar"])},onenable:function(){var e=this.opts.plugins;this._startStop("start",this.module,["observer","toolbar"]),this._startStop("start",this.plugin,e)},ondisable:function(){var e=this.opts.plugins;this._startStop("stop",this.module,["observer","toolbar"]),this._startStop("stop",this.plugin,e)},_startStop:function(e,t,a){for(var n=0;n<a.length;n++)"undefined"!==typeof t[a[n]]&&this.app.callInstanceMethod(t[a[n]],e)}}),$R.add("module","element",{init:function(e){this.app=e,this.uuid=e.uuid,this.opts=e.opts,this.namespace=e.namespace,this.element=e.element,this.rootOpts=$R.extend({},!0,$R.options,e.rootOpts)},start:function(){this._build(),this._buildModes(),this._buildMarkup()},stop:function(){this.element.getElement().removeData(this.namespace+"-uuid")},_build:function(){this.element.getElement().data(this.namespace+"-uuid",this.uuid)},_buildModes:function(){var e=this.element.getType();"inline"===e&&this._redefineOptions(this.opts.modes.inline),"div"===e&&this._redefineOptions(this.opts.modes.original),"inline"!==e&&(this._isRootOption("styles")&&this.rootOpts.styles&&(this.opts.styles=!0),this._isRootOption("source")&&!this.rootOpts.source&&(this.opts.showSource=!1))},_buildMarkup:function(){"inline"===this.element.getType()?this.opts.emptyHtml="":this.opts.breakline?(this.opts.markup="div",this.opts.emptyHtml='<div data-redactor-tag="br">'+this.opts.markerChar+"</div>"):this.opts.emptyHtml="<"+this.opts.markup+"></"+this.opts.markup+">"},_redefineOptions:function(e){for(var t in e)this.opts[t]=e[t]},_isRootOption:function(){return"undefined"!==typeof this.rootOpts.styles}}),$R.add("module","editor",{init:function(e){this.app=e,this.uuid=e.uuid,this.opts=e.opts,this.editor=e.editor,this.source=e.source,this.element=e.element,this.component=e.component,this.container=e.container,this.inspector=e.inspector,this.autoparser=e.autoparser,this.placeholder=!1,this.events=!1},onenable:function(){this.enable()},ondisable:function(){this.disable()},onenablefocus:function(){this._enableFocus()},oncontextmenu:function(e){this.component.setOnEvent(e,!0)},onclick:function(e){this.component.setOnEvent(e)},onkeyup:function(e){this.inspector.parse(e.target).isComponent()||this.component.clearActive()},onenablereadonly:function(){this._enableReadOnly()},ondisablereadonly:function(){this._disableReadOnly()},onautoparseobserve:function(){this.autoparser.observe()},onplaceholder:{build:function(){this._buildPlaceholder()},toggle:function(){this._togglePlacehodler()}},start:function(){this._build(),this._buildEvents(),this._buildOptions(),this._buildAccesibility()},stop:function(){var e=this.editor.getElement(),t=this.container.getElement(),a=["redactor-in","redactor-in-"+this.uuid,"redactor-structure","redactor-placeholder","notranslate"];""!==this.opts.stylesClass&&a.push(this.opts.stylesClass);e.removeAttr("spellcheck"),e.removeAttr("dir"),e.removeAttr("contenteditable"),e.removeAttr("placeholder"),e.removeAttr("data-gramm_editor"),e.removeClass(a.join(" ")),t.removeClass(["redactor-focus","redactor-blur","redactor-over","redactor-styles-on","redactor-styles-off","redactor-toolbar-on","redactor-text-labeled-on","redactor-source-view"].join(" ")),this._destroyEvents(),0===e.get().classList.length&&e.removeAttr("class")},enable:function(){var e=this.editor.getElement(),t=this.container.getElement();e.addClass("redactor-in redactor-in-"+this.uuid),e.attr({contenteditable:!0}),this.opts.structure&&e.addClass("redactor-structure"),!this.opts.toolbar||this.opts.air||this.opts.toolbarExternal||t.addClass("redactor-toolbar-on"),this._disableBrowsersEditing()},disable:function(){var e=this.editor.getElement(),t=this.container.getElement();e.removeClass("redactor-in redactor-in-"+this.uuid),e.removeClass("redactor-structure"),e.removeAttr("contenteditable"),t.addClass("redactor-toolbar-on")},_build:function(){var e=this.editor.getElement(),t=this.element.getElement(),a=this.container.getElement();a.addClass("redactor-blur"),this.opts.grammarly||e.attr("data-gramm_editor",!1),this.opts.notranslate&&e.addClass("notranslate"),this.opts.styles?(e.addClass(this.opts.stylesClass),a.addClass("redactor-styles-on")):a.addClass("redactor-styles-off"),this.opts.buttonsTextLabeled&&a.addClass("redactor-text-labeled-on"),this.element.isType("textarea")&&t.before(e)},_buildEvents:function(){this.events=$R.create("editor.events",this.app)},_buildOptions:function(){var e=this.editor.getElement();e.attr("dir",this.opts.direction),this.opts.spellcheck||e.attr("spellcheck",!1),this.opts.tabindex&&e.attr("tabindex",this.opts.tabindex),this.opts.minHeight&&e.css("min-height",this.opts.minHeight),this.opts.maxHeight&&e.css("max-height",this.opts.maxHeight),this.opts.maxWidth&&e.css({"max-width":this.opts.maxWidth,margin:"auto"})},_buildAccesibility:function(){this.editor.getElement().attr({"aria-labelledby":"redactor-voice-"+this.uuid,role:"presentation"})},_buildPlaceholder:function(){this.placeholder=$R.create("editor.placeholder",this.app)},_enableFocus:function(){this.opts.showSource?this._enableFocusSource():this._enableFocusEditor()},_enableFocusSource:function(){var e=this.source.getElement();this.opts.focus?(e.focus(),e.get().setSelectionRange(0,0)):this.opts.focusEnd&&e.focus()},_enableFocusEditor:function(){this.opts.focus?setTimeout(this.editor.startFocus.bind(this.editor),100):this.opts.focusEnd&&setTimeout(this.editor.endFocus.bind(this.editor),100)},_togglePlacehodler:function(){this.placeholder&&this.placeholder.toggle()},_disableBrowsersEditing:function(){try{document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1),document.execCommand("AutoUrlDetect",!1,!1);var e=this.editor.getElement().get();e.addEventListener?e.addEventListener("mscontrolselect",(function(e){e.preventDefault()})):e.attachEvent("oncontrolselect",(function(e){e.returnValue=!1}))}catch(t){}},_destroyEvents:function(){this.events&&this.events.destroy()},_enableReadOnly:function(){var e=this.editor.getElement();this._getEditables(e).removeAttr("contenteditable"),e.removeAttr("contenteditable"),e.addClass("redactor-read-only"),this.events&&this.events.destroy()},_disableReadOnly:function(){var e=this.editor.getElement();this._getEditables(e).attr({contenteditable:!0}),e.removeClass("redactor-read-only"),e.attr({contenteditable:!0}),this._buildEvents()},_getEditables:function(e){return e.find("figcaption, td, th")}}),$R.add("class","editor.placeholder",{init:function(e){this.app=e,this.opts=e.opts,this.editor=e.editor,this.element=e.element,this.build()},build:function(){var e=this.element.getElement(),t=this.editor.getElement();if(!1!==this.opts.placeholder||e.attr("placeholder")){var a=!1!==this.opts.placeholder?this.opts.placeholder:e.attr("placeholder");t.attr("placeholder",a),this.toggle()}},toggle:function(){return this.editor.isEmpty(!0)?this.show():this.hide()},show:function(){this.editor.getElement().addClass("redactor-placeholder")},hide:function(){this.editor.getElement().removeClass("redactor-placeholder")}}),$R.add("class","editor.events",{init:function(e){this.app=e,this.opts=e.opts,this.$doc=e.$doc,this.uuid=e.uuid,this.source=e.source,this.editor=e.editor,this.cleaner=e.cleaner,this.container=e.container,this.insertion=e.insertion,this.inspector=e.inspector,this.selection=e.selection,this.component=e.component,this.blurNamespace=".redactor-blur."+this.uuid,this.eventsList=["paste","click","contextmenu","keydown","keyup","mouseup","touchstart","cut","copy","dragenter","dragstart","drop","dragover","dragleave"],this._init()},destroy:function(){this.editor.getElement().off(".redactor-focus"),this.$doc.off("keyup"+this.blurNamespace+" mousedown"+this.blurNamespace),this._loop("off")},focus:function(e){var t=this.container.getElement();this.editor.isPasting()||t.hasClass("redactor-focus")||(t.addClass("redactor-focus"),t.removeClass("redactor-blur"),this.app.broadcast("observe",e),this.app.broadcast("focus",e),this.isFocused=!0,this.isBlured=!1)},blur:function(e){var t=this.container.getElement(),a=$R.dom(e.target),n=[".redactor-in-"+this.uuid,".redactor-toolbar",".redactor-dropdown",".redactor-context-toolbar","#redactor-modal","#redactor-image-resizer"];this.app.broadcast("originalblur",e),this.app.stopBlur||this.app.isStarted()&&!this.editor.isPasting()&&0===a.closest(n.join(",")).length&&(this.isBlured||t.hasClass("redactor-blur")||(t.removeClass("redactor-focus"),t.addClass("redactor-blur"),this.app.broadcast("blur",e),this.isFocused=!1,this.isBlured=!0))},cut:function(e){var t=this.selection.getCurrent(),a=this.inspector.parse(t);this.app.broadcast("state",e),this.component.isNonEditable(t)&&(this._passSelectionToClipboard(e,a,!0),e.preventDefault())},copy:function(e){var t=this.selection.getCurrent(),a=this.inspector.parse(t);this.app.broadcast("state",e),this.component.isNonEditable(t)&&(this._passSelectionToClipboard(e,a,!1),e.preventDefault())},drop:function(e){if((e=e.originalEvent||e).stopPropagation(),this._removeOverClass(),!1!==this.opts.dragUpload){if(this.app.isDragComponentInside()){var t=$R.dom(this.app.getDragComponentInside()),a=t.clone(!0);return this.insertion.insertToPoint(e,a),t.remove(),this.app.setDragComponentInside(!1),this.app.broadcast("state",e),this.app.broadcast("drop",e),this.app.broadcast("image.observe",e),void e.preventDefault()}if(this.app.isDragInside()&&this.opts.input){this.insertion.insertPoint(e);var n=e.dataTransfer.getData("text/html"),s=this.selection.getRange();if(s){var r=this.selection.getBlocks();s.deleteContents();for(var o=0;o<r.length;o++)""===r[o].innerHTML&&$R.dom(r[o]).remove()}return $R.create("input.paste",this.app,e,!0,n,!0),this.app.broadcast("state",e),this.app.broadcast("drop",e),this.app.setDragInside(!1),void e.preventDefault()}this.app.broadcast("state",e),this.app.broadcast("paste",e,e.dataTransfer),this.app.broadcast("drop",e)}else e.preventDefault()},dragenter:function(e){e.preventDefault()},dragstart:function(e){this.app.setDragComponentInside(!1),this.app.setDragInside(!1);var t=this.inspector.parse(e.target);!t.isComponent()||t.isComponentEditable()||t.isFigcaption()?this.selection.is()&&!this.selection.isCollapsed()&&(this.app.setDragInside(!0),this._setDragData(e)):this.app.setDragComponentInside(t.getComponent()),this.app.broadcast("dragstart",e)},dragover:function(e){this.app.broadcast("dragover",e)},dragleave:function(e){this.app.broadcast("dragleave",e)},paste:function(e){this.app.broadcast("paste",e)},contextmenu:function(e){},click:function(e){if(3===e.detail){e.preventDefault();var t=this.selection.getBlock();if(t){var a=document.createRange();a.selectNodeContents(t),this.selection.setRange(a)}}var n=$R.dom(e.target);if(n.hasClass("redactor-in")){var s=n.offset().top,r=parseFloat(n.css("padding-bottom"));s+n.height()-2*r<e.pageY?this.app.broadcast("bottomclick",e):n.hasClass("redactor-placeholder")&&this.editor.startFocus(this.editor)}this.app.broadcast("state",e),this.app.broadcast("click",e)},keydown:function(e){if(this.app.broadcast("state",e),!1===this.app.broadcast("keydown",e))return e.preventDefault()},keyup:function(e){this.app.broadcast("keyup",e)},mouseup:function(e){this.app.broadcast("observe",e),this.app.broadcast("state",e)},touchstart:function(e){this.app.broadcast("observe",e),this.app.broadcast("state",e)},_init:function(){this.editor.getElement().on("focus.redactor-focus click.redactor-focus",this.focus.bind(this)),this.$doc.on("keyup"+this.blurNamespace+" mousedown"+this.blurNamespace,this.blur.bind(this)),this._loop("on")},_removeOverClass:function(){this.editor.getElement().removeClass("over")},_loop:function(e){for(var t=this.editor.getElement(),a=0;a<this.eventsList.length;a++){var n=this.eventsList[a]+".redactor-events",s=this.eventsList[a];t[e](n,this[s].bind(this))}},_passAllToClipboard:function(e){var t=e.clipboardData,a=this.source.getCode();t.setData("text/html",a),t.setData("text/plain",a.toString().replace(/\n$/,""))},_passSelectionToClipboard:function(e,t,a){var n=e.clipboardData,s=t.getComponent(),r=$R.dom(s).clone();r.find(".redactor-component-caret").remove(),r.removeClass("redactor-component-active"),r.removeAttr("contenteditable"),r.removeAttr("tabindex");var o=r.get().outerHTML;a&&this.component.remove(s),n.setData("text/html",o),n.setData("text/plain",o.toString().replace(/\n$/,""))},_setDragData:function(e){var t=(e=e.originalEvent||e).dataTransfer;t.effectAllowed="move",t.setData("text/Html",this.selection.getHtml())}}),$R.add("module","container",{init:function(e){this.app=e,this.uuid=e.uuid,this.opts=e.opts,this.lang=e.lang,this.element=e.element,this.container=e.container},start:function(){this._build(),this._buildAccesibility()},stop:function(){var e=this.element.getElement(),t=this.container.getElement();t.after(e),t.remove(),e.show()},_build:function(){var e=this.element.getElement(),t=this.container.getElement();t.addClass("redactor-box"),t.attr("dir",this.opts.direction),this.element.isType("inline")&&t.addClass("redactor-inline"),e.after(t),t.append(e)},_buildAccesibility:function(){var e=this.container.getElement(),t=$R.dom("<span />");t.addClass("redactor-voice-label"),t.attr({id:"redactor-voice-"+this.uuid,"aria-hidden":!1}),t.html(this.lang.get("accessibility-help-label")),e.prepend(t)}}),$R.add("module","source",{init:function(e){this.app=e,this.uuid=e.uuid,this.opts=e.opts,this.utils=e.utils,this.element=e.element,this.source=e.source,this.editor=e.editor,this.toolbar=e.toolbar,this.cleaner=e.cleaner,this.component=e.component,this.container=e.container,this.autoparser=e.autoparser,this.selection=e.selection,this.syncedHtml=""},onstartcode:function(){var e=this.source.getStartedContent(),t=this.editor.getElement(),a=this.source.getElement();this.opts.autoparse&&this.opts.autoparseStart&&(e=this.autoparser.parse(e));var n=this.cleaner.input(e,!0,!0),s=this.cleaner.output(n);t.html(n),a.val(s),this.syncedHtml=s,this.app.broadcast("placeholder.build"),this.app.broadcast("autoparseobserve"),this.component.executeScripts()},onstartcodeshow:function(){this.show()},ontrytosync:function(){this.sync()},onhardsync:function(){var e=this.editor.getElement().html();e=this.app.broadcast("syncBefore",e),e=this.cleaner.output(e),this._syncing(e)},start:function(){this._build(),this._buildClasses()},stop:function(){var e=this.element.getElement(),t=this.source.getElement();e.removeClass("redactor-source redactor-source-open"),t.off("input.redactor-source"),t.removeAttr("data-gramm_editor"),0===t.get().classList.length&&t.removeAttr("class"),this.source.isNameGenerated()||e.removeAttr("name"),this.element.isType("textarea")||t.remove()},getCode:function(){return this.source.getCode()},toggle:function(){if(this.opts.source)return this.source.getElement().hasClass("redactor-source-open")?this.hide():this.show()},show:function(){if(this.opts.source){var e=this.editor.getElement(),t=this.source.getElement(),a=this.container.getElement(),n=t.val();this.app.isStarted()&&(n=this.app.broadcast("source.open",n));var s=e.height();if(e.hide(),t.height(s),t.val(n.trim()),t.show(),t.addClass("redactor-source-open"),t.on("input.redactor-source-events",this._onChangedSource.bind(this)),t.on("keydown.redactor-source-events",this._onTabKey.bind(this)),t.on("focus.redactor-source-events",this._onFocus.bind(this)),this.opts.source.hasOwnProperty("codemirror")){var r="object"===typeof this.opts.source.codemirror?this.opts.source.codemirror:{},o="undefined"!==typeof this.opts.source.codemirrorSrc?this.opts.source.codemirrorSrc:CodeMirror;this.codemirror=o.fromTextArea(t.get(),r),this.codemirror.setSize(null,s),this.codemirror.on("change",(function(e,t){e.save()})),this.codemirror.on("change",this._onChangedSource.bind(this))}else a.addClass("redactor-source-view");setTimeout(function(){this._disableButtons(),this._setActiveSourceButton()}.bind(this),100),this.app.isStarted()&&this.app.broadcast("source.opened")}},hide:function(){if(this.opts.source){var e=this.editor.getElement(),t=this.source.getElement(),a=this.container.getElement(),n=t.val();this.opts.source.hasOwnProperty("codemirror")&&(n=this.codemirror.getValue(),this.codemirror.toTextArea()),n=this.cleaner.input(n,!0),n=this.utils.isEmptyHtml(n)?this.opts.emptyHtml:n,n=this.app.broadcast("source.close",n),this._enableButtons(),this._setInactiveSourceButton(),t.hide(),t.removeClass("redactor-source-open"),t.off(".redactor-source-events"),e.show(),e.html(n),a.removeClass("redactor-source-view"),setTimeout(function(){this.editor.startFocus(),this.component.executeScripts()}.bind(this),0),this.app.broadcast("source.closed")}},sync:function(){var e=this,t=this.editor.getElement().html();t=this.app.broadcast("syncBefore",t),t=this.cleaner.output(t),this._isSync(t)&&(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){e._syncing(t)}),200))},_build:function(){var e=this.source.getElement(),t=this.element.getElement();e.hide(),this.opts.grammarly||e.attr("data-gramm_editor",!1),this.element.isType("textarea")||t.after(e)},_buildClasses:function(){this.source.getElement().addClass("redactor-source")},_syncing:function(e){e=this.app.broadcast("syncing",e),this.source.getElement().val(e),this.app.broadcast("synced",e),this.app.broadcast("changed",e)},_isSync:function(e){return this.syncedHtml!==e&&(this.syncedHtml=e,!0)},_onChangedSource:function(){var e=this.source.getElement().val();this.app.broadcast("changed",e),this.app.broadcast("source.changed",e)},_onTabKey:function(e){if(9!==e.keyCode)return!0;e.preventDefault();var t=this.source.getElement(),a=t.get(),n=a.selectionStart;t.val(t.val().substring(0,n)+"    "+t.val().substring(a.selectionEnd)),a.selectionStart=a.selectionEnd=n+4},_onFocus:function(){this.app.broadcast("sourcefocus")},_disableButtons:function(){this.toolbar.disableButtons()},_enableButtons:function(){this.toolbar.enableButtons()},_setActiveSourceButton:function(){var e=this.toolbar.getButton("html");e.enable(),e.setActive()},_setInactiveSourceButton:function(){this.toolbar.getButton("html").setInactive()}}),$R.add("module","observer",{init:function(e){this.app=e,this.editor=e.editor,this.observerUnit=!1},start:function(){if(window.MutationObserver){var e=this.editor.getElement().get();this.observerUnit=this._build(e),this.observerUnit.observe(e,{attributes:!0,subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0})}},stop:function(){this.observerUnit&&this.observerUnit.disconnect()},_build:function(e){var t=this;return new MutationObserver((function(a){t._observe(a[a.length-1],e)}))},_observe:function(e,t){this.app.isReadOnly()||"attributes"===e.type&&e.target===t||(this.app.broadcast("observe"),this.app.broadcast("trytosync"),this.app.broadcast("placeholder.toggle"))}}),$R.add("module","clicktoedit",{init:function(e){this.app=e,this.opts=e.opts,this.source=e.source,this.editor=e.editor,this.container=e.container,this.selection=e.selection},onstartclicktoedit:function(){this.start()},onenablereadonly:function(){this.opts.clickToEdit&&(this._isEnabled()||this.stop())},ondisablereadonly:function(){this.opts.clickToEdit&&(this._isEnabled()||this.start())},onstop:function(){this.stop()},start:function(){this._build()},stop:function(){this.buttonSave&&this.buttonSave.stop(),this.buttonCancel&&this.buttonCancel.stop(),this._destroy(),this.app.broadcast("disable")},enable:function(){this.app.broadcast("clickStart");var e=this.editor.isEmpty();e||this.selection.saveMarkers(),this._setFocus(),this._destroy(),this.app.broadcast("enable"),this.buttonSave.enable(),this.buttonCancel.enable(),e||this.selection.restoreMarkers(),e&&this.editor.focus(),this.container.getElement().addClass("redactor-clicktoedit-enabled"),this.source.rebuildStartedContent(),this.app.broadcast("startcode"),this.app.broadcast("image.observe")},save:function(e){e&&e.preventDefault();var t=this.source.getCode();this.app.broadcast("disable"),this.app.broadcast("clickSave",t),this.app.broadcast("clickStop"),this.app.broadcast("toolbar.removeexternal"),this._build()},cancel:function(e){e&&e.preventDefault();var t=this.saved;this.editor.getElement().html(t),this.saved="",this.app.broadcast("disable"),this.app.broadcast("clickCancel",t),this.app.broadcast("clickStop"),this.app.broadcast("toolbar.removeexternal"),this._build()},_build:function(){this.buttonSave=$R.create("clicktoedit.button","save",this.app,this),this.buttonCancel=$R.create("clicktoedit.button","cancel",this.app,this),this.buttonSave.stop(),this.buttonCancel.stop();var e=this.editor.getElement(),t=this.container.getElement();e.on("click.redactor-click-to-edit mouseup.redactor-click-to-edit",this.enable.bind(this)),t.addClass("redactor-over"),t.removeClass("redactor-clicktoedit-enabled")},_isEnabled:function(){return this.container.getElement().hasClass("redactor-clicktoedit-enabled")},_destroy:function(){var e=this.editor.getElement(),t=this.container.getElement();e.off(".redactor-click-to-edit"),t.removeClass("redactor-over redactor-clicktoedit-enabled")},_setFocus:function(){this.saved=this.source.getCode(),this.buttonSave.start(),this.buttonCancel.start()}}),$R.add("class","clicktoedit.button",{init:function(e,t,a){this.app=t,this.opts=t.opts,this.toolbar=t.toolbar,this.context=a,this.type=e,this.name="save"===e?"clickToSave":"clickToCancel",this.objected=!1,this.enabled=!1,this.namespace=".redactor-click-to-edit",this._build()},enable:function(){if(this.objected){var e=this.opts[this.name];e.api="module.clicktoedit."+this.type,this.toolbar.addButton(this.type,e),this.enabled=!0}},start:function(){this.objected||(this.$button.off(this.namespace),this.$button.show(),this.$button.on("click"+this.namespace,this.context[this.type].bind(this.context)))},stop:function(){!this.objected&&this.enabled&&this.$button.hide()},_build:function(){this.objected="object"===typeof this.opts[this.name],this.objected||(this.$button=$R.dom(this.opts[this.name]),this.enabled=!0)}}),$R.add("module","statusbar",{init:function(e){this.app=e,this.opts=e.opts,this.element=e.element,this.statusbar=e.statusbar,this.container=e.container},start:function(){if(!this.element.isType("inline")){var e=this.statusbar.getElement(),t=this.container.getElement();e.addClass("redactor-statusbar"),t.append(e)}}}),$R.add("module","contextbar",{init:function(e){this.app=e,this.opts=e.opts,this.uuid=e.uuid,this.$win=e.$win,this.$doc=e.$doc,this.$body=e.$body,this.editor=e.editor,this.toolbar=e.toolbar,this.detector=e.detector,this.$target=this.toolbar.isTarget()?this.toolbar.getTargetElement():this.$body},onstop:function(){this.stop()},onenablereadonly:function(){this.stop()},ondisablereadonly:function(){this.start()},oncontextbar:{close:function(){this.close()}},start:function(){if(this.opts.toolbarContext){var e=this.editor.getElement();this._build(),e.on("click.redactor-context mouseup.redactor-context",this.open.bind(this)),this.opts.scrollTarget?$R.dom(this.opts.scrollTarget).on("scroll.redactor-context",this.close.bind(this)):!1!==this.opts.maxHeight&&e.on("scroll.redactor-context",this.close.bind(this))}},stop:function(){this.editor.getElement().off(".redactor-context"),this.$doc.off(".redactor-context"),this.$win.off(".redactor-context"),this.$contextbar&&this.$contextbar.remove(),this.opts.scrollTarget&&$R.dom(this.opts.scrollTarget).off(".redactor-context")},is:function(){return this.$contextbar&&this.$contextbar.hasClass("open")},set:function(e,t,a,n){for(var s in this.$contextbar.html(""),this.$el=$R.dom(t),a){var r=$R.create("contextbar.button",this.app,a[s]);""!==r.html()&&this.$contextbar.append(r)}var o=this._buildPosition(e,this.$el,n);this.$contextbar.css(o),this.$contextbar.show(),this.$contextbar.addClass("open"),this.$doc.on("click.redactor-context mouseup.redactor-context",this.close.bind(this)),this.$win.on("resize.redactor-context",this.close.bind(this))},open:function(e){setTimeout(function(){this.app.broadcast("contextbar",e,this)}.bind(this),0)},close:function(e){if(this.$contextbar){if(e){var t=$R.dom(e.target);if(this.$el&&0!==t.closest(this.$el).length)return}this.$contextbar.hide(),this.$contextbar.removeClass("open"),this.$doc.off(".redactor.context")}},_build:function(){this.$contextbar=$R.dom("<div>"),this.$contextbar.attr("id","redactor-context-toolbar-"+this.uuid),this.$contextbar.attr("dir",this.opts.direction),this.$contextbar.addClass("redactor-context-toolbar"),this.$contextbar.hide(),this.$target.append(this.$contextbar)},_buildPosition:function(e,t,a){var n,s,r=this.toolbar.isTarget(),o=r?t.position():t.offset(),i=t.width(),c=t.height(),_=this.$contextbar.width(),l=this.$contextbar.height(),d=r?this.$target.scrollTop()+this.$doc.scrollTop():this.$doc.scrollTop(),u=this.$target.offset(),p=r?u.left:0,m=r?u.top:0;return a?"top"===a?(n=o.top-l,s=o.left+i/2-_/2):"bottom"===a&&(n=o.top+c,s=o.left+i/2-_/2):(n=e.clientY+d-l,s=e.clientX-_/2),s<0&&(s=0),{top:n-m+"px",left:s-p+"px"}}}),$R.add("class","contextbar.button",{mixins:["dom"],init:function(e,t){this.app=e,this.obj=t,this._init()},_init:function(){if(this.parse("<a>"),"string"!==typeof this.obj.title){var e=this.obj.title.attr("href");this.attr("href",e),-1===e.search(/^#/)&&this.attr("target","_blank"),this.text(this.obj.html||e)}else this.attr("href","#"),this._buildTitle(),this._buildMessage()},_buildTitle:function(){this.html(this.obj.title)},_buildMessage:function(){"undefined"===typeof this.obj.message&&"undefined"===typeof this.obj.api||this.on("click",this._toggle.bind(this))},_toggle:function(e){e.preventDefault(),this.obj.message?this.app.broadcast(this.obj.message,this.obj.args):this.obj.api&&this.app.api(this.obj.api,this.obj.args)}}),$R.add("module","toolbar",{init:function(e){this.app=e,this.uuid=e.uuid,this.opts=e.opts,this.utils=e.utils,this.toolbar=e.toolbar,this.detector=e.detector,this.buttons=[],this.toolbarModule=!1},onsource:{open:function(){!this.toolbar.isAir()&&this.toolbar.isFixed()&&this.toolbarModule.resetPosition()},opened:function(){this.toolbar.isAir()&&this.toolbarModule&&this.toolbarModule.createSourceHelper(),setTimeout(function(){$R.dom(".re-button-tooltip-"+this.uuid).remove()}.bind(this),100)},close:function(){this.toolbar.isAir()&&this.toolbarModule&&this.toolbarModule.destroySourceHelper()},closed:function(){this.toolbar.is()&&this.opts.air&&this.toolbarModule.openSelected()}},ontoolbar:{removeexternal:function(){!this.opts.air&&this.opts.toolbarExternal&&this.opts.clickToEdit&&$R.dom(this.opts.toolbarExternal).html("")}},onobserve:function(){this.toolbar.is()&&this.toolbar.observe()},onfocus:function(){this._setExternalOnFocus()},onsourcefocus:function(){this._setExternalOnFocus()},onempty:function(){this.toolbar.isFixed()&&this.toolbarModule.resetPosition()},onenablereadonly:function(){this.toolbar.isAir()&&this.toolbarModule.close()},start:function(){this.toolbar.is()&&(this._buildButtons(),this._initToolbar(),this._initButtons())},stop:function(){this.toolbarModule&&this.toolbarModule.stop(),$R.dom(".re-button-tooltip-"+this.uuid).remove(),$R.dom(".redactor-dropdown-"+this.uuid).remove()},_buildButtons:function(){this.buttons=this.opts.buttons.concat(),this._buildImageButton(),this._buildFileButton(),this._buildSourceButton(),this._buildAdditionalButtons(),this._buildHiddenButtons()},_buildImageButton:function(){this.opts.imageUpload||this.opts.imageManagerJson||this.utils.removeFromArrayByValue(this.buttons,"image")},_buildFileButton:function(){this.opts.fileUpload||this.utils.removeFromArrayByValue(this.buttons,"file")},_buildSourceButton:function(){this.opts.source||this.utils.removeFromArrayByValue(this.buttons,"html")},_buildAdditionalButtons:function(){var e,t;if(0!==this.opts.buttonsAdd.length&&(this.opts.buttonsAdd=this._removeExistButtons(this.opts.buttonsAdd),this.buttons=this.buttons.concat(this.opts.buttonsAdd)),0!==this.opts.buttonsAddFirst.length&&(this.opts.buttonsAddFirst=this._removeExistButtons(this.opts.buttonsAddFirst),this.buttons.unshift(this.opts.buttonsAddFirst)),!1!==this.opts.buttonsAddAfter){e=this.buttons.indexOf(this.opts.buttonsAddAfter.after)+1,t=this.opts.buttonsAddAfter.buttons;for(var a=0;a<t.length;a++)this.buttons.splice(e+a,0,t[a])}if(!1!==this.opts.buttonsAddBefore){e=this.buttons.indexOf(this.opts.buttonsAddBefore.before)+1,t=this.opts.buttonsAddBefore.buttons;for(a=0;a<t.length;a++)this.buttons.splice(e-(1-a),0,t[a])}},_buildHiddenButtons:function(){if(0!==this.opts.buttonsHide.length)for(var e=this.opts.buttonsHide,t=0;t<e.length;t++)this.utils.removeFromArrayByValue(this.buttons,e[t]);if(this.detector.isMobile()&&0!==this.opts.buttonsHideOnMobile.length)for(e=this.opts.buttonsHideOnMobile,t=0;t<e.length;t++)this.utils.removeFromArrayByValue(this.buttons,e[t])},_removeExistButtons:function(e){for(var t=0;t<e.length;t++)-1!==this.opts.buttons.indexOf(e[t])&&this.utils.removeFromArrayByValue(e,e[t]);return e},_setExternalOnFocus:function(){!this.opts.air&&this.opts.toolbarExternal&&this.toolbarModule.setExternal()},_initToolbar:function(){this.toolbarModule=this.opts.air?$R.create("toolbar.air",this.app):$R.create("toolbar.standard",this.app)},_initButtons:function(){this.toolbar.setButtons(this.buttons);for(var e=0;e<this.buttons.length;e++){var t=this.buttons[e];$R.buttons[t]&&this.toolbar.addButton(t,$R.buttons[t],!1,!1,!0)}}}),$R.add("class","toolbar.air",{init:function(e){this.app=e,this.uuid=e.uuid,this.$doc=e.$doc,this.$win=e.$win,this.utils=e.utils,this.editor=e.editor,this.animate=e.animate,this.toolbar=e.toolbar,this.container=e.container,this.inspector=e.inspector,this.selection=e.selection,this.clicks=0,this._init()},stop:function(){this.toolbar.getWrapper().remove(),this.editor.getElement().off(".redactor-air-trigger-"+this.uuid),this.$doc.off(".redactor-air-"+this.uuid),this.$doc.off(".redactor-air-trigger-"+this.uuid),this.toolbar.stopObservers()},createSourceHelper:function(){this.$airHelper=$R.dom("<span>"),this.$airHelper.addClass("redactor-air-helper"),this.$airHelper.html('<i class="re-icon-html"></i>'),this.$airHelper.on("click",function(e){e.preventDefault(),this.app.api("module.source.hide")}.bind(this)),this.container.getElement().append(this.$airHelper)},destroySourceHelper:function(){this.$airHelper&&this.$airHelper.remove()},openSelected:function(){setTimeout(function(){this._isSelection()&&this._open(!1)}.bind(this),0)},close:function(){this.$doc.off(".redactor-air-"+this.uuid);var e=this.toolbar.getElement();e.removeClass("open"),e.hide()},_init:function(){this.toolbar.create();var e=this.toolbar.getWrapper(),t=this.toolbar.getElement(),a=this.editor.getElement(),n=this.container.getElement();e.addClass("redactor-toolbar-wrapper-air"),t.addClass("redactor-air"),t.hide(),e.append(t),n.prepend(e),this.openSelected(),this.$doc.on("mouseup.redactor-air-trigger-"+this.uuid,this._open.bind(this)),a.on("keyup.redactor-air-trigger-"+this.uuid,this._openCmd.bind(this))},_isSelection:function(){return this.selection.is()&&!this.selection.isCollapsed()},_isOpened:function(){return this.toolbar.getElement().hasClass("open")},_open:function(e){var t=!!e&&e.target,a=!!e&&$R.dom(e.target),n=this.inspector.parse(t),s=n.isComponent()&&!n.isComponentType("table"),r=n.isFigcaption(),o=a&&0!==a.closest(".redactor-modal").length,i=e&&0!==a.closest(".re-button").length;if(!(e&&0!==a.closest(".redactor-dropdown").length||i||o||r||s||this.toolbar.isContextBar())&&this._isSelection()){var c=this.selection.getPosition();setTimeout(function(){this.app.isReadOnly()||this._isSelection()&&this._doOpen(c)}.bind(this),1)}},_openCmd:function(){if(this.selection.isAll()){var e=this.toolbar.getElement(),t=this.selection.getPosition();t.top=t.top<20?0:t.top-e.height(),t.height=0,this._doOpen(t)}},_doOpen:function(e){var t=this.toolbar.getWrapper(),a=this.toolbar.getElement(),n=this.container.getElement().offset(),s=0,r=this.$win.width(),o=a.width();r<e.left+o&&(s=o-this.selection.getPosition().width);t.css({left:e.left-n.left-s+"px",top:e.top-n.top+e.height+this.$doc.scrollTop()+"px"}),this.app.broadcast("airOpen"),a.addClass("open"),a.show(),this.$doc.on("click.redactor-air-"+this.uuid,this._close.bind(this)),this.$doc.on("keydown.redactor-air-"+this.uuid,this._close.bind(this)),this.app.broadcast("airOpened")},_close:function(e){var t=!!e&&$R.dom(e.target),a=e&&0!==t.closest("[data-dropdown], .redactor-dropdown-not-close").length;(!a&&e&&0!==t.closest(".re-button").length||!a&&this._isOpened())&&(this.app.broadcast("airClose"),this.close(),this.app.broadcast("airClosed"))}}),$R.add("class","toolbar.fixed",{init:function(e){this.app=e,this.uuid=e.uuid,this.opts=e.opts,this.$doc=e.$doc,this.$win=e.$win,this.editor=e.editor,this.toolbar=e.toolbar,this.detector=e.detector,this.container=e.container,this._init()},stop:function(){this.$fixedTarget.off(".redactor-toolbar-"+this.uuid),this.$win.off(".redactor-toolbar-"+this.uuid)},reset:function(){var e=this.toolbar.getElement();this.toolbar.getWrapper().css("height",""),e.removeClass("redactor-toolbar-fixed"),e.css({position:"",top:"",left:"",width:""});var t=this.toolbar.getDropdown();t&&t.updatePosition()},_init:function(){this.$fixedTarget=this.toolbar.isTarget()?this.toolbar.getTargetElement():this.$win,this._doFixed(),this.toolbar.isTarget()&&(this.$win.on("scroll.redactor-toolbar-"+this.uuid,this._doFixed.bind(this)),this.$win.on("resize.redactor-toolbar-"+this.uuid,this._doFixed.bind(this))),this.$fixedTarget.on("scroll.redactor-toolbar-"+this.uuid,this._doFixed.bind(this)),this.$fixedTarget.on("resize.redactor-toolbar-"+this.uuid,this._doFixed.bind(this))},_doFixed:function(){var e=this.editor.getElement(),t=this.container.getElement(),a=this.toolbar.getElement(),n=this.toolbar.getWrapper();if(!this.editor.isSourceMode()&&0===t.parents().filter((function(e){return"none"===getComputedStyle(e,null).display&&e})).length){var s=e.height()<100,r=this.editor.isEmpty();if(s||r)this.reset();else if(!this.editor.isSourceMode()){var o=a.height(),i=(this.toolbar.isTarget()?t.position():t.offset()).top,c=i+t.height()-60,_=this.$fixedTarget.scrollTop()+this.opts.toolbarFixedTopOffset,l=this.toolbar.isTarget()?this.$fixedTarget.offset().top-this.$win.scrollTop():0;if(this.toolbar.isTarget()&&"fixed"===this.$fixedTarget.css("position")){var d=this.$fixedTarget.hasClass("modal")&&this.$fixedTarget.hasClass("fade")?t.closest(".modal-dialog").position().top:0;l=this.$fixedTarget.scrollTop()-d}if(_>i&&_<c){var u=this.detector.isDesktop()?"fixed":"absolute";l=this.detector.isDesktop()?l:_-i,this.detector.isMobile()&&(this.fixedScrollTimeout&&clearTimeout(this.fixedScrollTimeout),a.hide(),this.fixedScrollTimeout=setTimeout((function(){a.show()}),250)),n.height(o),a.addClass("redactor-toolbar-fixed"),t.hasClass("redactor-box-fullscreen")?a.css({position:u,top:"0px",width:t.width()+"px"}):a.css({position:u,top:l+this.opts.toolbarFixedTopOffset+"px",width:t.width()+"px"});var p=this.toolbar.getDropdown();p&&p.updatePosition(),this.app.broadcast("toolbar.fixed")}else this.reset(),this.app.broadcast("toolbar.unfixed")}}}}),$R.add("class","toolbar.standard",{init:function(e){this.app=e,this.opts=e.opts,this.uuid=e.uuid,this.$body=e.$body,this.toolbar=e.toolbar,this.container=e.container,this.isExternalMultiple=!1,this.toolbarFixed=!1,this._init()},stop:function(){this.toolbar.getWrapper().remove(),this.toolbarFixed&&this.toolbarFixed.stop(),this.opts.toolbarExternal&&this._findToolbars(),this.toolbar.stopObservers(),this.$body.find(".re-button-tooltip-"+this.uuid).remove()},setExternal:function(){(this._findToolbars(),this.isExternalMultiple)&&(this.$toolbars.hide(),this.$external.find(".redactor-toolbar-external-"+this.uuid).show())},resetPosition:function(){this.toolbarFixed&&this.toolbarFixed.reset()},_init:function(){(this._build(),this.opts.toolbarExternal)?this._buildExternal():(this._buildFixed(),this.toolbar.getElement().show())},_build:function(){this.toolbar.create();var e=this.toolbar.getWrapper(),t=this.toolbar.getElement();(e.addClass("redactor-toolbar-wrapper"),t.addClass("redactor-toolbar"),t.hide(),e.append(t),this.opts.toolbarExternal)||this.container.getElement().prepend(e)},_buildExternal:function(){(this._initExternal(),this._findToolbars(),this.isExternalMultiple)?this._hideToolbarsExceptFirst():this.toolbar.getElement().show()},_buildFixed:function(){this.opts.toolbarFixed&&(this.toolbarFixed=$R.create("toolbar.fixed",this.app))},_initExternal:function(){var e=this.toolbar.getElement(),t=this.toolbar.getElement();e.addClass("redactor-toolbar-external redactor-toolbar-external-"+this.uuid),this.$external=$R.dom(this.opts.toolbarExternal),this.$external.append(t)},_findToolbars:function(){this.$toolbars=this.$external.find(".redactor-toolbar-external"),this.isExternalMultiple=this.$toolbars.length>1},_hideToolbarsExceptFirst:function(){this.$toolbars.hide(),this.$toolbars.first().show()}}),$R.add("module","line",{init:function(e){this.app=e,this.lang=e.lang,this.component=e.component,this.inspector=e.inspector,this.insertion=e.insertion},oncontextbar:function(e,t){var a=this.inspector.parse(e.target);if(a.isComponentType("line")){var n=a.getComponent(),s={remove:{title:this.lang.get("delete"),api:"module.line.remove",args:n}};t.set(e,n,s,"bottom")}},insert:function(){var e=this.component.create("line");this.insertion.insertRaw(e)},remove:function(e){this.component.remove(e)}}),$R.add("class","line.component",{mixins:["dom","component"],init:function(e,t){return this.app=e,t&&void 0!==t.cmnt?t:this._init(t)},_init:function(e){var t,a;if("undefined"!==typeof e){var n=$R.dom(e),s=n.get();"HR"===s.tagName?a=s:"FIGURE"===s.tagName&&(t=s,a=n.find("hr").get())}this._buildWrapper(t),this._buildElement(a),this._initWrapper()},_buildElement:function(e){e?this.$element=$R.dom(e):(this.$element=$R.dom("<hr>"),this.append(this.$element))},_buildWrapper:function(e){e=e||"<figure>",this.parse(e)},_initWrapper:function(){this.addClass("redactor-component"),this.attr({"data-redactor-type":"line",tabindex:"-1",contenteditable:!1})}}),$R.add("module","link",{modals:{link:'<form action="">                 <div class="form-item">                     <label for="modal-link-url">URL <span class="req">*</span></label>                     <input type="text" id="modal-link-url" name="url">                 </div>                 <div class="form-item">                     <label for="modal-link-text">## text ##</label>                     <input type="text" id="modal-link-text" name="text">                 </div>                 <div class="form-item form-item-title">                     <label for="modal-link-title">## title ##</label>                     <input type="text" id="modal-link-title" name="title">                 </div>                 <div class="form-item form-item-target">                     <label class="checkbox">                         <input type="checkbox" name="target"> ## link-in-new-tab ##                     </label>                 </div>             </form>'},init:function(e){this.app=e,this.opts=e.opts,this.lang=e.lang,this.caret=e.caret,this.utils=e.utils,this.inline=e.inline,this.editor=e.editor,this.inspector=e.inspector,this.insertion=e.insertion,this.selection=e.selection,this.isCurrentLink=!1,this.currentText=!1},onmodal:{link:{open:function(e,t){this._setFormData(t,e)},opened:function(e,t){this._setFormFocus(t)},update:function(e,t){var a=t.getData();this._validateData(t,a)&&this._update(a)},insert:function(e,t){var a=t.getData();this._validateData(t,a)&&this._insert(a)},unlink:function(){this._unlink()}}},onbutton:{link:{observe:function(e){this._observeButton(e)}}},ondropdown:{link:{observe:function(e){this._observeUnlink(e),this._observeEdit(e)}}},oncontextbar:function(e,t){var a=this._getCurrent(),n=this.inspector.parse(a);if(n.isLink()||n.isFile()){var s=n.isFile()?n.getFile():n.getLink(),r=$R.dom(s),o=$R.dom("<a>"),i=r.attr("href");o.text(this._truncateText(i)),o.attr("href",i),o.attr("target","_blank");var c={link:{title:o,html:this._truncateText(i)},edit:{title:this.lang.get("edit"),api:"module.link.open"},unlink:{title:this.lang.get("unlink"),api:"module.link.unlink"}};t.set(e,s,c,"bottom")}},open:function(){this.$link=this._buildCurrent(),this.app.api("module.modal.build",this._getModalData())},insert:function(e){this._insert(e)},update:function(e){this._update(e)},unlink:function(){this._unlink()},_observeButton:function(e){var t=this.selection.getCurrent(),a=this.inspector.parse(t);a.isPre()||a.isCode()?e.disable():e.enable()},_observeUnlink:function(e){var t=e.getItem("unlink");0===this._getLinks().length?t.disable():t.enable()},_observeEdit:function(e){var t=this._getCurrent(),a=e.getItem("link"),n=this.inspector.parse(t),s=n.isLink()||n.isFile()?this.lang.get("link-edit"):this.lang.get("link-insert");a.setTitle(s)},_unlink:function(){this.app.api("module.modal.close");var e=[],t=this._getLinks();this.selection.save();for(var a=0;a<t.length;a++){var n=$R.create("link.component",this.app,t[a]);e.push(this.selection.getElement(t[a])),n.unwrap(),this.app.broadcast("link.deleted",n)}this.selection.restore();for(a=0;a<e.length;a++){var s=e[a]?e[a]:this.editor.getElement();this.utils.normalizeTextNodes(s)}this._resetCurrent()},_update:function(e){this.app.api("module.modal.close");var t=this._getLinks();this._setLinkData(t,e,"updated"),this._resetCurrent(),this.app.broadcast("link.changed",t)},_insert:function(e){this.app.api("module.modal.close");var t=this._getLinks();this._insertSingle(t,e)||(this._removeInSelection(t),this._insertMultiple(e)),this._resetCurrent()},_removeInSelection:function(e){this.selection.save();for(var t=0;t<e.length;t++){var a=$R.create("link.component",this.app,e[t]),n=a.clone();a.unwrap(),this.app.broadcast("link.deleted",n)}this.selection.restore()},_insertMultiple:function(e){var t=this.selection.getRange();t&&this._isCurrentTextChanged(e)&&this._deleteContents(t);var a=this.inline.format({tag:"a"});this._setLinkData(a,e,"inserted")},_insertSingle:function(e,t){var a=this.selection.getInline();if(1===e.length&&(e[0].textContext===this.selection.getText()||a&&"A"===a.tagName)){var n=$R.create("link.component",this.app,e[0]);return n.setData(t),this.caret.setAfter(n),this.app.broadcast("link.inserted",n),!0}return!1},_setLinkData:function(e,t,a){t.text=""===t.text.trim()?this._truncateText(t.url):t.text;var n=!this.currentText||this.currentText!==t.text;this.selection.save();for(var s=0;s<e.length;s++){var r=$R.create("link.component",this.app,e[s]),o={};t.text&&n&&(o.text=t.text),t.url&&(o.url=t.url),void 0!==t.title&&(o.title=t.title),void 0!==t.target&&(o.target=t.target),r.setData(o),this.app.broadcast("link."+a,r)}setTimeout(this.selection.restore.bind(this.selection),0)},_deleteContents:function(e){var t=this.selection.getHtml(),a=this.utils.parseHtml(t).nodes[0];if(a&&3!==a.nodeType){var n=a.tagName.toLowerCase(),s=document.createElement(n);this.insertion.insertNode(s,"start")}else e.deleteContents()},_getModalData:function(){var e;return e=this._isLink()?{update:{title:this.lang.get("save")},unlink:{title:this.lang.get("unlink"),type:"danger"},cancel:{title:this.lang.get("cancel")}}:{insert:{title:this.lang.get("insert")},cancel:{title:this.lang.get("cancel")}},{name:"link",title:this._isLink()?this.lang.get("link-edit"):this.lang.get("link-insert"),handle:this._isLink()?"update":"insert",commands:e}},_isLink:function(){return this.currentLink},_isCurrentTextChanged:function(e){return this.currentText&&this.currentText!==e.text},_buildCurrent:function(){var e,t=this._getCurrent(),a=this.inspector.parse(t);if(a.isLink()||a.isFile())this.currentLink=!0,e=a.isFile()?a.getFile():a.getLink(),e=$R.create("link.component",this.app,e);else{this.currentLink=!1,e=$R.create("link.component",this.app);var n={text:this.selection.getText()};e.setData(n)}return e},_getCurrent:function(){return this.selection.getInlinesAllSelected({tags:["a"]})[0]},_getLinks:function(){for(var e=this.selection.getInlines({all:!0,tags:["a"]}),t=[],a=0;a<e.length;a++){var n=this.inspector.parse(e[a]);(n.isLink()||n.isFile())&&t.push(e[a])}return t},_resetCurrent:function(){this.isCurrentLink=!1,this.currentText=!1},_truncateText:function(e){return e&&e.length>this.opts.linkSize?e.substring(0,this.opts.linkSize)+"...":e},_validateData:function(e,t){return""!==t.url.trim()||e.setError("url")},_setFormFocus:function(e){e.getField("url").focus()},_setFormData:function(e,t){var a=this.$link.getData(),n={url:a.url,text:a.text,title:a.title,target:this.opts.linkTarget||a.target};this.opts.linkNewTab||t.find(".form-item-target").hide(),this.opts.linkTitle||t.find(".form-item-title").hide(),e.setData(n),this.currentText=e.getField("text").val()}}),$R.add("class","link.component",{mixins:["dom","component"],init:function(e,t){return this.app=e,this.opts=e.opts,this.reUrl=/^(?:(?:(?:https?|ftp):)?\/\/)?(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i,t&&void 0!==t.cmnt?t:this._init(t)},setData:function(e){for(var t in e)this._set(t,e[t])},getData:function(){for(var e=["url","text","target","title"],t={},a=0;a<e.length;a++)t[e[a]]=this._get(e[a]);return t},_init:function(e){var t=$R.dom(e);void 0===e?this.parse("<a>"):this.parse(t)},_set:function(e,t){this["_set_"+e](t)},_get:function(e){return this["_get_"+e]()},_get_target:function(){return!!this.attr("target")&&this.attr("target")},_get_url:function(){return this.attr("href")},_get_title:function(){return this.attr("title")},_get_text:function(){return this._getContext().text()},_getContext:function(){return this._findDeepestChild(this).element},_set_target:function(e){!1===e?this.removeAttr("target"):e&&this.attr("target",!0===e?"_blank":e)},_set_text:function(e){this._getContext().html(e)},_set_title:function(e){e&&""!==e?this.attr("title",e):this.removeAttr("title")},_set_url:function(e){this.opts.linkValidation&&(e=this._cleanUrl(e),this._isMailto(e)?e="mailto:"+e.replace("mailto:",""):this._isUrl(e)&&-1===e.search(/^(ftp|https?)/i)&&(e="http://"+e.replace(/(ftp|https?):\/\//i,""))),this.attr("href",e)},_isMailto:function(e){return-1!==e.search("@")&&!1===/(ftp|https?):\/\//i.test(e)},_isUrl:function(e){return this.reUrl.test(e)},_cleanUrl:function(e){return(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")).trim().replace(/[^\W\w\D\d+&\'@#/%?=~_|!:,.;\(\)]/gi,"")},_findDeepestChild:function(e){var t={depth:0,element:e};return e.children().each(function(a){var n=$R.dom(a);if(a.outerHTML===e.html()){var s=this._findDeepestChild(n);s.depth+1>t.depth&&(t={depth:1+s.depth,element:s.element})}}.bind(this)),t}}),$R.add("module","modal",{init:function(e){this.app=e,this.uuid=e.uuid,this.lang=e.lang,this.$doc=e.$doc,this.$win=e.$win,this.$body=e.$body,this.utils=e.utils,this.editor=e.editor,this.animate=e.animate,this.detector=e.detector,this.selection=e.selection,this.$box=!1,this.$modal=!1,this.selectionMarkers=!1,this.defaults={name:!1,url:!1,title:!1,width:"600px",height:!1,handle:!1,commands:!1}},build:function(e){this._open(e)},close:function(){this._close()},onstop:function(){this.$body.find("#redactor-modal-"+this.uuid).remove(),this.$body.find("#redactor-overlay-"+this.uuid).remove()},stop:function(){this.$box&&(this.$box.remove(),this.$box=!1,this.$modal=!1),this.$overlay&&this.$overlay.remove(),this.$doc.off(".redactor.modal"),this.$win.off(".redactor.modal")},resize:function(){this.$modal.setWidth(this.p.width),this.$modal.updatePosition()},_isOpened:function(){return this.$modal&&this.$modal.hasClass("open")},_open:function(e){this._buildDefaults(e),this.p.url?this._openUrl():this._openTemplate()},_openUrl:function(){$R.ajax.post({url:this.p.url,success:this._doOpen.bind(this)})},_openTemplate:function(){if("undefined"!==typeof $R.modals[this.p.name]){var e=this.lang.parse($R.modals[this.p.name]);this._doOpen(e)}},_doOpen:function(e){this.stop(),this.selection.isCollapsed()?(this.selection.save(),this.selectionMarkers=!1):(this.selection.saveMarkers(),this.selectionMarkers=!0),this.detector.isDesktop()||document.activeElement.blur(),this._createModal(e),this._buildModalBox(),this._buildOverlay(),this._buildModal(),this._buildModalForm(),this._buildModalCommands(),this._broadcast("open"),this.$modal.updatePosition(),this._buildModalTabs(),this.animate.start(this.$box,"fadeIn",this._opened.bind(this)),this.animate.start(this.$overlay,"fadeIn")},_opened:function(){this.$modal.addClass("open"),this.$box.on("mousedown.redactor.modal",this._close.bind(this)),this.$doc.on("keyup.redactor.modal",this._handleEscape.bind(this)),this.$win.on("resize.redactor.modal",this.resize.bind(this)),this.$modal.getBody().find("input[type=text],input[type=url],input[type=email]").on("keydown.redactor.modal",this._handleEnter.bind(this)),window.jQuery&&jQuery(document).off("focusin.modal"),this._broadcast("opened")},_close:function(e){if(this.$box&&this._isOpened()){if(e){if(!this._needToClose(e.target))return;e.stopPropagation(),e.preventDefault()}this.selectionMarkers?this.selection.restoreMarkers():this.selection.restore(),this.selectionMarkers=!1,this._broadcast("close"),this.animate.start(this.$box,"fadeOut",this._closed.bind(this)),this.animate.start(this.$overlay,"fadeOut")}},_closed:function(){this.$modal.removeClass("open"),this.$box.off(".redactor.modal"),this.$doc.off(".redactor.modal"),this.$win.off(".redactor.modal"),this._broadcast("closed")},_createModal:function(e){this.$modal=$R.create("modal.element",this.app,e)},_broadcast:function(e){this.app.broadcast("modal."+e,this.$modal,this.$modalForm),this.app.broadcast("modal."+this.p.name+"."+e,this.$modal,this.$modalForm)},_buildDefaults:function(e){this.p=$R.extend({},this.defaults,e)},_buildModalBox:function(){this.$box=$R.dom("<div>"),this.$box.attr("id","redactor-modal-"+this.uuid),this.$box.addClass("redactor-modal-box redactor-animate-hide"),this.$box.html(""),this.$body.append(this.$box)},_buildOverlay:function(){this.$overlay=$R.dom("#redactor-overlay-"+this.uuid),0===this.$overlay.length&&(this.$overlay=$R.dom("<div>"),this.$overlay.attr("id","redactor-overlay-"+this.uuid),this.$overlay.addClass("redactor-overlay redactor-animate-hide"),this.$body.prepend(this.$overlay))},_buildModal:function(){this.$box.append(this.$modal),this.$modal.setTitle(this.p.title),this.$modal.setHeight(this.p.height),this.$modal.setWidth(this.p.width)},_buildModalCommands:function(){if(this.p.commands){var e=this.p.commands,t=this.$modal.getFooter();for(var a in e){var n=$R.dom("<button>");n.html(e[a].title),n.attr("data-command",a),"cancel"===a&&(n.attr("data-action","close"),n.addClass("redactor-button-unstyled")),"undefined"!==typeof e[a].type&&"danger"===e[a].type&&n.addClass("redactor-button-danger"),n.on("click",this._handleCommand.bind(this)),t.append(n)}}},_buildModalTabs:function(){var e=this.$modal.getBody(),t=e.find(".redactor-modal-tab"),a=e.find(".redactor-modal-tabs");t.length>1&&((a=0===a.length?$R.dom("<div>"):a.html("")).addClass("redactor-modal-tabs"),t.each(function(e,t){var n=$R.dom(e),s=$R.dom("<a>");s.attr("href","#"),s.attr("rel",t),s.text(n.attr("data-title")),s.on("click",this._showTab.bind(this)),0===t&&s.addClass("active"),a.append(s)}.bind(this)),e.prepend(a)),1===t.length&&t.show()},_buildModalForm:function(){this.$modalForm=$R.create("modal.form",this.app,this.$modal.getForm())},_showTab:function(e){e.preventDefault();var t=$R.dom(e.target),a=t.attr("rel"),n=this.$modal.getBody(),s=n.find(".redactor-modal-tab");s.hide(),s.eq(a).show(),n.find(".redactor-modal-tabs a").removeClass("active"),t.addClass("active")},_needToClose:function(e){var t=$R.dom(e);return!("close"!==t.attr("data-action")&&!this.$modal.isCloseNode(e)&&0!==t.closest(".redactor-modal").length)},_handleCommand:function(e){var t=$R.dom(e.target).closest("button").attr("data-command");"cancel"!==t&&e.preventDefault(),this._broadcast(t)},_handleEnter:function(e){13===e.which&&this.p.handle&&(e.preventDefault(),this._broadcast(this.p.handle))},_handleEscape:function(e){27===e.which&&this._close()}}),$R.add("class","modal.element",{mixins:["dom"],init:function(e,t){this.app=e,this.opts=e.opts,this.$win=e.$win,this._init(t)},getForm:function(){return this.find("form")},getHeader:function(){return this.$modalHeader},getBody:function(){return this.$modalBody},getFooter:function(){return this.$modalFooter},setTitle:function(e){e&&this.$modalHeader.html(e)},setWidth:function(e){e=parseInt(e)>=this.$win.width()?"96%":e,this.css("max-width",e)},setHeight:function(e){!1!==e&&this.$modalBody.css("height",e)},updatePosition:function(){var e=this.width();this.css({left:"50%","margin-left":"-"+e/2+"px"});var t=this.$win.height(),a=this.height(),n=t/2-a/2;a<t&&0!==n&&this.css("margin-top",n+"px")},isCloseNode:function(e){return e===this.$modalClose.get()},_init:function(e){this._build(),this._buildClose(),this._buildHeader(),this._buildBody(),this._buildFooter(),this._buildTemplate(e)},_build:function(){this.parse("<div>"),this.addClass("redactor-modal"),this.attr("dir",this.opts.direction)},_buildClose:function(){this.$modalClose=$R.dom("<span>"),this.$modalClose.addClass("redactor-close"),this.append(this.$modalClose)},_buildHeader:function(){this.$modalHeader=$R.dom("<div>"),this.$modalHeader.addClass("redactor-modal-header"),this.append(this.$modalHeader)},_buildBody:function(){this.$modalBody=$R.dom("<div>"),this.$modalBody.addClass("redactor-modal-body"),this.append(this.$modalBody)},_buildFooter:function(){this.$modalFooter=$R.dom("<div>"),this.$modalFooter.addClass("redactor-modal-footer"),this.append(this.$modalFooter)},_buildTemplate:function(e){this.$modalBody.html(e)}}),$R.add("class","modal.form",{mixins:["dom"],init:function(e,t){this.app=e,this.build(t)},build:function(e){this.parse(e)},getData:function(){var e={};return this.find("[name]").each((function(t){var a=$R.dom(t);e[a.attr("name")]=a.val()})),e},setData:function(e){this.find("[name]").each((function(t){var a=$R.dom(t),n=a.attr("name");e.hasOwnProperty(n)&&(t.type&&"checkbox"===t.type?t.checked=e[n]:a.val(e[n]))}))},getField:function(e){return this.find("[name="+e+"]")},setError:function(e){var t=this.getField(e);return t.addClass("error"),t.one(this._getFieldEventName(t.get()),this._clearError),!1},_clearError:function(){return $R.dom(this).removeClass("error")},_getFieldEventName:function(e){return"SELECT"===e.tagName||"checkbox"===e.type||"radio"===e.type?"change":"keyup"}}),$R.add("module","block",{init:function(e){this.app=e,this.block=e.block},format:function(e){var t=this.block.format(e);this.app.broadcast("format","block",t)},clearformat:function(){this.block.clearFormat()},clearstyle:function(){this.block.clearStyle()},clearclass:function(){this.block.clearClass()},clearattr:function(){this.block.clearAttr()},add:function(e,t){this.block.add(e,t)},toggle:function(e,t){this.block.toggle(e,t)},set:function(e,t){this.block.set(e,t)},remove:function(e,t){this.block.remove(e,t)}}),$R.add("module","inline",{init:function(e){this.app=e,this.inline=e.inline},format:function(e){var t=this.inline.format(e);this.app.broadcast("format","inline",t)},clearformat:function(){this.inline.clearFormat()},clearstyle:function(){this.inline.clearStyle()},clearclass:function(){this.inline.clearClass()},clearattr:function(){this.inline.clearAttr()},add:function(e,t){this.inline.add(e,t)},toggle:function(e,t){this.inline.toggle(e,t)},set:function(e,t){this.inline.set(e,t)},remove:function(e,t){this.inline.remove(e,t)}}),$R.add("module","autosave",{init:function(e){this.app=e,this.opts=e.opts,this.utils=e.utils,this.source=e.source},onsynced:function(){this.opts.autosave&&this._send()},_send:function(){var e=this.opts.autosaveName?this.opts.autosaveName:this.source.getName(),t={};t[e]=this.source.getCode(),t=this.utils.extendData(t,this.opts.autosaveData),$R.ajax.post({url:this.opts.autosave,data:t,success:function(a){this._complete(a,e,t)}.bind(this)})},_complete:function(e,t,a){var n=e&&e.error?"autosaveError":"autosave";this.app.broadcast(n,t,a,e)}}),$R.add("module","input",{init:function(e){this.app=e,this.opts=e.opts,this.utils=e.utils,this.editor=e.editor,this.keycodes=e.keycodes,this.element=e.element,this.selection=e.selection,this.insertion=e.insertion,this.inspector=e.inspector,this.autoparser=e.autoparser,this.lastShiftKey=!1},onpaste:function(e,t){if(this.opts.input)return $R.create("input.paste",this.app,e,t)},onkeydown:function(e){if(this.opts.input){var t=e.which;if(!$R.create("input.shortcut",this.app,e).is()){if((e.ctrlKey||e.metaKey)&&!e.altKey&&65===t)return e.preventDefault(),this._selectAll();var a=[this.keycodes.ENTER,this.keycodes.SPACE,this.keycodes.BACKSPACE,this.keycodes.DELETE],n=[this.keycodes.UP,this.keycodes.DOWN,this.keycodes.LEFT,this.keycodes.RIGHT],s=-1!==a.indexOf(t),r=-1!==n.indexOf(t),o=(e.ctrlKey||e.metaKey)&&88===t,i=!e.ctrlKey&&!e.metaKey&&(t>=48&&t<=57||t>=65&&t<=90);if(this.selection.isAll()&&r&&(o||!e.ctrlKey&&!e.metaKey&&!e.altKey&&!e.shiftKey)){if(o)return this.editor.disableNonEditables(),void this.app.broadcast("empty");if(this._isArrowKey(t))return!0;if(s&&e.preventDefault(),this.element.isType("inline"))this.editor.getElement().html(""),this.editor.startFocus();else this.insertion.set(this.opts.emptyHtml);if(s)return;this.app.broadcast("empty")}if(this.opts.autoparse&&this.autoparser.format(e,t),!i||!this.selection.hasNonEditable())return t===this.keycodes.ENTER?$R.create("input.enter",this.app,e,t):e.metaKey&&219===t?(e.preventDefault(),void this.app.api("module.list.outdent")):t===this.keycodes.TAB||e.metaKey&&221===t?$R.create("input.tab",this.app,e,t):t===this.keycodes.SPACE?$R.create("input.space",this.app,e,t,this.lastShiftKey):this._isDeleteKey(t)?$R.create("input.delete",this.app,e,t):this._isArrowKey(t)?$R.create("input.arrow",this.app,e,t):void 0;e.preventDefault()}}},onkeyup:function(e){if(this.opts.input){var t=e.which;if(this.lastShiftKey=e.shiftKey,this.app.broadcast("contextbar.close"),!$R.create("input.shortcode",this.app,e,t).is()){if(t===this.keycodes.BACKSPACE){var a=this.editor.getElement(),n=this.utils.trimSpaces(a.html());if(""===(n=(n=n.replace(/<br\s?\/?>/g,"")).replace(/<div><\/div>/,"")))return e.preventDefault(),this.editor.setEmpty(),void this.editor.startFocus()}this.editor.isEmpty()&&this.app.broadcast("empty")}}},start:function(){this.opts.shortcutsAdd&&(this.opts.shortcuts=$R.extend({},!0,this.opts.shortcuts,this.opts.shortcutsAdd))},_selectAll:function(){var e,t=this.selection.getCurrent(),a=this.inspector.parse(t);return a.isComponentType("table")?(e=a.getTable(),void this.selection.setAll(e)):a.isComponentType("code")?(e=a.getComponentCodeElement(),void this.selection.setAll(e)):void this.selection.setAll()},_isArrowKey:function(e){return-1!==[this.keycodes.UP,this.keycodes.DOWN,this.keycodes.RIGHT,this.keycodes.LEFT].indexOf(e)},_isDeleteKey:function(e){return e===this.keycodes.BACKSPACE||e===this.keycodes.DELETE}}),$R.add("class","input.arrow",{init:function(e,t,a){this.app=e,this.opts=e.opts,this.utils=e.utils,this.caret=e.caret,this.offset=e.offset,this.marker=e.marker,this.editor=e.editor,this.keycodes=e.keycodes,this.component=e.component,this.inspector=e.inspector,this.selection=e.selection,this.key=a,this._init(t)},_init:function(e){if(!this._isRightLeftKey()||!this._isExitVariable(e)){if(this._isRightDownKey()){if(this._isExitOnDownRight(e))return;if(this._selectComponent(e,"End","next"))return}if(this._isLeftUpKey()){if(this._isExitOnUpLeft(e))return;if(this._selectComponent(e,"Start","prev"))return}this.key===this.keycodes.LEFT?this.utils.trimInvisibleChars("left"):this.key===this.keycodes.RIGHT&&this.utils.trimInvisibleChars("right")}},_isRightDownKey:function(){return-1!==[this.keycodes.DOWN,this.keycodes.RIGHT].indexOf(this.key)},_isLeftUpKey:function(){return-1!==[this.keycodes.UP,this.keycodes.LEFT].indexOf(this.key)},_isRightLeftKey:function(){return-1!==[this.keycodes.RIGHT,this.keycodes.LEFT].indexOf(this.key)},_isExitVariable:function(e){var t=this.selection.getCurrent(),a=this.inspector.parse(t),n=a.getComponent();if(a.isComponentType("variable")&&a.isComponentActive()){e.preventDefault();var s=this.key===this.keycodes.LEFT?"setBefore":"setAfter";this.caret[s](n)}else;},_isExitOnUpLeft:function(e){var t=this.selection.getCurrent(),a=this.selection.getBlock(t),n=this.inspector.parse(t),s=a.previousElementSibling,r=this.caret.isStart(a);if(r&&s&&"TABLE"===s.tagName)return e.preventDefault(),this.caret.setEnd(s),!0;if(n.isFigcaption()){a=n.getFigcaption(),r=this.caret.isStart(a);var o=$R.dom(a).closest(".redactor-component");if(r&&0!==o.length)return e.preventDefault(),this.caret.setEnd(o),!0}else{if(n.isTable()&&r)return e.preventDefault(),this.caret.setEnd(a.previousElementSibling),!0;if(!n.isComponentEditable()&&n.isComponent()&&!n.isComponentType("variable")){var i=n.getComponent();if(!i.previousElementSibling)return e.preventDefault(),this.component.clearActive(),this._exitPrevElement(e,n.getComponent());if(i.previousElementSibling)return e.preventDefault(),this.component.clearActive(),this.caret.setEnd(i.previousElementSibling),!0}}},_isExitOnDownRight:function(e){var t,a,n=this.editor.getElement(),s=this.selection.getCurrent(),r=this.inspector.parse(s),o=this.caret.isEnd();if(r.isTable()){if(t=r.getTable(),(a=this.caret.isEnd(t))||o)return this._exitNextElement(e,r.getComponent())}else if(r.isFigcaption()){if(t=r.getFigcaption(),(a=this.caret.isEnd(t))||o)return this._exitNextElement(e,r.getComponent())}else if(r.isComponentType("code")){var i=r.getComponent(),c=$R.dom(r.getComponentCodeElement()).closest("pre");a=this.caret.isEnd(t);var _=c&&c.get().nextElementSibling;if(a&&!_)return this._exitNextElement(e,i)}else if(r.isPre()||r.isBlockquote()||r.isDl()){if(o){if(r.isPre())return this._exitNextElement(e,r.getPre());if(r.isBlockquote())return this._exitNextElement(e,r.getBlockquote());if(r.isDl())return this._exitNextElement(e,r.getDl())}}else if(r.isList()){var l=$R.dom(s).parents("ul, ol",n).last();if((a=this.caret.isEnd(l))||o)return this._exitNextElement(e,l.get())}else if(r.isComponent()&&!r.isComponentType("variable")&&"span"!==r.getTag())return this.component.clearActive(),this._exitNextElement(e,r.getComponent())},_exitPrevElement:function(e,t){return e.preventDefault(),t.previousElementSibling?this.caret.setEnd(t.previousElementSibling):this.utils.createMarkupBefore(t),!0},_exitNextElement:function(e,t){return e.preventDefault(),t.nextElementSibling?this.caret.setStart(t.nextElementSibling):this.utils.createMarkup(t),!0},_selectComponent:function(e,t,a){var n=this.selection.getCurrent(),s=this.selection.getBlock(n),r=this.utils.findSiblings(n,a),o=this.utils.findSiblings(s,a);r&&this.caret["is"+t](n)?this._selectComponentItem(e,r,t):o&&this.caret["is"+t](s)&&this._selectComponentItem(e,o,t)},_selectComponentItem:function(e,t,a){if(this.component.isNonEditable(t))return e.preventDefault(),this.caret["set"+a](t),!0}}),$R.add("class","input.delete",{init:function(e,t,a){this.app=e,this.opts=e.opts,this.caret=e.caret,this.utils=e.utils,this.editor=e.editor,this.marker=e.marker,this.keycodes=e.keycodes,this.component=e.component,this.inspector=e.inspector,this.selection=e.selection,this.insertion=e.insertion,this.key=a,this._init(t)},_init:function(e){if(!this._removeActiveComponent(e)&&!this._removeAllSelectedTable(e)){if(this.key===this.keycodes.BACKSPACE){var t=this.editor.getElement();if(this.utils.trimSpaces(t.html())===this.opts.emptyHtml)return void e.preventDefault()}if(this._detectVariableOrNonEditable()||this.selection.hasNonEditable())e.preventDefault();else{if(this.selection.isAll())return e.preventDefault(),void this.insertion.set(this.opts.emptyHtml);this.selection.isCollapsed()&&(this.key===this.keycodes.BACKSPACE?this._traverseBackspace(e):this.key===this.keycodes.DELETE&&this._traverseDelete(e)),this.key===this.keycodes.BACKSPACE&&this.utils.trimInvisibleChars("left"),this._removeUnwantedStyles(),this._removeEmptySpans(),this._removeSpanTagsInHeadings(),this._removeInlineTagsInPre()}}},_detectVariableOrNonEditable:function(){var e,t=this.selection.getBlock(),a=this.caret.isStart(t),n=this.caret.isEnd(t);if(this.key===this.keycodes.BACKSPACE&&a){if(e=t.previousSibling,this._isNonEditable(e))return!0}else if(this.key===this.keycodes.DELETE&&n&&(e=t.nextSibling,this._isNonEditable(e)))return!0;var s=this.selection.getCurrent(),r=this.caret.isStart(s),o=this.caret.isEnd(s),i=""===this.selection.getTextBeforeCaret().trim(),c=""===this.selection.getTextAfterCaret().trim();if(this.key===this.keycodes.BACKSPACE&&r&&!i){if(e=s.previousSibling,this._isVariable(e))return this.caret.setEnd(e),!0;if(this._isNonEditable(e))return!0}else if(this.key===this.keycodes.DELETE&&o&&!c){if(e=s.nextSibling,this._isVariable(e))return this.caret.setStart(e),!0;if(this._isNonEditable(e))return!0}},_isVariable:function(e){return 0!==$R.dom(e).closest('[data-redactor-type="variable"]').length},_isNonEditable:function(e){return 0!==$R.dom(e).closest(".non-editable").length},_getBlock:function(){var e=this.editor.getElement(),t=this.selection.getBlock(),a=this.inspector.parse(t);return t=a.isList()?$R.dom(t).parents("ul, ol",e).last().get():t,t=a.isDl()?a.getDl():t,t=a.isTable()?a.getTable():t},_traverseDelete:function(e){var t,a,n,s=this.selection.getCurrent(),r=this.inspector.parse(s);if(r.isFigcaption()){if(t=r.getFigcaption(),a=this.caret.isEnd(t))return void e.preventDefault()}else if(r.isComponentType("code")&&(t=r.getComponent(),a=this.caret.isEnd(t)))return void e.preventDefault();t=this._getBlock();var o=this.utils.findSiblings(t,"next");if(o){a=this.caret.isEnd(t);var i=this.inspector.parse(o),c="P"===o.tagName||"DIV"===o.tagName;if(a&&i.isComponentType("table"))return e.preventDefault(),void this.caret.setStart(o);if(a&&i.isComponentEditable())return e.preventDefault(),void this.component.remove(o,!1);if(a&&i.isComponent())return e.preventDefault(),this.caret.setStart(o),void(this.utils.isEmptyHtml(t.innerHTML)&&$R.dom(t).remove());if(a&&i.isList()){var _=$R.dom(t);if(n=$R.dom(o),r.isList())return e.preventDefault(),_.append(n),void n.unwrap();var l=n.children("li").first(),d=l.find("ul, ol");if(0!==d.length)return e.preventDefault(),n.prepend(d),d.unwrap(),_.append(l),void l.unwrap()}else if(a&&!r.isList()&&!r.isTable()&&c&&!this.utils.isEmptyHtml(t.innerHTML)){e.preventDefault();var u=$R.dom(t);return n=$R.dom(o),u.append(n),void n.unwrap()}}},_traverseBackspace:function(e){var t,a,n,s,r=this.selection.getCurrent(),o=this.inspector.parse(r);if(o.isFigcaption()){if(t=o.getFigcaption(),a=this.caret.isStart(t))return void e.preventDefault()}else if(o.isComponentType("code")&&(t=o.getComponent(),(a=this.caret.isStart(t))&&t.previousElementSibling))return e.preventDefault(),this.caret.setEnd(t.previousElementSibling),!0;t=this._getBlock();var i=this.utils.findSiblings(t,"prev");if(i){a=this.caret.isStart(t);var c=this.inspector.parse(i),_="P"===i.tagName||"DIV"===i.tagName;if(a&&c.isComponentType("code"))return e.preventDefault(),void this.component.remove(i,!1);if(a&&c.isComponentType("table"))return e.preventDefault(),void this.caret.setEnd(i);if(a&&c.isComponent())return e.preventDefault(),this.caret.setStart(i),void(this.utils.isEmptyHtml(t.innerHTML)&&$R.dom(t).remove());if(a&&o.isList())if(e.preventDefault(),s=$R.dom(t),n=$R.dom(i),c.isList())s.children("li").first().prepend(this.marker.build("start")),n.append(s),s.unwrap(),this.selection.restoreMarkers();else{var l=s.children("li").first(),d=l.get(),u=l.find("ul, ol"),p=this.utils.replaceToTag(d,this.opts.markup);this.opts.breakline&&p.attr("data-redactor-tag","br"),s.before(p),this.caret.setStart(p),0!==u.length&&(s.prepend(u),u.unwrap())}else if(a&&_){if(e.preventDefault(),this.utils.isEmpty(i))return void(n=$R.dom(i)).remove();var m=this.utils.createInvisibleChar(),h=$R.dom(t);return n=$R.dom(i),this.caret.setEnd(n),h.prepend(m),n.append(h.contents()),void h.remove()}}else setTimeout(this._replaceBlock.bind(this),1)},_replaceBlock:function(){var e=this.selection.getBlock(),t=$R.dom(e);if("p"===this.opts.markup&&e&&this._isNeedToReplaceBlock(e)){var a=document.createElement(this.opts.markup);t.replaceWith(a),this.caret.setStart(a)}this.opts.breakline&&e&&"DIV"===e.tagName&&t.attr("data-redactor-tag","br")},_isNeedToReplaceBlock:function(e){return"DIV"===e.tagName&&this.utils.isEmptyHtml(e.innerHTML)},_removeActiveComponent:function(e){var t=this.selection.getCurrent(),a=this.inspector.parse(t),n=a.getComponent();if(a.isComponent()&&this.component.isActive(n))return e.preventDefault(),this.component.remove(n),!0},_removeAllSelectedTable:function(e){var t=this.selection.getCurrent(),a=this.inspector.parse(t).getTable();if(a&&this.selection.isAll(a))return e.preventDefault(),this.component.remove(a),!0},_removeUnwantedStyles:function(){var e=this.editor.getElement();setTimeout((function(){e.find("*[style]").not("img, figure, iframe, [data-redactor-style-cache], [data-redactor-span]").removeAttr("style")}),0)},_removeEmptySpans:function(){var e=this.editor.getElement();setTimeout((function(){e.find("span").each((function(e){0===e.attributes.length&&$R.dom(e).replaceWith(e.childNodes)}))}),0)},_removeSpanTagsInHeadings:function(){var e=this.editor.getElement();setTimeout((function(){e.find("h1, h2, h3, h4, h5, h6").each((function(e){var t=$R.dom(e);0===t.closest("figure").length&&t.find("span").not(".redactor-component, .non-editable, .redactor-selection-marker, [data-redactor-style-cache], [data-redactor-span]").unwrap()}))}),1)},_removeInlineTagsInPre:function(){var e=this.editor.getElement(),t=this.opts.inlineTags;setTimeout((function(){e.find("pre").each((function(e){var a=$R.dom(e);0===a.closest("figure").length&&a.find(t.join(",")).not("code, .redactor-selection-marker").unwrap()}))}),1)}}),$R.add("class","input.enter",{init:function(e,t){this.app=e,this.opts=e.opts,this.utils=e.utils,this.caret=e.caret,this.editor=e.editor,this.insertion=e.insertion,this.selection=e.selection,this.inspector=e.inspector,this._init(t)},_init:function(e){return this.opts.enterKey?!1===this.app.broadcast("enter",e)?e.preventDefault():this.selection.hasNonEditable()?void e.preventDefault():e.ctrlKey||e.shiftKey?this._insertBreak(e):void(this._isExit(e)||this._traverse(e)):this._disable(e)},_disable:function(e){e.preventDefault();var t=this.selection.getRange();t&&!t.collapsed&&t.deleteContents()},_insertBreak:function(e){e.preventDefault();var t=this.selection.getCurrent(),a=this.inspector.parse(t);a.isComponent()&&!a.isComponentEditable()||a.isCode()||(a.isPre()?this.insertion.insertNewline():this.insertion.insertBreakLine())},_isExit:function(e){var t=this.editor.getElement(),a=this.selection.getBlock(),n=this.inspector.parse(a),s=this.caret.isEnd(a),r=this.selection.getCurrent(),o=r.previousSibling;if(n.isBlockquote()){var i=s&&this._isExitableBlock(a,"P"),c=s&&this._isExitableDblBreak(o);if(i||c)return this._exitFromElement(e,c?o:a,n.getBlockquote())}else if(!n.isComponentType("code")&&n.isPre()){if(s){var _=a.innerHTML;if(null!==(_=this.utils.removeInvisibleChars(_)).match(/(\n\n\n)$/))return $R.dom(o.previousSibling.previousSibling).remove(),this._exitFromElement(e,o,a)}}else if(n.isDl()){if(s&&this._isExitableBlock(a,"DT"))return this._exitFromElement(e,a,n.getDl())}else if(n.isList()){var l=$R.dom(r).parents("ul, ol",t).last();if((s=this.caret.isEnd(l))&&this._isExitableBlock(a,"LI"))return this._exitFromElement(e,a,l)}else if(n.isComponent()&&n.isComponentActive()&&!n.isFigcaption()&&!n.isComponentEditable())return this._exitFromElement(e,!1,n.getComponent())},_isExitableDblBreak:function(e){var t=!!e&&e.nextSibling;if(t){var a=this.utils.removeInvisibleChars(t.textContent);return 3===t.nodeType&&""===a.trim()}},_isExitableBlock:function(e,t){return e&&e.tagName===t&&this.utils.isEmptyHtml(e.innerHTML)},_exitFromElement:function(e,t,a){return e.preventDefault(),t&&$R.dom(t).remove(),this.utils.createMarkup(a),!0},_exitNextElement:function(e,t){return e.preventDefault(),t.nextSibling?this.caret.setStart(t.nextSibling):this.utils.createMarkup(t),!0},_traverse:function(e){var t=this.selection.getCurrent(),a=this.selection.isText(),n=this.selection.getBlock(),s=this.inspector.parse(t),r=!!n&&n.tagName.toLowerCase(),o=$R.dom(t).closest("[data-redactor-type=variable]");if(0!==o.length&&this.caret.setAfter(o),s.isPre())return e.preventDefault(),this.insertion.insertNewline();if(!s.isBlockquote()){if(s.isFigcaption()){n=s.getFigcaption();var i=this.caret.isEnd(n),c=this.caret.isEnd();return i||c?this._exitNextElement(e,s.getComponent()):void e.preventDefault()}return s.isDl()?(e.preventDefault(),this._traverseDl(t)):this.opts.breakline&&"div"===r?void setTimeout(this._replaceBlock.bind(this),1):a?(e.preventDefault(),this.insertion.insertBreakLine()):s.isList()?void 0:void setTimeout(this._replaceBlock.bind(this),1)}return(n=this.selection.getBlock(t))&&"BLOCKQUOTE"===n.tagName?(e.preventDefault(),this.insertion.insertBreakLine()):void 0},_traverseDl:function(e){var t=this.selection.getBlock(e),a=this.inspector.parse(t).getTag(),n=$R.dom(t),s=n.get().nextSibling||!1,r=$R.dom(s),o=s&&r.is("dd"),i=s&&r.is("dt"),c=this.caret.isEnd(t);if("dt"===a&&!o&&c){var _=document.createElement("dd");return n.after(_),void this.caret.setStart(_)}if("dd"===a&&!i&&c){var l=document.createElement("dt");return n.after(l),void this.caret.setStart(l)}return this.insertion.insertBreakLine()},_replaceBlock:function(){var e=this.selection.getBlock(),t=$R.dom(e);if("p"===this.opts.markup&&e&&this._isNeedToReplaceBlock(e)){var a=document.createElement(this.opts.markup);t.replaceWith(a),this.caret.setStart(a)}else if(e)if(this.utils.isEmptyHtml(e.innerHTML))this._clearBlock(t,e);else{var n=this.utils.getFirstNode(e);n&&"BR"===n.tagName&&($R.dom(n).remove(),this.caret.setStart(e))}e&&this._isNeedToCleanBlockStyle(e)&&this.opts.cleanOnEnter&&t.removeAttr("class style"),this.opts.breakline&&e&&e.tagName},_clearBlock:function(e,t){"DIV"===t.tagName&&e.find("br").remove(),(this.opts.cleanInlineOnEnter||"<br>"===t.innerHTML)&&e.html(""),this.caret.setStart(t)},_isNeedToReplaceBlock:function(e){return"DIV"===e.tagName&&this.utils.isEmptyHtml(e.innerHTML)},_isNeedToCleanBlockStyle:function(e){return"P"===e.tagName&&this.utils.isEmptyHtml(e.innerHTML)}}),$R.add("class","input.paste",{init:function(e,t,a,n,s){this.app=e,this.opts=e.opts,this.editor=e.editor,this.cleaner=e.cleaner,this.container=e.container,this.inspector=e.inspector,this.insertion=e.insertion,this.selection=e.selection,this.autoparser=e.autoparser,this.pasteHtml=n,this.pointInserted=s,this.dataTransfer=a,this._init(t)},_init:function(e){var t,a=this.dataTransfer||e.clipboardData,n=this.selection.getCurrent(),s=this.inspector.parse(n);if(this.dropPasted=this.dataTransfer,this.isRawCode=s.isPre()||s.isCode(),this.editor.enablePasting(),this.editor.saveScroll(),this.dropPasted||this.selection.saveMarkers(),this.isRawCode||!a)return t=this.isRawCode||a||!window.clipboardData?a.getData("text/plain"):window.clipboardData.getData("text"),e.preventDefault(),void this._insert(e,t);if(this.pasteHtml)e.preventDefault(),this._insert(e,this.pasteHtml);else{var r=a.getData("URL"),o=this._isPlainText(a)?this.cleaner.encodeEntities(a.getData("text/plain")):a.getData("text/html");if(o=r&&""!==r?r:o,null!==a.files&&a.files.length>0&&""===o){for(var i=[],c=0;c<a.files.length;c++){var _=a.files[c]||a.items[c].getAsFile();_&&i.push(_)}if(i.length>0)return e.preventDefault(),void this._insertFiles(e,i)}e.preventDefault(),this._insert(e,o)}},_isPlainText:function(e){var t=e.getData("text/plain"),a=e.getData("text/html");if(!t||!a)return null!==t;var n=document.createElement("div");return n.innerHTML=a,n.textContent===t?!n.querySelector(":not(meta)"):void 0},_restoreSelection:function(){this.editor.restoreScroll(),this.editor.disablePasting(),this.dropPasted||this.selection.restoreMarkers()},_insert:function(e,t){var a=this.app.broadcast("pasteBefore",t);if(t=(t=void 0===a?t:a).trim(),t=(t=this.isRawCode?t:this.cleaner.paste(t)).trim(),t=this.isRawCode?this.cleaner.encodePhpCode(t):t,t=void 0===(a=this.app.broadcast("pasting",t))?t:a,this._restoreSelection(),this.opts.input){this.app.broadcast("state",!1);var n=[];if(this.isRawCode){t=t.replace("&lt;?php","<?php");var s=document.createTextNode(t);n=this.insertion.insertNode(s,"after"),this.app.broadcast("pasted",n)}else this.opts.autoparse&&this.opts.autoparsePaste&&(t=this.autoparser.parse(t)),n=this.dropPasted?this.insertion.insertToPoint(e,t,this.pointInserted):this.insertion.insertHtml(t),this.app.broadcast("pasted",n),this.app.broadcast("autoparseobserve")}},_insertFiles:function(e,t){this._restoreSelection();var a=-1!==this.opts.imageTypes.indexOf(t[0].type),n="undefined"===typeof this.dropPasted;a?this.app.broadcast("dropimage",e,t,n):this.app.broadcast("dropfile",e,t,n)}}),$R.add("class","input.shortcode",{init:function(e,t,a){this.app=e,this.opts=e.opts,this.utils=e.utils,this.marker=e.marker,this.keycodes=e.keycodes,this.selection=e.selection,this.worked=!1,a===this.keycodes.SPACE&&this._init()},is:function(){return this.worked},_init:function(){var e=this.selection.getCurrent();if(e&&3===e.nodeType){var t=this.utils.removeInvisibleChars(e.textContent),a=this.opts.shortcodes;for(var n in a){var s=new RegExp("^"+this.utils.escapeRegExp(n));if(null!==t.match(s)&&"undefined"!==typeof a[n].format)return this._format(a[n].format,e,s)}}},_format:function(e,t,a){var n=(t=this.marker.insert("start").previousSibling).textContent;n=(n=this.utils.trimSpaces(n)).replace(a,""),t.textContent=n;var s="ul"===e||"ol"===e?"module.list.toggle":"module.block.format";this.app.api(s,e),this.selection.restoreMarkers(),this.worked=!0}}),$R.add("class","input.shortcut",{init:function(e,t){this.app=e,this.opts=e.opts,this.worked=!1,this.hotkeys={8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},this.hotkeysShiftNums={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},this._init(t)},is:function(){return this.worked},_init:function(e){if(!1!==this.opts.shortcuts)for(var t in this.opts.shortcuts)this._build(e,t,this.opts.shortcuts[t]);else!e.ctrlKey&&!e.metaKey||66!==e.which&&73!==e.which||e.preventDefault()},_build:function(e,t,a){for(var n=t.split(","),s=n.length,r=0;r<s;r++)"string"===typeof n[r]&&this._handler(e,n[r].trim(),a)},_handler:function(e,t,a){t=t.toLowerCase().split(" ");for(var n=this.hotkeys[e.keyCode],s=String.fromCharCode(e.which).toLowerCase(),r="",o={},i=["meta","ctrl","alt","shift"],c=0;c<i.length;c++){var _=i[c];e[_+"Key"]&&n!==_&&(r+=_+"+")}n&&(o[r+n]=!0),s&&(o[r+s]=!0,o[r+this.hotkeysShiftNums[s]]=!0,"shift+"===r&&(o[this.hotkeysShiftNums[s]]=!0));var l=t.length;for(c=0;c<l;c++)if(o[t[c]])return e.preventDefault(),this.worked=!0,void(a.message?(this.app.broadcast(a.message,a.args),this.app.broadcast("buffer.trigger")):a.api&&(this.app.api(a.api,a.args),this.app.broadcast("buffer.trigger")))}}),$R.add("class","input.space",{init:function(e,t,a,n){this.app=e,this.keycodes=e.keycodes,this.insertion=e.insertion,this.selection=e.selection,this.key=a,this.lastShiftKey=n,this._init(t)},_init:function(e){if(!this.selection.hasNonEditable())return this.lastShiftKey||this.key!==this.keycodes.SPACE||!e.ctrlKey&&!e.shiftKey||e.metaKey?void 0:(e.preventDefault(),void this.insertion.insertChar("&nbsp;"));e.preventDefault()}}),$R.add("class","input.tab",{init:function(e,t){this.app=e,this.opts=e.opts,this.inspector=e.inspector,this.insertion=e.insertion,this.selection=e.selection,this._init(t)},_init:function(e){if(this.opts.tabKey){if(!1===this.app.broadcast("tab",e))return e.preventDefault();this._traverse(e)}},_traverse:function(e){var t=this.selection.getCurrent(),a=this.inspector.parse(t);return!a.isComponent()&&e.shiftKey?this._insertHardTab(e,4):a.isList()?(e.preventDefault(),this.app.api("module.list.indent")):a.isPre()||a.isComponentType("code")&&!a.isFigcaption()?this._tabCode(e):!1!==this.opts.tabAsSpaces?this._insertHardTab(e,this.opts.tabAsSpaces):void 0},_insertHardTab:function(e,t){e.preventDefault();var a=document.createTextNode(Array(t+1).join("\xa0"));return this.insertion.insertNode(a,"end")},_tabCode:function(e){e.preventDefault();var t=this.opts.preSpaces?document.createTextNode(Array(this.opts.preSpaces+1).join("\xa0")):document.createTextNode("\t");return this.insertion.insertNode(t,"end")}}),$R.add("module","upload",{init:function(e){this.app=e,this.opts=e.opts,this.lang=e.lang,this.utils=e.utils,this.editor=e.editor,this.progress=e.progress,this.defaults={event:!1,element:!1,name:!1,files:!1,url:!1,data:!1,paramName:!1}},build:function(e){this.p=$R.extend(this.defaults,e),this.$el=$R.dom(this.p.element),"INPUT"===this.$el.get().tagName?this._buildInput():this._buildBox()},send:function(e){this.p=$R.extend(this.defaults,e),this.$uploadbox=this.editor.getElement(),this._send(this.p.event,this.p.files)},complete:function(e,t){this._complete(e,t)},_buildInput:function(){this.box=!1,this.prefix="",this.$uploadbox=$R.dom('<div class="upload-redactor-box" />'),this.$el.hide(),this.$el.after(this.$uploadbox),this.opts.multipleUpload?this.$el.attr("multiple","multiple"):this.$el.removeAttr("multiple"),"file"!==this.p.name&&this.$el.attr("accept","image/*"),this._buildPlaceholder(),this._buildEvents()},_buildBox:function(){this.box=!0,this.prefix="box-",this.$uploadbox=this.$el,this.$uploadbox.attr("ondragstart","return false;"),this.$uploadbox.on("drop.redactor.upload",this._onDropBox.bind(this)),this.$uploadbox.on("dragover.redactor.upload",this._onDragOver.bind(this)),this.$uploadbox.on("dragleave.redactor.upload",this._onDragLeave.bind(this))},_buildPlaceholder:function(){this.$placeholder=$R.dom('<div class="upload-redactor-placeholder" />'),this.$placeholder.html(this.lang.get("upload-label")),this.$uploadbox.append(this.$placeholder)},_buildEvents:function(){this.$el.on("change.redactor.upload",this._onChange.bind(this)),this.$uploadbox.on("click.redactor.upload",this._onClick.bind(this)),this.$uploadbox.on("drop.redactor.upload",this._onDrop.bind(this)),this.$uploadbox.on("dragover.redactor.upload",this._onDragOver.bind(this)),this.$uploadbox.on("dragleave.redactor.upload",this._onDragLeave.bind(this))},_onClick:function(e){e.preventDefault(),this.$el.click()},_onChange:function(e){this._send(e,this.$el.get().files)},_onDrop:function(e){e.preventDefault(),this._clear(),this._setStatusDrop(),this._send(e)},_onDragOver:function(e){return e.preventDefault(),this._setStatusHover(),!1},_onDragLeave:function(e){return e.preventDefault(),this._removeStatusHover(),!1},_onDropBox:function(e){e.preventDefault(),this._clear(),this._setStatusDrop(),this._send(e)},_removeStatusHover:function(){this.$uploadbox.removeClass("upload-redactor-"+this.prefix+"hover")},_setStatusDrop:function(){this.$uploadbox.addClass("upload-redactor-"+this.prefix+"drop")},_setStatusHover:function(){this.$uploadbox.addClass("upload-redactor-"+this.prefix+"hover")},_setStatusError:function(){this.$uploadbox.addClass("upload-redactor-"+this.prefix+"error")},_setStatusSuccess:function(){this.$uploadbox.addClass("upload-redactor-"+this.prefix+"success")},_clear:function(){for(var e=["drop","hover","error","success"],t=0;t<e.length;t++)this.$uploadbox.removeClass("upload-redactor-"+this.prefix+e[t]);this.$uploadbox.removeAttr("ondragstart")},_send:function(e,t){e=e.originalEvent||e,t=t||e.dataTransfer.files;var a=new FormData,n=this._getUploadParam();a=this._buildData(n,t,a),a=this.utils.extendData(a,this.p.data),!1!==this.app.broadcast("upload.start",e,a,t)&&this._sendData(a,t,e)},_sendData:function(e,t,a){if(this.progress.show(),"function"===typeof this.p.url){var n=this.p.url(e,t,a,this);n instanceof Promise||this._complete(n,a)}else $R.ajax.post({url:this.p.url,data:e,before:function(e){return this.app.broadcast("upload.beforeSend",e)}.bind(this),success:function(e){this._complete(e,a)}.bind(this)})},_getUploadParam:function(){return this.p.paramName?this.p.paramName:"file"},_buildData:function(e,t,a){if(1===t.length)a.append(e+"[]",t[0]);else if(t.length>1&&!1!==this.opts.multipleUpload)for(var n=0;n<t.length;n++)a.append(e+"[]",t[n]);return a},_complete:function(e,t){this._clear(),this.progress.hide(),e&&e.error?(this._setStatusError(),this.app.broadcast("upload."+this.p.name+".error",e,t),this.app.broadcast("upload.error",e)):(this._setStatusSuccess(),this.app.broadcast("upload."+this.p.name+".complete",e,t),this.app.broadcast("upload.complete",e),setTimeout(this._clear.bind(this),500))}}),$R.add("class","code.component",{mixins:["dom","component"],init:function(e,t){return this.app=e,t&&void 0!==t.cmnt?t:this._init(t)},_init:function(e){var t;if("undefined"!==typeof e){var a=$R.dom(e).closest("figure");0!==a.length?this.parse(a):(this.parse("<figure>"),this.append(e)),t=this.find("pre code, pre").last()}else t=$R.dom("<pre>"),this.parse("<figure>"),this.append(t);this._initElement(t),this._initWrapper()},_initElement:function(e){e.attr({tabindex:"-1",contenteditable:!0})},_initWrapper:function(){this.addClass("redactor-component"),this.attr({"data-redactor-type":"code",tabindex:"-1",contenteditable:!1})}}),$R.add("module","form",{init:function(e){this.app=e,this.lang=e.lang,this.component=e.component,this.inspector=e.inspector},onform:{remove:function(e){this._remove(e)}},oncontextbar:function(e,t){var a=this.inspector.parse(e.target);if(a.isComponentType("form")){var n=a.getComponent(),s={remove:{title:this.lang.get("delete"),api:"module.form.remove",args:n}};t.set(e,n,s,"top")}},_remove:function(e){this.component.remove(e)}}),$R.add("class","form.component",{mixins:["dom","component"],init:function(e,t){return this.app=e,this.utils=e.utils,t&&void 0!==t.cmnt?t:this._init(t)},_init:function(e){if("undefined"!==typeof e)if(0!==$R.dom(e).closest("form").length){var t=this.utils.replaceToTag(e,"figure");this.parse(t)}else this.parse("<figure>"),this.append(e);else this.parse("<figure>");this._initWrapper()},_initWrapper:function(){this.addClass("redactor-component"),this.attr({"data-redactor-type":"form",tabindex:"-1",contenteditable:!1})}}),$R.add("module","image",{modals:{image:'<div class="redactor-modal-tab redactor-modal-tab-upload" data-title="## upload ##"><form action="">                 <input type="file" name="file">             </form></div>',imageedit:'<div class="redactor-modal-group">                 <div id="redactor-modal-image-preview" class="redactor-modal-side"></div>                 <form action="" class="redactor-modal-area">                     <div class="form-item">                         <label for="modal-image-title"> ## title ##</label>                         <input type="text" id="modal-image-title" name="title" />                     </div>                     <div class="form-item form-item-caption">                         <label for="modal-image-caption">## caption ##</label>                         <input type="text" id="modal-image-caption" name="caption" aria-label="## caption ##" />                     </div>                     <div class="form-item form-item-align">                         <label>## image-position ##</label>                         <select name="align" aria-label="## image-position ##">                             <option value="none">## none ##</option>                             <option value="left">## left ##</option>                             <option value="center">## center ##</option>                             <option value="right">## right ##</option>                         </select>                     </div>                     <div class="form-item form-item-link">                         <label for="modal-image-url">## link ##</label>                         <input type="text" id="modal-image-url" name="url" aria-label="## link ##" />                     </div>                     <div class="form-item form-item-link">                         <label class="checkbox"><input type="checkbox" name="target" aria-label="## link-in-new-tab ##"> ## link-in-new-tab ##</label>                     </div>                 </form>             </div>'},init:function(e){this.app=e,this.opts=e.opts,this.lang=e.lang,this.caret=e.caret,this.utils=e.utils,this.editor=e.editor,this.storage=e.storage,this.component=e.component,this.inspector=e.inspector,this.insertion=e.insertion,this.selection=e.selection,this.justResized=!1},oninsert:function(){this._observeImages()},onstarted:function(){this.storage.observeImages(),this.opts.imageResizable&&(this.resizer=$R.create("image.resize",this.app)),this._observeImages()},ondropimage:function(e,t,a){if(this.opts.imageUpload){var n={url:this.opts.imageUpload,event:!a&&e,files:t,name:"imagedrop",data:this.opts.imageData,paramName:this.opts.imageUploadParam};this.app.api("module.upload.send",n)}},onstop:function(){this.resizer&&this.resizer.stop()},onbottomclick:function(){this.insertion.insertToEnd(this.editor.getLastNode(),"image")},onimageresizer:{stop:function(){this.resizer&&this.resizer.hide()}},onsource:{open:function(){this.resizer&&this.resizer.hide()},closed:function(){this._observeImages(),this.resizer&&this.resizer.rebuild()}},onupload:{complete:function(){this._observeImages()},image:{complete:function(e){this._insert(e)},error:function(e){this._uploadError(e)}},imageedit:{complete:function(e){this._change(e)},error:function(e){this._uploadError(e)}},imagedrop:{complete:function(e,t){this._insert(e,t)},error:function(e){this._uploadError(e)}},imagereplace:{complete:function(e){this._change(e,!1)},error:function(e){this._uploadError(e)}}},onmodal:{image:{open:function(e,t){this._setUpload(e,t)}},imageedit:{open:function(e,t){this._setFormData(e,t)},opened:function(e,t){this._setFormFocus(t)},remove:function(){this._remove(this.$image)},save:function(e,t){this._save(e,t)}}},onimage:{observe:function(){this._observeImages()},resized:function(){this.justResized=!0}},oncontextbar:function(e,t){if(this.justResized)this.justResized=!1;else{var a=this.selection.getCurrent(),n=this.inspector.parse(a),s=$R.dom(a).closest("img");if(!n.isFigcaption()&&n.isComponentType("image")||0!==s.length){var r=0!==s.length?s.get():n.getComponent(),o={edit:{title:this.lang.get("edit"),api:"module.image.open"},remove:{title:this.lang.get("delete"),api:"module.image.remove",args:r}};t.set(e,r,o)}}},open:function(){this.$image=this._getCurrent(),this.app.api("module.modal.build",this._getModalData())},insert:function(e){this._insert(e)},remove:function(e){this._remove(e)},_getModalData:function(){return this._isImage()&&this.opts.imageEditable?{name:"imageedit",width:"800px",title:this.lang.get("edit"),handle:"save",commands:{save:{title:this.lang.get("save")},remove:{title:this.lang.get("delete"),type:"danger"},cancel:{title:this.lang.get("cancel")}}}:{name:"image",title:this.lang.get("image")}},_isImage:function(){return this.$image},_getCurrent:function(){var e=this.selection.getCurrent(),t=this.inspector.parse(e),a=$R.dom(e).closest("img");return 0!==a.length?this.component.create("image",a):!(!t.isComponentType("image")||!t.isComponentActive())&&this.component.create("image",t.getComponent())},_insert:function(e,t){if(this.app.api("module.modal.close"),Array.isArray(e)){for(var a={},n=0;n<e.length;n++)a=$R.extend(a,e[n]);e=a}else"string"===typeof e&&(e={file:{url:e}});if("object"===typeof e){var s=0;for(var r in e)"object"===typeof e[r]&&s++;s>1?this._insertMultiple(e,t):this._insertSingle(e,t)}},_insertSingle:function(e,t){for(var a in e)if("object"===typeof e[a]){var n=this._createImageAndStore(e[a]),s=t?this.insertion.insertToPoint(t,n,!1,!1):this.insertion.insertHtml(n,!1);this._removeSpaceBeforeFigure(s[0]),this.component.setActive(s[0]),this.app.broadcast("image.uploaded",s[0],e)}},_insertMultiple:function(e,t){var a,n=0,s=[];for(var r in e)if("object"===typeof e[r]){n++;var o=this._createImageAndStore(e[r]);if(1===n)s=t?this.insertion.insertToPoint(t,o,!1,!1):this.insertion.insertHtml(o,!1);else $R.dom(s[0]).after(o),s=[o.get()],this.app.broadcast("image.inserted",o);a=s[0],this._removeSpaceBeforeFigure(s[0]),this.app.broadcast("image.uploaded",s[0],e)}this.component.setActive(a)},_createImageAndStore:function(e){var t=this.component.create("image");return t.addClass("redactor-uploaded-figure"),t.setData({src:e.url,id:e.id?e.id:this.utils.getRandomId()}),this.storage.add("image",t.getElement()),t},_removeSpaceBeforeFigure:function(e){if(e){var t=e.previousSibling,a=e.nextSibling,n=$R.dom(t),s=$R.dom(a);this.opts.breakline&&(a&&"br"===s.attr("data-redactor-tag")&&s.find("br").first().remove(),t&&"br"===n.attr("data-redactor-tag")&&n.find("br").last().remove()),t&&(this._removeInvisibleSpace(t),this._removeInvisibleSpace(t.previousSibling))}},_removeInvisibleSpace:function(e){e&&3===e.nodeType&&-1!==this.utils.searchInvisibleChars(e.textContent)&&e.parentNode.removeChild(e)},_save:function(e,t){var a=t.getData(),n={title:a.title};this.opts.imageLink&&(n.link={url:a.url,target:a.target}),this.opts.imageCaption&&(n.caption=a.caption),this.opts.imagePosition&&(n.align=a.align),this.$image.setData(n),this.resizer&&this.resizer.rebuild(),this.app.broadcast("image.changed",this.$image),this.app.api("module.modal.close")},_change:function(e,t){if("string"===typeof e&&(e={file:{url:e}}),"object"===typeof e){var a;for(var n in e)if("object"===typeof e[n]){(a=$R.dom("<img>")).attr("src",e[n].url),this.$image.changeImage(e[n]),this.app.broadcast("image.changed",this.$image,e),this.app.broadcast("image.uploaded",this.$image,e),this.app.broadcast("hardsync");break}!1!==t&&a.on("load",function(){this.$previewBox.html(a)}.bind(this))}},_uploadError:function(e){this.app.broadcast("image.uploadError",e)},_remove:function(e){this.app.api("module.modal.close"),this.component.remove(e)},_observeImages:function(){var e=this.editor.getElement(),t=this;e.find("img").each((function(e){var a=$R.dom(e);a.off(".drop-to-replace"),a.on("dragover.drop-to-replace dragenter.drop-to-replace",(function(e){e.preventDefault()})),a.on("drop.drop-to-replace",(function(e){if(!t.app.isDragComponentInside())return t._setReplaceUpload(e,a)}))}))},_setFormData:function(e,t){this._buildPreview(e),this._buildPreviewUpload();var a=this.$image.getData(),n={title:a.title};this.opts.imageCaption?n.caption=a.caption:e.find(".form-item-caption").hide(),this.opts.imagePosition?n.align=a.align:e.find(".form-item-align").hide(),this.opts.imageLink?a.link&&(n.url=a.link.url,a.link.target&&(n.target=!0)):e.find(".form-item-link").hide(),t.setData(n)},_setFormFocus:function(e){e.getField("title").focus()},_setReplaceUpload:function(e,t){if((e=e.originalEvent||e).stopPropagation(),e.preventDefault(),this.opts.imageUpload){this.$image=this.component.create("image",t);var a={url:this.opts.imageUpload,files:e.dataTransfer.files,name:"imagereplace",data:this.opts.imageData,paramName:this.opts.imageUploadParam};this.app.api("module.upload.send",a)}},_setUpload:function(e,t){this.opts.imageUpload||e.getBody().find(".redactor-modal-tab-upload").remove();var a={url:this.opts.imageUpload,element:t.getField("file"),name:"image",data:this.opts.imageData,paramName:this.opts.imageUploadParam};this.app.api("module.upload.build",a)},_buildPreview:function(e){this.$preview=e.find("#redactor-modal-image-preview");var t=this.$image.getData(),a=$R.dom("<img>");a.attr("src",t.src),this.$previewBox=$R.dom("<div>"),this.$previewBox.append(a),this.$preview.html(""),this.$preview.append(this.$previewBox)},_buildPreviewUpload:function(){if(this.opts.imageUpload){var e=$R.dom('<div class="desc">');e.html(this.lang.get("upload-change-label")),this.$preview.append(e);var t={url:this.opts.imageUpload,element:this.$previewBox,name:"imageedit",data:this.opts.imageData,paramName:this.opts.imageUploadParam};this.app.api("module.upload.build",t)}}}),$R.add("class","image.component",{mixins:["dom","component"],init:function(e,t){return this.app=e,this.opts=e.opts,this.selection=e.selection,t&&void 0!==t.cmnt?t:this._init(t)},setData:function(e){for(var t in e)this._set(t,e[t])},getData:function(){for(var e=["src","title","caption","align","link","id"],t={},a=0;a<e.length;a++)t[e[a]]=this._get(e[a]);return t},getElement:function(){return this.$element},changeImage:function(e){this.$element.attr("src",e.url)},_init:function(e){var t=$R.dom(e),a=t.closest("figure");void 0===e?(this.$element=$R.dom("<img>"),this.parse("<figure>"),this.append(this.$element)):0===a.length?(this.parse("<figure>"),this.$element=t,this.$element.wrap(this)):(this.parse(a),this.$element=this.find("img")),this._initWrapper()},_set:function(e,t){this["_set_"+e](t)},_get:function(e){return this["_get_"+e]()},_set_src:function(e){this.$element.attr("src",e)},_set_id:function(e){this.opts.imageObserve&&this.$element.attr("data-image",e)},_set_title:function(e){""===(e=e.trim().replace(/(<([^>]+)>)/gi,""))?this.$element.removeAttr("alt"):this.$element.attr("alt",e)},_set_caption:function(e){var t=this.find("figcaption");return 0===t.length&&((t=$R.dom("<figcaption>")).attr("contenteditable","true"),this.append(t)),""===e?t.remove():t.html(e),t},_set_align:function(e){var t="",a="",n="",s=this.find("img"),r=this.find("figcaption");if("object"===typeof this.opts.imagePosition){var o=this.opts.imagePosition;for(var i in o)this.removeClass(o[i]);var c="undefined"!==typeof o[e]&&o[e];c&&this.addClass(c)}else{var _=s.width();switch(e){case"left":t="left",a="0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin+" 0";break;case"right":t="right",a="0 0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin;break;case"center":n="center",a="auto"}this.css({float:t,width:_+"px",maxWidth:_+"px",margin:a,"text-align":n}),this.attr("rel",this.attr("style")),"none"===e&&(this.css("max-width",""),this.css("width","")),"center"===e?(this.css("max-width",""),this.css("width",""),r.css("text-align","center")):r.css("text-align","")}},_set_link:function(e){var t=this._findLink();if(""!==e.url)return t||(t=$R.dom("<a>"),this.$element.wrap(t)),t.attr("href",e.url),e.target?t.attr("target",!0===e.target?"_blank":e.target):t.removeAttr("target"),t;t&&t.unwrap()},_get_src:function(){return this.$element.attr("src")},_get_id:function(){return this.$element.attr("data-image")},_get_title:function(){var e=this.$element.attr("alt");return e||""},_get_caption:function(){var e=this.find("figcaption");return 0===e.length?"":e.html()},_get_align:function(){var e="";if("object"===typeof this.opts.imagePosition){e="none";var t=this.opts.imagePosition;for(var a in t)if(this.hasClass(t[a])){e=a;break}}else e="center"===this.css("text-align")?"center":this.css("float");return e},_get_link:function(){var e=this._findLink();if(e){var t=!!e.attr("target");return{url:e.attr("href"),target:t}}},_initWrapper:function(){this.addClass("redactor-component"),this.attr({"data-redactor-type":"image",tabindex:"-1",contenteditable:!1})},_findLink:function(){var e=this.find("a").filter((function(e){return 0===$R.dom(e).closest("figcaption").length}));return 0!==e.length&&e}}),$R.add("class","image.resize",{init:function(e){this.app=e,this.$doc=e.$doc,this.$win=e.$win,this.$body=e.$body,this.editor=e.editor,this.toolbar=e.toolbar,this.inspector=e.inspector,this.$target=this.toolbar.isTarget()?this.toolbar.getTargetElement():this.$body,this._init()},rebuild:function(){this._setResizerPosition()},hide:function(){this.$target.find("#redactor-image-resizer").remove()},stop:function(){this.editor.getElement().off(".redactor.image-resize"),this.$doc.off(".redactor.image-resize"),this.$win.off("resize.redactor.image-resize"),this.hide()},_init:function(){this.editor.getElement().on("click.redactor.image-resize",this._build.bind(this)),this.$win.on("resize.redactor.image-resize",this._setResizerPosition.bind(this))},_build:function(e){if(this.$target.find("#redactor-image-resizer").remove(),!this.app.isReadOnly()){var t=this.inspector.parse(e.target),a=this.editor.getElement();t.isComponentType("image")&&(this.$resizableBox=a,this.$resizableImage=$R.dom(t.getImageElement()),this.$resizer=$R.dom("<span>"),this.$resizer.attr("id","redactor-image-resizer"),this.$target.append(this.$resizer),this._setResizerPosition(),this.$resizer.on("mousedown touchstart",this._set.bind(this)))}},_setResizerPosition:function(){if(this.$resizer){var e=this.toolbar.isTarget(),t=this.$target.offset(),a=e?7-t.top+this.$target.scrollTop():7,n=e?7-t.left:7,s=this.$resizableImage.offset(),r=this.$resizableImage.width(),o=this.$resizableImage.height(),i=this.$resizer.width(),c=this.$resizer.height();this.$resizer.css({top:Math.round(s.top+o-c+a)+"px",left:Math.round(s.left+r-i+n)+"px"})}},_set:function(e){e.preventDefault(),this.resizeHandle={x:e.pageX,y:e.pageY,el:this.$resizableImage,$figure:this.$resizableImage.closest("figure"),ratio:this.$resizableImage.width()/this.$resizableImage.height(),h:this.$resizableImage.height()},(e=e.originalEvent||e).targetTouches&&(this.resizeHandle.x=e.targetTouches[0].pageX,this.resizeHandle.y=e.targetTouches[0].pageY),this.app.broadcast("contextbar.close"),this.app.broadcast("image.resize",this.$resizableImage),this._start()},_start:function(){this.$doc.on("mousemove.redactor.image-resize touchmove.redactor.image-resize",this._move.bind(this)),this.$doc.on("mouseup.redactor.image-resize touchend.redactor.image-resize",this._stop.bind(this))},_stop:function(){this.$doc.off(".redactor.image-resize"),this.app.broadcast("image.resized",this.$resizableImage)},_move:function(e){e.preventDefault(),e=e.originalEvent||e;var t=this.resizeHandle.h;e.targetTouches?t+=e.targetTouches[0].pageY-this.resizeHandle.y:t+=e.pageY-this.resizeHandle.y;var a=t*this.resizeHandle.ratio;a=Math.round(a),(t=Math.round(t))<20||a<100||this._getResizableBoxWidth()<=a||(0!==this.resizeHandle.$figure.length&&""!==this.resizeHandle.$figure.css("max-width")&&this.resizeHandle.$figure.css("max-width",a+"px"),this.resizeHandle.el.attr({width:a,height:t}),this.resizeHandle.el.width(a),this.resizeHandle.el.css("max-width",a+"px"),this.resizeHandle.el.height(t),this._setResizerPosition())},_getResizableBoxWidth:function(){return this.$resizableBox.width()-parseInt(this.$resizableBox.css("padding-left"))-parseInt(this.$resizableBox.css("padding-right"))}}),$R.add("module","file",{modals:{file:'<div class="redactor-modal-tab" data-title="## upload ##"><form action="">                 <div class="form-item form-item-title">                     <label for="modal-file-title"> ## filename ## <span class="desc">(## optional ##)</span></label>                     <input type="text" id="modal-file-title" name="title" />                 </div>                 <input type="file" name="file">             </form></div>'},init:function(e){this.app=e,this.opts=e.opts,this.lang=e.lang,this.caret=e.caret,this.utils=e.utils,this.storage=e.storage,this.component=e.component,this.inspector=e.inspector,this.insertion=e.insertion,this.selection=e.selection},onstarted:function(){this.storage.observeFiles()},ondropfile:function(e,t,a){if(this.opts.fileUpload){var n={url:this.opts.fileUpload,event:!a&&e,files:t,name:"filedrop",data:this.opts.fileData};this.app.api("module.upload.send",n)}},onmodal:{file:{open:function(e,t){this._setFormData(e,t),this._setUpload(t)},opened:function(e,t){this._setFormFocus(t),this.$form=t}}},onupload:{file:{complete:function(e){this._insert(e)},error:function(e){this._uploadError(e)}},filedrop:{complete:function(e,t){this._insert(e,t)},error:function(e){this._uploadError(e)}}},open:function(){this._open()},insert:function(e){this._insert(e)},remove:function(e){this._remove(e)},_open:function(){this.app.api("module.modal.build",this._getModalData())},_getModalData:function(){return{name:"file",title:this.lang.get("file")}},_insert:function(e,t){if(this.app.api("module.modal.close"),"object"===typeof e){if(Array.isArray(e)){for(var a={},n=0;n<e.length;n++)a=$R.extend(a,e[n]);e=a}Object.keys(e).length>1?this._insertMultiple(e,t):this._insertSingle(e,t),this.$form=!1}},_insertSingle:function(e,t){var a=[];for(var n in e){var s=this._createFileAndStore(e[n]);a=this.opts.fileAttachment?this._insertAsAttachment(s):t?this.insertion.insertToPoint(t,s):this.insertion.insertRaw(s),this.app.broadcast("file.uploaded",a[0],e)}},_insertMultiple:function(e,t){var a,n=0,s=[];for(var r in e){n++;var o=this._createFileAndStore(e[r]);if(this.opts.fileAttachment)s=this._insertAsAttachment(o,e);else if(1===n)s=t?this.insertion.insertToPoint(t,o):this.insertion.insertRaw(o);else $R.dom(s[0]).after(o).after(" "),s=[o.get()],this.app.broadcast("file.inserted",o);a=o,this.app.broadcast("file.uploaded",s[0],e)}this.opts.fileAttachment||this.caret.setAfter(a)},_insertAsAttachment:function(e,t){var a=$R.dom(this.opts.fileAttachment),n=e.wrapAttachment();a.append(n);var s=[n.get()];return this.app.broadcast("file.appended",s[0],t),s},_createFileAndStore:function(e){var t=!!this.$form&&this.$form.getData(),a=e.name?e.name:e.url,n=!this.opts.fileAttachment&&t&&""!==t.title?t.title:this._truncateUrl(a),s=this.component.create("file");return s.attr("href",e.url),s.attr("data-file",e.id?e.id:this.utils.getRandomId()),s.attr("data-name",e.name),s.html(n),this.storage.add("file",s),s},_remove:function(e){this.selection.save();var t=this.component.create("file",e);!1!==this.app.broadcast("file.delete",t)?(t.unwrap(),this.selection.restore(),this.app.broadcast("file.deleted",t)):this.selection.restore()},_truncateUrl:function(e){return-1!==e.search(/^http/)&&e.length>20?e.substring(0,20)+"...":e},_setUpload:function(e){var t={url:this.opts.fileUpload,element:e.getField("file"),name:"file",data:this.opts.fileData,paramName:this.opts.fileUploadParam};this.app.api("module.upload.build",t)},_setFormData:function(e,t){this.opts.fileAttachment?e.find(".form-item-title").hide():t.setData({title:this.selection.getText()})},_setFormFocus:function(e){e.getField("title").focus()},_uploadError:function(e){this.app.broadcast("file.uploadError",e)}}),$R.add("class","file.component",{mixins:["dom","component"],init:function(e,t){return this.app=e,this.opts=e.opts,t&&void 0!==t.cmnt?t:this._init(t)},wrapAttachment:function(){return this.$wrapper=$R.dom('<span class="redactor-file-item">'),this.$remover=$R.dom('<span class="redactor-file-remover">'),this.$remover.html("&times;"),this.$remover.on("click",this.removeAttachment.bind(this)),this.$wrapper.append(this),this.$wrapper.append(this.$remover),this.$wrapper},removeAttachment:function(e){e.preventDefault(),!1!==this.app.broadcast("file.delete",this,this.$wrapper)&&(this.$wrapper.remove(),this.app.broadcast("file.deleted",this),this.app.broadcast("file.removeAttachment",this))},_init:function(e){if(void 0===e)this.parse("<a>");else{var t=$R.dom(e).closest("a");this.parse(t)}}}),$R.add("module","buffer",{init:function(e){this.app=e,this.opts=e.opts,this.editor=e.editor,this.offset=e.offset,this.keycodes=e.keycodes,this.selection=e.selection,this.state=!1,this.passed=!1,this.keyPressed=!1,this.undoStorage=[],this.redoStorage=[]},onkeydown:function(e){this._listen(e)},onsyncing:function(){this.keyPressed||this.trigger(),this.keyPressed=!1},onbuffer:{trigger:function(){this.trigger()}},onstate:function(e,t,a){e&&(e.ctrlKey||e.metaKey)||e&&(this._isUndo(e)||this._isRedo(e))||(this.passed=!1,this._saveState(t,a),!1===e&&this._setUndo())},onenable:function(){this.clear()},clear:function(){this.state=!1,this.undoStorage=[],this.redoStorage=[]},undo:function(){this._getUndo()},redo:function(){this._getRedo()},trigger:function(){this.state&&!1===this.passed&&this._setUndo()},_saveState:function(e,t){var a=this.editor.getElement();this.state={html:e||a.html(),offset:t||this.offset.get()}},_listen:function(e){var t=e.which,a=e.ctrlKey||e.metaKey,n=a||e.shiftKey||e.altKey,s=[this.keycodes.SPACE,this.keycodes.ENTER,this.keycodes.BACKSPACE,this.keycodes.DELETE,this.keycodes.TAB,this.keycodes.LEFT,this.keycodes.RIGHT,this.keycodes.UP,this.keycodes.DOWN];return this._isUndo(e)?(e.preventDefault(),void this.undo()):this._isRedo(e)?(e.preventDefault(),void this.redo()):((a||-1===s.indexOf(t))&&(!a||88!==t&&67!==t)||(n=!0,this.trigger()),n||this._hasUndo()||this.trigger(),void(this.keyPressed=!0))},_isUndo:function(e){var t=e.which;return(e.ctrlKey||e.metaKey)&&90===t&&!e.shiftKey&&!e.altKey},_isRedo:function(e){var t=e.which;return(e.ctrlKey||e.metaKey)&&(90===t&&e.shiftKey||89===t&&!e.shiftKey)&&!e.altKey},_setUndo:function(){var e=this.undoStorage[this.undoStorage.length-1];"undefined"!==typeof e&&e[0]===this.state.html||(this.undoStorage.push([this.state.html,this.state.offset]),this._removeOverStorage())},_setRedo:function(){var e=this.editor.getElement(),t=this.offset.get(),a=e.html();this.redoStorage.push([a,t]),this.redoStorage=this.redoStorage.slice(0,this.opts.bufferLimit)},_getUndo:function(){if(this._hasUndo()){this.passed=!0;var e=this.editor.getElement(),t=this.undoStorage.pop();this._setRedo(),e.html(t[0]),this.offset.set(t[1]),this._saveState(t[0],t[1]),this.selection.restore(),this.app.broadcast("undo",t[0],t[1])}},_getRedo:function(){if(this._hasRedo()){this.passed=!0;var e=this.editor.getElement(),t=this.redoStorage.pop();this._setUndo(),e.html(t[0]),this.offset.set(t[1]),this._saveState(t[0],t[1]),this.app.broadcast("redo",t[0],t[1])}},_removeOverStorage:function(){this.undoStorage.length>this.opts.bufferLimit&&(this.undoStorage=this.undoStorage.slice(0,this.undoStorage.length-this.opts.bufferLimit))},_hasUndo:function(){return 0!==this.undoStorage.length},_hasRedo:function(){return 0!==this.redoStorage.length}}),$R.add("module","list",{init:function(e){this.app=e,this.uuid=e.uuid,this.opts=e.opts,this.utils=e.utils,this.block=e.block,this.toolbar=e.toolbar,this.inspector=e.inspector,this.selection=e.selection},onbutton:{list:{observe:function(e){this._observeButton(e)}}},ondropdown:{list:{observe:function(e){this._observeDropdown(e)}}},toggle:function(e){var t=this._getBlocks(),a=this.selection.getBlock(),n=$R.dom(a).parents("ul, ol",".redactor-in-"+this.uuid).last();return 0===t.length&&0!==n.length&&(t=[n.get()]),!a||"TD"!==a.tagName&&"TH"!==a.tagName||(t=this.block.format("div")),this.selection.saveMarkers(),t=0!==t.length&&this._isUnformat(e,t)?this._unformat(e,t):this._format(e,t),this.selection.restoreMarkers(),t},indent:function(){var e=this.selection.isCollapsed(),t=this.selection.getCurrent(),a=this.inspector.parse(t),n=!!a.isList()&&a.getListItem(),s=$R.dom(n),r=s.prevElement(),o=r.get();if(e&&n&&o&&"LI"===o.tagName){this.selection.saveMarkers();var i=(r=$R.dom(o)).children("ul, ol"),c=s.closest("ul, ol");if(0!==i.length)i.append(s);else{var _=c.get().tagName.toLowerCase(),l=$R.dom("<"+_+">");l.append(s),r.append(l)}this.selection.restoreMarkers()}},outdent:function(){var e=this.selection.isCollapsed(),t=this.selection.getCurrent(),a=this.inspector.parse(t),n=!!a.isList()&&a.getListItem(),s=$R.dom(n);if(e&&n){var r,o,i,c=s.parent(),_=c.closest("li",".redactor-in-"+this.uuid),l=s.prevElement(),d=s.nextElement(),u=l.get(),p=d.get(),m=!1===u,h=!1!==u&&!1!==p,E=!m&&!1===p;if(this.selection.saveMarkers(),0!==_.length)if(h){r=this._getAllNext(s.get()),i=$R.dom("<"+c.get().tagName.toLowerCase()+">");for(var f=0;f<r.length;f++)i.append(r[f]);_.after(s),s.append(i)}else _.after(s),0===c.children().length?c.remove():m&&s.append(c);else{var g=this._createUnformatContainer(s),v=g.find("ul, ol").first();if(m)c.before(g);else if(E)c.after(g);else if(h){i=$R.dom("<"+c.get().tagName.toLowerCase()+">"),r=this._getAllNext(s.get());for(f=0;f<r.length;f++)i.append(r[f]);c.after(g),g.after(i)}0!==v.length&&((o=g.nextElement().get())&&o.tagName===c.get().tagName?($R.dom(o).prepend(v),v.unwrap()):g.after(v)),s.remove()}this.selection.restoreMarkers()}},_getAllNext:function(e){for(var t=[];e;){if(!(e=$R.dom(e).nextElement().get()))return t;t.push(e)}return t},_isUnformat:function(e,t){for(var a=0,n=0;n<t.length;n++)if(3!==t[n].nodeType){var s=t[n].tagName.toLowerCase();s!==e&&"figure"!==s||a++}return a===t.length},_format:function(e,t){var a=this._uniteBlocks(t,["p","div","blockquote","pre","h1","h2","h3","h4","h5","h6","ul","ol"]),n=[];for(var s in a){for(var r=a[s],o=this._createList(e,a[s]),i=0;i<r.length;i++){var c;if(3===r[i].nodeType||"UL"!==r[i].tagName&&"OL"!==r[i].tagName){var _=(c=this._createListItem(r[i])).get().lastChild;_&&"BR"===_.tagName&&$R.dom(_).remove(),this.utils.normalizeTextNodes(c),o.append(c)}else{var l=$R.dom(r[i]);c=l.contents(),o.append(c),this.utils.isEmpty(l)&&l.remove()}}n.push(o.get())}return n},_uniteBlocks:function(e,t){for(var a=0,n={0:[]},s=!1,r=0;r<e.length;r++){var o=$R.dom(e[r]).closest("th, td");0!==o.length?(o.get()!==s&&(n[++a]=[]),this._isUniteBlock(e[r],t)&&n[a].push(e[r])):this._isUniteBlock(e[r],t)?n[a].push(e[r]):n[++a]=[],s=o.get()}return n},_isUniteBlock:function(e,t){return 3===e.nodeType||-1!==t.indexOf(e.tagName.toLowerCase())},_createList:function(e,t){var a=t[t.length-1],n=$R.dom(a),s=$R.dom("<"+e+">");return n.after(s),s},_createListItem:function(e){var t=$R.dom("<li>");if(3===e.nodeType)t.append(e);else{var a=$R.dom(e);t.append(a.contents()),a.remove()}return t},_unformat:function(e,t){if(1===t.length){var a=$R.dom(t[0]),n=a.find("li"),s=this.selection.getNodes({tags:["li"]}),r=this.selection.getBlock(),o=$R.dom(r).closest("li");if(0===s.length&&0!==o.length&&(s=[o.get()]),s.length===n.length)return this._unformatEntire(t[0]);var i=this._getItemsPosition(n,s);if("Top"===i)return this._unformatAtSide("before",s,a);if("Bottom"===i)return s.reverse(),this._unformatAtSide("after",s,a);if("Middle"===i){var c=$R.dom(s[s.length-1]),_=!1,l=!1,d=$R.dom("<"+a.get().tagName.toLowerCase()+">");n.each((function(e){if(_){var t=$R.dom(e);0!==t.closest(".redactor-split-item").length||!1!==l&&0!==t.closest(l).length||t.addClass("redactor-split-item"),l=t}e===c.get()&&(_=!0)})),n.filter(".redactor-split-item").each((function(e){$R.dom(e).removeClass("redactor-split-item"),d.append(e)})),a.after(d),s.reverse();for(var u=0;u<s.length;u++){var p=$R.dom(s[u]),m=this._createUnformatContainer(p);a.after(m),m.find("ul, ol").remove(),p.remove()}return}}else for(u=0;u<t.length;u++)3!==t[u].nodeType&&t[u].tagName.toLowerCase()===e&&this._unformatEntire(t[u])},_unformatEntire:function(e){var t=$R.dom(e);t.find("li").each(function(e){var a=$R.dom(e),n=this._createUnformatContainer(a);a.remove(),t.before(n)}.bind(this)),t.remove()},_unformatAtSide:function(e,t,a){for(var n=0;n<t.length;n++){var s=$R.dom(t[n]),r=this._createUnformatContainer(s);a[e](r);var o=r.find("ul, ol").first();s.append(o),o.each((function(e){var a=$R.dom(e),s=a.closest("li");s.get()===t[n]&&(a.unwrap(),s.addClass("r-unwrapped"))})),this.utils.isEmptyHtml(s.html())&&s.remove()}a.find(".r-unwrapped").each((function(e){var t=$R.dom(e);""===t.html().trim()?t.remove():t.removeClass("r-unwrapped")}))},_getItemsPosition:function(e,t){var a="Middle",n=t[0],s=t[t.length-1],r=e.first().get(),o=e.last().get();return r===n&&o!==s?a="Top":r!==n&&o===s&&(a="Bottom"),a},_createUnformatContainer:function(e){var t=$R.dom("<"+this.opts.markup+">");return this.opts.breakline&&t.attr("data-redactor-tag","br"),t.append(e.contents()),t},_getBlocks:function(){return this.selection.getBlocks({first:!0})},_observeButton:function(){var e=this.selection.getCurrent(),t=this.inspector.parse(e),a=t.isPre()||t.isCode()||t.isFigcaption();this._observeButtonsList(a,["lists","ul","ol","outdent","indent"]);var n=this.toolbar.getButton("outdent"),s=this.toolbar.getButton("indent");this._observeIndent(s,n)},_observeDropdown:function(e){var t=e.getItem("outdent"),a=e.getItem("indent");this._observeIndent(a,t)},_observeIndent:function(e,t){var a=this.selection.isCollapsed(),n=this.selection.getCurrent(),s=this.inspector.parse(n),r=!!s.isList()&&s.getListItem(),o=$R.dom(r).prevElement().get(),i=a&&r&&o&&"LI"===o.tagName;t&&(r&&a?t.enable():t.disable()),e&&(r&&i?e.enable():e.disable())},_observeButtonsList:function(e,t){for(var a=0;a<t.length;a++){var n=this.toolbar.getButton(t[a]);n&&(e?n.disable():n.enable())}}}),$R.add("class","video.component",{mixins:["dom","component"],init:function(e,t){return this.app=e,t&&void 0!==t.cmnt?t:this._init(t)},_init:function(e){if("undefined"!==typeof e){var t=$R.dom(e).closest("figure");0!==t.length?this.parse(t):(this.parse("<figure>"),this.append(e))}else this.parse("<figure>");this._initWrapper()},_initWrapper:function(){this.addClass("redactor-component"),this.attr({"data-redactor-type":"video",tabindex:"-1",contenteditable:!1})}}),$R.add("class","widget.component",{mixins:["dom","component"],init:function(e,t){return this.app=e,t&&void 0!==t.cmnt?t:this._init(t)},getData:function(){return{html:this._getHtml()}},_init:function(e){if("undefined"!==typeof e){var t=$R.dom(e).closest("figure");0!==t.length?this.parse(t):(this.parse("<figure>"),this.html(e))}else this.parse("<figure>");this._initWrapper()},_getHtml:function(){var e=$R.dom("<div>");return e.html(this.html()),e.find(".redactor-component-caret").remove(),e.html()},_initWrapper:function(){this.addClass("redactor-component"),this.attr({"data-redactor-type":"widget",tabindex:"-1",contenteditable:!1})}});var Redactor=$R;window.Redactor=window.$R=$R,window.addEventListener("load",(function(){$R("[data-redactor]")})),module.exports&&(module.exports=Redactor,module.exports.Redactor=Redactor)}()}},[[529,1,2]]]);
//# sourceMappingURL=main.bb93d3b5.chunk.js.map